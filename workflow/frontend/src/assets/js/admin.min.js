function random_text(){$(".random_color").each(function(){var a=$(this).text(),b=color.hex(a);$(this).css({background:b})})}function fillForm(a,b){$("input, select, textarea",a).not("[type=file]").each(function(){var a=$(this).attr("type"),c=$(this).attr("name");if(c){c=c.replace("[]","");var d="";if(!$(this).hasClass("input-tmp")&&"undefined"!==$.type(b[c])&&"null"!==$.type(b[c]))switch(d=b[c],"date_effect"!=c&&"date_expire"!=c&&"date_review"!=c||(d=moment(d).format("YYYY-MM-DD")),a){case"checkbox":$(this).prop("checked",!1);var e=$(this).val();d=d.toString(),(e==d||"array"==typeof d&&-1!=d.indexOf(e))&&$(this).prop("checked",!0);break;case"radio":$(this).removeAttr("checked","checked");var e=$(this).val();e==d&&$(this).prop("checked",!0);break;default:$(this).val(d),$(this).hasClass("chosen")&&$(this).trigger("chosen:updated")}}})}!function(a,b){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){"use strict";function c(a,b,c){var d,e,f=(c=c||$).createElement("script");if(f.text=a,b)for(d in ma)(e=b[d]||b.getAttribute&&b.getAttribute(d))&&f.setAttribute(d,e);c.head.appendChild(f).parentNode.removeChild(f)}function d(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?ea[fa.call(a)]||"object":typeof a}function e(a){var b=!!a&&"length"in a&&a.length,c=d(a);return!ka(a)&&!la(a)&&("array"===c||0===b||"number"==typeof b&&0<b&&b-1 in a)}function f(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()}function g(a,b,c){return ka(b)?oa.grep(a,function(a,d){return!!b.call(a,d,a)!==c}):b.nodeType?oa.grep(a,function(a){return a===b!==c}):"string"!=typeof b?oa.grep(a,function(a){return-1<da.call(b,a)!==c}):oa.filter(b,a,c)}function h(a,b){for(;(a=a[b])&&1!==a.nodeType;);return a}function i(a){return a}function j(a){throw a}function k(a,b,c,d){var e;try{a&&ka(e=a.promise)?e.call(a).done(b).fail(c):a&&ka(e=a.then)?e.call(a,b,c):b.apply(void 0,[a].slice(d))}catch(a){c.apply(void 0,[a])}}function l(){$.removeEventListener("DOMContentLoaded",l),a.removeEventListener("load",l),oa.ready()}function m(a,b){return b.toUpperCase()}function n(a){return a.replace(Da,"ms-").replace(Ea,m)}function o(){this.expando=oa.expando+o.uid++}function p(a,b,c){var d,e;if(void 0===c&&1===a.nodeType)if(d="data-"+b.replace(Ja,"-$&").toLowerCase(),"string"==typeof(c=a.getAttribute(d))){try{c="true"===(e=c)||"false"!==e&&("null"===e?null:e===+e+""?+e:Ia.test(e)?JSON.parse(e):e)}catch(a){}Ha.set(a,b,c)}else c=void 0;return c}function q(a,b,c,d){var e,f,g=20,h=d?function(){return d.cur()}:function(){return oa.css(a,b,"")},i=h(),j=c&&c[3]||(oa.cssNumber[b]?"":"px"),k=a.nodeType&&(oa.cssNumber[b]||"px"!==j&&+i)&&La.exec(oa.css(a,b));if(k&&k[3]!==j){for(i/=2,j=j||k[3],k=+i||1;g--;)oa.style(a,b,k+j),(1-f)*(1-(f=h()/i||.5))<=0&&(g=0),k/=f;k*=2,oa.style(a,b,k+j),c=c||[]}return c&&(k=+k||+i||0,e=c[1]?k+(c[1]+1)*c[2]:+c[2],d&&(d.unit=j,d.start=k,d.end=e)),e}function r(a,b){for(var c,d,e,f,g,h,i,j=[],k=0,l=a.length;k<l;k++)(d=a[k]).style&&(c=d.style.display,b?("none"===c&&(j[k]=Ga.get(d,"display")||null,j[k]||(d.style.display="")),""===d.style.display&&Qa(d)&&(j[k]=(i=g=f=void 0,g=(e=d).ownerDocument,h=e.nodeName,(i=Sa[h])||(f=g.body.appendChild(g.createElement(h)),i=oa.css(f,"display"),f.parentNode.removeChild(f),"none"===i&&(i="block"),Sa[h]=i)))):"none"!==c&&(j[k]="none",Ga.set(d,"display",c)));for(k=0;k<l;k++)null!=j[k]&&(a[k].style.display=j[k]);return a}function s(a,b){var c;return c=void 0!==a.getElementsByTagName?a.getElementsByTagName(b||"*"):void 0!==a.querySelectorAll?a.querySelectorAll(b||"*"):[],void 0===b||b&&f(a,b)?oa.merge([a],c):c}function t(a,b){for(var c=0,d=a.length;c<d;c++)Ga.set(a[c],"globalEval",!b||Ga.get(b[c],"globalEval"))}function u(a,b,c,e,f){for(var g,h,i,j,k,l,m=b.createDocumentFragment(),n=[],o=0,p=a.length;o<p;o++)if((g=a[o])||0===g)if("object"===d(g))oa.merge(n,g.nodeType?[g]:g);else if(Za.test(g)){for(h=h||m.appendChild(b.createElement("div")),i=(Ua.exec(g)||["",""])[1].toLowerCase(),j=Wa[i]||Wa._default,h.innerHTML=j[1]+oa.htmlPrefilter(g)+j[2],l=j[0];l--;)h=h.lastChild;oa.merge(n,h.childNodes),(h=m.firstChild).textContent=""}else n.push(b.createTextNode(g));for(m.textContent="",o=0;g=n[o++];)if(e&&-1<oa.inArray(g,e))f&&f.push(g);else if(k=Oa(g),h=s(m.appendChild(g),"script"),k&&t(h),c)for(l=0;g=h[l++];)Va.test(g.type||"")&&c.push(g);return m}function v(){return!0}function w(){return!1}function x(a,b){return a===function(){try{return $.activeElement}catch(a){}}()==("focus"===b)}function y(a,b,c,d,e,f){var g,h;if("object"==typeof b){for(h in"string"!=typeof c&&(d=d||c,c=void 0),b)y(a,h,c,d,b[h],f);return a}if(null==d&&null==e?(e=c,d=c=void 0):null==e&&("string"==typeof c?(e=d,d=void 0):(e=d,d=c,c=void 0)),!1===e)e=w;else if(!e)return a;return 1===f&&(g=e,(e=function(a){return oa().off(a),g.apply(this,arguments)}).guid=g.guid||(g.guid=oa.guid++)),a.each(function(){oa.event.add(this,b,e,d,c)})}function z(a,b,c){c?(Ga.set(a,b,!1),oa.event.add(a,b,{namespace:!1,handler:function(a){var d,e,f=Ga.get(this,b);if(1&a.isTrigger&&this[b]){if(f)(oa.event.special[b]||{}).delegateType&&a.stopPropagation();else if(f=aa.call(arguments),Ga.set(this,b,f),d=c(this,b),this[b](),f!==(e=Ga.get(this,b))||d?Ga.set(this,b,!1):e=void 0,f!==e)return a.stopImmediatePropagation(),a.preventDefault(),e}else f&&(Ga.set(this,b,oa.event.trigger(oa.extend(f.shift(),oa.Event.prototype),f,this)),a.stopImmediatePropagation())}})):oa.event.add(a,b,v)}function A(a,b){return f(a,"table")&&f(11!==b.nodeType?b:b.firstChild,"tr")&&oa(a).children("tbody")[0]||a}function B(a){return a.type=(null!==a.getAttribute("type"))+"/"+a.type,a}function C(a){return"true/"===(a.type||"").slice(0,5)?a.type=a.type.slice(5):a.removeAttribute("type"),a}function D(a,b){var c,d,e,f,g,h,i,j;if(1===b.nodeType){if(Ga.hasData(a)&&(f=Ga.access(a),g=Ga.set(b,f),j=f.events))for(e in delete g.handle,g.events={},j)for(c=0,d=j[e].length;c<d;c++)oa.event.add(b,e,j[e][c]);Ha.hasData(a)&&(h=Ha.access(a),i=oa.extend({},h),Ha.set(b,i))}}function E(a,b,d,e){b=ba.apply([],b);var f,g,h,i,j,k,l=0,m=a.length,n=m-1,o=b[0],p=ka(o);if(p||1<m&&"string"==typeof o&&!ja.checkClone&&db.test(o))return a.each(function(c){var f=a.eq(c);p&&(b[0]=o.call(this,c,f.html())),E(f,b,d,e)});if(m&&(g=(f=u(b,a[0].ownerDocument,!1,a,e)).firstChild,1===f.childNodes.length&&(f=g),g||e)){for(i=(h=oa.map(s(f,"script"),B)).length;l<m;l++)j=f,l!==n&&(j=oa.clone(j,!0,!0),i&&oa.merge(h,s(j,"script"))),d.call(a[l],j,l);if(i)for(k=h[h.length-1].ownerDocument,oa.map(h,C),l=0;l<i;l++)j=h[l],Va.test(j.type||"")&&!Ga.access(j,"globalEval")&&oa.contains(k,j)&&(j.src&&"module"!==(j.type||"").toLowerCase()?oa._evalUrl&&!j.noModule&&oa._evalUrl(j.src,{nonce:j.nonce||j.getAttribute("nonce")}):c(j.textContent.replace(eb,""),j,k))}return a}function F(a,b,c){for(var d,e=b?oa.filter(b,a):a,f=0;null!=(d=e[f]);f++)c||1!==d.nodeType||oa.cleanData(s(d)),d.parentNode&&(c&&Oa(d)&&t(s(d,"script")),d.parentNode.removeChild(d));return a}function G(a,b,c){var d,e,f,g,h=a.style;return(c=c||gb(a))&&(""!==(g=c.getPropertyValue(b)||c[b])||Oa(a)||(g=oa.style(a,b)),!ja.pixelBoxStyles()&&fb.test(g)&&hb.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0!==g?g+"":g}function H(a,b){return{get:function(){if(!a())return(this.get=b).apply(this,arguments);delete this.get}}}function I(a){return oa.cssProps[a]||kb[a]||(a in jb?a:kb[a]=function(a){for(var b=a[0].toUpperCase()+a.slice(1),c=ib.length;c--;)if((a=ib[c]+b)in jb)return a}(a)||a)}function J(a,b,c){var d=La.exec(b);return d?Math.max(0,d[2]-(c||0))+(d[3]||"px"):b}function K(a,b,c,d,e,f){var g="width"===b?1:0,h=0,i=0;if(c===(d?"border":"content"))return 0;for(;g<4;g+=2)"margin"===c&&(i+=oa.css(a,c+Ma[g],!0,e)),d?("content"===c&&(i-=oa.css(a,"padding"+Ma[g],!0,e)),"margin"!==c&&(i-=oa.css(a,"border"+Ma[g]+"Width",!0,e))):(i+=oa.css(a,"padding"+Ma[g],!0,e),"padding"!==c?i+=oa.css(a,"border"+Ma[g]+"Width",!0,e):h+=oa.css(a,"border"+Ma[g]+"Width",!0,e));return!d&&0<=f&&(i+=Math.max(0,Math.ceil(a["offset"+b[0].toUpperCase()+b.slice(1)]-f-i-h-.5))||0),i}function L(a,b,c){var d=gb(a),e=(!ja.boxSizingReliable()||c)&&"border-box"===oa.css(a,"boxSizing",!1,d),f=e,g=G(a,b,d),h="offset"+b[0].toUpperCase()+b.slice(1);if(fb.test(g)){if(!c)return g;g="auto"}return(!ja.boxSizingReliable()&&e||"auto"===g||!parseFloat(g)&&"inline"===oa.css(a,"display",!1,d))&&a.getClientRects().length&&(e="border-box"===oa.css(a,"boxSizing",!1,d),(f=h in a)&&(g=a[h])),(g=parseFloat(g)||0)+K(a,b,c||(e?"border":"content"),f,d,g)+"px"}function M(a,b,c,d,e){return new M.prototype.init(a,b,c,d,e)}function N(){qb&&(!1===$.hidden&&a.requestAnimationFrame?a.requestAnimationFrame(N):a.setTimeout(N,oa.fx.interval),oa.fx.tick())}function O(){return a.setTimeout(function(){pb=void 0}),pb=Date.now()}function P(a,b){var c,d=0,e={height:a};for(b=b?1:0;d<4;d+=2-b)e["margin"+(c=Ma[d])]=e["padding"+c]=a;return b&&(e.opacity=e.width=a),e}function Q(a,b,c){for(var d,e=(R.tweeners[b]||[]).concat(R.tweeners["*"]),f=0,g=e.length;f<g;f++)if(d=e[f].call(c,b,a))return d}function R(a,b,c){var d,e,f=0,g=R.prefilters.length,h=oa.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=pb||O(),c=Math.max(0,j.startTime+j.duration-b),d=1-(c/j.duration||0),f=0,g=j.tweens.length;f<g;f++)j.tweens[f].run(d);return h.notifyWith(a,[j,d,c]),d<1&&g?c:(g||h.notifyWith(a,[j,1,0]),h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:oa.extend({},b),opts:oa.extend(!0,{specialEasing:{},easing:oa.easing._default},c),originalProperties:b,originalOptions:c,startTime:pb||O(),duration:c.duration,tweens:[],createTween:function(b,c){var d=oa.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;c<d;c++)j.tweens[c].run(1);return b?(h.notifyWith(a,[j,1,0]),h.resolveWith(a,[j,b])):h.rejectWith(a,[j,b]),this}}),k=j.props;for((!function(a,b){var c,d,e,f,g;for(c in a)if(e=b[d=n(c)],f=a[c],Array.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),(g=oa.cssHooks[d])&&"expand"in g)for(c in f=g.expand(f),delete a[d],f)c in a||(a[c]=f[c],b[c]=e);else b[d]=e}(k,j.opts.specialEasing));f<g;f++)if(d=R.prefilters[f].call(j,a,k,j.opts))return ka(d.stop)&&(oa._queueHooks(j.elem,j.opts.queue).stop=d.stop.bind(d)),d;return oa.map(k,Q,j),ka(j.opts.start)&&j.opts.start.call(a,j),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always),oa.fx.timer(oa.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j}function S(a){return(a.match(za)||[]).join(" ")}function T(a){return a.getAttribute&&a.getAttribute("class")||""}function U(a){return Array.isArray(a)?a:"string"==typeof a&&a.match(za)||[]}function V(a,b,c,e){var f;if(Array.isArray(b))oa.each(b,function(b,d){c||Fb.test(a)?e(a,d):V(a+"["+("object"==typeof d&&null!=d?b:"")+"]",d,c,e)});else if(c||"object"!==d(b))e(a,b);else for(f in b)V(a+"["+f+"]",b[f],c,e)}function W(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(za)||[];if(ka(c))for(;d=f[e++];)"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function X(a,b,c,d){function e(h){var i;return f[h]=!0,oa.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||g||f[j]?g?!(i=j):void 0:(b.dataTypes.unshift(j),e(j),!1)}),i}var f={},g=a===Qb;return e(b.dataTypes[0])||!f["*"]&&e("*")}function Y(a,b){var c,d,e=oa.ajaxSettings.flatOptions||{};for(c in b)void 0!==b[c]&&((e[c]?a:d||(d={}))[c]=b[c]);return d&&oa.extend(!0,a,d),a}var Z=[],$=a.document,_=Object.getPrototypeOf,aa=Z.slice,ba=Z.concat,ca=Z.push,da=Z.indexOf,ea={},fa=ea.toString,ga=ea.hasOwnProperty,ha=ga.toString,ia=ha.call(Object),ja={},ka=function(a){return"function"==typeof a&&"number"!=typeof a.nodeType},la=function(a){return null!=a&&a===a.window},ma={type:!0,src:!0,nonce:!0,noModule:!0},na="3.4.0",oa=function(a,b){return new oa.fn.init(a,b)},pa=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;oa.fn=oa.prototype={jquery:na,constructor:oa,length:0,toArray:function(){return aa.call(this)},get:function(a){return null==a?aa.call(this):a<0?this[a+this.length]:this[a]},pushStack:function(a){var b=oa.merge(this.constructor(),a);return b.prevObject=this,b},each:function(a){return oa.each(this,a)},map:function(a){return this.pushStack(oa.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(aa.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(a<0?b:0);return this.pushStack(0<=c&&c<b?[this[c]]:[])},end:function(){return this.prevObject||this.constructor()},push:ca,sort:Z.sort,splice:Z.splice},oa.extend=oa.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||ka(g)||(g={}),h===i&&(g=this,h--);h<i;h++)if(null!=(a=arguments[h]))for(b in a)d=a[b],"__proto__"!==b&&g!==d&&(j&&d&&(oa.isPlainObject(d)||(e=Array.isArray(d)))?(c=g[b],f=e&&!Array.isArray(c)?[]:e||oa.isPlainObject(c)?c:{},e=!1,g[b]=oa.extend(j,f,d)):void 0!==d&&(g[b]=d));return g},oa.extend({expando:"jQuery"+(na+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isPlainObject:function(a){var b,c;return!(!a||"[object Object]"!==fa.call(a)||(b=_(a))&&("function"!=typeof(c=ga.call(b,"constructor")&&b.constructor)||ha.call(c)!==ia))},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},globalEval:function(a,b){c(a,{nonce:b&&b.nonce})},each:function(a,b){var c,d=0;if(e(a))for(c=a.length;d<c&&!1!==b.call(a[d],d,a[d]);d++);else for(d in a)if(!1===b.call(a[d],d,a[d]))break;return a},trim:function(a){return null==a?"":(a+"").replace(pa,"")},makeArray:function(a,b){var c=b||[];return null!=a&&(e(Object(a))?oa.merge(c,"string"==typeof a?[a]:a):ca.call(c,a)),c},inArray:function(a,b,c){return null==b?-1:da.call(b,a,c)},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;d<c;d++)a[e++]=b[d];return a.length=e,a},grep:function(a,b,c){for(var d=[],e=0,f=a.length,g=!c;e<f;e++)!b(a[e],e)!==g&&d.push(a[e]);return d},map:function(a,b,c){var d,f,g=0,h=[];if(e(a))for(d=a.length;g<d;g++)null!=(f=b(a[g],g,c))&&h.push(f);else for(g in a)null!=(f=b(a[g],g,c))&&h.push(f);return ba.apply([],h)},guid:1,support:ja}),"function"==typeof Symbol&&(oa.fn[Symbol.iterator]=Z[Symbol.iterator]),oa.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(a,b){ea["[object "+b+"]"]=b.toLowerCase()});var qa=function(a){function b(a,b,c,d){var e,f,g,h,i,j,k,m=b&&b.ownerDocument,o=b?b.nodeType:9;if(c=c||[],"string"!=typeof a||!a||1!==o&&9!==o&&11!==o)return c;if(!d&&((b?b.ownerDocument||b:N)!==F&&E(b),b=b||F,H)){if(11!==o&&(i=ra.exec(a)))if(e=i[1]){if(9===o){if(!(g=b.getElementById(e)))return c;if(g.id===e)return c.push(g),c}else if(m&&(g=m.getElementById(e))&&L(b,g)&&g.id===e)return c.push(g),c}else{if(i[2])return Z.apply(c,b.getElementsByTagName(a)),c;if((e=i[3])&&u.getElementsByClassName&&b.getElementsByClassName)return Z.apply(c,b.getElementsByClassName(e)),c}if(u.qsa&&!T[a+" "]&&(!I||!I.test(a))&&(1!==o||"object"!==b.nodeName.toLowerCase())){if(k=a,m=b,1===o&&ja.test(a)){for((h=b.getAttribute("id"))?h=h.replace(va,wa):b.setAttribute("id",h=M),f=(j=y(a)).length;f--;)j[f]="#"+h+" "+n(j[f]);k=j.join(","),m=sa.test(a)&&l(b.parentNode)||b}try{return Z.apply(c,m.querySelectorAll(k)),c}catch(b){T(a,!0)}finally{h===M&&b.removeAttribute("id")}}}return A(a.replace(ga,"$1"),b,c,d)}function c(){var a=[];return function b(c,d){return a.push(c+" ")>v.cacheLength&&delete b[a.shift()],b[c+" "]=d}}function d(a){return a[M]=!0,a}function e(a){var b=F.createElement("fieldset");try{return!!a(b)}catch(a){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function f(a,b){for(var c=a.split("|"),d=c.length;d--;)v.attrHandle[c[d]]=b}function g(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&a.sourceIndex-b.sourceIndex;if(d)return d;if(c)for(;c=c.nextSibling;)if(c===b)return-1;return a?1:-1}function h(a){return function(b){return"input"===b.nodeName.toLowerCase()&&b.type===a}}function i(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function j(a){return function(b){return"form"in b?b.parentNode&&!1===b.disabled?"label"in b?"label"in b.parentNode?b.parentNode.disabled===a:b.disabled===a:b.isDisabled===a||b.isDisabled!==!a&&ya(b)===a:b.disabled===a:"label"in b&&b.disabled===a}}function k(a){return d(function(b){return b=+b,d(function(c,d){for(var e,f=a([],c.length,b),g=f.length;g--;)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function l(a){return a&&void 0!==a.getElementsByTagName&&a}function m(){}function n(a){for(var b=0,c=a.length,d="";b<c;b++)d+=a[b].value;return d}function o(a,b,c){var d=b.dir,e=b.next,f=e||d,g=c&&"parentNode"===f,h=P++;return b.first?function(b,c,e){for(;b=b[d];)if(1===b.nodeType||g)return a(b,c,e);return!1}:function(b,c,i){var j,k,l,m=[O,h];if(i){for(;b=b[d];)if((1===b.nodeType||g)&&a(b,c,i))return!0}else for(;b=b[d];)if(1===b.nodeType||g)if(k=(l=b[M]||(b[M]={}))[b.uniqueID]||(l[b.uniqueID]={}),e&&e===b.nodeName.toLowerCase())b=b[d]||b;else{if((j=k[f])&&j[0]===O&&j[1]===h)return m[2]=j[2];if((k[f]=m)[2]=a(b,c,i))return!0}return!1}}function p(a){return 1<a.length?function(b,c,d){for(var e=a.length;e--;)if(!a[e](b,c,d))return!1;return!0}:a[0]}function q(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;h<i;h++)(f=a[h])&&(c&&!c(f,d,e)||(g.push(f),j&&b.push(h)));return g}function r(a,c,e,f,g,h){return f&&!f[M]&&(f=r(f)),g&&!g[M]&&(g=r(g,h)),d(function(d,h,i,j){var k,l,m,n=[],o=[],p=h.length,r=d||function(a,c,d){for(var e=0,f=c.length;e<f;e++)b(a,c[e],d);return d}(c||"*",i.nodeType?[i]:i,[]),s=!a||!d&&c?r:q(r,n,a,i,j),t=e?g||(d?a:p||f)?[]:h:s;if(e&&e(s,t,i,j),f)for(k=q(t,o),f(k,[],i,j),l=k.length;l--;)(m=k[l])&&(t[o[l]]=!(s[o[l]]=m));if(d){if(g||a){if(g){for(k=[],l=t.length;l--;)(m=t[l])&&k.push(s[l]=m);g(null,t=[],k,j)}for(l=t.length;l--;)(m=t[l])&&-1<(k=g?_(d,m):n[l])&&(d[k]=!(h[k]=m))}}else t=q(t===h?t.splice(p,t.length):t),g?g(null,h,t,j):Z.apply(h,t)})}function s(a){for(var b,c,d,e=a.length,f=v.relative[a[0].type],g=f||v.relative[" "],h=f?1:0,i=o(function(a){return a===b},g,!0),j=o(function(a){return-1<_(b,a)},g,!0),k=[function(a,c,d){var e=!f&&(d||c!==B)||((b=c).nodeType?i(a,c,d):j(a,c,d));return b=null,e}];h<e;h++)if(c=v.relative[a[h].type])k=[o(p(k),c)];else{if((c=v.filter[a[h].type].apply(null,a[h].matches))[M]){for(d=++h;d<e&&!v.relative[a[d].type];d++);return r(1<h&&p(k),1<h&&n(a.slice(0,h-1).concat({value:" "===a[h-2].type?"*":""})).replace(ga,"$1"),c,h<d&&s(a.slice(h,d)),d<e&&s(a=a.slice(d)),d<e&&n(a))}k.push(c)}return p(k)}var t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M="sizzle"+1*new Date,N=a.document,O=0,P=0,Q=c(),R=c(),S=c(),T=c(),U=function(a,b){return a===b&&(D=!0),0},V={}.hasOwnProperty,W=[],X=W.pop,Y=W.push,Z=W.push,$=W.slice,_=function(a,b){for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c;return-1},aa="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ba="[\\x20\\t\\r\\n\\f]",ca="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",da="\\["+ba+"*("+ca+")(?:"+ba+"*([*^$|!~]?=)"+ba+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ca+"))|)"+ba+"*\\]",ea=":("+ca+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+da+")*)|.*)\\)|)",fa=new RegExp(ba+"+","g"),ga=new RegExp("^"+ba+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ba+"+$","g"),ha=new RegExp("^"+ba+"*,"+ba+"*"),ia=new RegExp("^"+ba+"*([>+~]|"+ba+")"+ba+"*"),ja=new RegExp(ba+"|>"),ka=new RegExp(ea),la=new RegExp("^"+ca+"$"),ma={ID:new RegExp("^#("+ca+")"),CLASS:new RegExp("^\\.("+ca+")"),TAG:new RegExp("^("+ca+"|[*])"),ATTR:new RegExp("^"+da),PSEUDO:new RegExp("^"+ea),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ba+"*(even|odd|(([+-]|)(\\d*)n|)"+ba+"*(?:([+-]|)"+ba+"*(\\d+)|))"+ba+"*\\)|)","i"),bool:new RegExp("^(?:"+aa+")$","i"),needsContext:new RegExp("^"+ba+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ba+"*((?:-\\d)?\\d*)"+ba+"*\\)|)(?=[^-]|$)","i")},na=/HTML$/i,oa=/^(?:input|select|textarea|button)$/i,pa=/^h\d$/i,qa=/^[^{]+\{\s*\[native \w/,ra=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,sa=/[+~]/,ta=new RegExp("\\\\([\\da-f]{1,6}"+ba+"?|("+ba+")|.)","ig"),ua=function(a,b,c){var d="0x"+b-65536;return d!=d||c?b:d<0?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)},va=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,wa=function(a,b){return b?"\0"===a?"�":a.slice(0,-1)+"\\"+a.charCodeAt(a.length-1).toString(16)+" ":"\\"+a},xa=function(){E()},ya=o(function(a){return!0===a.disabled&&"fieldset"===a.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{Z.apply(W=$.call(N.childNodes),N.childNodes),W[N.childNodes.length].nodeType}catch(t){Z={apply:W.length?function(a,b){Y.apply(a,$.call(b))}:function(a,b){for(var c=a.length,d=0;a[c++]=b[d++];);a.length=c-1}}}for(t in u=b.support={},x=b.isXML=function(a){var b=a.namespaceURI,c=(a.ownerDocument||a).documentElement;return!na.test(b||c&&c.nodeName||"HTML")},E=b.setDocument=function(a){var b,c,d=a?a.ownerDocument||a:N;return d!==F&&9===d.nodeType&&d.documentElement&&(G=(F=d).documentElement,H=!x(F),N!==F&&(c=F.defaultView)&&c.top!==c&&(c.addEventListener?c.addEventListener("unload",xa,!1):c.attachEvent&&c.attachEvent("onunload",xa)),u.attributes=e(function(a){return a.className="i",!a.getAttribute("className")}),u.getElementsByTagName=e(function(a){return a.appendChild(F.createComment("")),!a.getElementsByTagName("*").length}),u.getElementsByClassName=qa.test(F.getElementsByClassName),u.getById=e(function(a){return G.appendChild(a).id=M,!F.getElementsByName||!F.getElementsByName(M).length}),u.getById?(v.filter.ID=function(a){var b=a.replace(ta,ua);return function(a){return a.getAttribute("id")===b}},v.find.ID=function(a,b){if(void 0!==b.getElementById&&H){var c=b.getElementById(a);return c?[c]:[]}}):(v.filter.ID=function(a){var b=a.replace(ta,ua);return function(a){var c=void 0!==a.getAttributeNode&&a.getAttributeNode("id");return c&&c.value===b}},v.find.ID=function(a,b){if(void 0!==b.getElementById&&H){var c,d,e,f=b.getElementById(a);if(f){if((c=f.getAttributeNode("id"))&&c.value===a)return[f];for(e=b.getElementsByName(a),d=0;f=e[d++];)if((c=f.getAttributeNode("id"))&&c.value===a)return[f]}return[]}}),v.find.TAG=u.getElementsByTagName?function(a,b){return void 0!==b.getElementsByTagName?b.getElementsByTagName(a):u.qsa?b.querySelectorAll(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){for(;c=f[e++];)1===c.nodeType&&d.push(c);return d}return f},v.find.CLASS=u.getElementsByClassName&&function(a,b){if(void 0!==b.getElementsByClassName&&H)return b.getElementsByClassName(a)},J=[],I=[],(u.qsa=qa.test(F.querySelectorAll))&&(e(function(a){G.appendChild(a).innerHTML="<a id='"+M+"'></a><select id='"+M+"-\r\\' msallowcapture=''><option selected=''></option></select>",a.querySelectorAll("[msallowcapture^='']").length&&I.push("[*^$]="+ba+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||I.push("\\["+ba+"*(?:value|"+aa+")"),a.querySelectorAll("[id~="+M+"-]").length||I.push("~="),a.querySelectorAll(":checked").length||I.push(":checked"),a.querySelectorAll("a#"+M+"+*").length||I.push(".#.+[+~]")}),e(function(a){a.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var b=F.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&I.push("name"+ba+"*[*^$|!~]?="),2!==a.querySelectorAll(":enabled").length&&I.push(":enabled",":disabled"),G.appendChild(a).disabled=!0,2!==a.querySelectorAll(":disabled").length&&I.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),I.push(",.*:")})),(u.matchesSelector=qa.test(K=G.matches||G.webkitMatchesSelector||G.mozMatchesSelector||G.oMatchesSelector||G.msMatchesSelector))&&e(function(a){u.disconnectedMatch=K.call(a,"*"),K.call(a,"[s!='']:x"),J.push("!=",ea)}),I=I.length&&new RegExp(I.join("|")),J=J.length&&new RegExp(J.join("|")),b=qa.test(G.compareDocumentPosition),L=b||qa.test(G.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},U=b?function(a,b){if(a===b)return D=!0,0;var c=!a.compareDocumentPosition-!b.compareDocumentPosition;return c||(1&(c=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1)||!u.sortDetached&&b.compareDocumentPosition(a)===c?a===F||a.ownerDocument===N&&L(N,a)?-1:b===F||b.ownerDocument===N&&L(N,b)?1:C?_(C,a)-_(C,b):0:4&c?-1:1)}:function(a,b){if(a===b)return D=!0,0;var c,d=0,e=a.parentNode,f=b.parentNode,h=[a],i=[b];if(!e||!f)return a===F?-1:b===F?1:e?-1:f?1:C?_(C,a)-_(C,b):0;if(e===f)return g(a,b);for(c=a;c=c.parentNode;)h.unshift(c);for(c=b;c=c.parentNode;)i.unshift(c);for(;h[d]===i[d];)d++;return d?g(h[d],i[d]):h[d]===N?-1:i[d]===N?1:0}),F},b.matches=function(a,c){return b(a,null,null,c)},b.matchesSelector=function(a,c){if((a.ownerDocument||a)!==F&&E(a),u.matchesSelector&&H&&!T[c+" "]&&(!J||!J.test(c))&&(!I||!I.test(c)))try{var d=K.call(a,c);if(d||u.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(a){T(c,!0)}return 0<b(c,F,null,[a]).length},b.contains=function(a,b){return(a.ownerDocument||a)!==F&&E(a),L(a,b)},b.attr=function(a,b){(a.ownerDocument||a)!==F&&E(a);var c=v.attrHandle[b.toLowerCase()],d=c&&V.call(v.attrHandle,b.toLowerCase())?c(a,b,!H):void 0;return void 0!==d?d:u.attributes||!H?a.getAttribute(b):(d=a.getAttributeNode(b))&&d.specified?d.value:null},b.escape=function(a){return(a+"").replace(va,wa)},b.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},b.uniqueSort=function(a){var b,c=[],d=0,e=0;if(D=!u.detectDuplicates,C=!u.sortStable&&a.slice(0),a.sort(U),D){for(;b=a[e++];)b===a[e]&&(d=c.push(e));for(;d--;)a.splice(c[d],1)}return C=null,a},w=b.getText=function(a){var b,c="",d=0,e=a.nodeType;if(e){if(1===e||9===e||11===e){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=w(a)}else if(3===e||4===e)return a.nodeValue}else for(;b=a[d++];)c+=w(b);return c},(v=b.selectors={cacheLength:50,createPseudo:d,match:ma,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(ta,ua),a[3]=(a[3]||a[4]||a[5]||"").replace(ta,ua),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||b.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&b.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return ma.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&ka.test(c)&&(b=y(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(ta,ua).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=Q[a+" "];return b||(b=new RegExp("(^|"+ba+")"+a+"("+ba+"|$)"))&&Q(a,function(a){return b.test("string"==typeof a.className&&a.className||void 0!==a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,c,d){return function(e){var f=b.attr(e,a);return null==f?"!="===c:!c||(f+="","="===c?f===d:"!="===c?f!==d:"^="===c?d&&0===f.indexOf(d):"*="===c?d&&-1<f.indexOf(d):"$="===c?d&&f.slice(-d.length)===d:"~="===c?-1<(" "+f.replace(fa," ")+" ").indexOf(d):"|="===c&&(f===d||f.slice(0,d.length+1)===d+"-"))}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h,t=!1;if(q){if(f){for(;p;){for(m=b;m=m[p];)if(h?m.nodeName.toLowerCase()===r:1===m.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){for(t=(n=(j=(k=(l=(m=q)[M]||(m[M]={}))[m.uniqueID]||(l[m.uniqueID]={}))[a]||[])[0]===O&&j[1])&&j[2],m=n&&q.childNodes[n];m=++n&&m&&m[p]||(t=n=0)||o.pop();)if(1===m.nodeType&&++t&&m===b){k[a]=[O,n,t];break}}else if(s&&(t=n=(j=(k=(l=(m=b)[M]||(m[M]={}))[m.uniqueID]||(l[m.uniqueID]={}))[a]||[])[0]===O&&j[1]),!1===t)for(;(m=++n&&m&&m[p]||(t=n=0)||o.pop())&&((h?m.nodeName.toLowerCase()!==r:1!==m.nodeType)||!++t||(s&&((k=(l=m[M]||(m[M]={}))[m.uniqueID]||(l[m.uniqueID]={}))[a]=[O,t]),m!==b)););return(t-=e)===d||t%d==0&&0<=t/d}}},PSEUDO:function(a,c){var e,f=v.pseudos[a]||v.setFilters[a.toLowerCase()]||b.error("unsupported pseudo: "+a);return f[M]?f(c):1<f.length?(e=[a,a,"",c],v.setFilters.hasOwnProperty(a.toLowerCase())?d(function(a,b){for(var d,e=f(a,c),g=e.length;g--;)a[d=_(a,e[g])]=!(b[d]=e[g])}):function(a){return f(a,0,e)}):f}},pseudos:{not:d(function(a){var b=[],c=[],e=z(a.replace(ga,"$1"));return e[M]?d(function(a,b,c,d){for(var f,g=e(a,null,d,[]),h=a.length;h--;)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,d,f){return b[0]=a,e(b,null,f,c),b[0]=null,!c.pop()}}),has:d(function(a){return function(c){return 0<b(a,c).length}}),contains:d(function(a){return a=a.replace(ta,ua),function(b){return-1<(b.textContent||w(b)).indexOf(a)}}),lang:d(function(a){return la.test(a||"")||b.error("unsupported lang: "+a),a=a.replace(ta,ua).toLowerCase(),function(b){var c;do{if(c=H?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return(c=c.toLowerCase())===a||0===c.indexOf(a+"-")}while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===G},focus:function(a){return a===F.activeElement&&(!F.hasFocus||F.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:j(!1),disabled:j(!0),checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,!0===a.selected},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!v.pseudos.empty(a)},header:function(a){return pa.test(a.nodeName)},input:function(a){return oa.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:k(function(){return[0]}),last:k(function(a,b){return[b-1]}),eq:k(function(a,b,c){return[c<0?c+b:c]}),even:k(function(a,b){for(var c=0;c<b;c+=2)a.push(c);return a}),odd:k(function(a,b){for(var c=1;c<b;c+=2)a.push(c);return a}),lt:k(function(a,b,c){for(var d=c<0?c+b:b<c?b:c;0<=--d;)a.push(d);return a}),gt:k(function(a,b,c){for(var d=c<0?c+b:c;++d<b;)a.push(d);return a})}}).pseudos.nth=v.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})v.pseudos[t]=h(t);for(t in{submit:!0,reset:!0})v.pseudos[t]=i(t);return m.prototype=v.filters=v.pseudos,v.setFilters=new m,y=b.tokenize=function(a,c){var d,e,f,g,h,i,j,k=R[a+" "];if(k)return c?0:k.slice(0);for(h=a,i=[],j=v.preFilter;h;){for(g in d&&!(e=ha.exec(h))||(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),d=!1,(e=ia.exec(h))&&(d=e.shift(),f.push({value:d,type:e[0].replace(ga," ")}),h=h.slice(d.length)),v.filter)!(e=ma[g].exec(h))||j[g]&&!(e=j[g](e))||(d=e.shift(),f.push({value:d,type:g,matches:e}),
h=h.slice(d.length));if(!d)break}return c?h.length:h?b.error(a):R(a,i).slice(0)},z=b.compile=function(a,c){var e,f,g,h,i,j,k=[],l=[],m=S[a+" "];if(!m){for(c||(c=y(a)),e=c.length;e--;)(m=s(c[e]))[M]?k.push(m):l.push(m);(m=S(a,(f=l,h=0<(g=k).length,i=0<f.length,j=function(a,c,d,e,j){var k,l,m,n=0,o="0",p=a&&[],r=[],s=B,t=a||i&&v.find.TAG("*",j),u=O+=null==s?1:Math.random()||.1,w=t.length;for(j&&(B=c===F||c||j);o!==w&&null!=(k=t[o]);o++){if(i&&k){for(l=0,c||k.ownerDocument===F||(E(k),d=!H);m=f[l++];)if(m(k,c||F,d)){e.push(k);break}j&&(O=u)}h&&((k=!m&&k)&&n--,a&&p.push(k))}if(n+=o,h&&o!==n){for(l=0;m=g[l++];)m(p,r,c,d);if(a){if(0<n)for(;o--;)p[o]||r[o]||(r[o]=X.call(e));r=q(r)}Z.apply(e,r),j&&!a&&0<r.length&&1<n+g.length&&b.uniqueSort(e)}return j&&(O=u,B=s),p},h?d(j):j))).selector=a}return m},A=b.select=function(a,b,c,d){var e,f,g,h,i,j="function"==typeof a&&a,k=!d&&y(a=j.selector||a);if(c=c||[],1===k.length){if(2<(f=k[0]=k[0].slice(0)).length&&"ID"===(g=f[0]).type&&9===b.nodeType&&H&&v.relative[f[1].type]){if(!(b=(v.find.ID(g.matches[0].replace(ta,ua),b)||[])[0]))return c;j&&(b=b.parentNode),a=a.slice(f.shift().value.length)}for(e=ma.needsContext.test(a)?0:f.length;e--&&(g=f[e],!v.relative[h=g.type]);)if((i=v.find[h])&&(d=i(g.matches[0].replace(ta,ua),sa.test(f[0].type)&&l(b.parentNode)||b))){if(f.splice(e,1),!(a=d.length&&n(f)))return Z.apply(c,d),c;break}}return(j||z(a,k))(d,b,!H,c,!b||sa.test(a)&&l(b.parentNode)||b),c},u.sortStable=M.split("").sort(U).join("")===M,u.detectDuplicates=!!D,E(),u.sortDetached=e(function(a){return 1&a.compareDocumentPosition(F.createElement("fieldset"))}),e(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||f("type|href|height|width",function(a,b,c){if(!c)return a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),u.attributes&&e(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||f("value",function(a,b,c){if(!c&&"input"===a.nodeName.toLowerCase())return a.defaultValue}),e(function(a){return null==a.getAttribute("disabled")})||f(aa,function(a,b,c){var d;if(!c)return!0===a[b]?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),b}(a);oa.find=qa,oa.expr=qa.selectors,oa.expr[":"]=oa.expr.pseudos,oa.uniqueSort=oa.unique=qa.uniqueSort,oa.text=qa.getText,oa.isXMLDoc=qa.isXML,oa.contains=qa.contains,oa.escapeSelector=qa.escape;var ra=function(a,b,c){for(var d=[],e=void 0!==c;(a=a[b])&&9!==a.nodeType;)if(1===a.nodeType){if(e&&oa(a).is(c))break;d.push(a)}return d},sa=function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c},ta=oa.expr.match.needsContext,ua=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;oa.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?oa.find.matchesSelector(d,a)?[d]:[]:oa.find.matches(a,oa.grep(b,function(a){return 1===a.nodeType}))},oa.fn.extend({find:function(a){var b,c,d=this.length,e=this;if("string"!=typeof a)return this.pushStack(oa(a).filter(function(){for(b=0;b<d;b++)if(oa.contains(e[b],this))return!0}));for(c=this.pushStack([]),b=0;b<d;b++)oa.find(a,e[b],c);return 1<d?oa.uniqueSort(c):c},filter:function(a){return this.pushStack(g(this,a||[],!1))},not:function(a){return this.pushStack(g(this,a||[],!0))},is:function(a){return!!g(this,"string"==typeof a&&ta.test(a)?oa(a):a||[],!1).length}});var va,wa=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(oa.fn.init=function(a,b,c){var d,e;if(!a)return this;if(c=c||va,"string"==typeof a){if(!(d="<"===a[0]&&">"===a[a.length-1]&&3<=a.length?[null,a,null]:wa.exec(a))||!d[1]&&b)return!b||b.jquery?(b||c).find(a):this.constructor(b).find(a);if(d[1]){if(b=b instanceof oa?b[0]:b,oa.merge(this,oa.parseHTML(d[1],b&&b.nodeType?b.ownerDocument||b:$,!0)),ua.test(d[1])&&oa.isPlainObject(b))for(d in b)ka(this[d])?this[d](b[d]):this.attr(d,b[d]);return this}return(e=$.getElementById(d[2]))&&(this[0]=e,this.length=1),this}return a.nodeType?(this[0]=a,this.length=1,this):ka(a)?void 0!==c.ready?c.ready(a):a(oa):oa.makeArray(a,this)}).prototype=oa.fn,va=oa($);var xa=/^(?:parents|prev(?:Until|All))/,ya={children:!0,contents:!0,next:!0,prev:!0};oa.fn.extend({has:function(a){var b=oa(a,this),c=b.length;return this.filter(function(){for(var a=0;a<c;a++)if(oa.contains(this,b[a]))return!0})},closest:function(a,b){var c,d=0,e=this.length,f=[],g="string"!=typeof a&&oa(a);if(!ta.test(a))for(;d<e;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?-1<g.index(c):1===c.nodeType&&oa.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(1<f.length?oa.uniqueSort(f):f)},index:function(a){return a?"string"==typeof a?da.call(oa(a),this[0]):da.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(oa.uniqueSort(oa.merge(this.get(),oa(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}}),oa.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return ra(a,"parentNode")},parentsUntil:function(a,b,c){return ra(a,"parentNode",c)},next:function(a){return h(a,"nextSibling")},prev:function(a){return h(a,"previousSibling")},nextAll:function(a){return ra(a,"nextSibling")},prevAll:function(a){return ra(a,"previousSibling")},nextUntil:function(a,b,c){return ra(a,"nextSibling",c)},prevUntil:function(a,b,c){return ra(a,"previousSibling",c)},siblings:function(a){return sa((a.parentNode||{}).firstChild,a)},children:function(a){return sa(a.firstChild)},contents:function(a){return void 0!==a.contentDocument?a.contentDocument:(f(a,"template")&&(a=a.content||a),oa.merge([],a.childNodes))}},function(a,b){oa.fn[a]=function(c,d){var e=oa.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=oa.filter(d,e)),1<this.length&&(ya[a]||oa.uniqueSort(e),xa.test(a)&&e.reverse()),this.pushStack(e)}});var za=/[^\x20\t\r\n\f]+/g;oa.Callbacks=function(a){var b,c;a="string"==typeof a?(b=a,c={},oa.each(b.match(za)||[],function(a,b){c[b]=!0}),c):oa.extend({},a);var e,f,g,h,i=[],j=[],k=-1,l=function(){for(h=h||a.once,g=e=!0;j.length;k=-1)for(f=j.shift();++k<i.length;)!1===i[k].apply(f[0],f[1])&&a.stopOnFalse&&(k=i.length,f=!1);a.memory||(f=!1),e=!1,h&&(i=f?[]:"")},m={add:function(){return i&&(f&&!e&&(k=i.length-1,j.push(f)),function b(c){oa.each(c,function(c,e){ka(e)?a.unique&&m.has(e)||i.push(e):e&&e.length&&"string"!==d(e)&&b(e)})}(arguments),f&&!e&&l()),this},remove:function(){return oa.each(arguments,function(a,b){for(var c;-1<(c=oa.inArray(b,i,c));)i.splice(c,1),c<=k&&k--}),this},has:function(a){return a?-1<oa.inArray(a,i):0<i.length},empty:function(){return i&&(i=[]),this},disable:function(){return h=j=[],i=f="",this},disabled:function(){return!i},lock:function(){return h=j=[],f||e||(i=f=""),this},locked:function(){return!!h},fireWith:function(a,b){return h||(b=[a,(b=b||[]).slice?b.slice():b],j.push(b),e||l()),this},fire:function(){return m.fireWith(this,arguments),this},fired:function(){return!!g}};return m},oa.extend({Deferred:function(b){var c=[["notify","progress",oa.Callbacks("memory"),oa.Callbacks("memory"),2],["resolve","done",oa.Callbacks("once memory"),oa.Callbacks("once memory"),0,"resolved"],["reject","fail",oa.Callbacks("once memory"),oa.Callbacks("once memory"),1,"rejected"]],d="pending",e={state:function(){return d},always:function(){return f.done(arguments).fail(arguments),this},catch:function(a){return e.then(null,a)},pipe:function(){var a=arguments;return oa.Deferred(function(b){oa.each(c,function(c,d){var e=ka(a[d[4]])&&a[d[4]];f[d[1]](function(){var a=e&&e.apply(this,arguments);a&&ka(a.promise)?a.promise().progress(b.notify).done(b.resolve).fail(b.reject):b[d[0]+"With"](this,e?[a]:arguments)})}),a=null}).promise()},then:function(b,d,e){function f(b,c,d,e){return function(){var h=this,k=arguments,l=function(){var a,l;if(!(b<g)){if((a=d.apply(h,k))===c.promise())throw new TypeError("Thenable self-resolution");l=a&&("object"==typeof a||"function"==typeof a)&&a.then,ka(l)?e?l.call(a,f(g,c,i,e),f(g,c,j,e)):(g++,l.call(a,f(g,c,i,e),f(g,c,j,e),f(g,c,i,c.notifyWith))):(d!==i&&(h=void 0,k=[a]),(e||c.resolveWith)(h,k))}},m=e?l:function(){try{l()}catch(l){oa.Deferred.exceptionHook&&oa.Deferred.exceptionHook(l,m.stackTrace),g<=b+1&&(d!==j&&(h=void 0,k=[l]),c.rejectWith(h,k))}};b?m():(oa.Deferred.getStackHook&&(m.stackTrace=oa.Deferred.getStackHook()),a.setTimeout(m))}}var g=0;return oa.Deferred(function(a){c[0][3].add(f(0,a,ka(e)?e:i,a.notifyWith)),c[1][3].add(f(0,a,ka(b)?b:i)),c[2][3].add(f(0,a,ka(d)?d:j))}).promise()},promise:function(a){return null!=a?oa.extend(a,e):e}},f={};return oa.each(c,function(a,b){var g=b[2],h=b[5];e[b[1]]=g.add,h&&g.add(function(){d=h},c[3-a][2].disable,c[3-a][3].disable,c[0][2].lock,c[0][3].lock),g.add(b[3].fire),f[b[0]]=function(){return f[b[0]+"With"](this===f?void 0:this,arguments),this},f[b[0]+"With"]=g.fireWith}),e.promise(f),b&&b.call(f,f),f},when:function(a){var b=arguments.length,c=b,d=Array(c),e=aa.call(arguments),f=oa.Deferred(),g=function(a){return function(c){d[a]=this,e[a]=1<arguments.length?aa.call(arguments):c,--b||f.resolveWith(d,e)}};if(b<=1&&(k(a,f.done(g(c)).resolve,f.reject,!b),"pending"===f.state()||ka(e[c]&&e[c].then)))return f.then();for(;c--;)k(e[c],g(c),f.reject);return f.promise()}});var Aa=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;oa.Deferred.exceptionHook=function(b,c){a.console&&a.console.warn&&b&&Aa.test(b.name)&&a.console.warn("jQuery.Deferred exception: "+b.message,b.stack,c)},oa.readyException=function(b){a.setTimeout(function(){throw b})};var Ba=oa.Deferred();oa.fn.ready=function(a){return Ba.then(a).catch(function(a){oa.readyException(a)}),this},oa.extend({isReady:!1,readyWait:1,ready:function(a){(!0===a?--oa.readyWait:oa.isReady)||(oa.isReady=!0)!==a&&0<--oa.readyWait||Ba.resolveWith($,[oa])}}),oa.ready.then=Ba.then,"complete"===$.readyState||"loading"!==$.readyState&&!$.documentElement.doScroll?a.setTimeout(oa.ready):($.addEventListener("DOMContentLoaded",l),a.addEventListener("load",l));var Ca=function(a,b,c,e,f,g,h){var i=0,j=a.length,k=null==c;if("object"===d(c))for(i in f=!0,c)Ca(a,b,i,c[i],!0,g,h);else if(void 0!==e&&(f=!0,ka(e)||(h=!0),k&&(h?(b.call(a,e),b=null):(k=b,b=function(a,b,c){return k.call(oa(a),c)})),b))for(;i<j;i++)b(a[i],c,h?e:e.call(a[i],i,b(a[i],c)));return f?a:k?b.call(a):j?b(a[0],c):g},Da=/^-ms-/,Ea=/-([a-z])/g,Fa=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType};o.uid=1,o.prototype={cache:function(a){var b=a[this.expando];return b||(b={},Fa(a)&&(a.nodeType?a[this.expando]=b:Object.defineProperty(a,this.expando,{value:b,configurable:!0}))),b},set:function(a,b,c){var d,e=this.cache(a);if("string"==typeof b)e[n(b)]=c;else for(d in b)e[n(d)]=b[d];return e},get:function(a,b){return void 0===b?this.cache(a):a[this.expando]&&a[this.expando][n(b)]},access:function(a,b,c){return void 0===b||b&&"string"==typeof b&&void 0===c?this.get(a,b):(this.set(a,b,c),void 0!==c?c:b)},remove:function(a,b){var c,d=a[this.expando];if(void 0!==d){if(void 0!==b){c=(b=Array.isArray(b)?b.map(n):(b=n(b))in d?[b]:b.match(za)||[]).length;for(;c--;)delete d[b[c]]}(void 0===b||oa.isEmptyObject(d))&&(a.nodeType?a[this.expando]=void 0:delete a[this.expando])}},hasData:function(a){var b=a[this.expando];return void 0!==b&&!oa.isEmptyObject(b)}};var Ga=new o,Ha=new o,Ia=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ja=/[A-Z]/g;oa.extend({hasData:function(a){return Ha.hasData(a)||Ga.hasData(a)},data:function(a,b,c){return Ha.access(a,b,c)},removeData:function(a,b){Ha.remove(a,b)},_data:function(a,b,c){return Ga.access(a,b,c)},_removeData:function(a,b){Ga.remove(a,b)}}),oa.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=Ha.get(f),1===f.nodeType&&!Ga.get(f,"hasDataAttrs"))){for(c=g.length;c--;)g[c]&&0===(d=g[c].name).indexOf("data-")&&(d=n(d.slice(5)),p(f,d,e[d]));Ga.set(f,"hasDataAttrs",!0)}return e}return"object"==typeof a?this.each(function(){Ha.set(this,a)}):Ca(this,function(b){var c;if(f&&void 0===b)return void 0!==(c=Ha.get(f,a))?c:void 0!==(c=p(f,a))?c:void 0;this.each(function(){Ha.set(this,a,b)})},null,b,1<arguments.length,null,!0)},removeData:function(a){return this.each(function(){Ha.remove(this,a)})}}),oa.extend({queue:function(a,b,c){var d;if(a)return b=(b||"fx")+"queue",d=Ga.get(a,b),c&&(!d||Array.isArray(c)?d=Ga.access(a,b,oa.makeArray(c)):d.push(c)),d||[]},dequeue:function(a,b){b=b||"fx";var c=oa.queue(a,b),d=c.length,e=c.shift(),f=oa._queueHooks(a,b);"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,function(){oa.dequeue(a,b)},f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return Ga.get(a,c)||Ga.access(a,c,{empty:oa.Callbacks("once memory").add(function(){Ga.remove(a,[b+"queue",c])})})}}),oa.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?oa.queue(this[0],a):void 0===b?this:this.each(function(){var c=oa.queue(this,a,b);oa._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&oa.dequeue(this,a)})},dequeue:function(a){return this.each(function(){oa.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=oa.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};for("string"!=typeof a&&(b=a,a=void 0),a=a||"fx";g--;)(c=Ga.get(f[g],a+"queueHooks"))&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var Ka=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,La=new RegExp("^(?:([+-])=|)("+Ka+")([a-z%]*)$","i"),Ma=["Top","Right","Bottom","Left"],Na=$.documentElement,Oa=function(a){return oa.contains(a.ownerDocument,a)},Pa={composed:!0};Na.attachShadow&&(Oa=function(a){return oa.contains(a.ownerDocument,a)||a.getRootNode(Pa)===a.ownerDocument});var Qa=function(a,b){return"none"===(a=b||a).style.display||""===a.style.display&&Oa(a)&&"none"===oa.css(a,"display")},Ra=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];for(f in e=c.apply(a,d||[]),b)a.style[f]=g[f];return e},Sa={};oa.fn.extend({show:function(){return r(this,!0)},hide:function(){return r(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){Qa(this)?oa(this).show():oa(this).hide()})}});var Ta=/^(?:checkbox|radio)$/i,Ua=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Va=/^$|^module$|\/(?:java|ecma)script/i,Wa={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Wa.optgroup=Wa.option,Wa.tbody=Wa.tfoot=Wa.colgroup=Wa.caption=Wa.thead,Wa.th=Wa.td;var Xa,Ya,Za=/<|&#?\w+;/;Xa=$.createDocumentFragment().appendChild($.createElement("div")),(Ya=$.createElement("input")).setAttribute("type","radio"),Ya.setAttribute("checked","checked"),Ya.setAttribute("name","t"),Xa.appendChild(Ya),ja.checkClone=Xa.cloneNode(!0).cloneNode(!0).lastChild.checked,Xa.innerHTML="<textarea>x</textarea>",ja.noCloneChecked=!!Xa.cloneNode(!0).lastChild.defaultValue;var $a=/^key/,_a=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,ab=/^([^.]*)(?:\.(.+)|)/;oa.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=Ga.get(a);if(q)for(c.handler&&(c=(f=c).handler,e=f.selector),e&&oa.find.matchesSelector(Na,e),c.guid||(c.guid=oa.guid++),(i=q.events)||(i=q.events={}),(g=q.handle)||(g=q.handle=function(b){return void 0!==oa&&oa.event.triggered!==b.type?oa.event.dispatch.apply(a,arguments):void 0}),j=(b=(b||"").match(za)||[""]).length;j--;)n=p=(h=ab.exec(b[j])||[])[1],o=(h[2]||"").split(".").sort(),n&&(l=oa.event.special[n]||{},n=(e?l.delegateType:l.bindType)||n,l=oa.event.special[n]||{},k=oa.extend({type:n,origType:p,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&oa.expr.match.needsContext.test(e),namespace:o.join(".")},f),(m=i[n])||((m=i[n]=[]).delegateCount=0,l.setup&&!1!==l.setup.call(a,d,o,g)||a.addEventListener&&a.addEventListener(n,g)),l.add&&(l.add.call(a,k),k.handler.guid||(k.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,k):m.push(k),oa.event.global[n]=!0)},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=Ga.hasData(a)&&Ga.get(a);if(q&&(i=q.events)){for(j=(b=(b||"").match(za)||[""]).length;j--;)if(n=p=(h=ab.exec(b[j])||[])[1],o=(h[2]||"").split(".").sort(),n){for(l=oa.event.special[n]||{},m=i[n=(d?l.delegateType:l.bindType)||n]||[],h=h[2]&&new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"),g=f=m.length;f--;)k=m[f],!e&&p!==k.origType||c&&c.guid!==k.guid||h&&!h.test(k.namespace)||d&&d!==k.selector&&("**"!==d||!k.selector)||(m.splice(f,1),k.selector&&m.delegateCount--,l.remove&&l.remove.call(a,k));g&&!m.length&&(l.teardown&&!1!==l.teardown.call(a,o,q.handle)||oa.removeEvent(a,n,q.handle),delete i[n])}else for(n in i)oa.event.remove(a,n+b[j],c,d,!0);oa.isEmptyObject(i)&&Ga.remove(a,"handle events")}},dispatch:function(a){var b,c,d,e,f,g,h=oa.event.fix(a),i=new Array(arguments.length),j=(Ga.get(this,"events")||{})[h.type]||[],k=oa.event.special[h.type]||{};for(i[0]=h,b=1;b<arguments.length;b++)i[b]=arguments[b];if(h.delegateTarget=this,!k.preDispatch||!1!==k.preDispatch.call(this,h)){for(g=oa.event.handlers.call(this,h,j),b=0;(e=g[b++])&&!h.isPropagationStopped();)for(h.currentTarget=e.elem,c=0;(f=e.handlers[c++])&&!h.isImmediatePropagationStopped();)h.rnamespace&&!1!==f.namespace&&!h.rnamespace.test(f.namespace)||(h.handleObj=f,h.data=f.data,void 0!==(d=((oa.event.special[f.origType]||{}).handle||f.handler).apply(e.elem,i))&&!1===(h.result=d)&&(h.preventDefault(),h.stopPropagation()));return k.postDispatch&&k.postDispatch.call(this,h),h.result}},handlers:function(a,b){var c,d,e,f,g,h=[],i=b.delegateCount,j=a.target;if(i&&j.nodeType&&!("click"===a.type&&1<=a.button))for(;j!==this;j=j.parentNode||this)if(1===j.nodeType&&("click"!==a.type||!0!==j.disabled)){for(f=[],g={},c=0;c<i;c++)void 0===g[e=(d=b[c]).selector+" "]&&(g[e]=d.needsContext?-1<oa(e,this).index(j):oa.find(e,this,null,[j]).length),g[e]&&f.push(d);f.length&&h.push({elem:j,handlers:f})}return j=this,i<b.length&&h.push({elem:j,handlers:b.slice(i)}),h},addProp:function(a,b){Object.defineProperty(oa.Event.prototype,a,{enumerable:!0,configurable:!0,get:ka(b)?function(){if(this.originalEvent)return b(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[a]},set:function(b){Object.defineProperty(this,a,{enumerable:!0,configurable:!0,writable:!0,value:b})}})},fix:function(a){return a[oa.expando]?a:new oa.Event(a)},special:{load:{noBubble:!0},click:{setup:function(a){var b=this||a;return Ta.test(b.type)&&b.click&&f(b,"input")&&void 0===Ga.get(b,"click")&&z(b,"click",v),!1},trigger:function(a){var b=this||a;return Ta.test(b.type)&&b.click&&f(b,"input")&&void 0===Ga.get(b,"click")&&z(b,"click"),!0},_default:function(a){var b=a.target;return Ta.test(b.type)&&b.click&&f(b,"input")&&Ga.get(b,"click")||f(b,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}}},oa.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c)},oa.Event=function(a,b){if(!(this instanceof oa.Event))return new oa.Event(a,b);a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&!1===a.returnValue?v:w,this.target=a.target&&3===a.target.nodeType?a.target.parentNode:a.target,this.currentTarget=a.currentTarget,this.relatedTarget=a.relatedTarget):this.type=a,b&&oa.extend(this,b),this.timeStamp=a&&a.timeStamp||Date.now(),this[oa.expando]=!0},oa.Event.prototype={constructor:oa.Event,isDefaultPrevented:w,isPropagationStopped:w,isImmediatePropagationStopped:w,isSimulated:!1,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=v,a&&!this.isSimulated&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=v,a&&!this.isSimulated&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=v,a&&!this.isSimulated&&a.stopImmediatePropagation(),this.stopPropagation()}},oa.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(a){var b=a.button;return null==a.which&&$a.test(a.type)?null!=a.charCode?a.charCode:a.keyCode:!a.which&&void 0!==b&&_a.test(a.type)?1&b?1:2&b?3:4&b?2:0:a.which}},oa.event.addProp),oa.each({focus:"focusin",blur:"focusout"},function(a,b){oa.event.special[a]={setup:function(){return z(this,a,x),!1},trigger:function(){return z(this,a),!0},delegateType:b}}),oa.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){oa.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=a.relatedTarget,e=a.handleObj;return d&&(d===this||oa.contains(this,d))||(a.type=e.origType,c=e.handler.apply(this,arguments),a.type=b),c}}}),oa.fn.extend({on:function(a,b,c,d){return y(this,a,b,c,d)},one:function(a,b,c,d){return y(this,a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,oa(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return!1!==b&&"function"!=typeof b||(c=b,b=void 0),!1===c&&(c=w),this.each(function(){oa.event.remove(this,a,c,b)})}});var bb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,cb=/<script|<style|<link/i,db=/checked\s*(?:[^=]|=\s*.checked.)/i,eb=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;oa.extend({htmlPrefilter:function(a){return a.replace(bb,"<$1></$2>")},clone:function(a,b,c){var d,e,f,g,h,i,j,k=a.cloneNode(!0),l=Oa(a);if(!(ja.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||oa.isXMLDoc(a)))for(g=s(k),d=0,e=(f=s(a)).length;d<e;d++)h=f[d],i=g[d],"input"===(j=i.nodeName.toLowerCase())&&Ta.test(h.type)?i.checked=h.checked:"input"!==j&&"textarea"!==j||(i.defaultValue=h.defaultValue);if(b)if(c)for(f=f||s(a),g=g||s(k),d=0,e=f.length;d<e;d++)D(f[d],g[d]);else D(a,k);return 0<(g=s(k,"script")).length&&t(g,!l&&s(a,"script")),k},cleanData:function(a){for(var b,c,d,e=oa.event.special,f=0;void 0!==(c=a[f]);f++)if(Fa(c)){if(b=c[Ga.expando]){if(b.events)for(d in b.events)e[d]?oa.event.remove(c,d):oa.removeEvent(c,d,b.handle);c[Ga.expando]=void 0}c[Ha.expando]&&(c[Ha.expando]=void 0)}}}),oa.fn.extend({detach:function(a){return F(this,a,!0)},remove:function(a){return F(this,a)},text:function(a){return Ca(this,function(a){return void 0===a?oa.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=a)})},null,a,arguments.length)},append:function(){return E(this,arguments,function(a){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||A(this,a).appendChild(a)})},prepend:function(){return E(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=A(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return E(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return E(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(oa.cleanData(s(a,!1)),a.textContent="");return this},clone:function(a,b){return a=null!=a&&a,b=null==b?a:b,this.map(function(){return oa.clone(this,a,b)})},html:function(a){return Ca(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;if("string"==typeof a&&!cb.test(a)&&!Wa[(Ua.exec(a)||["",""])[1].toLowerCase()]){a=oa.htmlPrefilter(a);try{for(;c<d;c++)1===(b=this[c]||{}).nodeType&&(oa.cleanData(s(b,!1)),b.innerHTML=a);b=0}catch(a){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=[];return E(this,arguments,function(b){var c=this.parentNode;oa.inArray(this,a)<0&&(oa.cleanData(s(this)),c&&c.replaceChild(b,this))},a)}}),oa.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){oa.fn[a]=function(a){for(var c,d=[],e=oa(a),f=e.length-1,g=0;g<=f;g++)c=g===f?this:this.clone(!0),oa(e[g])[b](c),ca.apply(d,c.get());return this.pushStack(d)}});var fb=new RegExp("^("+Ka+")(?!px)[a-z%]+$","i"),gb=function(b){var c=b.ownerDocument.defaultView;return c&&c.opener||(c=a),c.getComputedStyle(b)},hb=new RegExp(Ma.join("|"),"i");!function(){function b(){if(j){i.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",j.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Na.appendChild(i).appendChild(j);var b=a.getComputedStyle(j);d="1%"!==b.top,h=12===c(b.marginLeft),j.style.right="60%",g=36===c(b.right),e=36===c(b.width),j.style.position="absolute",f=12===c(j.offsetWidth/3),Na.removeChild(i),j=null}}function c(a){return Math.round(parseFloat(a))}var d,e,f,g,h,i=$.createElement("div"),j=$.createElement("div");j.style&&(j.style.backgroundClip="content-box",j.cloneNode(!0).style.backgroundClip="",ja.clearCloneStyle="content-box"===j.style.backgroundClip,oa.extend(ja,{boxSizingReliable:function(){return b(),e},pixelBoxStyles:function(){return b(),g},pixelPosition:function(){return b(),d},reliableMarginLeft:function(){return b(),h},scrollboxSize:function(){return b(),f}}))}();var ib=["Webkit","Moz","ms"],jb=$.createElement("div").style,kb={},lb=/^(none|table(?!-c[ea]).+)/,mb=/^--/,nb={position:"absolute",visibility:"hidden",display:"block"},ob={letterSpacing:"0",fontWeight:"400"};oa.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=G(a,"opacity");return""===c?"1":c}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=n(b),i=mb.test(b),j=a.style;if(i||(b=I(h)),g=oa.cssHooks[b]||oa.cssHooks[h],void 0===c)return g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:j[b];"string"==(f=typeof c)&&(e=La.exec(c))&&e[1]&&(c=q(a,b,e),f="number"),null!=c&&c==c&&("number"!==f||i||(c+=e&&e[3]||(oa.cssNumber[h]?"":"px")),ja.clearCloneStyle||""!==c||0!==b.indexOf("background")||(j[b]="inherit"),g&&"set"in g&&void 0===(c=g.set(a,c,d))||(i?j.setProperty(b,c):j[b]=c))}},css:function(a,b,c,d){var e,f,g,h=n(b);return mb.test(b)||(b=I(h)),(g=oa.cssHooks[b]||oa.cssHooks[h])&&"get"in g&&(e=g.get(a,!0,c)),void 0===e&&(e=G(a,b,d)),"normal"===e&&b in ob&&(e=ob[b]),""===c||c?(f=parseFloat(e),!0===c||isFinite(f)?f||0:e):e}}),oa.each(["height","width"],function(a,b){oa.cssHooks[b]={get:function(a,c,d){if(c)return!lb.test(oa.css(a,"display"))||a.getClientRects().length&&a.getBoundingClientRect().width?L(a,b,d):Ra(a,nb,function(){return L(a,b,d)})},set:function(a,c,d){var e,f=gb(a),g=!ja.scrollboxSize()&&"absolute"===f.position,h=(g||d)&&"border-box"===oa.css(a,"boxSizing",!1,f),i=d?K(a,b,d,h,f):0;return h&&g&&(i-=Math.ceil(a["offset"+b[0].toUpperCase()+b.slice(1)]-parseFloat(f[b])-K(a,b,"border",!1,f)-.5)),i&&(e=La.exec(c))&&"px"!==(e[3]||"px")&&(a.style[b]=c,c=oa.css(a,b)),J(0,c,i)}}}),oa.cssHooks.marginLeft=H(ja.reliableMarginLeft,function(a,b){if(b)return(parseFloat(G(a,"marginLeft"))||a.getBoundingClientRect().left-Ra(a,{marginLeft:0},function(){return a.getBoundingClientRect().left}))+"px"}),oa.each({margin:"",padding:"",border:"Width"},function(a,b){oa.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];d<4;d++)e[a+Ma[d]+b]=f[d]||f[d-2]||f[0];return e}},"margin"!==a&&(oa.cssHooks[a+b].set=J)}),oa.fn.extend({css:function(a,b){return Ca(this,function(a,b,c){var d,e,f={},g=0;if(Array.isArray(b)){for(d=gb(a),e=b.length;g<e;g++)f[b[g]]=oa.css(a,b[g],!1,d);return f}return void 0!==c?oa.style(a,b,c):oa.css(a,b)},a,b,1<arguments.length)}}),((oa.Tween=M).prototype={constructor:M,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||oa.easing._default,this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(oa.cssNumber[c]?"":"px")},cur:function(){var a=M.propHooks[this.prop];return a&&a.get?a.get(this):M.propHooks._default.get(this)},run:function(a){var b,c=M.propHooks[this.prop];return this.options.duration?this.pos=b=oa.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):M.propHooks._default.set(this),this}}).init.prototype=M.prototype,(M.propHooks={_default:{get:function(a){var b;return 1!==a.elem.nodeType||null!=a.elem[a.prop]&&null==a.elem.style[a.prop]?a.elem[a.prop]:(b=oa.css(a.elem,a.prop,""))&&"auto"!==b?b:0},set:function(a){oa.fx.step[a.prop]?oa.fx.step[a.prop](a):1!==a.elem.nodeType||!oa.cssHooks[a.prop]&&null==a.elem.style[I(a.prop)]?a.elem[a.prop]=a.now:oa.style(a.elem,a.prop,a.now+a.unit)}}}).scrollTop=M.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},oa.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2},_default:"swing"},oa.fx=M.prototype.init,oa.fx.step={};var pb,qb,rb,sb,tb=/^(?:toggle|show|hide)$/,ub=/queueHooks$/;oa.Animation=oa.extend(R,{tweeners:{"*":[function(a,b){var c=this.createTween(a,b);return q(c.elem,a,La.exec(b),c),c}]},tweener:function(a,b){ka(a)?(b=a,a=["*"]):a=a.match(za);for(var c,d=0,e=a.length;d<e;d++)c=a[d],R.tweeners[c]=R.tweeners[c]||[],R.tweeners[c].unshift(b)},prefilters:[function(a,b,c){var d,e,f,g,h,i,j,k,l="width"in b||"height"in b,m=this,n={},o=a.style,p=a.nodeType&&Qa(a),q=Ga.get(a,"fxshow");for(d in c.queue||(null==(g=oa._queueHooks(a,"fx")).unqueued&&(g.unqueued=0,h=g.empty.fire,g.empty.fire=function(){g.unqueued||h()}),g.unqueued++,m.always(function(){m.always(function(){g.unqueued--,oa.queue(a,"fx").length||g.empty.fire()})})),b)if(e=b[d],tb.test(e)){if(delete b[d],f=f||"toggle"===e,e===(p?"hide":"show")){if("show"!==e||!q||void 0===q[d])continue;p=!0}n[d]=q&&q[d]||oa.style(a,d)}if((i=!oa.isEmptyObject(b))||!oa.isEmptyObject(n))for(d in l&&1===a.nodeType&&(c.overflow=[o.overflow,o.overflowX,o.overflowY],null==(j=q&&q.display)&&(j=Ga.get(a,"display")),"none"===(k=oa.css(a,"display"))&&(j?k=j:(r([a],!0),j=a.style.display||j,k=oa.css(a,"display"),r([a]))),("inline"===k||"inline-block"===k&&null!=j)&&"none"===oa.css(a,"float")&&(i||(m.done(function(){o.display=j}),null==j&&(k=o.display,j="none"===k?"":k)),o.display="inline-block")),c.overflow&&(o.overflow="hidden",m.always(function(){o.overflow=c.overflow[0],o.overflowX=c.overflow[1],o.overflowY=c.overflow[2]})),i=!1,n)i||(q?"hidden"in q&&(p=q.hidden):q=Ga.access(a,"fxshow",{display:j}),f&&(q.hidden=!p),p&&r([a],!0),m.done(function(){for(d in p||r([a]),Ga.remove(a,"fxshow"),n)oa.style(a,d,n[d])})),i=Q(p?q[d]:0,d,m),d in q||(q[d]=i.start,p&&(i.end=i.start,i.start=0))}],prefilter:function(a,b){b?R.prefilters.unshift(a):R.prefilters.push(a)}}),oa.speed=function(a,b,c){var d=a&&"object"==typeof a?oa.extend({},a):{complete:c||!c&&b||ka(a)&&a,duration:a,easing:c&&b||b&&!ka(b)&&b};return oa.fx.off?d.duration=0:"number"!=typeof d.duration&&(d.duration in oa.fx.speeds?d.duration=oa.fx.speeds[d.duration]:d.duration=oa.fx.speeds._default),null!=d.queue&&!0!==d.queue||(d.queue="fx"),d.old=d.complete,d.complete=function(){
ka(d.old)&&d.old.call(this),d.queue&&oa.dequeue(this,d.queue)},d},oa.fn.extend({fadeTo:function(a,b,c,d){return this.filter(Qa).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=oa.isEmptyObject(a),f=oa.speed(b,c,d),g=function(){var b=R(this,oa.extend({},a),f);(e||Ga.get(this,"finish"))&&b.stop(!0)};return g.finish=g,e||!1===f.queue?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&!1!==a&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=oa.timers,g=Ga.get(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&ub.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));!b&&c||oa.dequeue(this,a)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var b,c=Ga.get(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=oa.timers,g=d?d.length:0;for(c.finish=!0,oa.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;b<g;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),oa.each(["toggle","show","hide"],function(a,b){var c=oa.fn[b];oa.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(P(b,!0),a,d,e)}}),oa.each({slideDown:P("show"),slideUp:P("hide"),slideToggle:P("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){oa.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),oa.timers=[],oa.fx.tick=function(){var a,b=0,c=oa.timers;for(pb=Date.now();b<c.length;b++)(a=c[b])()||c[b]!==a||c.splice(b--,1);c.length||oa.fx.stop(),pb=void 0},oa.fx.timer=function(a){oa.timers.push(a),oa.fx.start()},oa.fx.interval=13,oa.fx.start=function(){qb||(qb=!0,N())},oa.fx.stop=function(){qb=null},oa.fx.speeds={slow:600,fast:200,_default:400},oa.fn.delay=function(b,c){return b=oa.fx&&oa.fx.speeds[b]||b,c=c||"fx",this.queue(c,function(c,d){var e=a.setTimeout(c,b);d.stop=function(){a.clearTimeout(e)}})},rb=$.createElement("input"),sb=$.createElement("select").appendChild($.createElement("option")),rb.type="checkbox",ja.checkOn=""!==rb.value,ja.optSelected=sb.selected,(rb=$.createElement("input")).value="t",rb.type="radio",ja.radioValue="t"===rb.value;var vb,wb=oa.expr.attrHandle;oa.fn.extend({attr:function(a,b){return Ca(this,oa.attr,a,b,1<arguments.length)},removeAttr:function(a){return this.each(function(){oa.removeAttr(this,a)})}}),oa.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return void 0===a.getAttribute?oa.prop(a,b,c):(1===f&&oa.isXMLDoc(a)||(e=oa.attrHooks[b.toLowerCase()]||(oa.expr.match.bool.test(b)?vb:void 0)),void 0!==c?null===c?void oa.removeAttr(a,b):e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:(a.setAttribute(b,c+""),c):e&&"get"in e&&null!==(d=e.get(a,b))?d:null==(d=oa.find.attr(a,b))?void 0:d)},attrHooks:{type:{set:function(a,b){if(!ja.radioValue&&"radio"===b&&f(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}},removeAttr:function(a,b){var c,d=0,e=b&&b.match(za);if(e&&1===a.nodeType)for(;c=e[d++];)a.removeAttribute(c)}}),vb={set:function(a,b,c){return!1===b?oa.removeAttr(a,c):a.setAttribute(c,c),c}},oa.each(oa.expr.match.bool.source.match(/\w+/g),function(a,b){var c=wb[b]||oa.find.attr;wb[b]=function(a,b,d){var e,f,g=b.toLowerCase();return d||(f=wb[g],wb[g]=e,e=null!=c(a,b,d)?g:null,wb[g]=f),e}});var xb=/^(?:input|select|textarea|button)$/i,yb=/^(?:a|area)$/i;oa.fn.extend({prop:function(a,b){return Ca(this,oa.prop,a,b,1<arguments.length)},removeProp:function(a){return this.each(function(){delete this[oa.propFix[a]||a]})}}),oa.extend({prop:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return 1===f&&oa.isXMLDoc(a)||(b=oa.propFix[b]||b,e=oa.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){var b=oa.find.attr(a,"tabindex");return b?parseInt(b,10):xb.test(a.nodeName)||yb.test(a.nodeName)&&a.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),ja.optSelected||(oa.propHooks.selected={get:function(a){var b=a.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null},set:function(a){var b=a.parentNode;b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex)}}),oa.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){oa.propFix[this.toLowerCase()]=this}),oa.fn.extend({addClass:function(a){var b,c,d,e,f,g,h,i=0;if(ka(a))return this.each(function(b){oa(this).addClass(a.call(this,b,T(this)))});if((b=U(a)).length)for(;c=this[i++];)if(e=T(c),d=1===c.nodeType&&" "+S(e)+" "){for(g=0;f=b[g++];)d.indexOf(" "+f+" ")<0&&(d+=f+" ");e!==(h=S(d))&&c.setAttribute("class",h)}return this},removeClass:function(a){var b,c,d,e,f,g,h,i=0;if(ka(a))return this.each(function(b){oa(this).removeClass(a.call(this,b,T(this)))});if(!arguments.length)return this.attr("class","");if((b=U(a)).length)for(;c=this[i++];)if(e=T(c),d=1===c.nodeType&&" "+S(e)+" "){for(g=0;f=b[g++];)for(;-1<d.indexOf(" "+f+" ");)d=d.replace(" "+f+" "," ");e!==(h=S(d))&&c.setAttribute("class",h)}return this},toggleClass:function(a,b){var c=typeof a,d="string"===c||Array.isArray(a);return"boolean"==typeof b&&d?b?this.addClass(a):this.removeClass(a):ka(a)?this.each(function(c){oa(this).toggleClass(a.call(this,c,T(this),b),b)}):this.each(function(){var b,e,f,g;if(d)for(e=0,f=oa(this),g=U(a);b=g[e++];)f.hasClass(b)?f.removeClass(b):f.addClass(b);else void 0!==a&&"boolean"!==c||((b=T(this))&&Ga.set(this,"__className__",b),this.setAttribute&&this.setAttribute("class",b||!1===a?"":Ga.get(this,"__className__")||""))})},hasClass:function(a){var b,c,d=0;for(b=" "+a+" ";c=this[d++];)if(1===c.nodeType&&-1<(" "+S(T(c))+" ").indexOf(b))return!0;return!1}});var zb=/\r/g;oa.fn.extend({val:function(a){var b,c,d,e=this[0];return arguments.length?(d=ka(a),this.each(function(c){var e;1===this.nodeType&&(null==(e=d?a.call(this,c,oa(this).val()):a)?e="":"number"==typeof e?e+="":Array.isArray(e)&&(e=oa.map(e,function(a){return null==a?"":a+""})),(b=oa.valHooks[this.type]||oa.valHooks[this.nodeName.toLowerCase()])&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))})):e?(b=oa.valHooks[e.type]||oa.valHooks[e.nodeName.toLowerCase()])&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:"string"==typeof(c=e.value)?c.replace(zb,""):null==c?"":c:void 0}}),oa.extend({valHooks:{option:{get:function(a){var b=oa.find.attr(a,"value");return null!=b?b:S(oa.text(a))}},select:{get:function(a){var b,c,d,e=a.options,g=a.selectedIndex,h="select-one"===a.type,i=h?null:[],j=h?g+1:e.length;for(d=g<0?j:h?g:0;d<j;d++)if(((c=e[d]).selected||d===g)&&!c.disabled&&(!c.parentNode.disabled||!f(c.parentNode,"optgroup"))){if(b=oa(c).val(),h)return b;i.push(b)}return i},set:function(a,b){for(var c,d,e=a.options,f=oa.makeArray(b),g=e.length;g--;)((d=e[g]).selected=-1<oa.inArray(oa.valHooks.option.get(d),f))&&(c=!0);return c||(a.selectedIndex=-1),f}}}}),oa.each(["radio","checkbox"],function(){oa.valHooks[this]={set:function(a,b){if(Array.isArray(b))return a.checked=-1<oa.inArray(oa(a).val(),b)}},ja.checkOn||(oa.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})}),ja.focusin="onfocusin"in a;var Ab=/^(?:focusinfocus|focusoutblur)$/,Bb=function(a){a.stopPropagation()};oa.extend(oa.event,{trigger:function(b,c,d,e){var f,g,h,i,j,k,l,m,n=[d||$],o=ga.call(b,"type")?b.type:b,p=ga.call(b,"namespace")?b.namespace.split("."):[];if(g=m=h=d=d||$,3!==d.nodeType&&8!==d.nodeType&&!Ab.test(o+oa.event.triggered)&&(-1<o.indexOf(".")&&(o=(p=o.split(".")).shift(),p.sort()),j=o.indexOf(":")<0&&"on"+o,(b=b[oa.expando]?b:new oa.Event(o,"object"==typeof b&&b)).isTrigger=e?2:3,b.namespace=p.join("."),b.rnamespace=b.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:oa.makeArray(c,[b]),l=oa.event.special[o]||{},e||!l.trigger||!1!==l.trigger.apply(d,c))){if(!e&&!l.noBubble&&!la(d)){for(i=l.delegateType||o,Ab.test(i+o)||(g=g.parentNode);g;g=g.parentNode)n.push(g),h=g;h===(d.ownerDocument||$)&&n.push(h.defaultView||h.parentWindow||a)}for(f=0;(g=n[f++])&&!b.isPropagationStopped();)m=g,b.type=1<f?i:l.bindType||o,(k=(Ga.get(g,"events")||{})[b.type]&&Ga.get(g,"handle"))&&k.apply(g,c),(k=j&&g[j])&&k.apply&&Fa(g)&&(b.result=k.apply(g,c),!1===b.result&&b.preventDefault());return b.type=o,e||b.isDefaultPrevented()||l._default&&!1!==l._default.apply(n.pop(),c)||!Fa(d)||j&&ka(d[o])&&!la(d)&&((h=d[j])&&(d[j]=null),oa.event.triggered=o,b.isPropagationStopped()&&m.addEventListener(o,Bb),d[o](),b.isPropagationStopped()&&m.removeEventListener(o,Bb),oa.event.triggered=void 0,h&&(d[j]=h)),b.result}},simulate:function(a,b,c){var d=oa.extend(new oa.Event,c,{type:a,isSimulated:!0});oa.event.trigger(d,null,b)}}),oa.fn.extend({trigger:function(a,b){return this.each(function(){oa.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];if(c)return oa.event.trigger(a,b,c,!0)}}),ja.focusin||oa.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){oa.event.simulate(b,a.target,oa.event.fix(a))};oa.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=Ga.access(d,b);e||d.addEventListener(a,c,!0),Ga.access(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=Ga.access(d,b)-1;e?Ga.access(d,b,e):(d.removeEventListener(a,c,!0),Ga.remove(d,b))}}});var Cb=a.location,Db=Date.now(),Eb=/\?/;oa.parseXML=function(b){var c;if(!b||"string"!=typeof b)return null;try{c=(new a.DOMParser).parseFromString(b,"text/xml")}catch(b){c=void 0}return c&&!c.getElementsByTagName("parsererror").length||oa.error("Invalid XML: "+b),c};var Fb=/\[\]$/,Gb=/\r?\n/g,Hb=/^(?:submit|button|image|reset|file)$/i,Ib=/^(?:input|select|textarea|keygen)/i;oa.param=function(a,b){var c,d=[],e=function(a,b){var c=ka(b)?b():b;d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(null==c?"":c)};if(null==a)return"";if(Array.isArray(a)||a.jquery&&!oa.isPlainObject(a))oa.each(a,function(){e(this.name,this.value)});else for(c in a)V(c,a[c],b,e);return d.join("&")},oa.fn.extend({serialize:function(){return oa.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=oa.prop(this,"elements");return a?oa.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!oa(this).is(":disabled")&&Ib.test(this.nodeName)&&!Hb.test(a)&&(this.checked||!Ta.test(a))}).map(function(a,b){var c=oa(this).val();return null==c?null:Array.isArray(c)?oa.map(c,function(a){return{name:b.name,value:a.replace(Gb,"\r\n")}}):{name:b.name,value:c.replace(Gb,"\r\n")}}).get()}});var Jb=/%20/g,Kb=/#.*$/,Lb=/([?&])_=[^&]*/,Mb=/^(.*?):[ \t]*([^\r\n]*)$/gm,Nb=/^(?:GET|HEAD)$/,Ob=/^\/\//,Pb={},Qb={},Rb="*/".concat("*"),Sb=$.createElement("a");Sb.href=Cb.href,oa.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Cb.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Cb.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Rb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":oa.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?Y(Y(a,oa.ajaxSettings),b):Y(oa.ajaxSettings,a)},ajaxPrefilter:W(Pb),ajaxTransport:W(Qb),ajax:function(b,c){function d(b,c,d,h){var j,m,n,u,v,w=c;k||(k=!0,i&&a.clearTimeout(i),e=void 0,g=h||"",x.readyState=0<b?4:0,j=200<=b&&b<300||304===b,d&&(u=function(a,b,c){for(var d,e,f,g,h=a.contents,i=a.dataTypes;"*"===i[0];)i.shift(),void 0===d&&(d=a.mimeType||b.getResponseHeader("Content-Type"));if(d)for(e in h)if(h[e]&&h[e].test(d)){i.unshift(e);break}if(i[0]in c)f=i[0];else{for(e in c){if(!i[0]||a.converters[e+" "+i[0]]){f=e;break}g||(g=e)}f=f||g}if(f)return f!==i[0]&&i.unshift(f),c[f]}(o,x,d)),u=function(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];for(f=k.shift();f;)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(!(g=j[i+" "+f]||j["* "+f]))for(e in j)if((h=e.split(" "))[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){!0===g?g=j[e]:!0!==j[e]&&(f=h[0],k.unshift(h[1]));break}if(!0!==g)if(g&&a.throws)b=g(b);else try{b=g(b)}catch(a){return{state:"parsererror",error:g?a:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}(o,u,x,j),j?(o.ifModified&&((v=x.getResponseHeader("Last-Modified"))&&(oa.lastModified[f]=v),(v=x.getResponseHeader("etag"))&&(oa.etag[f]=v)),204===b||"HEAD"===o.type?w="nocontent":304===b?w="notmodified":(w=u.state,m=u.data,j=!(n=u.error))):(n=w,!b&&w||(w="error",b<0&&(b=0))),x.status=b,x.statusText=(c||w)+"",j?r.resolveWith(p,[m,w,x]):r.rejectWith(p,[x,w,n]),x.statusCode(t),t=void 0,l&&q.trigger(j?"ajaxSuccess":"ajaxError",[x,o,j?m:n]),s.fireWith(p,[x,w]),l&&(q.trigger("ajaxComplete",[x,o]),--oa.active||oa.event.trigger("ajaxStop")))}"object"==typeof b&&(c=b,b=void 0),c=c||{};var e,f,g,h,i,j,k,l,m,n,o=oa.ajaxSetup({},c),p=o.context||o,q=o.context&&(p.nodeType||p.jquery)?oa(p):oa.event,r=oa.Deferred(),s=oa.Callbacks("once memory"),t=o.statusCode||{},u={},v={},w="canceled",x={readyState:0,getResponseHeader:function(a){var b;if(k){if(!h)for(h={};b=Mb.exec(g);)h[b[1].toLowerCase()+" "]=(h[b[1].toLowerCase()+" "]||[]).concat(b[2]);b=h[a.toLowerCase()+" "]}return null==b?null:b.join(", ")},getAllResponseHeaders:function(){return k?g:null},setRequestHeader:function(a,b){return null==k&&(a=v[a.toLowerCase()]=v[a.toLowerCase()]||a,u[a]=b),this},overrideMimeType:function(a){return null==k&&(o.mimeType=a),this},statusCode:function(a){var b;if(a)if(k)x.always(a[x.status]);else for(b in a)t[b]=[t[b],a[b]];return this},abort:function(a){var b=a||w;return e&&e.abort(b),d(0,b),this}};if(r.promise(x),o.url=((b||o.url||Cb.href)+"").replace(Ob,Cb.protocol+"//"),o.type=c.method||c.type||o.method||o.type,o.dataTypes=(o.dataType||"*").toLowerCase().match(za)||[""],null==o.crossDomain){j=$.createElement("a");try{j.href=o.url,j.href=j.href,o.crossDomain=Sb.protocol+"//"+Sb.host!=j.protocol+"//"+j.host}catch(b){o.crossDomain=!0}}if(o.data&&o.processData&&"string"!=typeof o.data&&(o.data=oa.param(o.data,o.traditional)),X(Pb,o,c,x),k)return x;for(m in(l=oa.event&&o.global)&&0==oa.active++&&oa.event.trigger("ajaxStart"),o.type=o.type.toUpperCase(),o.hasContent=!Nb.test(o.type),f=o.url.replace(Kb,""),o.hasContent?o.data&&o.processData&&0===(o.contentType||"").indexOf("application/x-www-form-urlencoded")&&(o.data=o.data.replace(Jb,"+")):(n=o.url.slice(f.length),o.data&&(o.processData||"string"==typeof o.data)&&(f+=(Eb.test(f)?"&":"?")+o.data,delete o.data),!1===o.cache&&(f=f.replace(Lb,"$1"),n=(Eb.test(f)?"&":"?")+"_="+Db+++n),o.url=f+n),o.ifModified&&(oa.lastModified[f]&&x.setRequestHeader("If-Modified-Since",oa.lastModified[f]),oa.etag[f]&&x.setRequestHeader("If-None-Match",oa.etag[f])),(o.data&&o.hasContent&&!1!==o.contentType||c.contentType)&&x.setRequestHeader("Content-Type",o.contentType),x.setRequestHeader("Accept",o.dataTypes[0]&&o.accepts[o.dataTypes[0]]?o.accepts[o.dataTypes[0]]+("*"!==o.dataTypes[0]?", "+Rb+"; q=0.01":""):o.accepts["*"]),o.headers)x.setRequestHeader(m,o.headers[m]);if(o.beforeSend&&(!1===o.beforeSend.call(p,x,o)||k))return x.abort();if(w="abort",s.add(o.complete),x.done(o.success),x.fail(o.error),e=X(Qb,o,c,x)){if(x.readyState=1,l&&q.trigger("ajaxSend",[x,o]),k)return x;o.async&&0<o.timeout&&(i=a.setTimeout(function(){x.abort("timeout")},o.timeout));try{k=!1,e.send(u,d)}catch(b){if(k)throw b;d(-1,b)}}else d(-1,"No Transport");return x},getJSON:function(a,b,c){return oa.get(a,b,c,"json")},getScript:function(a,b){return oa.get(a,void 0,b,"script")}}),oa.each(["get","post"],function(a,b){oa[b]=function(a,c,d,e){return ka(c)&&(e=e||d,d=c,c=void 0),oa.ajax(oa.extend({url:a,type:b,dataType:e,data:c,success:d},oa.isPlainObject(a)&&a))}}),oa._evalUrl=function(a,b){return oa.ajax({url:a,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(a){oa.globalEval(a,b)}})},oa.fn.extend({wrapAll:function(a){var b;return this[0]&&(ka(a)&&(a=a.call(this[0])),b=oa(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=this;a.firstElementChild;)a=a.firstElementChild;return a}).append(this)),this},wrapInner:function(a){return ka(a)?this.each(function(b){oa(this).wrapInner(a.call(this,b))}):this.each(function(){var b=oa(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=ka(a);return this.each(function(c){oa(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(a){return this.parent(a).not("body").each(function(){oa(this).replaceWith(this.childNodes)}),this}}),oa.expr.pseudos.hidden=function(a){return!oa.expr.pseudos.visible(a)},oa.expr.pseudos.visible=function(a){return!!(a.offsetWidth||a.offsetHeight||a.getClientRects().length)},oa.ajaxSettings.xhr=function(){try{return new a.XMLHttpRequest}catch(b){}};var Tb={0:200,1223:204},Ub=oa.ajaxSettings.xhr();ja.cors=!!Ub&&"withCredentials"in Ub,ja.ajax=Ub=!!Ub,oa.ajaxTransport(function(b){var c,d;if(ja.cors||Ub&&!b.crossDomain)return{send:function(e,f){var g,h=b.xhr();if(h.open(b.type,b.url,b.async,b.username,b.password),b.xhrFields)for(g in b.xhrFields)h[g]=b.xhrFields[g];for(g in b.mimeType&&h.overrideMimeType&&h.overrideMimeType(b.mimeType),b.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)h.setRequestHeader(g,e[g]);c=function(a){return function(){c&&(c=d=h.onload=h.onerror=h.onabort=h.ontimeout=h.onreadystatechange=null,"abort"===a?h.abort():"error"===a?"number"!=typeof h.status?f(0,"error"):f(h.status,h.statusText):f(Tb[h.status]||h.status,h.statusText,"text"!==(h.responseType||"text")||"string"!=typeof h.responseText?{binary:h.response}:{text:h.responseText},h.getAllResponseHeaders()))}},h.onload=c(),d=h.onerror=h.ontimeout=c("error"),void 0!==h.onabort?h.onabort=d:h.onreadystatechange=function(){4===h.readyState&&a.setTimeout(function(){c&&d()})},c=c("abort");try{h.send(b.hasContent&&b.data||null)}catch(e){if(c)throw e}},abort:function(){c&&c()}}}),oa.ajaxPrefilter(function(a){a.crossDomain&&(a.contents.script=!1)}),oa.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(a){return oa.globalEval(a),a}}}),oa.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET")}),oa.ajaxTransport("script",function(a){var b,c;if(a.crossDomain||a.scriptAttrs)return{send:function(d,e){b=oa("<script>").attr(a.scriptAttrs||{}).prop({charset:a.scriptCharset,src:a.url}).on("load error",c=function(a){b.remove(),c=null,a&&e("error"===a.type?404:200,a.type)}),$.head.appendChild(b[0])},abort:function(){c&&c()}}});var Vb,Wb=[],Xb=/(=)\?(?=&|$)|\?\?/;oa.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Wb.pop()||oa.expando+"_"+Db++;return this[a]=!0,a}}),oa.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=!1!==b.jsonp&&(Xb.test(b.url)?"url":"string"==typeof b.data&&0===(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&Xb.test(b.data)&&"data");if(h||"jsonp"===b.dataTypes[0])return e=b.jsonpCallback=ka(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(Xb,"$1"+e):!1!==b.jsonp&&(b.url+=(Eb.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||oa.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){void 0===f?oa(a).removeProp(e):a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,Wb.push(e)),g&&ka(f)&&f(g[0]),g=f=void 0}),"script"}),ja.createHTMLDocument=((Vb=$.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Vb.childNodes.length),oa.parseHTML=function(a,b,c){return"string"!=typeof a?[]:("boolean"==typeof b&&(c=b,b=!1),b||(ja.createHTMLDocument?((d=(b=$.implementation.createHTMLDocument("")).createElement("base")).href=$.location.href,b.head.appendChild(d)):b=$),f=!c&&[],(e=ua.exec(a))?[b.createElement(e[1])]:(e=u([a],b,f),f&&f.length&&oa(f).remove(),oa.merge([],e.childNodes)));var d,e,f},oa.fn.load=function(a,b,c){var d,e,f,g=this,h=a.indexOf(" ");return-1<h&&(d=S(a.slice(h)),a=a.slice(0,h)),ka(b)?(c=b,b=void 0):b&&"object"==typeof b&&(e="POST"),0<g.length&&oa.ajax({url:a,type:e||"GET",dataType:"html",data:b}).done(function(a){f=arguments,g.html(d?oa("<div>").append(oa.parseHTML(a)).find(d):a)}).always(c&&function(a,b){g.each(function(){c.apply(this,f||[a.responseText,b,a])})}),this},oa.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){oa.fn[b]=function(a){return this.on(b,a)}}),oa.expr.pseudos.animated=function(a){return oa.grep(oa.timers,function(b){return a===b.elem}).length},oa.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j=oa.css(a,"position"),k=oa(a),l={};"static"===j&&(a.style.position="relative"),h=k.offset(),f=oa.css(a,"top"),i=oa.css(a,"left"),("absolute"===j||"fixed"===j)&&-1<(f+i).indexOf("auto")?(g=(d=k.position()).top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),ka(b)&&(b=b.call(a,c,oa.extend({},h))),null!=b.top&&(l.top=b.top-h.top+g),null!=b.left&&(l.left=b.left-h.left+e),"using"in b?b.using.call(a,l):k.css(l)}},oa.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){oa.offset.setOffset(this,a,b)});var b,c,d=this[0];return d?d.getClientRects().length?(b=d.getBoundingClientRect(),c=d.ownerDocument.defaultView,{top:b.top+c.pageYOffset,left:b.left+c.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var a,b,c,d=this[0],e={top:0,left:0};if("fixed"===oa.css(d,"position"))b=d.getBoundingClientRect();else{for(b=this.offset(),c=d.ownerDocument,a=d.offsetParent||c.documentElement;a&&(a===c.body||a===c.documentElement)&&"static"===oa.css(a,"position");)a=a.parentNode;a&&a!==d&&1===a.nodeType&&((e=oa(a).offset()).top+=oa.css(a,"borderTopWidth",!0),e.left+=oa.css(a,"borderLeftWidth",!0))}return{top:b.top-e.top-oa.css(d,"marginTop",!0),left:b.left-e.left-oa.css(d,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent;a&&"static"===oa.css(a,"position");)a=a.offsetParent;return a||Na})}}),oa.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c="pageYOffset"===b;oa.fn[a]=function(d){return Ca(this,function(a,d,e){var f;if(la(a)?f=a:9===a.nodeType&&(f=a.defaultView),void 0===e)return f?f[b]:a[d];f?f.scrollTo(c?f.pageXOffset:e,c?e:f.pageYOffset):a[d]=e},a,d,arguments.length)}}),oa.each(["top","left"],function(a,b){oa.cssHooks[b]=H(ja.pixelPosition,function(a,c){if(c)return c=G(a,b),fb.test(c)?oa(a).position()[b]+"px":c})}),oa.each({Height:"height",Width:"width"},function(a,b){oa.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){oa.fn[d]=function(e,f){var g=arguments.length&&(c||"boolean"!=typeof e),h=c||(!0===e||!0===f?"margin":"border");return Ca(this,function(b,c,e){var f;return la(b)?0===d.indexOf("outer")?b["inner"+a]:b.document.documentElement["client"+a]:9===b.nodeType?(f=b.documentElement,Math.max(b.body["scroll"+a],f["scroll"+a],b.body["offset"+a],f["offset"+a],f["client"+a])):void 0===e?oa.css(b,c,h):oa.style(b,c,e,h)},b,g?e:void 0,g)}})}),oa.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(a,b){oa.fn[b]=function(a,c){return 0<arguments.length?this.on(b,null,a,c):this.trigger(b)}}),oa.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}}),oa.fn.extend({bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}}),oa.proxy=function(a,b){var c,d,e;if("string"==typeof b&&(c=a[b],b=a,a=c),ka(a))return d=aa.call(arguments,2),(e=function(){return a.apply(b||this,d.concat(aa.call(arguments)))}).guid=a.guid=a.guid||oa.guid++,e},oa.holdReady=function(a){a?oa.readyWait++:oa.ready(!0)},oa.isArray=Array.isArray,oa.parseJSON=JSON.parse,oa.nodeName=f,oa.isFunction=ka,oa.isWindow=la,oa.camelCase=n,oa.type=d,oa.now=Date.now,oa.isNumeric=function(a){var b=oa.type(a);return("number"===b||"string"===b)&&!isNaN(a-parseFloat(a))},"function"==typeof define&&define.amd&&define("jquery",[],function(){return oa});var Yb=a.jQuery,Zb=a.$;return oa.noConflict=function(b){return a.$===oa&&(a.$=Zb),b&&a.jQuery===oa&&(a.jQuery=Yb),oa},b||(a.jQuery=a.$=oa),oa}),function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a(jQuery)}(function(a){function b(a){for(var b=a.css("visibility");"inherit"===b;)a=a.parent(),b=a.css("visibility");return"hidden"!==b}function c(a){for(var b,c;a.length&&a[0]!==document;){if(("absolute"===(b=a.css("position"))||"relative"===b||"fixed"===b)&&(c=parseInt(a.css("zIndex"),10),!isNaN(c)&&0!==c))return c;a=a.parent()}return 0}function d(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},a.extend(this._defaults,this.regional[""]),this.regional.en=a.extend(!0,{},this.regional[""]),this.regional["en-US"]=a.extend(!0,{},this.regional.en),this.dpDiv=e(a("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function e(b){var c="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return b.on("mouseout",c,function(){a(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&a(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&a(this).removeClass("ui-datepicker-next-hover")}).on("mouseover",c,f)}function f(){a.datepicker._isDisabledDatepicker(p.inline?p.dpDiv.parent()[0]:p.input[0])||(a(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),a(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&a(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&a(this).addClass("ui-datepicker-next-hover"))}function g(b,c){a.extend(b,c);for(var d in c)null==c[d]&&(b[d]=c[d]);return b}function h(a){return function(){var b=this.element.val();a.apply(this,arguments),this._refresh(),b!==this.element.val()&&this._trigger("change")}}a.ui=a.ui||{},a.ui.version="1.12.1";var i=0,j=Array.prototype.slice;a.cleanData=function(b){return function(c){var d,e,f;for(f=0;null!=(e=c[f]);f++)try{(d=a._data(e,"events"))&&d.remove&&a(e).triggerHandler("remove")}catch(g){}b(c)}}(a.cleanData),a.widget=function(b,c,d){var e,f,g,h={},i=b.split(".")[0];b=b.split(".")[1];var j=i+"-"+b;return d||(d=c,c=a.Widget),a.isArray(d)&&(d=a.extend.apply(null,[{}].concat(d))),a.expr[":"][j.toLowerCase()]=function(b){return!!a.data(b,j)},a[i]=a[i]||{},e=a[i][b],f=a[i][b]=function(a,b){return this._createWidget?void(arguments.length&&this._createWidget(a,b)):new f(a,b)},a.extend(f,e,{version:d.version,_proto:a.extend({},d),_childConstructors:[]}),g=new c,g.options=a.widget.extend({},g.options),a.each(d,function(b,d){return a.isFunction(d)?void(h[b]=function(){function a(){return c.prototype[b].apply(this,arguments)}function e(a){return c.prototype[b].apply(this,a)}return function(){var b,c=this._super,f=this._superApply;return this._super=a,this._superApply=e,b=d.apply(this,arguments),this._super=c,this._superApply=f,b}}()):void(h[b]=d)}),f.prototype=a.widget.extend(g,{widgetEventPrefix:e?g.widgetEventPrefix||b:b},h,{constructor:f,namespace:i,widgetName:b,widgetFullName:j}),e?(a.each(e._childConstructors,function(b,c){var d=c.prototype;a.widget(d.namespace+"."+d.widgetName,f,c._proto)}),delete e._childConstructors):c._childConstructors.push(f),a.widget.bridge(b,f),f},a.widget.extend=function(b){for(var c,d,e=j.call(arguments,1),f=0,g=e.length;g>f;f++)for(c in e[f])d=e[f][c],e[f].hasOwnProperty(c)&&void 0!==d&&(b[c]=a.isPlainObject(d)?a.isPlainObject(b[c])?a.widget.extend({},b[c],d):a.widget.extend({},d):d);return b},a.widget.bridge=function(b,c){var d=c.prototype.widgetFullName||b;a.fn[b]=function(e){var f="string"==typeof e,g=j.call(arguments,1),h=this;return f?this.length||"instance"!==e?this.each(function(){var c,f=a.data(this,d);return"instance"===e?(h=f,!1):f?a.isFunction(f[e])&&"_"!==e.charAt(0)?(c=f[e].apply(f,g),c!==f&&void 0!==c?(h=c&&c.jquery?h.pushStack(c.get()):c,!1):void 0):a.error("no such method '"+e+"' for "+b+" widget instance"):a.error("cannot call methods on "+b+" prior to initialization; attempted to call method '"+e+"'")}):h=void 0:(g.length&&(e=a.widget.extend.apply(null,[e].concat(g))),this.each(function(){var b=a.data(this,d);b?(b.option(e||{}),b._init&&b._init()):a.data(this,d,new c(e,this))})),h}},a.Widget=function(){},a.Widget._childConstructors=[],a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(b,c){c=a(c||this.defaultElement||this)[0],this.element=a(c),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=a(),this.hoverable=a(),this.focusable=a(),this.classesElementLookup={},c!==this&&(a.data(c,this.widgetFullName,this),this._on(!0,this.element,{remove:function(a){a.target===c&&this.destroy()}}),this.document=a(c.style?c.ownerDocument:c.document||c),this.window=a(this.document[0].defaultView||this.document[0].parentWindow)),this.options=a.widget.extend({},this.options,this._getCreateOptions(),b),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),
this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:a.noop,_create:a.noop,_init:a.noop,destroy:function(){var b=this;this._destroy(),a.each(this.classesElementLookup,function(a,c){b._removeClass(c,a)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:a.noop,widget:function(){return this.element},option:function(b,c){var d,e,f,g=b;if(0===arguments.length)return a.widget.extend({},this.options);if("string"==typeof b)if(g={},d=b.split("."),b=d.shift(),d.length){for(e=g[b]=a.widget.extend({},this.options[b]),f=0;d.length-1>f;f++)e[d[f]]=e[d[f]]||{},e=e[d[f]];if(b=d.pop(),1===arguments.length)return void 0===e[b]?null:e[b];e[b]=c}else{if(1===arguments.length)return void 0===this.options[b]?null:this.options[b];g[b]=c}return this._setOptions(g),this},_setOptions:function(a){var b;for(b in a)this._setOption(b,a[b]);return this},_setOption:function(a,b){return"classes"===a&&this._setOptionClasses(b),this.options[a]=b,"disabled"===a&&this._setOptionDisabled(b),this},_setOptionClasses:function(b){var c,d,e;for(c in b)e=this.classesElementLookup[c],b[c]!==this.options.classes[c]&&e&&e.length&&(d=a(e.get()),this._removeClass(e,c),d.addClass(this._classes({element:d,keys:c,classes:b,add:!0})))},_setOptionDisabled:function(a){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!a),a&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(b){function c(c,f){var g,h;for(h=0;c.length>h;h++)g=e.classesElementLookup[c[h]]||a(),g=a(b.add?a.unique(g.get().concat(b.element.get())):g.not(b.element).get()),e.classesElementLookup[c[h]]=g,d.push(c[h]),f&&b.classes[c[h]]&&d.push(b.classes[c[h]])}var d=[],e=this;return b=a.extend({element:this.element,classes:this.options.classes||{}},b),this._on(b.element,{remove:"_untrackClassesElement"}),b.keys&&c(b.keys.match(/\S+/g)||[],!0),b.extra&&c(b.extra.match(/\S+/g)||[]),d.join(" ")},_untrackClassesElement:function(b){var c=this;a.each(c.classesElementLookup,function(d,e){-1!==a.inArray(b.target,e)&&(c.classesElementLookup[d]=a(e.not(b.target).get()))})},_removeClass:function(a,b,c){return this._toggleClass(a,b,c,!1)},_addClass:function(a,b,c){return this._toggleClass(a,b,c,!0)},_toggleClass:function(a,b,c,d){d="boolean"==typeof d?d:c;var e="string"==typeof a||null===a,f={extra:e?b:c,keys:e?a:b,element:e?this.element:a,add:d};return f.element.toggleClass(this._classes(f),d),this},_on:function(b,c,d){var e,f=this;"boolean"!=typeof b&&(d=c,c=b,b=!1),d?(c=e=a(c),this.bindings=this.bindings.add(c)):(d=c,c=this.element,e=this.widget()),a.each(d,function(d,g){function h(){return b||!0!==f.options.disabled&&!a(this).hasClass("ui-state-disabled")?("string"==typeof g?f[g]:g).apply(f,arguments):void 0}"string"!=typeof g&&(h.guid=g.guid=g.guid||h.guid||a.guid++);var i=d.match(/^([\w:-]*)\s*(.*)$/),j=i[1]+f.eventNamespace,k=i[2];k?e.on(j,k,h):c.on(j,h)})},_off:function(b,c){c=(c||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,b.off(c).off(c),this.bindings=a(this.bindings.not(b).get()),this.focusable=a(this.focusable.not(b).get()),this.hoverable=a(this.hoverable.not(b).get())},_delay:function(a,b){function c(){return("string"==typeof a?d[a]:a).apply(d,arguments)}var d=this;return setTimeout(c,b||0)},_hoverable:function(b){this.hoverable=this.hoverable.add(b),this._on(b,{mouseenter:function(b){this._addClass(a(b.currentTarget),null,"ui-state-hover")},mouseleave:function(b){this._removeClass(a(b.currentTarget),null,"ui-state-hover")}})},_focusable:function(b){this.focusable=this.focusable.add(b),this._on(b,{focusin:function(b){this._addClass(a(b.currentTarget),null,"ui-state-focus")},focusout:function(b){this._removeClass(a(b.currentTarget),null,"ui-state-focus")}})},_trigger:function(b,c,d){var e,f,g=this.options[b];if(d=d||{},c=a.Event(c),c.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase(),c.target=this.element[0],f=c.originalEvent)for(e in f)e in c||(c[e]=f[e]);return this.element.trigger(c,d),!(a.isFunction(g)&&!1===g.apply(this.element[0],[c].concat(d))||c.isDefaultPrevented())}},a.each({show:"fadeIn",hide:"fadeOut"},function(b,c){a.Widget.prototype["_"+b]=function(d,e,f){"string"==typeof e&&(e={effect:e});var g,h=e?!0===e||"number"==typeof e?c:e.effect||c:b;e=e||{},"number"==typeof e&&(e={duration:e}),g=!a.isEmptyObject(e),e.complete=f,e.delay&&d.delay(e.delay),g&&a.effects&&a.effects.effect[h]?d[b](e):h!==b&&d[h]?d[h](e.duration,e.easing,f):d.queue(function(c){a(this)[b](),f&&f.call(d[0]),c()})}}),a.widget,function(){function b(a,b,c){return[parseFloat(a[0])*(l.test(a[0])?b/100:1),parseFloat(a[1])*(l.test(a[1])?c/100:1)]}function c(b,c){return parseInt(a.css(b,c),10)||0}function d(b){var c=b[0];return 9===c.nodeType?{width:b.width(),height:b.height(),offset:{top:0,left:0}}:a.isWindow(c)?{width:b.width(),height:b.height(),offset:{top:b.scrollTop(),left:b.scrollLeft()}}:c.preventDefault?{width:0,height:0,offset:{top:c.pageY,left:c.pageX}}:{width:b.outerWidth(),height:b.outerHeight(),offset:b.offset()}}var e,f=Math.max,g=Math.abs,h=/left|center|right/,i=/top|center|bottom/,j=/[\+\-]\d+(\.[\d]+)?%?/,k=/^\w+/,l=/%$/,m=a.fn.position;a.position={scrollbarWidth:function(){if(void 0!==e)return e;var b,c,d=a("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),f=d.children()[0];return a("body").append(d),b=f.offsetWidth,d.css("overflow","scroll"),c=f.offsetWidth,b===c&&(c=d[0].clientWidth),d.remove(),e=b-c},getScrollInfo:function(b){var c=b.isWindow||b.isDocument?"":b.element.css("overflow-x"),d=b.isWindow||b.isDocument?"":b.element.css("overflow-y"),e="scroll"===c||"auto"===c&&b.width<b.element[0].scrollWidth;return{width:"scroll"===d||"auto"===d&&b.height<b.element[0].scrollHeight?a.position.scrollbarWidth():0,height:e?a.position.scrollbarWidth():0}},getWithinInfo:function(b){var c=a(b||window),d=a.isWindow(c[0]),e=!!c[0]&&9===c[0].nodeType;return{element:c,isWindow:d,isDocument:e,offset:d||e?{left:0,top:0}:a(b).offset(),scrollLeft:c.scrollLeft(),scrollTop:c.scrollTop(),width:c.outerWidth(),height:c.outerHeight()}}},a.fn.position=function(e){if(!e||!e.of)return m.apply(this,arguments);e=a.extend({},e);var l,n,o,p,q,r,s=a(e.of),t=a.position.getWithinInfo(e.within),u=a.position.getScrollInfo(t),v=(e.collision||"flip").split(" "),w={};return r=d(s),s[0].preventDefault&&(e.at="left top"),n=r.width,o=r.height,p=r.offset,q=a.extend({},p),a.each(["my","at"],function(){var a,b,c=(e[this]||"").split(" ");1===c.length&&(c=h.test(c[0])?c.concat(["center"]):i.test(c[0])?["center"].concat(c):["center","center"]),c[0]=h.test(c[0])?c[0]:"center",c[1]=i.test(c[1])?c[1]:"center",a=j.exec(c[0]),b=j.exec(c[1]),w[this]=[a?a[0]:0,b?b[0]:0],e[this]=[k.exec(c[0])[0],k.exec(c[1])[0]]}),1===v.length&&(v[1]=v[0]),"right"===e.at[0]?q.left+=n:"center"===e.at[0]&&(q.left+=n/2),"bottom"===e.at[1]?q.top+=o:"center"===e.at[1]&&(q.top+=o/2),l=b(w.at,n,o),q.left+=l[0],q.top+=l[1],this.each(function(){var d,h,i=a(this),j=i.outerWidth(),k=i.outerHeight(),m=c(this,"marginLeft"),r=c(this,"marginTop"),x=j+m+c(this,"marginRight")+u.width,y=k+r+c(this,"marginBottom")+u.height,z=a.extend({},q),A=b(w.my,i.outerWidth(),i.outerHeight());"right"===e.my[0]?z.left-=j:"center"===e.my[0]&&(z.left-=j/2),"bottom"===e.my[1]?z.top-=k:"center"===e.my[1]&&(z.top-=k/2),z.left+=A[0],z.top+=A[1],d={marginLeft:m,marginTop:r},a.each(["left","top"],function(b,c){a.ui.position[v[b]]&&a.ui.position[v[b]][c](z,{targetWidth:n,targetHeight:o,elemWidth:j,elemHeight:k,collisionPosition:d,collisionWidth:x,collisionHeight:y,offset:[l[0]+A[0],l[1]+A[1]],my:e.my,at:e.at,within:t,elem:i})}),e.using&&(h=function(a){var b=p.left-z.left,c=b+n-j,d=p.top-z.top,h=d+o-k,l={target:{element:s,left:p.left,top:p.top,width:n,height:o},element:{element:i,left:z.left,top:z.top,width:j,height:k},horizontal:0>c?"left":b>0?"right":"center",vertical:0>h?"top":d>0?"bottom":"middle"};j>n&&n>g(b+c)&&(l.horizontal="center"),k>o&&o>g(d+h)&&(l.vertical="middle"),l.important=f(g(b),g(c))>f(g(d),g(h))?"horizontal":"vertical",e.using.call(this,a,l)}),i.offset(a.extend(z,{using:h}))})},a.ui.position={fit:{left:function(a,b){var c,d=b.within,e=d.isWindow?d.scrollLeft:d.offset.left,g=d.width,h=a.left-b.collisionPosition.marginLeft,i=e-h,j=h+b.collisionWidth-g-e;b.collisionWidth>g?i>0&&0>=j?(c=a.left+i+b.collisionWidth-g-e,a.left+=i-c):a.left=j>0&&0>=i?e:i>j?e+g-b.collisionWidth:e:i>0?a.left+=i:j>0?a.left-=j:a.left=f(a.left-h,a.left)},top:function(a,b){var c,d=b.within,e=d.isWindow?d.scrollTop:d.offset.top,g=b.within.height,h=a.top-b.collisionPosition.marginTop,i=e-h,j=h+b.collisionHeight-g-e;b.collisionHeight>g?i>0&&0>=j?(c=a.top+i+b.collisionHeight-g-e,a.top+=i-c):a.top=j>0&&0>=i?e:i>j?e+g-b.collisionHeight:e:i>0?a.top+=i:j>0?a.top-=j:a.top=f(a.top-h,a.top)}},flip:{left:function(a,b){var c,d,e=b.within,f=e.offset.left+e.scrollLeft,h=e.width,i=e.isWindow?e.scrollLeft:e.offset.left,j=a.left-b.collisionPosition.marginLeft,k=j-i,l=j+b.collisionWidth-h-i,m="left"===b.my[0]?-b.elemWidth:"right"===b.my[0]?b.elemWidth:0,n="left"===b.at[0]?b.targetWidth:"right"===b.at[0]?-b.targetWidth:0,o=-2*b.offset[0];0>k?(0>(c=a.left+m+n+o+b.collisionWidth-h-f)||g(k)>c)&&(a.left+=m+n+o):l>0&&((d=a.left-b.collisionPosition.marginLeft+m+n+o-i)>0||l>g(d))&&(a.left+=m+n+o)},top:function(a,b){var c,d,e=b.within,f=e.offset.top+e.scrollTop,h=e.height,i=e.isWindow?e.scrollTop:e.offset.top,j=a.top-b.collisionPosition.marginTop,k=j-i,l=j+b.collisionHeight-h-i,m="top"===b.my[1],n=m?-b.elemHeight:"bottom"===b.my[1]?b.elemHeight:0,o="top"===b.at[1]?b.targetHeight:"bottom"===b.at[1]?-b.targetHeight:0,p=-2*b.offset[1];0>k?(0>(d=a.top+n+o+p+b.collisionHeight-h-f)||g(k)>d)&&(a.top+=n+o+p):l>0&&((c=a.top-b.collisionPosition.marginTop+n+o+p-i)>0||l>g(c))&&(a.top+=n+o+p)}},flipfit:{left:function(){a.ui.position.flip.left.apply(this,arguments),a.ui.position.fit.left.apply(this,arguments)},top:function(){a.ui.position.flip.top.apply(this,arguments),a.ui.position.fit.top.apply(this,arguments)}}}}(),a.ui.position,a.extend(a.expr[":"],{data:a.expr.createPseudo?a.expr.createPseudo(function(b){return function(c){return!!a.data(c,b)}}):function(b,c,d){return!!a.data(b,d[3])}}),a.fn.extend({disableSelection:function(){var a="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.on(a+".ui-disableSelection",function(a){a.preventDefault()})}}(),enableSelection:function(){return this.off(".ui-disableSelection")}});var k="ui-effects-",l="ui-effects-style",m="ui-effects-animated",n=a;a.effects={effect:{}},function(a,b){function c(a,b,c){var d=k[b.type]||{};return null==a?c||!b.def?null:b.def:(a=d.floor?~~a:parseFloat(a),isNaN(a)?b.def:d.mod?(a+d.mod)%d.mod:0>a?0:a>d.max?d.max:a)}function d(c){var d=i(),e=d._rgba=[];return c=c.toLowerCase(),n(h,function(a,f){var g,h=f.re.exec(c),i=h&&f.parse(h),k=f.space||"rgba";return i?(g=d[k](i),d[j[k].cache]=g[j[k].cache],e=d._rgba=g._rgba,!1):b}),e.length?("0,0,0,0"===e.join()&&a.extend(e,f.transparent),d):f[c]}function e(a,b,c){return c=(c+1)%1,1>6*c?a+6*(b-a)*c:1>2*c?b:2>3*c?a+6*(b-a)*(2/3-c):a}var f,g=/^([\-+])=\s*(\d+\.?\d*)/,h=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(a){return[a[1],a[2],a[3],a[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(a){return[2.55*a[1],2.55*a[2],2.55*a[3],a[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(a){return[a[1],a[2]/100,a[3]/100,a[4]]}}],i=a.Color=function(b,c,d,e){return new a.Color.fn.parse(b,c,d,e)},j={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},k={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},l=i.support={},m=a("<p>")[0],n=a.each;m.style.cssText="background-color:rgba(1,1,1,.5)",l.rgba=m.style.backgroundColor.indexOf("rgba")>-1,n(j,function(a,b){b.cache="_"+a,b.props.alpha={idx:3,type:"percent",def:1}}),i.fn=a.extend(i.prototype,{parse:function(e,g,h,k){if(e===b)return this._rgba=[null,null,null,null],this;(e.jquery||e.nodeType)&&(e=a(e).css(g),g=b);var l=this,m=a.type(e),o=this._rgba=[];return g!==b&&(e=[e,g,h,k],m="array"),"string"===m?this.parse(d(e)||f._default):"array"===m?(n(j.rgba.props,function(a,b){o[b.idx]=c(e[b.idx],b)}),this):"object"===m?(e instanceof i?n(j,function(a,b){e[b.cache]&&(l[b.cache]=e[b.cache].slice())}):n(j,function(b,d){var f=d.cache;n(d.props,function(a,b){if(!l[f]&&d.to){if("alpha"===a||null==e[a])return;l[f]=d.to(l._rgba)}l[f][b.idx]=c(e[a],b,!0)}),l[f]&&0>a.inArray(null,l[f].slice(0,3))&&(l[f][3]=1,d.from&&(l._rgba=d.from(l[f])))}),this):b},is:function(a){var c=i(a),d=!0,e=this;return n(j,function(a,f){var g,h=c[f.cache];return h&&(g=e[f.cache]||f.to&&f.to(e._rgba)||[],n(f.props,function(a,c){return null!=h[c.idx]?d=h[c.idx]===g[c.idx]:b})),d}),d},_space:function(){var a=[],b=this;return n(j,function(c,d){b[d.cache]&&a.push(c)}),a.pop()},transition:function(a,b){var d=i(a),e=d._space(),f=j[e],g=0===this.alpha()?i("transparent"):this,h=g[f.cache]||f.to(g._rgba),l=h.slice();return d=d[f.cache],n(f.props,function(a,e){var f=e.idx,g=h[f],i=d[f],j=k[e.type]||{};null!==i&&(null===g?l[f]=i:(j.mod&&(i-g>j.mod/2?g+=j.mod:g-i>j.mod/2&&(g-=j.mod)),l[f]=c((i-g)*b+g,e)))}),this[e](l)},blend:function(b){if(1===this._rgba[3])return this;var c=this._rgba.slice(),d=c.pop(),e=i(b)._rgba;return i(a.map(c,function(a,b){return(1-d)*e[b]+d*a}))},toRgbaString:function(){var b="rgba(",c=a.map(this._rgba,function(a,b){return null==a?b>2?1:0:a});return 1===c[3]&&(c.pop(),b="rgb("),b+c.join()+")"},toHslaString:function(){var b="hsla(",c=a.map(this.hsla(),function(a,b){return null==a&&(a=b>2?1:0),b&&3>b&&(a=Math.round(100*a)+"%"),a});return 1===c[3]&&(c.pop(),b="hsl("),b+c.join()+")"},toHexString:function(b){var c=this._rgba.slice(),d=c.pop();return b&&c.push(~~(255*d)),"#"+a.map(c,function(a){return a=(a||0).toString(16),1===a.length?"0"+a:a}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),i.fn.parse.prototype=i.fn,j.hsla.to=function(a){if(null==a[0]||null==a[1]||null==a[2])return[null,null,null,a[3]];var b,c,d=a[0]/255,e=a[1]/255,f=a[2]/255,g=a[3],h=Math.max(d,e,f),i=Math.min(d,e,f),j=h-i,k=h+i,l=.5*k;return b=i===h?0:d===h?60*(e-f)/j+360:e===h?60*(f-d)/j+120:60*(d-e)/j+240,c=0===j?0:.5>=l?j/k:j/(2-k),[Math.round(b)%360,c,l,null==g?1:g]},j.hsla.from=function(a){if(null==a[0]||null==a[1]||null==a[2])return[null,null,null,a[3]];var b=a[0]/360,c=a[1],d=a[2],f=a[3],g=.5>=d?d*(1+c):d+c-d*c,h=2*d-g;return[Math.round(255*e(h,g,b+1/3)),Math.round(255*e(h,g,b)),Math.round(255*e(h,g,b-1/3)),f]},n(j,function(d,e){var f=e.props,h=e.cache,j=e.to,k=e.from;i.fn[d]=function(d){if(j&&!this[h]&&(this[h]=j(this._rgba)),d===b)return this[h].slice();var e,g=a.type(d),l="array"===g||"object"===g?d:arguments,m=this[h].slice();return n(f,function(a,b){var d=l["object"===g?a:b.idx];null==d&&(d=m[b.idx]),m[b.idx]=c(d,b)}),k?(e=i(k(m)),e[h]=m,e):i(m)},n(f,function(b,c){i.fn[b]||(i.fn[b]=function(e){var f,h=a.type(e),i="alpha"===b?this._hsla?"hsla":"rgba":d,j=this[i](),k=j[c.idx];return"undefined"===h?k:("function"===h&&(e=e.call(this,k),h=a.type(e)),null==e&&c.empty?this:("string"===h&&(f=g.exec(e))&&(e=k+parseFloat(f[2])*("+"===f[1]?1:-1)),j[c.idx]=e,this[i](j)))})})}),i.hook=function(b){var c=b.split(" ");n(c,function(b,c){a.cssHooks[c]={set:function(b,e){var f,g,h="";if("transparent"!==e&&("string"!==a.type(e)||(f=d(e)))){if(e=i(f||e),!l.rgba&&1!==e._rgba[3]){for(g="backgroundColor"===c?b.parentNode:b;(""===h||"transparent"===h)&&g&&g.style;)try{h=a.css(g,"backgroundColor"),g=g.parentNode}catch(h){}e=e.blend(h&&"transparent"!==h?h:"_default")}e=e.toRgbaString()}try{b.style[c]=e}catch(h){}}},a.fx.step[c]=function(b){b.colorInit||(b.start=i(b.elem,c),b.end=i(b.end),b.colorInit=!0),a.cssHooks[c].set(b.elem,b.start.transition(b.end,b.pos))}})},i.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor"),a.cssHooks.borderColor={expand:function(a){var b={};return n(["Top","Right","Bottom","Left"],function(c,d){b["border"+d+"Color"]=a}),b}},f=a.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(n),function(){function b(b){var c,d,e=b.ownerDocument.defaultView?b.ownerDocument.defaultView.getComputedStyle(b,null):b.currentStyle,f={};if(e&&e.length&&e[0]&&e[e[0]])for(d=e.length;d--;)c=e[d],"string"==typeof e[c]&&(f[a.camelCase(c)]=e[c]);else for(c in e)"string"==typeof e[c]&&(f[c]=e[c]);return f}function c(b,c){var d,f,g={};for(d in c)f=c[d],b[d]!==f&&(e[d]||(a.fx.step[d]||!isNaN(parseFloat(f)))&&(g[d]=f));return g}var d=["add","remove","toggle"],e={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};a.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(b,c){a.fx.step[c]=function(a){("none"!==a.end&&!a.setAttr||1===a.pos&&!a.setAttr)&&(n.style(a.elem,c,a.end),a.setAttr=!0)}}),a.fn.addBack||(a.fn.addBack=function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}),a.effects.animateClass=function(e,f,g,h){var i=a.speed(f,g,h);return this.queue(function(){var f,g=a(this),h=g.attr("class")||"",j=i.children?g.find("*").addBack():g;j=j.map(function(){return{el:a(this),start:b(this)}}),f=function(){a.each(d,function(a,b){e[b]&&g[b+"Class"](e[b])})},f(),j=j.map(function(){return this.end=b(this.el[0]),this.diff=c(this.start,this.end),this}),g.attr("class",h),j=j.map(function(){var b=this,c=a.Deferred(),d=a.extend({},i,{queue:!1,complete:function(){c.resolve(b)}});return this.el.animate(this.diff,d),c.promise()}),a.when.apply(a,j.get()).done(function(){f(),a.each(arguments,function(){var b=this.el;a.each(this.diff,function(a){b.css(a,"")})}),i.complete.call(g[0])})})},a.fn.extend({addClass:function(b){return function(c,d,e,f){return d?a.effects.animateClass.call(this,{add:c},d,e,f):b.apply(this,arguments)}}(a.fn.addClass),removeClass:function(b){return function(c,d,e,f){return arguments.length>1?a.effects.animateClass.call(this,{remove:c},d,e,f):b.apply(this,arguments)}}(a.fn.removeClass),toggleClass:function(b){return function(c,d,e,f,g){return"boolean"==typeof d||void 0===d?e?a.effects.animateClass.call(this,d?{add:c}:{remove:c},e,f,g):b.apply(this,arguments):a.effects.animateClass.call(this,{toggle:c},d,e,f)}}(a.fn.toggleClass),switchClass:function(b,c,d,e,f){return a.effects.animateClass.call(this,{add:c,remove:b},d,e,f)}})}(),function(){function b(b,c,d,e){return a.isPlainObject(b)&&(c=b,b=b.effect),b={effect:b},null==c&&(c={}),a.isFunction(c)&&(e=c,d=null,c={}),("number"==typeof c||a.fx.speeds[c])&&(e=d,d=c,c={}),a.isFunction(d)&&(e=d,d=null),c&&a.extend(b,c),d=d||c.duration,b.duration=a.fx.off?0:"number"==typeof d?d:d in a.fx.speeds?a.fx.speeds[d]:a.fx.speeds._default,b.complete=e||c.complete,b}function c(b){return!(b&&"number"!=typeof b&&!a.fx.speeds[b])||("string"==typeof b&&!a.effects.effect[b]||(!!a.isFunction(b)||"object"==typeof b&&!b.effect))}function d(a,b){var c=b.outerWidth(),d=b.outerHeight(),e=/^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/,f=e.exec(a)||["",0,c,d,0];return{top:parseFloat(f[1])||0,right:"auto"===f[2]?c:parseFloat(f[2]),bottom:"auto"===f[3]?d:parseFloat(f[3]),left:parseFloat(f[4])||0}}a.expr&&a.expr.filters&&a.expr.filters.animated&&(a.expr.filters.animated=function(b){return function(c){return!!a(c).data(m)||b(c)}}(a.expr.filters.animated)),!1!==a.uiBackCompat&&a.extend(a.effects,{save:function(a,b){for(var c=0,d=b.length;d>c;c++)null!==b[c]&&a.data(k+b[c],a[0].style[b[c]])},restore:function(a,b){for(var c,d=0,e=b.length;e>d;d++)null!==b[d]&&(c=a.data(k+b[d]),a.css(b[d],c))},setMode:function(a,b){return"toggle"===b&&(b=a.is(":hidden")?"show":"hide"),b},createWrapper:function(b){if(b.parent().is(".ui-effects-wrapper"))return b.parent();var c={width:b.outerWidth(!0),height:b.outerHeight(!0),float:b.css("float")},d=a("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),e={width:b.width(),height:b.height()},f=document.activeElement;try{f.id}catch(g){f=document.body}return b.wrap(d),(b[0]===f||a.contains(b[0],f))&&a(f).trigger("focus"),d=b.parent(),"static"===b.css("position")?(d.css({position:"relative"}),b.css({position:"relative"})):(a.extend(c,{position:b.css("position"),zIndex:b.css("z-index")}),a.each(["top","left","bottom","right"],function(a,d){c[d]=b.css(d),isNaN(parseInt(c[d],10))&&(c[d]="auto")}),b.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),b.css(e),d.css(c).show()},removeWrapper:function(b){var c=document.activeElement;return b.parent().is(".ui-effects-wrapper")&&(b.parent().replaceWith(b),(b[0]===c||a.contains(b[0],c))&&a(c).trigger("focus")),b}}),a.extend(a.effects,{version:"1.12.1",define:function(b,c,d){return d||(d=c,c="effect"),a.effects.effect[b]=d,a.effects.effect[b].mode=c,d},scaledDimensions:function(a,b,c){if(0===b)return{height:0,width:0,outerHeight:0,outerWidth:0};var d="horizontal"!==c?(b||100)/100:1,e="vertical"!==c?(b||100)/100:1;return{height:a.height()*e,width:a.width()*d,outerHeight:a.outerHeight()*e,outerWidth:a.outerWidth()*d}},clipToBox:function(a){return{width:a.clip.right-a.clip.left,height:a.clip.bottom-a.clip.top,left:a.clip.left,top:a.clip.top}},unshift:function(a,b,c){var d=a.queue();b>1&&d.splice.apply(d,[1,0].concat(d.splice(b,c))),a.dequeue()},saveStyle:function(a){a.data(l,a[0].style.cssText)},restoreStyle:function(a){a[0].style.cssText=a.data(l)||"",a.removeData(l)},mode:function(a,b){var c=a.is(":hidden");return"toggle"===b&&(b=c?"show":"hide"),(c?"hide"===b:"show"===b)&&(b="none"),b},getBaseline:function(a,b){var c,d;switch(a[0]){case"top":c=0;break;case"middle":c=.5;break;case"bottom":c=1;break;default:c=a[0]/b.height}switch(a[1]){case"left":d=0;break;case"center":d=.5;break;case"right":d=1;break;default:d=a[1]/b.width}return{x:d,y:c}},createPlaceholder:function(b){var c,d=b.css("position"),e=b.position();return b.css({marginTop:b.css("marginTop"),marginBottom:b.css("marginBottom"),marginLeft:b.css("marginLeft"),marginRight:b.css("marginRight")}).outerWidth(b.outerWidth()).outerHeight(b.outerHeight()),/^(static|relative)/.test(d)&&(d="absolute",c=a("<"+b[0].nodeName+">").insertAfter(b).css({display:/^(inline|ruby)/.test(b.css("display"))?"inline-block":"block",visibility:"hidden",marginTop:b.css("marginTop"),marginBottom:b.css("marginBottom"),marginLeft:b.css("marginLeft"),marginRight:b.css("marginRight"),float:b.css("float")}).outerWidth(b.outerWidth()).outerHeight(b.outerHeight()).addClass("ui-effects-placeholder"),b.data(k+"placeholder",c)),b.css({position:d,left:e.left,top:e.top}),c},removePlaceholder:function(a){var b=k+"placeholder",c=a.data(b);c&&(c.remove(),a.removeData(b))},cleanUp:function(b){a.effects.restoreStyle(b),a.effects.removePlaceholder(b)},setTransition:function(b,c,d,e){return e=e||{},a.each(c,function(a,c){var f=b.cssUnit(c);f[0]>0&&(e[c]=f[0]*d+f[1])}),e}}),a.fn.extend({effect:function(){function c(b){function c(){h.removeData(m),a.effects.cleanUp(h),"hide"===d.mode&&h.hide(),g()}function g(){a.isFunction(i)&&i.call(h[0]),a.isFunction(b)&&b()}var h=a(this);d.mode=k.shift(),!1===a.uiBackCompat||f?"none"===d.mode?(h[j](),g()):e.call(h[0],d,c):(h.is(":hidden")?"hide"===j:"show"===j)?(h[j](),g()):e.call(h[0],d,g)}var d=b.apply(this,arguments),e=a.effects.effect[d.effect],f=e.mode,g=d.queue,h=g||"fx",i=d.complete,j=d.mode,k=[],l=function(b){var c=a(this),d=a.effects.mode(c,j)||f;c.data(m,!0),k.push(d),f&&("show"===d||d===f&&"hide"===d)&&c.show(),f&&"none"===d||a.effects.saveStyle(c),a.isFunction(b)&&b()};return a.fx.off||!e?j?this[j](d.duration,i):this.each(function(){i&&i.call(this)}):!1===g?this.each(l).each(c):this.queue(h,l).queue(h,c)},show:function(a){return function(d){if(c(d))return a.apply(this,arguments);var e=b.apply(this,arguments);return e.mode="show",this.effect.call(this,e)}}(a.fn.show),hide:function(a){return function(d){if(c(d))return a.apply(this,arguments);var e=b.apply(this,arguments);return e.mode="hide",this.effect.call(this,e)}}(a.fn.hide),toggle:function(a){return function(d){if(c(d)||"boolean"==typeof d)return a.apply(this,arguments);var e=b.apply(this,arguments);return e.mode="toggle",this.effect.call(this,e)}}(a.fn.toggle),cssUnit:function(b){var c=this.css(b),d=[];return a.each(["em","px","%","pt"],function(a,b){c.indexOf(b)>0&&(d=[parseFloat(c),b])}),d},cssClip:function(a){return a?this.css("clip","rect("+a.top+"px "+a.right+"px "+a.bottom+"px "+a.left+"px)"):d(this.css("clip"),this)},transfer:function(b,c){var d=a(this),e=a(b.to),f="fixed"===e.css("position"),g=a("body"),h=f?g.scrollTop():0,i=f?g.scrollLeft():0,j=e.offset(),k={top:j.top-h,left:j.left-i,height:e.innerHeight(),width:e.innerWidth()},l=d.offset(),m=a("<div class='ui-effects-transfer'></div>").appendTo("body").addClass(b.className).css({top:l.top-h,left:l.left-i,height:d.innerHeight(),width:d.innerWidth(),position:f?"fixed":"absolute"}).animate(k,b.duration,b.easing,function(){m.remove(),a.isFunction(c)&&c()})}}),a.fx.step.clip=function(b){b.clipInit||(b.start=a(b.elem).cssClip(),"string"==typeof b.end&&(b.end=d(b.end,b.elem)),b.clipInit=!0),a(b.elem).cssClip({top:b.pos*(b.end.top-b.start.top)+b.start.top,right:b.pos*(b.end.right-b.start.right)+b.start.right,bottom:b.pos*(b.end.bottom-b.start.bottom)+b.start.bottom,left:b.pos*(b.end.left-b.start.left)+b.start.left})}}(),function(){var b={};a.each(["Quad","Cubic","Quart","Quint","Expo"],function(a,c){b[c]=function(b){return Math.pow(b,a+2)}}),a.extend(b,{Sine:function(a){return 1-Math.cos(a*Math.PI/2)},Circ:function(a){return 1-Math.sqrt(1-a*a)},Elastic:function(a){return 0===a||1===a?a:-Math.pow(2,8*(a-1))*Math.sin((80*(a-1)-7.5)*Math.PI/15)},Back:function(a){return a*a*(3*a-2)},Bounce:function(a){for(var b,c=4;((b=Math.pow(2,--c))-1)/11>a;);return 1/Math.pow(4,3-c)-7.5625*Math.pow((3*b-2)/22-a,2)}}),a.each(b,function(b,c){a.easing["easeIn"+b]=c,a.easing["easeOut"+b]=function(a){return 1-c(1-a)},a.easing["easeInOut"+b]=function(a){return.5>a?c(2*a)/2:1-c(-2*a+2)/2}})}();a.effects;a.effects.define("blind","hide",function(b,c){var d={up:["bottom","top"],vertical:["bottom","top"],down:["top","bottom"],left:["right","left"],horizontal:["right","left"],right:["left","right"]},e=a(this),f=b.direction||"up",g=e.cssClip(),h={clip:a.extend({},g)},i=a.effects.createPlaceholder(e);h.clip[d[f][0]]=h.clip[d[f][1]],"show"===b.mode&&(e.cssClip(h.clip),i&&i.css(a.effects.clipToBox(h)),h.clip=g),i&&i.animate(a.effects.clipToBox(h),b.duration,b.easing),e.animate(h,{queue:!1,duration:b.duration,easing:b.easing,complete:c})}),a.effects.define("bounce",function(b,c){var d,e,f,g=a(this),h=b.mode,i="hide"===h,j="show"===h,k=b.direction||"up",l=b.distance,m=b.times||5,n=2*m+(j||i?1:0),o=b.duration/n,p=b.easing,q="up"===k||"down"===k?"top":"left",r="up"===k||"left"===k,s=0,t=g.queue().length;for(a.effects.createPlaceholder(g),f=g.css(q),l||(l=g["top"===q?"outerHeight":"outerWidth"]()/3),j&&(e={opacity:1},e[q]=f,g.css("opacity",0).css(q,r?2*-l:2*l).animate(e,o,p)),i&&(l/=Math.pow(2,m-1)),e={},e[q]=f;m>s;s++)d={},d[q]=(r?"-=":"+=")+l,g.animate(d,o,p).animate(e,o,p),l=i?2*l:l/2;i&&(d={opacity:0},d[q]=(r?"-=":"+=")+l,g.animate(d,o,p)),g.queue(c),a.effects.unshift(g,t,n+1)}),a.effects.define("clip","hide",function(b,c){var d,e={},f=a(this),g=b.direction||"vertical",h="both"===g,i=h||"horizontal"===g,j=h||"vertical"===g;d=f.cssClip(),e.clip={top:j?(d.bottom-d.top)/2:d.top,right:i?(d.right-d.left)/2:d.right,bottom:j?(d.bottom-d.top)/2:d.bottom,left:i?(d.right-d.left)/2:d.left},a.effects.createPlaceholder(f),"show"===b.mode&&(f.cssClip(e.clip),e.clip=d),f.animate(e,{queue:!1,duration:b.duration,easing:b.easing,complete:c})}),a.effects.define("drop","hide",function(b,c){var d,e=a(this),f=b.mode,g="show"===f,h=b.direction||"left",i="up"===h||"down"===h?"top":"left",j="up"===h||"left"===h?"-=":"+=",k="+="===j?"-=":"+=",l={opacity:0};a.effects.createPlaceholder(e),d=b.distance||e["top"===i?"outerHeight":"outerWidth"](!0)/2,l[i]=j+d,g&&(e.css(l),l[i]=k+d,l.opacity=1),e.animate(l,{queue:!1,duration:b.duration,easing:b.easing,complete:c})}),a.effects.define("explode","hide",function(b,c){function d(){t.push(this),t.length===l*m&&e()}function e(){n.css({visibility:"visible"}),a(t).remove(),c()}var f,g,h,i,j,k,l=b.pieces?Math.round(Math.sqrt(b.pieces)):3,m=l,n=a(this),o=b.mode,p="show"===o,q=n.show().css("visibility","hidden").offset(),r=Math.ceil(n.outerWidth()/m),s=Math.ceil(n.outerHeight()/l),t=[];for(f=0;l>f;f++)for(i=q.top+f*s,k=f-(l-1)/2,g=0;m>g;g++)h=q.left+g*r,j=g-(m-1)/2,n.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-g*r,top:-f*s}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:r,height:s,left:h+(p?j*r:0),top:i+(p?k*s:0),opacity:p?0:1}).animate({left:h+(p?0:j*r),top:i+(p?0:k*s),opacity:p?1:0},b.duration||500,b.easing,d)}),a.effects.define("fade","toggle",function(b,c){var d="show"===b.mode;a(this).css("opacity",d?0:1).animate({opacity:d?1:0},{queue:!1,duration:b.duration,easing:b.easing,complete:c})}),a.effects.define("fold","hide",function(b,c){var d=a(this),e=b.mode,f="show"===e,g="hide"===e,h=b.size||15,i=/([0-9]+)%/.exec(h),j=!!b.horizFirst,k=j?["right","bottom"]:["bottom","right"],l=b.duration/2,m=a.effects.createPlaceholder(d),n=d.cssClip(),o={clip:a.extend({},n)},p={clip:a.extend({},n)},q=[n[k[0]],n[k[1]]],r=d.queue().length;i&&(h=parseInt(i[1],10)/100*q[g?0:1]),o.clip[k[0]]=h,p.clip[k[0]]=h,p.clip[k[1]]=0,f&&(d.cssClip(p.clip),m&&m.css(a.effects.clipToBox(p)),p.clip=n),d.queue(function(c){m&&m.animate(a.effects.clipToBox(o),l,b.easing).animate(a.effects.clipToBox(p),l,b.easing),c()}).animate(o,l,b.easing).animate(p,l,b.easing).queue(c),a.effects.unshift(d,r,4)}),a.effects.define("highlight","show",function(b,c){var d=a(this),e={backgroundColor:d.css("backgroundColor")};"hide"===b.mode&&(e.opacity=0),a.effects.saveStyle(d),d.css({backgroundImage:"none",backgroundColor:b.color||"#ffff99"}).animate(e,{queue:!1,duration:b.duration,easing:b.easing,complete:c})}),a.effects.define("size",function(b,c){var d,e,f,g=a(this),h=["fontSize"],i=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],j=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],k=b.mode,l="effect"!==k,m=b.scale||"both",n=b.origin||["middle","center"],o=g.css("position"),p=g.position(),q=a.effects.scaledDimensions(g),r=b.from||q,s=b.to||a.effects.scaledDimensions(g,0);a.effects.createPlaceholder(g),"show"===k&&(f=r,r=s,s=f),e={from:{y:r.height/q.height,x:r.width/q.width},to:{y:s.height/q.height,x:s.width/q.width}},
("box"===m||"both"===m)&&(e.from.y!==e.to.y&&(r=a.effects.setTransition(g,i,e.from.y,r),s=a.effects.setTransition(g,i,e.to.y,s)),e.from.x!==e.to.x&&(r=a.effects.setTransition(g,j,e.from.x,r),s=a.effects.setTransition(g,j,e.to.x,s))),("content"===m||"both"===m)&&e.from.y!==e.to.y&&(r=a.effects.setTransition(g,h,e.from.y,r),s=a.effects.setTransition(g,h,e.to.y,s)),n&&(d=a.effects.getBaseline(n,q),r.top=(q.outerHeight-r.outerHeight)*d.y+p.top,r.left=(q.outerWidth-r.outerWidth)*d.x+p.left,s.top=(q.outerHeight-s.outerHeight)*d.y+p.top,s.left=(q.outerWidth-s.outerWidth)*d.x+p.left),g.css(r),("content"===m||"both"===m)&&(i=i.concat(["marginTop","marginBottom"]).concat(h),j=j.concat(["marginLeft","marginRight"]),g.find("*[width]").each(function(){var c=a(this),d=a.effects.scaledDimensions(c),f={height:d.height*e.from.y,width:d.width*e.from.x,outerHeight:d.outerHeight*e.from.y,outerWidth:d.outerWidth*e.from.x},g={height:d.height*e.to.y,width:d.width*e.to.x,outerHeight:d.height*e.to.y,outerWidth:d.width*e.to.x};e.from.y!==e.to.y&&(f=a.effects.setTransition(c,i,e.from.y,f),g=a.effects.setTransition(c,i,e.to.y,g)),e.from.x!==e.to.x&&(f=a.effects.setTransition(c,j,e.from.x,f),g=a.effects.setTransition(c,j,e.to.x,g)),l&&a.effects.saveStyle(c),c.css(f),c.animate(g,b.duration,b.easing,function(){l&&a.effects.restoreStyle(c)})})),g.animate(s,{queue:!1,duration:b.duration,easing:b.easing,complete:function(){var b=g.offset();0===s.opacity&&g.css("opacity",r.opacity),l||(g.css("position","static"===o?"relative":o).offset(b),a.effects.saveStyle(g)),c()}})}),a.effects.define("scale",function(b,c){var d=a(this),e=b.mode,f=parseInt(b.percent,10)||(0===parseInt(b.percent,10)?0:"effect"!==e?0:100),g=a.extend(!0,{from:a.effects.scaledDimensions(d),to:a.effects.scaledDimensions(d,f,b.direction||"both"),origin:b.origin||["middle","center"]},b);b.fade&&(g.from.opacity=1,g.to.opacity=0),a.effects.effect.size.call(this,g,c)}),a.effects.define("puff","hide",function(b,c){var d=a.extend(!0,{},b,{fade:!0,percent:parseInt(b.percent,10)||150});a.effects.effect.scale.call(this,d,c)}),a.effects.define("pulsate","show",function(b,c){var d=a(this),e=b.mode,f="show"===e,g="hide"===e,h=f||g,i=2*(b.times||5)+(h?1:0),j=b.duration/i,k=0,l=1,m=d.queue().length;for((f||!d.is(":visible"))&&(d.css("opacity",0).show(),k=1);i>l;l++)d.animate({opacity:k},j,b.easing),k=1-k;d.animate({opacity:k},j,b.easing),d.queue(c),a.effects.unshift(d,m,i+1)}),a.effects.define("shake",function(b,c){var d=1,e=a(this),f=b.direction||"left",g=b.distance||20,h=b.times||3,i=2*h+1,j=Math.round(b.duration/i),k="up"===f||"down"===f?"top":"left",l="up"===f||"left"===f,m={},n={},o={},p=e.queue().length;for(a.effects.createPlaceholder(e),m[k]=(l?"-=":"+=")+g,n[k]=(l?"+=":"-=")+2*g,o[k]=(l?"-=":"+=")+2*g,e.animate(m,j,b.easing);h>d;d++)e.animate(n,j,b.easing).animate(o,j,b.easing);e.animate(n,j,b.easing).animate(m,j/2,b.easing).queue(c),a.effects.unshift(e,p,i+1)}),a.effects.define("slide","show",function(b,c){var d,e,f=a(this),g={up:["bottom","top"],down:["top","bottom"],left:["right","left"],right:["left","right"]},h=b.mode,i=b.direction||"left",j="up"===i||"down"===i?"top":"left",k="up"===i||"left"===i,l=b.distance||f["top"===j?"outerHeight":"outerWidth"](!0),m={};a.effects.createPlaceholder(f),d=f.cssClip(),e=f.position()[j],m[j]=(k?-1:1)*l+e,m.clip=f.cssClip(),m.clip[g[i][1]]=m.clip[g[i][0]],"show"===h&&(f.cssClip(m.clip),f.css(j,m[j]),m.clip=d,m[j]=e),f.animate(m,{queue:!1,duration:b.duration,easing:b.easing,complete:c})});!1!==a.uiBackCompat&&a.effects.define("transfer",function(b,c){a(this).transfer(b,c)}),a.ui.focusable=function(c,d){var e,f,g,h,i,j=c.nodeName.toLowerCase();return"area"===j?(e=c.parentNode,f=e.name,!(!c.href||!f||"map"!==e.nodeName.toLowerCase())&&(g=a("img[usemap='#"+f+"']"),g.length>0&&g.is(":visible"))):(/^(input|select|textarea|button|object)$/.test(j)?(h=!c.disabled)&&(i=a(c).closest("fieldset")[0])&&(h=!i.disabled):h="a"===j?c.href||d:d,h&&a(c).is(":visible")&&b(a(c)))},a.extend(a.expr[":"],{focusable:function(b){return a.ui.focusable(b,null!=a.attr(b,"tabindex"))}}),a.ui.focusable,a.fn.form=function(){return"string"==typeof this[0].form?this.closest("form"):a(this[0].form)},a.ui.formResetMixin={_formResetHandler:function(){var b=a(this);setTimeout(function(){var c=b.data("ui-form-reset-instances");a.each(c,function(){this.refresh()})})},_bindFormResetHandler:function(){if(this.form=this.element.form(),this.form.length){var a=this.form.data("ui-form-reset-instances")||[];a.length||this.form.on("reset.ui-form-reset",this._formResetHandler),a.push(this),this.form.data("ui-form-reset-instances",a)}},_unbindFormResetHandler:function(){if(this.form.length){var b=this.form.data("ui-form-reset-instances");b.splice(a.inArray(this,b),1),b.length?this.form.data("ui-form-reset-instances",b):this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset")}}},"1.7"===a.fn.jquery.substring(0,3)&&(a.each(["Width","Height"],function(b,c){function d(b,c,d,f){return a.each(e,function(){c-=parseFloat(a.css(b,"padding"+this))||0,d&&(c-=parseFloat(a.css(b,"border"+this+"Width"))||0),f&&(c-=parseFloat(a.css(b,"margin"+this))||0)}),c}var e="Width"===c?["Left","Right"]:["Top","Bottom"],f=c.toLowerCase(),g={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};a.fn["inner"+c]=function(b){return void 0===b?g["inner"+c].call(this):this.each(function(){a(this).css(f,d(this,b)+"px")})},a.fn["outer"+c]=function(b,e){return"number"!=typeof b?g["outer"+c].call(this,b):this.each(function(){a(this).css(f,d(this,b,!0,e)+"px")})}}),a.fn.addBack=function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}),a.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},a.ui.escapeSelector=function(){var a=/([!"#$%&'()*+,.\/:;<=>?@[\]^`{|}~])/g;return function(b){return b.replace(a,"\\$1")}}(),a.fn.labels=function(){var b,c,d,e,f;return this[0].labels&&this[0].labels.length?this.pushStack(this[0].labels):(e=this.eq(0).parents("label"),d=this.attr("id"),d&&(b=this.eq(0).parents().last(),f=b.add(b.length?b.siblings():this.siblings()),c="label[for='"+a.ui.escapeSelector(d)+"']",e=e.add(f.find(c).addBack(c))),this.pushStack(e))},a.fn.scrollParent=function(b){var c=this.css("position"),d="absolute"===c,e=b?/(auto|scroll|hidden)/:/(auto|scroll)/,f=this.parents().filter(function(){var b=a(this);return(!d||"static"!==b.css("position"))&&e.test(b.css("overflow")+b.css("overflow-y")+b.css("overflow-x"))}).eq(0);return"fixed"!==c&&f.length?f:a(this[0].ownerDocument||document)},a.extend(a.expr[":"],{tabbable:function(b){var c=a.attr(b,"tabindex"),d=null!=c;return(!d||c>=0)&&a.ui.focusable(b,d)}}),a.fn.extend({uniqueId:function(){var a=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++a)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&a(this).removeAttr("id")})}}),a.widget("ui.accordion",{version:"1.12.1",options:{active:0,animate:{},classes:{"ui-accordion-header":"ui-corner-top","ui-accordion-header-collapsed":"ui-corner-all","ui-accordion-content":"ui-corner-bottom"},collapsible:!1,event:"click",header:"> li > :first-child, > :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var b=this.options;this.prevShow=this.prevHide=a(),this._addClass("ui-accordion","ui-widget ui-helper-reset"),this.element.attr("role","tablist"),b.collapsible||!1!==b.active&&null!=b.active||(b.active=0),this._processPanels(),0>b.active&&(b.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():a()}},_createIcons:function(){var b,c,d=this.options.icons;d&&(b=a("<span>"),this._addClass(b,"ui-accordion-header-icon","ui-icon "+d.header),b.prependTo(this.headers),c=this.active.children(".ui-accordion-header-icon"),this._removeClass(c,d.header)._addClass(c,null,d.activeHeader)._addClass(this.headers,"ui-accordion-icons"))},_destroyIcons:function(){this._removeClass(this.headers,"ui-accordion-icons"),this.headers.children(".ui-accordion-header-icon").remove()},_destroy:function(){var a;this.element.removeAttr("role"),this.headers.removeAttr("role aria-expanded aria-selected aria-controls tabIndex").removeUniqueId(),this._destroyIcons(),a=this.headers.next().css("display","").removeAttr("role aria-hidden aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&a.css("height","")},_setOption:function(a,b){return"active"===a?void this._activate(b):("event"===a&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(b)),this._super(a,b),"collapsible"!==a||b||!1!==this.options.active||this._activate(0),void("icons"===a&&(this._destroyIcons(),b&&this._createIcons())))},_setOptionDisabled:function(a){this._super(a),this.element.attr("aria-disabled",a),this._toggleClass(null,"ui-state-disabled",!!a),this._toggleClass(this.headers.add(this.headers.next()),null,"ui-state-disabled",!!a)},_keydown:function(b){if(!b.altKey&&!b.ctrlKey){var c=a.ui.keyCode,d=this.headers.length,e=this.headers.index(b.target),f=!1;switch(b.keyCode){case c.RIGHT:case c.DOWN:f=this.headers[(e+1)%d];break;case c.LEFT:case c.UP:f=this.headers[(e-1+d)%d];break;case c.SPACE:case c.ENTER:this._eventHandler(b);break;case c.HOME:f=this.headers[0];break;case c.END:f=this.headers[d-1]}f&&(a(b.target).attr("tabIndex",-1),a(f).attr("tabIndex",0),a(f).trigger("focus"),b.preventDefault())}},_panelKeyDown:function(b){b.keyCode===a.ui.keyCode.UP&&b.ctrlKey&&a(b.currentTarget).prev().trigger("focus")},refresh:function(){var b=this.options;this._processPanels(),!1===b.active&&!0===b.collapsible||!this.headers.length?(b.active=!1,this.active=a()):!1===b.active?this._activate(0):this.active.length&&!a.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(b.active=!1,this.active=a()):this._activate(Math.max(0,b.active-1)):b.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var a=this.headers,b=this.panels;this.headers=this.element.find(this.options.header),this._addClass(this.headers,"ui-accordion-header ui-accordion-header-collapsed","ui-state-default"),this.panels=this.headers.next().filter(":not(.ui-accordion-content-active)").hide(),this._addClass(this.panels,"ui-accordion-content","ui-helper-reset ui-widget-content"),b&&(this._off(a.not(this.headers)),this._off(b.not(this.panels)))},_refresh:function(){var b,c=this.options,d=c.heightStyle,e=this.element.parent();this.active=this._findActive(c.active),this._addClass(this.active,"ui-accordion-header-active","ui-state-active")._removeClass(this.active,"ui-accordion-header-collapsed"),this._addClass(this.active.next(),"ui-accordion-content-active"),this.active.next().show(),this.headers.attr("role","tab").each(function(){var b=a(this),c=b.uniqueId().attr("id"),d=b.next(),e=d.uniqueId().attr("id");b.attr("aria-controls",e),d.attr("aria-labelledby",c)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(c.event),"fill"===d?(b=e.height(),this.element.siblings(":visible").each(function(){var c=a(this),d=c.css("position");"absolute"!==d&&"fixed"!==d&&(b-=c.outerHeight(!0))}),this.headers.each(function(){b-=a(this).outerHeight(!0)}),this.headers.next().each(function(){a(this).height(Math.max(0,b-a(this).innerHeight()+a(this).height()))}).css("overflow","auto")):"auto"===d&&(b=0,this.headers.next().each(function(){var c=a(this).is(":visible");c||a(this).show(),b=Math.max(b,a(this).css("height","").height()),c||a(this).hide()}).height(b))},_activate:function(b){var c=this._findActive(b)[0];c!==this.active[0]&&(c=c||this.active[0],this._eventHandler({target:c,currentTarget:c,preventDefault:a.noop}))},_findActive:function(b){return"number"==typeof b?this.headers.eq(b):a()},_setupEvents:function(b){var c={keydown:"_keydown"};b&&a.each(b.split(" "),function(a,b){c[b]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,c),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(b){var c,d,e=this.options,f=this.active,g=a(b.currentTarget),h=g[0]===f[0],i=h&&e.collapsible,j=i?a():g.next(),k=f.next(),l={oldHeader:f,oldPanel:k,newHeader:i?a():g,newPanel:j};b.preventDefault(),h&&!e.collapsible||!1===this._trigger("beforeActivate",b,l)||(e.active=!i&&this.headers.index(g),this.active=h?a():g,this._toggle(l),this._removeClass(f,"ui-accordion-header-active","ui-state-active"),e.icons&&(c=f.children(".ui-accordion-header-icon"),this._removeClass(c,null,e.icons.activeHeader)._addClass(c,null,e.icons.header)),h||(this._removeClass(g,"ui-accordion-header-collapsed")._addClass(g,"ui-accordion-header-active","ui-state-active"),e.icons&&(d=g.children(".ui-accordion-header-icon"),this._removeClass(d,null,e.icons.header)._addClass(d,null,e.icons.activeHeader)),this._addClass(g.next(),"ui-accordion-content-active")))},_toggle:function(b){var c=b.newPanel,d=this.prevShow.length?this.prevShow:b.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=c,this.prevHide=d,this.options.animate?this._animate(c,d,b):(d.hide(),c.show(),this._toggleComplete(b)),d.attr({"aria-hidden":"true"}),d.prev().attr({"aria-selected":"false","aria-expanded":"false"}),c.length&&d.length?d.prev().attr({tabIndex:-1,"aria-expanded":"false"}):c.length&&this.headers.filter(function(){return 0===parseInt(a(this).attr("tabIndex"),10)}).attr("tabIndex",-1),c.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(a,b,c){var d,e,f,g=this,h=0,i=a.css("box-sizing"),j=a.length&&(!b.length||a.index()<b.index()),k=this.options.animate||{},l=j&&k.down||k,m=function(){g._toggleComplete(c)};return"number"==typeof l&&(f=l),"string"==typeof l&&(e=l),e=e||l.easing||k.easing,f=f||l.duration||k.duration,b.length?a.length?(d=a.show().outerHeight(),b.animate(this.hideProps,{duration:f,easing:e,step:function(a,b){b.now=Math.round(a)}}),void a.hide().animate(this.showProps,{duration:f,easing:e,complete:m,step:function(a,c){c.now=Math.round(a),"height"!==c.prop?"content-box"===i&&(h+=c.now):"content"!==g.options.heightStyle&&(c.now=Math.round(d-b.outerHeight()-h),h=0)}})):b.animate(this.hideProps,f,e,m):a.animate(this.showProps,f,e,m)},_toggleComplete:function(a){var b=a.oldPanel,c=b.prev();this._removeClass(b,"ui-accordion-content-active"),this._removeClass(c,"ui-accordion-header-active")._addClass(c,"ui-accordion-header-collapsed"),b.length&&(b.parent()[0].className=b.parent()[0].className),this._trigger("activate",null,a)}}),a.ui.safeActiveElement=function(a){var b;try{b=a.activeElement}catch(c){b=a.body}return b||(b=a.body),b.nodeName||(b=a.body),b},a.widget("ui.menu",{version:"1.12.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().attr({role:this.options.role,tabIndex:0}),this._addClass("ui-menu","ui-widget ui-widget-content"),this._on({"mousedown .ui-menu-item":function(a){a.preventDefault()},"click .ui-menu-item":function(b){var c=a(b.target),d=a(a.ui.safeActiveElement(this.document[0]));!this.mouseHandled&&c.not(".ui-state-disabled").length&&(this.select(b),b.isPropagationStopped()||(this.mouseHandled=!0),c.has(".ui-menu").length?this.expand(b):!this.element.is(":focus")&&d.closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(b){if(!this.previousFilter){var c=a(b.target).closest(".ui-menu-item"),d=a(b.currentTarget);c[0]===d[0]&&(this._removeClass(d.siblings().children(".ui-state-active"),null,"ui-state-active"),this.focus(b,d))}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(a,b){var c=this.active||this.element.find(this.options.items).eq(0);b||this.focus(a,c)},blur:function(b){this._delay(function(){!a.contains(this.element[0],a.ui.safeActiveElement(this.document[0]))&&this.collapseAll(b)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(a){this._closeOnDocumentClick(a)&&this.collapseAll(a),this.mouseHandled=!1}})},_destroy:function(){var b=this.element.find(".ui-menu-item").removeAttr("role aria-disabled"),c=b.children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show(),c.children().each(function(){var b=a(this);b.data("ui-menu-submenu-caret")&&b.remove()})},_keydown:function(b){var c,d,e,f,g=!0;switch(b.keyCode){case a.ui.keyCode.PAGE_UP:this.previousPage(b);break;case a.ui.keyCode.PAGE_DOWN:this.nextPage(b);break;case a.ui.keyCode.HOME:this._move("first","first",b);break;case a.ui.keyCode.END:this._move("last","last",b);break;case a.ui.keyCode.UP:this.previous(b);break;case a.ui.keyCode.DOWN:this.next(b);break;case a.ui.keyCode.LEFT:this.collapse(b);break;case a.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(b);break;case a.ui.keyCode.ENTER:case a.ui.keyCode.SPACE:this._activate(b);break;case a.ui.keyCode.ESCAPE:this.collapse(b);break;default:g=!1,d=this.previousFilter||"",f=!1,e=b.keyCode>=96&&105>=b.keyCode?""+(b.keyCode-96):String.fromCharCode(b.keyCode),clearTimeout(this.filterTimer),e===d?f=!0:e=d+e,c=this._filterMenuItems(e),c=f&&-1!==c.index(this.active.next())?this.active.nextAll(".ui-menu-item"):c,c.length||(e=String.fromCharCode(b.keyCode),c=this._filterMenuItems(e)),c.length?(this.focus(b,c),this.previousFilter=e,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}g&&b.preventDefault()},_activate:function(a){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(a):this.select(a))},refresh:function(){var b,c,d,e,f,g=this,h=this.options.icons.submenu,i=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length),d=i.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var b=a(this),c=b.prev(),d=a("<span>").data("ui-menu-submenu-caret",!0);g._addClass(d,"ui-menu-icon","ui-icon "+h),c.attr("aria-haspopup","true").prepend(d),b.attr("aria-labelledby",c.attr("id"))}),this._addClass(d,"ui-menu","ui-widget ui-widget-content ui-front"),b=i.add(this.element),c=b.find(this.options.items),c.not(".ui-menu-item").each(function(){var b=a(this);g._isDivider(b)&&g._addClass(b,"ui-menu-divider","ui-widget-content")}),e=c.not(".ui-menu-item, .ui-menu-divider"),f=e.children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),this._addClass(e,"ui-menu-item")._addClass(f,"ui-menu-item-wrapper"),c.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!a.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(a,b){if("icons"===a){var c=this.element.find(".ui-menu-icon");this._removeClass(c,null,this.options.icons.submenu)._addClass(c,null,b.submenu)}this._super(a,b)},_setOptionDisabled:function(a){this._super(a),this.element.attr("aria-disabled",a+""),this._toggleClass(null,"ui-state-disabled",!!a)},focus:function(a,b){var c,d,e;this.blur(a,a&&"focus"===a.type),this._scrollIntoView(b),this.active=b.first(),d=this.active.children(".ui-menu-item-wrapper"),this._addClass(d,null,"ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",d.attr("id")),e=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper"),this._addClass(e,null,"ui-state-active"),a&&"keydown"===a.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),c=b.children(".ui-menu"),c.length&&a&&/^mouse/.test(a.type)&&this._startOpening(c),this.activeMenu=b.parent(),this._trigger("focus",a,{item:b})},_scrollIntoView:function(b){var c,d,e,f,g,h;this._hasScroll()&&(c=parseFloat(a.css(this.activeMenu[0],"borderTopWidth"))||0,d=parseFloat(a.css(this.activeMenu[0],"paddingTop"))||0,e=b.offset().top-this.activeMenu.offset().top-c-d,f=this.activeMenu.scrollTop(),g=this.activeMenu.height(),h=b.outerHeight(),0>e?this.activeMenu.scrollTop(f+e):e+h>g&&this.activeMenu.scrollTop(f+e-g+h))},blur:function(a,b){b||clearTimeout(this.timer),this.active&&(this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active"),this._trigger("blur",a,{item:this.active}),this.active=null)},_startOpening:function(a){clearTimeout(this.timer),"true"===a.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(a)},this.delay))},_open:function(b){var c=a.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(b.parents(".ui-menu")).hide().attr("aria-hidden","true"),b.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(c)},collapseAll:function(b,c){clearTimeout(this.timer),this.timer=this._delay(function(){var d=c?this.element:a(b&&b.target).closest(this.element.find(".ui-menu"));d.length||(d=this.element),this._close(d),this.blur(b),this._removeClass(d.find(".ui-state-active"),null,"ui-state-active"),this.activeMenu=d},this.delay)},_close:function(a){a||(a=this.active?this.active.parent():this.element),a.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(b){return!a(b.target).closest(".ui-menu").length},_isDivider:function(a){return!/[^\-\u2014\u2013\s]/.test(a.text())},collapse:function(a){var b=this.active&&this.active.parent().closest(".ui-menu-item",this.element);b&&b.length&&(this._close(),this.focus(a,b))},expand:function(a){var b=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();b&&b.length&&(this._open(b.parent()),this._delay(function(){this.focus(a,b)}))},next:function(a){this._move("next","first",a)},previous:function(a){this._move("prev","last",a)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(a,b,c){var d;this.active&&(d="first"===a||"last"===a?this.active["first"===a?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[a+"All"](".ui-menu-item").eq(0)),d&&d.length&&this.active||(d=this.activeMenu.find(this.options.items)[b]()),this.focus(c,d)},nextPage:function(b){var c,d,e;return this.active?void(this.isLastItem()||(this._hasScroll()?(d=this.active.offset().top,e=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return c=a(this),0>c.offset().top-d-e}),this.focus(b,c)):this.focus(b,this.activeMenu.find(this.options.items)[this.active?"last":"first"]()))):void this.next(b)},previousPage:function(b){var c,d,e;return this.active?void(this.isFirstItem()||(this._hasScroll()?(d=this.active.offset().top,e=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return c=a(this),c.offset().top-d+e>0}),this.focus(b,c)):this.focus(b,this.activeMenu.find(this.options.items).first()))):void this.next(b)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(b){this.active=this.active||a(b.target).closest(".ui-menu-item");var c={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(b,!0),this._trigger("select",b,c)},_filterMenuItems:function(b){var c=b.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),d=RegExp("^"+c,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return d.test(a.trim(a(this).children(".ui-menu-item-wrapper").text()))})}}),a.widget("ui.autocomplete",{version:"1.12.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var b,c,d,e=this.element[0].nodeName.toLowerCase(),f="textarea"===e,g="input"===e;this.isMultiLine=f||!g&&this._isContentEditable(this.element),this.valueMethod=this.element[f||g?"val":"text"],this.isNewMenu=!0,this._addClass("ui-autocomplete-input"),this.element.attr("autocomplete","off"),this._on(this.element,{keydown:function(e){if(this.element.prop("readOnly"))return b=!0,d=!0,void(c=!0);b=!1,d=!1,c=!1;var f=a.ui.keyCode;switch(e.keyCode){case f.PAGE_UP:b=!0,this._move("previousPage",e);break;case f.PAGE_DOWN:b=!0,this._move("nextPage",e);break;case f.UP:b=!0,this._keyEvent("previous",e);break;case f.DOWN:b=!0,this._keyEvent("next",e);break;case f.ENTER:this.menu.active&&(b=!0,e.preventDefault(),this.menu.select(e));break;case f.TAB:this.menu.active&&this.menu.select(e);break;case f.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(e),e.preventDefault());break;default:c=!0,this._searchTimeout(e)}},keypress:function(d){if(b)return b=!1,void((!this.isMultiLine||this.menu.element.is(":visible"))&&d.preventDefault());if(!c){var e=a.ui.keyCode;switch(d.keyCode){case e.PAGE_UP:this._move("previousPage",d);break;case e.PAGE_DOWN:this._move("nextPage",d);break;case e.UP:this._keyEvent("previous",d);break;case e.DOWN:this._keyEvent("next",d)}}},input:function(a){return d?(d=!1,void a.preventDefault()):void this._searchTimeout(a)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(a){return this.cancelBlur?void delete this.cancelBlur:(clearTimeout(this.searching),this.close(a),void this._change(a))}}),this._initSource(),this.menu=a("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._addClass(this.menu.element,"ui-autocomplete","ui-front"),this._on(this.menu.element,{mousedown:function(b){b.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,this.element[0]!==a.ui.safeActiveElement(this.document[0])&&this.element.trigger("focus")})},menufocus:function(b,c){var d,e;return this.isNewMenu&&(this.isNewMenu=!1,b.originalEvent&&/^mouse/.test(b.originalEvent.type))?(this.menu.blur(),void this.document.one("mousemove",function(){a(b.target).trigger(b.originalEvent)})):(e=c.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",b,{item:e})&&b.originalEvent&&/^key/.test(b.originalEvent.type)&&this._value(e.value),void((d=c.item.attr("aria-label")||e.value)&&a.trim(d).length&&(this.liveRegion.children().hide(),a("<div>").text(d).appendTo(this.liveRegion))))},menuselect:function(b,c){var d=c.item.data("ui-autocomplete-item"),e=this.previous;this.element[0]!==a.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=e,this._delay(function(){this.previous=e,this.selectedItem=d})),!1!==this._trigger("select",b,{item:d})&&this._value(d.value),this.term=this._value(),this.close(b),this.selectedItem=d}}),this.liveRegion=a("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(a,b){this._super(a,b),"source"===a&&this._initSource(),"appendTo"===a&&this.menu.element.appendTo(this._appendTo()),"disabled"===a&&b&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(b){var c=this.menu.element[0];return b.target===this.element[0]||b.target===c||a.contains(c,b.target)},_closeOnClickOutside:function(a){this._isEventTargetInWidget(a)||this.close()},_appendTo:function(){var b=this.options.appendTo;return b&&(b=b.jquery||b.nodeType?a(b):this.document.find(b).eq(0)),b&&b[0]||(b=this.element.closest(".ui-front, dialog")),b.length||(b=this.document[0].body),b},_initSource:function(){var b,c,d=this;a.isArray(this.options.source)?(b=this.options.source,this.source=function(c,d){d(a.ui.autocomplete.filter(b,c.term))}):"string"==typeof this.options.source?(c=this.options.source,this.source=function(b,e){d.xhr&&d.xhr.abort(),d.xhr=a.ajax({url:c,data:b,dataType:"json",success:function(a){e(a)},error:function(){e([])}})}):this.source=this.options.source},_searchTimeout:function(a){clearTimeout(this.searching),this.searching=this._delay(function(){var b=this.term===this._value(),c=this.menu.element.is(":visible"),d=a.altKey||a.ctrlKey||a.metaKey||a.shiftKey;(!b||b&&!c&&!d)&&(this.selectedItem=null,this.search(null,a))},this.options.delay)},search:function(a,b){return a=null!=a?a:this._value(),this.term=this._value(),a.length<this.options.minLength?this.close(b):!1!==this._trigger("search",b)?this._search(a):void 0},_search:function(a){this.pending++,this._addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:a},this._response())},_response:function(){var b=++this.requestIndex;return a.proxy(function(a){b===this.requestIndex&&this.__response(a),--this.pending||this._removeClass("ui-autocomplete-loading")},this)},__response:function(a){a&&(a=this._normalize(a)),this._trigger("response",null,{content:a}),!this.options.disabled&&a&&a.length&&!this.cancelSearch?(this._suggest(a),this._trigger("open")):this._close()},close:function(a){this.cancelSearch=!0,this._close(a)},_close:function(a){this._off(this.document,"mousedown"),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",a))},_change:function(a){this.previous!==this._value()&&this._trigger("change",a,{item:this.selectedItem})},_normalize:function(b){return b.length&&b[0].label&&b[0].value?b:a.map(b,function(b){return"string"==typeof b?{label:b,value:b}:a.extend({},b,{label:b.label||b.value,value:b.value||b.label})})},_suggest:function(b){var c=this.menu.element.empty();this._renderMenu(c,b),this.isNewMenu=!0,this.menu.refresh(),c.show(),this._resizeMenu(),c.position(a.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(),this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var a=this.menu.element;a.outerWidth(Math.max(a.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(b,c){var d=this;a.each(c,function(a,c){d._renderItemData(b,c)})},_renderItemData:function(a,b){return this._renderItem(a,b).data("ui-autocomplete-item",b)},_renderItem:function(b,c){return a("<li>").append(a("<div>").text(c.label)).appendTo(b)},_move:function(a,b){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(a)||this.menu.isLastItem()&&/^next/.test(a)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[a](b):void this.search(null,b)},
widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(a,b){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(a,b),b.preventDefault())},_isContentEditable:function(a){if(!a.length)return!1;var b=a.prop("contentEditable");return"inherit"===b?this._isContentEditable(a.parent()):"true"===b}}),a.extend(a.ui.autocomplete,{escapeRegex:function(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(b,c){var d=RegExp(a.ui.autocomplete.escapeRegex(c),"i");return a.grep(b,function(a){return d.test(a.label||a.value||a)})}}),a.widget("ui.autocomplete",a.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(a){return a+(a>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(b){var c;this._superApply(arguments),this.options.disabled||this.cancelSearch||(c=b&&b.length?this.options.messages.results(b.length):this.options.messages.noResults,this.liveRegion.children().hide(),a("<div>").text(c).appendTo(this.liveRegion))}}),a.ui.autocomplete;var o=/ui-corner-([a-z]){2,6}/g;a.widget("ui.controlgroup",{version:"1.12.1",defaultElement:"<div>",options:{direction:"horizontal",disabled:null,onlyVisible:!0,items:{button:"input[type=button], input[type=submit], input[type=reset], button, a",controlgroupLabel:".ui-controlgroup-label",checkboxradio:"input[type='checkbox'], input[type='radio']",selectmenu:"select",spinner:".ui-spinner-input"}},_create:function(){this._enhance()},_enhance:function(){this.element.attr("role","toolbar"),this.refresh()},_destroy:function(){this._callChildMethod("destroy"),this.childWidgets.removeData("ui-controlgroup-data"),this.element.removeAttr("role"),this.options.items.controlgroupLabel&&this.element.find(this.options.items.controlgroupLabel).find(".ui-controlgroup-label-contents").contents().unwrap()},_initWidgets:function(){var b=this,c=[];a.each(this.options.items,function(d,e){var f,g={};return e?"controlgroupLabel"===d?(f=b.element.find(e),f.each(function(){var b=a(this);b.children(".ui-controlgroup-label-contents").length||b.contents().wrapAll("<span class='ui-controlgroup-label-contents'></span>")}),b._addClass(f,null,"ui-widget ui-widget-content ui-state-default"),void(c=c.concat(f.get()))):void(a.fn[d]&&(g=b["_"+d+"Options"]?b["_"+d+"Options"]("middle"):{classes:{}},b.element.find(e).each(function(){var e=a(this),f=e[d]("instance"),h=a.widget.extend({},g);if("button"!==d||!e.parent(".ui-spinner").length){f||(f=e[d]()[d]("instance")),f&&(h.classes=b._resolveClassesValues(h.classes,f)),e[d](h);var i=e[d]("widget");a.data(i[0],"ui-controlgroup-data",f||e[d]("instance")),c.push(i[0])}}))):void 0}),this.childWidgets=a(a.unique(c)),this._addClass(this.childWidgets,"ui-controlgroup-item")},_callChildMethod:function(b){this.childWidgets.each(function(){var c=a(this),d=c.data("ui-controlgroup-data");d&&d[b]&&d[b]()})},_updateCornerClass:function(a,b){var c=this._buildSimpleOptions(b,"label").classes.label;this._removeClass(a,null,"ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-corner-all"),this._addClass(a,null,c)},_buildSimpleOptions:function(a,b){var c="vertical"===this.options.direction,d={classes:{}};return d.classes[b]={middle:"",first:"ui-corner-"+(c?"top":"left"),last:"ui-corner-"+(c?"bottom":"right"),only:"ui-corner-all"}[a],d},_spinnerOptions:function(a){var b=this._buildSimpleOptions(a,"ui-spinner");return b.classes["ui-spinner-up"]="",b.classes["ui-spinner-down"]="",b},_buttonOptions:function(a){return this._buildSimpleOptions(a,"ui-button")},_checkboxradioOptions:function(a){return this._buildSimpleOptions(a,"ui-checkboxradio-label")},_selectmenuOptions:function(a){var b="vertical"===this.options.direction;return{width:!!b&&"auto",classes:{middle:{"ui-selectmenu-button-open":"","ui-selectmenu-button-closed":""},first:{"ui-selectmenu-button-open":"ui-corner-"+(b?"top":"tl"),"ui-selectmenu-button-closed":"ui-corner-"+(b?"top":"left")},last:{"ui-selectmenu-button-open":b?"":"ui-corner-tr","ui-selectmenu-button-closed":"ui-corner-"+(b?"bottom":"right")},only:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"}}[a]}},_resolveClassesValues:function(b,c){var d={};return a.each(b,function(e){var f=c.options.classes[e]||"";f=a.trim(f.replace(o,"")),d[e]=(f+" "+b[e]).replace(/\s+/g," ")}),d},_setOption:function(a,b){return"direction"===a&&this._removeClass("ui-controlgroup-"+this.options.direction),this._super(a,b),"disabled"===a?void this._callChildMethod(b?"disable":"enable"):void this.refresh()},refresh:function(){var b,c=this;this._addClass("ui-controlgroup ui-controlgroup-"+this.options.direction),"horizontal"===this.options.direction&&this._addClass(null,"ui-helper-clearfix"),this._initWidgets(),b=this.childWidgets,this.options.onlyVisible&&(b=b.filter(":visible")),b.length&&(a.each(["first","last"],function(a,d){var e=b[d]().data("ui-controlgroup-data");if(e&&c["_"+e.widgetName+"Options"]){var f=c["_"+e.widgetName+"Options"](1===b.length?"only":d);f.classes=c._resolveClassesValues(f.classes,e),e.element[e.widgetName](f)}else c._updateCornerClass(b[d](),d)}),this._callChildMethod("refresh"))}}),a.widget("ui.checkboxradio",[a.ui.formResetMixin,{version:"1.12.1",options:{disabled:null,label:null,icon:!0,classes:{"ui-checkboxradio-label":"ui-corner-all","ui-checkboxradio-icon":"ui-corner-all"}},_getCreateOptions:function(){var b,c,d=this,e=this._super()||{};return this._readType(),c=this.element.labels(),this.label=a(c[c.length-1]),this.label.length||a.error("No label found for checkboxradio widget"),this.originalLabel="",this.label.contents().not(this.element[0]).each(function(){d.originalLabel+=3===this.nodeType?a(this).text():this.outerHTML}),this.originalLabel&&(e.label=this.originalLabel),b=this.element[0].disabled,null!=b&&(e.disabled=b),e},_create:function(){var a=this.element[0].checked;this._bindFormResetHandler(),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled),this._setOption("disabled",this.options.disabled),this._addClass("ui-checkboxradio","ui-helper-hidden-accessible"),this._addClass(this.label,"ui-checkboxradio-label","ui-button ui-widget"),"radio"===this.type&&this._addClass(this.label,"ui-checkboxradio-radio-label"),this.options.label&&this.options.label!==this.originalLabel?this._updateLabel():this.originalLabel&&(this.options.label=this.originalLabel),this._enhance(),a&&(this._addClass(this.label,"ui-checkboxradio-checked","ui-state-active"),this.icon&&this._addClass(this.icon,null,"ui-state-hover")),this._on({change:"_toggleClasses",focus:function(){this._addClass(this.label,null,"ui-state-focus ui-visual-focus")},blur:function(){this._removeClass(this.label,null,"ui-state-focus ui-visual-focus")}})},_readType:function(){var b=this.element[0].nodeName.toLowerCase();this.type=this.element[0].type,"input"===b&&/radio|checkbox/.test(this.type)||a.error("Can't create checkboxradio on element.nodeName="+b+" and element.type="+this.type)},_enhance:function(){this._updateIcon(this.element[0].checked)},widget:function(){return this.label},_getRadioGroup:function(){var b,c=this.element[0].name,d="input[name='"+a.ui.escapeSelector(c)+"']";return c?(b=this.form.length?a(this.form[0].elements).filter(d):a(d).filter(function(){return 0===a(this).form().length}),b.not(this.element)):a([])},_toggleClasses:function(){var b=this.element[0].checked;this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",b),this.options.icon&&"checkbox"===this.type&&this._toggleClass(this.icon,null,"ui-icon-check ui-state-checked",b)._toggleClass(this.icon,null,"ui-icon-blank",!b),"radio"===this.type&&this._getRadioGroup().each(function(){var b=a(this).checkboxradio("instance");b&&b._removeClass(b.label,"ui-checkboxradio-checked","ui-state-active")})},_destroy:function(){this._unbindFormResetHandler(),this.icon&&(this.icon.remove(),this.iconSpace.remove())},_setOption:function(a,b){return"label"!==a||b?(this._super(a,b),"disabled"===a?(this._toggleClass(this.label,null,"ui-state-disabled",b),void(this.element[0].disabled=b)):void this.refresh()):void 0},_updateIcon:function(b){var c="ui-icon ui-icon-background ";this.options.icon?(this.icon||(this.icon=a("<span>"),this.iconSpace=a("<span> </span>"),this._addClass(this.iconSpace,"ui-checkboxradio-icon-space")),"checkbox"===this.type?(c+=b?"ui-icon-check ui-state-checked":"ui-icon-blank",this._removeClass(this.icon,null,b?"ui-icon-blank":"ui-icon-check")):c+="ui-icon-blank",this._addClass(this.icon,"ui-checkboxradio-icon",c),b||this._removeClass(this.icon,null,"ui-icon-check ui-state-checked"),this.icon.prependTo(this.label).after(this.iconSpace)):void 0!==this.icon&&(this.icon.remove(),this.iconSpace.remove(),delete this.icon)},_updateLabel:function(){var a=this.label.contents().not(this.element[0]);this.icon&&(a=a.not(this.icon[0])),this.iconSpace&&(a=a.not(this.iconSpace[0])),a.remove(),this.label.append(this.options.label)},refresh:function(){var a=this.element[0].checked,b=this.element[0].disabled;this._updateIcon(a),this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",a),null!==this.options.label&&this._updateLabel(),b!==this.options.disabled&&this._setOptions({disabled:b})}}]),a.ui.checkboxradio,a.widget("ui.button",{version:"1.12.1",defaultElement:"<button>",options:{classes:{"ui-button":"ui-corner-all"},disabled:null,icon:null,iconPosition:"beginning",label:null,showLabel:!0},_getCreateOptions:function(){var a,b=this._super()||{};return this.isInput=this.element.is("input"),a=this.element[0].disabled,null!=a&&(b.disabled=a),this.originalLabel=this.isInput?this.element.val():this.element.html(),this.originalLabel&&(b.label=this.originalLabel),b},_create:function(){!this.option.showLabel&!this.options.icon&&(this.options.showLabel=!0),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled||!1),this.hasTitle=!!this.element.attr("title"),this.options.label&&this.options.label!==this.originalLabel&&(this.isInput?this.element.val(this.options.label):this.element.html(this.options.label)),this._addClass("ui-button","ui-widget"),this._setOption("disabled",this.options.disabled),this._enhance(),this.element.is("a")&&this._on({keyup:function(b){b.keyCode===a.ui.keyCode.SPACE&&(b.preventDefault(),this.element[0].click?this.element[0].click():this.element.trigger("click"))}})},_enhance:function(){this.element.is("button")||this.element.attr("role","button"),this.options.icon&&(this._updateIcon("icon",this.options.icon),this._updateTooltip())},_updateTooltip:function(){this.title=this.element.attr("title"),this.options.showLabel||this.title||this.element.attr("title",this.options.label)},_updateIcon:function(b,c){var d="iconPosition"!==b,e=d?this.options.iconPosition:c,f="top"===e||"bottom"===e;this.icon?d&&this._removeClass(this.icon,null,this.options.icon):(this.icon=a("<span>"),this._addClass(this.icon,"ui-button-icon","ui-icon"),this.options.showLabel||this._addClass("ui-button-icon-only")),d&&this._addClass(this.icon,null,c),this._attachIcon(e),f?(this._addClass(this.icon,null,"ui-widget-icon-block"),this.iconSpace&&this.iconSpace.remove()):(this.iconSpace||(this.iconSpace=a("<span> </span>"),this._addClass(this.iconSpace,"ui-button-icon-space")),this._removeClass(this.icon,null,"ui-wiget-icon-block"),this._attachIconSpace(e))},_destroy:function(){this.element.removeAttr("role"),this.icon&&this.icon.remove(),this.iconSpace&&this.iconSpace.remove(),this.hasTitle||this.element.removeAttr("title")},_attachIconSpace:function(a){this.icon[/^(?:end|bottom)/.test(a)?"before":"after"](this.iconSpace)},_attachIcon:function(a){this.element[/^(?:end|bottom)/.test(a)?"append":"prepend"](this.icon)},_setOptions:function(a){var b=void 0===a.showLabel?this.options.showLabel:a.showLabel,c=void 0===a.icon?this.options.icon:a.icon;b||c||(a.showLabel=!0),this._super(a)},_setOption:function(a,b){"icon"===a&&(b?this._updateIcon(a,b):this.icon&&(this.icon.remove(),this.iconSpace&&this.iconSpace.remove())),"iconPosition"===a&&this._updateIcon(a,b),"showLabel"===a&&(this._toggleClass("ui-button-icon-only",null,!b),this._updateTooltip()),"label"===a&&(this.isInput?this.element.val(b):(this.element.html(b),this.icon&&(this._attachIcon(this.options.iconPosition),this._attachIconSpace(this.options.iconPosition)))),this._super(a,b),"disabled"===a&&(this._toggleClass(null,"ui-state-disabled",b),this.element[0].disabled=b,b&&this.element.blur())},refresh:function(){var a=this.element.is("input, button")?this.element[0].disabled:this.element.hasClass("ui-button-disabled");a!==this.options.disabled&&this._setOptions({disabled:a}),this._updateTooltip()}}),!1!==a.uiBackCompat&&(a.widget("ui.button",a.ui.button,{options:{text:!0,icons:{primary:null,secondary:null}},_create:function(){this.options.showLabel&&!this.options.text&&(this.options.showLabel=this.options.text),!this.options.showLabel&&this.options.text&&(this.options.text=this.options.showLabel),this.options.icon||!this.options.icons.primary&&!this.options.icons.secondary?this.options.icon&&(this.options.icons.primary=this.options.icon):this.options.icons.primary?this.options.icon=this.options.icons.primary:(this.options.icon=this.options.icons.secondary,this.options.iconPosition="end"),this._super()},_setOption:function(a,b){return"text"===a?void this._super("showLabel",b):("showLabel"===a&&(this.options.text=b),"icon"===a&&(this.options.icons.primary=b),"icons"===a&&(b.primary?(this._super("icon",b.primary),this._super("iconPosition","beginning")):b.secondary&&(this._super("icon",b.secondary),this._super("iconPosition","end"))),void this._superApply(arguments))}}),a.fn.button=function(b){return function(){return!this.length||this.length&&"INPUT"!==this[0].tagName||this.length&&"INPUT"===this[0].tagName&&"checkbox"!==this.attr("type")&&"radio"!==this.attr("type")?b.apply(this,arguments):(a.ui.checkboxradio||a.error("Checkboxradio widget missing"),0===arguments.length?this.checkboxradio({icon:!1}):this.checkboxradio.apply(this,arguments))}}(a.fn.button),a.fn.buttonset=function(){return a.ui.controlgroup||a.error("Controlgroup widget missing"),"option"===arguments[0]&&"items"===arguments[1]&&arguments[2]?this.controlgroup.apply(this,[arguments[0],"items.button",arguments[2]]):"option"===arguments[0]&&"items"===arguments[1]?this.controlgroup.apply(this,[arguments[0],"items.button"]):("object"==typeof arguments[0]&&arguments[0].items&&(arguments[0].items={button:arguments[0].items}),this.controlgroup.apply(this,arguments))}),a.ui.button,a.extend(a.ui,{datepicker:{version:"1.12.1"}});var p;a.extend(d.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(a){return g(this._defaults,a||{}),this},_attachDatepicker:function(b,c){var d,e,f;d=b.nodeName.toLowerCase(),e="div"===d||"span"===d,b.id||(this.uuid+=1,b.id="dp"+this.uuid),f=this._newInst(a(b),e),f.settings=a.extend({},c||{}),"input"===d?this._connectDatepicker(b,f):e&&this._inlineDatepicker(b,f)},_newInst:function(b,c){return{id:b[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:b,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:c,dpDiv:c?e(a("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(b,c){var d=a(b);c.append=a([]),c.trigger=a([]),d.hasClass(this.markerClassName)||(this._attachments(d,c),d.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp),this._autoSize(c),a.data(b,"datepicker",c),c.settings.disabled&&this._disableDatepicker(b))},_attachments:function(b,c){var d,e,f,g=this._get(c,"appendText"),h=this._get(c,"isRTL");c.append&&c.append.remove(),g&&(c.append=a("<span class='"+this._appendClass+"'>"+g+"</span>"),b[h?"before":"after"](c.append)),b.off("focus",this._showDatepicker),c.trigger&&c.trigger.remove(),d=this._get(c,"showOn"),("focus"===d||"both"===d)&&b.on("focus",this._showDatepicker),("button"===d||"both"===d)&&(e=this._get(c,"buttonText"),f=this._get(c,"buttonImage"),c.trigger=a(this._get(c,"buttonImageOnly")?a("<img/>").addClass(this._triggerClass).attr({src:f,alt:e,title:e}):a("<button type='button'></button>").addClass(this._triggerClass).html(f?a("<img/>").attr({src:f,alt:e,title:e}):e)),b[h?"before":"after"](c.trigger),c.trigger.on("click",function(){return a.datepicker._datepickerShowing&&a.datepicker._lastInput===b[0]?a.datepicker._hideDatepicker():a.datepicker._datepickerShowing&&a.datepicker._lastInput!==b[0]?(a.datepicker._hideDatepicker(),a.datepicker._showDatepicker(b[0])):a.datepicker._showDatepicker(b[0]),!1}))},_autoSize:function(a){if(this._get(a,"autoSize")&&!a.inline){var b,c,d,e,f=new Date(2009,11,20),g=this._get(a,"dateFormat");g.match(/[DM]/)&&(b=function(a){for(c=0,d=0,e=0;a.length>e;e++)a[e].length>c&&(c=a[e].length,d=e);return d},f.setMonth(b(this._get(a,g.match(/MM/)?"monthNames":"monthNamesShort"))),f.setDate(b(this._get(a,g.match(/DD/)?"dayNames":"dayNamesShort"))+20-f.getDay())),a.input.attr("size",this._formatDate(a,f).length)}},_inlineDatepicker:function(b,c){var d=a(b);d.hasClass(this.markerClassName)||(d.addClass(this.markerClassName).append(c.dpDiv),a.data(b,"datepicker",c),this._setDate(c,this._getDefaultDate(c),!0),this._updateDatepicker(c),this._updateAlternate(c),c.settings.disabled&&this._disableDatepicker(b),c.dpDiv.css("display","block"))},_dialogDatepicker:function(b,c,d,e,f){var h,i,j,k,l,m=this._dialogInst;return m||(this.uuid+=1,h="dp"+this.uuid,this._dialogInput=a("<input type='text' id='"+h+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.on("keydown",this._doKeyDown),a("body").append(this._dialogInput),m=this._dialogInst=this._newInst(this._dialogInput,!1),m.settings={},a.data(this._dialogInput[0],"datepicker",m)),g(m.settings,e||{}),c=c&&c.constructor===Date?this._formatDate(m,c):c,this._dialogInput.val(c),this._pos=f?f.length?f:[f.pageX,f.pageY]:null,this._pos||(i=document.documentElement.clientWidth,j=document.documentElement.clientHeight,k=document.documentElement.scrollLeft||document.body.scrollLeft,l=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[i/2-100+k,j/2-150+l]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),m.settings.onSelect=d,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),a.blockUI&&a.blockUI(this.dpDiv),a.data(this._dialogInput[0],"datepicker",m),this},_destroyDatepicker:function(b){var c,d=a(b),e=a.data(b,"datepicker");d.hasClass(this.markerClassName)&&(c=b.nodeName.toLowerCase(),a.removeData(b,"datepicker"),"input"===c?(e.append.remove(),e.trigger.remove(),d.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp)):("div"===c||"span"===c)&&d.removeClass(this.markerClassName).empty(),p===e&&(p=null))},_enableDatepicker:function(b){var c,d,e=a(b),f=a.data(b,"datepicker");e.hasClass(this.markerClassName)&&(c=b.nodeName.toLowerCase(),"input"===c?(b.disabled=!1,f.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===c||"span"===c)&&(d=e.children("."+this._inlineClass),d.children().removeClass("ui-state-disabled"),d.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=a.map(this._disabledInputs,function(a){return a===b?null:a}))},_disableDatepicker:function(b){var c,d,e=a(b),f=a.data(b,"datepicker");e.hasClass(this.markerClassName)&&(c=b.nodeName.toLowerCase(),"input"===c?(b.disabled=!0,f.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===c||"span"===c)&&(d=e.children("."+this._inlineClass),d.children().addClass("ui-state-disabled"),d.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=a.map(this._disabledInputs,function(a){return a===b?null:a}),this._disabledInputs[this._disabledInputs.length]=b)},_isDisabledDatepicker:function(a){if(!a)return!1;for(var b=0;this._disabledInputs.length>b;b++)if(this._disabledInputs[b]===a)return!0;return!1},_getInst:function(b){try{return a.data(b,"datepicker")}catch(c){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(b,c,d){var e,f,h,i,j=this._getInst(b);return 2===arguments.length&&"string"==typeof c?"defaults"===c?a.extend({},a.datepicker._defaults):j?"all"===c?a.extend({},j.settings):this._get(j,c):null:(e=c||{},"string"==typeof c&&(e={},e[c]=d),void(j&&(this._curInst===j&&this._hideDatepicker(),f=this._getDateDatepicker(b,!0),h=this._getMinMaxDate(j,"min"),i=this._getMinMaxDate(j,"max"),g(j.settings,e),null!==h&&void 0!==e.dateFormat&&void 0===e.minDate&&(j.settings.minDate=this._formatDate(j,h)),null!==i&&void 0!==e.dateFormat&&void 0===e.maxDate&&(j.settings.maxDate=this._formatDate(j,i)),"disabled"in e&&(e.disabled?this._disableDatepicker(b):this._enableDatepicker(b)),this._attachments(a(b),j),this._autoSize(j),this._setDate(j,f),this._updateAlternate(j),this._updateDatepicker(j))))},_changeDatepicker:function(a,b,c){this._optionDatepicker(a,b,c)},_refreshDatepicker:function(a){var b=this._getInst(a);b&&this._updateDatepicker(b)},_setDateDatepicker:function(a,b){var c=this._getInst(a);c&&(this._setDate(c,b),this._updateDatepicker(c),this._updateAlternate(c))},_getDateDatepicker:function(a,b){var c=this._getInst(a);return c&&!c.inline&&this._setDateFromField(c,b),c?this._getDate(c):null},_doKeyDown:function(b){var c,d,e,f=a.datepicker._getInst(b.target),g=!0,h=f.dpDiv.is(".ui-datepicker-rtl");if(f._keyEvent=!0,a.datepicker._datepickerShowing)switch(b.keyCode){case 9:a.datepicker._hideDatepicker(),g=!1;break;case 13:return e=a("td."+a.datepicker._dayOverClass+":not(."+a.datepicker._currentClass+")",f.dpDiv),e[0]&&a.datepicker._selectDay(b.target,f.selectedMonth,f.selectedYear,e[0]),c=a.datepicker._get(f,"onSelect"),c?(d=a.datepicker._formatDate(f),c.apply(f.input?f.input[0]:null,[d,f])):a.datepicker._hideDatepicker(),!1;case 27:a.datepicker._hideDatepicker();break;case 33:a.datepicker._adjustDate(b.target,b.ctrlKey?-a.datepicker._get(f,"stepBigMonths"):-a.datepicker._get(f,"stepMonths"),"M");break;case 34:a.datepicker._adjustDate(b.target,b.ctrlKey?+a.datepicker._get(f,"stepBigMonths"):+a.datepicker._get(f,"stepMonths"),"M");break;case 35:(b.ctrlKey||b.metaKey)&&a.datepicker._clearDate(b.target),g=b.ctrlKey||b.metaKey;break;case 36:(b.ctrlKey||b.metaKey)&&a.datepicker._gotoToday(b.target),g=b.ctrlKey||b.metaKey;break;case 37:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,h?1:-1,"D"),g=b.ctrlKey||b.metaKey,b.originalEvent.altKey&&a.datepicker._adjustDate(b.target,b.ctrlKey?-a.datepicker._get(f,"stepBigMonths"):-a.datepicker._get(f,"stepMonths"),"M");break;case 38:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,-7,"D"),g=b.ctrlKey||b.metaKey;break;case 39:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,h?-1:1,"D"),g=b.ctrlKey||b.metaKey,b.originalEvent.altKey&&a.datepicker._adjustDate(b.target,b.ctrlKey?+a.datepicker._get(f,"stepBigMonths"):+a.datepicker._get(f,"stepMonths"),"M");break;case 40:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,7,"D"),g=b.ctrlKey||b.metaKey;break;default:g=!1}else 36===b.keyCode&&b.ctrlKey?a.datepicker._showDatepicker(this):g=!1;g&&(b.preventDefault(),b.stopPropagation())},_doKeyPress:function(b){var c,d,e=a.datepicker._getInst(b.target);return a.datepicker._get(e,"constrainInput")?(c=a.datepicker._possibleChars(a.datepicker._get(e,"dateFormat")),d=String.fromCharCode(null==b.charCode?b.keyCode:b.charCode),b.ctrlKey||b.metaKey||" ">d||!c||c.indexOf(d)>-1):void 0},_doKeyUp:function(b){var c=a.datepicker._getInst(b.target);if(c.input.val()!==c.lastVal)try{a.datepicker.parseDate(a.datepicker._get(c,"dateFormat"),c.input?c.input.val():null,a.datepicker._getFormatConfig(c))&&(a.datepicker._setDateFromField(c),a.datepicker._updateAlternate(c),a.datepicker._updateDatepicker(c))}catch(e){}return!0},_showDatepicker:function(b){if(b=b.target||b,"input"!==b.nodeName.toLowerCase()&&(b=a("input",b.parentNode)[0]),!a.datepicker._isDisabledDatepicker(b)&&a.datepicker._lastInput!==b){var d,e,f,h,i,j,k;d=a.datepicker._getInst(b),a.datepicker._curInst&&a.datepicker._curInst!==d&&(a.datepicker._curInst.dpDiv.stop(!0,!0),d&&a.datepicker._datepickerShowing&&a.datepicker._hideDatepicker(a.datepicker._curInst.input[0])),e=a.datepicker._get(d,"beforeShow"),!1!==(f=e?e.apply(b,[b,d]):{})&&(g(d.settings,f),d.lastVal=null,a.datepicker._lastInput=b,a.datepicker._setDateFromField(d),a.datepicker._inDialog&&(b.value=""),a.datepicker._pos||(a.datepicker._pos=a.datepicker._findPos(b),a.datepicker._pos[1]+=b.offsetHeight),h=!1,a(b).parents().each(function(){return!(h|="fixed"===a(this).css("position"))}),i={left:a.datepicker._pos[0],top:a.datepicker._pos[1]},a.datepicker._pos=null,d.dpDiv.empty(),d.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),a.datepicker._updateDatepicker(d),i=a.datepicker._checkOffset(d,i,h),d.dpDiv.css({position:a.datepicker._inDialog&&a.blockUI?"static":h?"fixed":"absolute",display:"none",left:i.left+"px",top:i.top+"px"}),d.inline||(j=a.datepicker._get(d,"showAnim"),k=a.datepicker._get(d,"duration"),d.dpDiv.css("z-index",c(a(b))+1),a.datepicker._datepickerShowing=!0,a.effects&&a.effects.effect[j]?d.dpDiv.show(j,a.datepicker._get(d,"showOptions"),k):d.dpDiv[j||"show"](j?k:null),a.datepicker._shouldFocusInput(d)&&d.input.trigger("focus"),a.datepicker._curInst=d))}},_updateDatepicker:function(b){this.maxRows=4,p=b,b.dpDiv.empty().append(this._generateHTML(b)),this._attachHandlers(b);var c,d=this._getNumberOfMonths(b),e=d[1],g=b.dpDiv.find("."+this._dayOverClass+" a");g.length>0&&f.apply(g.get(0)),b.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),e>1&&b.dpDiv.addClass("ui-datepicker-multi-"+e).css("width",17*e+"em"),b.dpDiv[(1!==d[0]||1!==d[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),b.dpDiv[(this._get(b,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),b===a.datepicker._curInst&&a.datepicker._datepickerShowing&&a.datepicker._shouldFocusInput(b)&&b.input.trigger("focus"),b.yearshtml&&(c=b.yearshtml,setTimeout(function(){c===b.yearshtml&&b.yearshtml&&b.dpDiv.find("select.ui-datepicker-year:first").replaceWith(b.yearshtml),c=b.yearshtml=null},0))},_shouldFocusInput:function(a){return a.input&&a.input.is(":visible")&&!a.input.is(":disabled")&&!a.input.is(":focus")},_checkOffset:function(b,c,d){var e=b.dpDiv.outerWidth(),f=b.dpDiv.outerHeight(),g=b.input?b.input.outerWidth():0,h=b.input?b.input.outerHeight():0,i=document.documentElement.clientWidth+(d?0:a(document).scrollLeft()),j=document.documentElement.clientHeight+(d?0:a(document).scrollTop());return c.left-=this._get(b,"isRTL")?e-g:0,c.left-=d&&c.left===b.input.offset().left?a(document).scrollLeft():0,c.top-=d&&c.top===b.input.offset().top+h?a(document).scrollTop():0,c.left-=Math.min(c.left,c.left+e>i&&i>e?Math.abs(c.left+e-i):0),c.top-=Math.min(c.top,c.top+f>j&&j>f?Math.abs(f+h):0),c},_findPos:function(b){for(var c,d=this._getInst(b),e=this._get(d,"isRTL");b&&("hidden"===b.type||1!==b.nodeType||a.expr.filters.hidden(b));)b=b[e?"previousSibling":"nextSibling"];return c=a(b).offset(),[c.left,c.top]},_hideDatepicker:function(b){var c,d,e,f,g=this._curInst;!g||b&&g!==a.data(b,"datepicker")||this._datepickerShowing&&(c=this._get(g,"showAnim"),d=this._get(g,"duration"),e=function(){a.datepicker._tidyDialog(g)},a.effects&&(a.effects.effect[c]||a.effects[c])?g.dpDiv.hide(c,a.datepicker._get(g,"showOptions"),d,e):g.dpDiv["slideDown"===c?"slideUp":"fadeIn"===c?"fadeOut":"hide"](c?d:null,e),c||e(),this._datepickerShowing=!1,f=this._get(g,"onClose"),f&&f.apply(g.input?g.input[0]:null,[g.input?g.input.val():"",g]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),a.blockUI&&(a.unblockUI(),a("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(a){a.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")},_checkExternalClick:function(b){if(a.datepicker._curInst){var c=a(b.target),d=a.datepicker._getInst(c[0]);(c[0].id!==a.datepicker._mainDivId&&0===c.parents("#"+a.datepicker._mainDivId).length&&!c.hasClass(a.datepicker.markerClassName)&&!c.closest("."+a.datepicker._triggerClass).length&&a.datepicker._datepickerShowing&&(!a.datepicker._inDialog||!a.blockUI)||c.hasClass(a.datepicker.markerClassName)&&a.datepicker._curInst!==d)&&a.datepicker._hideDatepicker()}},_adjustDate:function(b,c,d){var e=a(b),f=this._getInst(e[0]);this._isDisabledDatepicker(e[0])||(this._adjustInstDate(f,c+("M"===d?this._get(f,"showCurrentAtPos"):0),d),this._updateDatepicker(f))},_gotoToday:function(b){var c,d=a(b),e=this._getInst(d[0]);this._get(e,"gotoCurrent")&&e.currentDay?(e.selectedDay=e.currentDay,e.drawMonth=e.selectedMonth=e.currentMonth,e.drawYear=e.selectedYear=e.currentYear):(c=new Date,e.selectedDay=c.getDate(),e.drawMonth=e.selectedMonth=c.getMonth(),e.drawYear=e.selectedYear=c.getFullYear()),this._notifyChange(e),this._adjustDate(d)},_selectMonthYear:function(b,c,d){var e=a(b),f=this._getInst(e[0]);f["selected"+("M"===d?"Month":"Year")]=f["draw"+("M"===d?"Month":"Year")]=parseInt(c.options[c.selectedIndex].value,10),this._notifyChange(f),this._adjustDate(e)},_selectDay:function(b,c,d,e){var f,g=a(b);a(e).hasClass(this._unselectableClass)||this._isDisabledDatepicker(g[0])||(f=this._getInst(g[0]),f.selectedDay=f.currentDay=a("a",e).html(),f.selectedMonth=f.currentMonth=c,f.selectedYear=f.currentYear=d,this._selectDate(b,this._formatDate(f,f.currentDay,f.currentMonth,f.currentYear)))},_clearDate:function(b){var c=a(b);this._selectDate(c,"")},_selectDate:function(b,c){var d,e=a(b),f=this._getInst(e[0]);c=null!=c?c:this._formatDate(f),f.input&&f.input.val(c),this._updateAlternate(f),d=this._get(f,"onSelect"),d?d.apply(f.input?f.input[0]:null,[c,f]):f.input&&f.input.trigger("change"),f.inline?this._updateDatepicker(f):(this._hideDatepicker(),this._lastInput=f.input[0],"object"!=typeof f.input[0]&&f.input.trigger("focus"),this._lastInput=null)},_updateAlternate:function(b){var c,d,e,f=this._get(b,"altField");f&&(c=this._get(b,"altFormat")||this._get(b,"dateFormat"),d=this._getDate(b),e=this.formatDate(c,d,this._getFormatConfig(b)),a(f).val(e))},noWeekends:function(a){var b=a.getDay();return[b>0&&6>b,""]},iso8601Week:function(a){var b,c=new Date(a.getTime());return c.setDate(c.getDate()+4-(c.getDay()||7)),b=c.getTime(),c.setMonth(0),c.setDate(1),Math.floor(Math.round((b-c)/864e5)/7)+1},parseDate:function(b,c,d){if(null==b||null==c)throw"Invalid arguments";if(""===(c="object"==typeof c?""+c:c+""))return null;var e,f,g,h,i=0,j=(d?d.shortYearCutoff:null)||this._defaults.shortYearCutoff,k="string"!=typeof j?j:(new Date).getFullYear()%100+parseInt(j,10),l=(d?d.dayNamesShort:null)||this._defaults.dayNamesShort,m=(d?d.dayNames:null)||this._defaults.dayNames,n=(d?d.monthNamesShort:null)||this._defaults.monthNamesShort,o=(d?d.monthNames:null)||this._defaults.monthNames,p=-1,q=-1,r=-1,s=-1,t=!1,u=function(a){var c=b.length>e+1&&b.charAt(e+1)===a;return c&&e++,c},v=function(a){var b=u(a),d="@"===a?14:"!"===a?20:"y"===a&&b?4:"o"===a?3:2,e="y"===a?d:1,f=RegExp("^\\d{"+e+","+d+"}"),g=c.substring(i).match(f);if(!g)throw"Missing number at position "+i;return i+=g[0].length,parseInt(g[0],10)},w=function(b,d,e){var f=-1,g=a.map(u(b)?e:d,function(a,b){return[[b,a]]}).sort(function(a,b){return-(a[1].length-b[1].length)});if(a.each(g,function(a,b){var d=b[1];return c.substr(i,d.length).toLowerCase()===d.toLowerCase()?(f=b[0],i+=d.length,!1):void 0}),-1!==f)return f+1;throw"Unknown name at position "+i},x=function(){
if(c.charAt(i)!==b.charAt(e))throw"Unexpected literal at position "+i;i++};for(e=0;b.length>e;e++)if(t)"'"!==b.charAt(e)||u("'")?x():t=!1;else switch(b.charAt(e)){case"d":r=v("d");break;case"D":w("D",l,m);break;case"o":s=v("o");break;case"m":q=v("m");break;case"M":q=w("M",n,o);break;case"y":p=v("y");break;case"@":h=new Date(v("@")),p=h.getFullYear(),q=h.getMonth()+1,r=h.getDate();break;case"!":h=new Date((v("!")-this._ticksTo1970)/1e4),p=h.getFullYear(),q=h.getMonth()+1,r=h.getDate();break;case"'":u("'")?x():t=!0;break;default:x()}if(c.length>i&&(g=c.substr(i),!/^\s+/.test(g)))throw"Extra/unparsed characters found in date: "+g;if(-1===p?p=(new Date).getFullYear():100>p&&(p+=(new Date).getFullYear()-(new Date).getFullYear()%100+(k>=p?0:-100)),s>-1)for(q=1,r=s;!((f=this._getDaysInMonth(p,q-1))>=r);)q++,r-=f;if(h=this._daylightSavingAdjust(new Date(p,q-1,r)),h.getFullYear()!==p||h.getMonth()+1!==q||h.getDate()!==r)throw"Invalid date";return h},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:864e9*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(a,b,c){if(!b)return"";var d,e=(c?c.dayNamesShort:null)||this._defaults.dayNamesShort,f=(c?c.dayNames:null)||this._defaults.dayNames,g=(c?c.monthNamesShort:null)||this._defaults.monthNamesShort,h=(c?c.monthNames:null)||this._defaults.monthNames,i=function(b){var c=a.length>d+1&&a.charAt(d+1)===b;return c&&d++,c},j=function(a,b,c){var d=""+b;if(i(a))for(;c>d.length;)d="0"+d;return d},k=function(a,b,c,d){return i(a)?d[b]:c[b]},l="",m=!1;if(b)for(d=0;a.length>d;d++)if(m)"'"!==a.charAt(d)||i("'")?l+=a.charAt(d):m=!1;else switch(a.charAt(d)){case"d":l+=j("d",b.getDate(),2);break;case"D":l+=k("D",b.getDay(),e,f);break;case"o":l+=j("o",Math.round((new Date(b.getFullYear(),b.getMonth(),b.getDate()).getTime()-new Date(b.getFullYear(),0,0).getTime())/864e5),3);break;case"m":l+=j("m",b.getMonth()+1,2);break;case"M":l+=k("M",b.getMonth(),g,h);break;case"y":l+=i("y")?b.getFullYear():(10>b.getFullYear()%100?"0":"")+b.getFullYear()%100;break;case"@":l+=b.getTime();break;case"!":l+=1e4*b.getTime()+this._ticksTo1970;break;case"'":i("'")?l+="'":m=!0;break;default:l+=a.charAt(d)}return l},_possibleChars:function(a){var b,c="",d=!1,e=function(c){var d=a.length>b+1&&a.charAt(b+1)===c;return d&&b++,d};for(b=0;a.length>b;b++)if(d)"'"!==a.charAt(b)||e("'")?c+=a.charAt(b):d=!1;else switch(a.charAt(b)){case"d":case"m":case"y":case"@":c+="0123456789";break;case"D":case"M":return null;case"'":e("'")?c+="'":d=!0;break;default:c+=a.charAt(b)}return c},_get:function(a,b){return void 0!==a.settings[b]?a.settings[b]:this._defaults[b]},_setDateFromField:function(a,b){if(a.input.val()!==a.lastVal){var c=this._get(a,"dateFormat"),d=a.lastVal=a.input?a.input.val():null,e=this._getDefaultDate(a),f=e,g=this._getFormatConfig(a);try{f=this.parseDate(c,d,g)||e}catch(h){d=b?"":d}a.selectedDay=f.getDate(),a.drawMonth=a.selectedMonth=f.getMonth(),a.drawYear=a.selectedYear=f.getFullYear(),a.currentDay=d?f.getDate():0,a.currentMonth=d?f.getMonth():0,a.currentYear=d?f.getFullYear():0,this._adjustInstDate(a)}},_getDefaultDate:function(a){return this._restrictMinMax(a,this._determineDate(a,this._get(a,"defaultDate"),new Date))},_determineDate:function(b,c,d){var e=function(a){var b=new Date;return b.setDate(b.getDate()+a),b},f=function(c){try{return a.datepicker.parseDate(a.datepicker._get(b,"dateFormat"),c,a.datepicker._getFormatConfig(b))}catch(d){}for(var d=(c.toLowerCase().match(/^c/)?a.datepicker._getDate(b):null)||new Date,e=d.getFullYear(),f=d.getMonth(),g=d.getDate(),h=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,i=h.exec(c);i;){switch(i[2]||"d"){case"d":case"D":g+=parseInt(i[1],10);break;case"w":case"W":g+=7*parseInt(i[1],10);break;case"m":case"M":f+=parseInt(i[1],10),g=Math.min(g,a.datepicker._getDaysInMonth(e,f));break;case"y":case"Y":e+=parseInt(i[1],10),g=Math.min(g,a.datepicker._getDaysInMonth(e,f))}i=h.exec(c)}return new Date(e,f,g)},g=null==c||""===c?d:"string"==typeof c?f(c):"number"==typeof c?isNaN(c)?d:e(c):new Date(c.getTime());return g=g&&"Invalid Date"==""+g?d:g,g&&(g.setHours(0),g.setMinutes(0),g.setSeconds(0),g.setMilliseconds(0)),this._daylightSavingAdjust(g)},_daylightSavingAdjust:function(a){return a?(a.setHours(a.getHours()>12?a.getHours()+2:0),a):null},_setDate:function(a,b,c){var d=!b,e=a.selectedMonth,f=a.selectedYear,g=this._restrictMinMax(a,this._determineDate(a,b,new Date));a.selectedDay=a.currentDay=g.getDate(),a.drawMonth=a.selectedMonth=a.currentMonth=g.getMonth(),a.drawYear=a.selectedYear=a.currentYear=g.getFullYear(),e===a.selectedMonth&&f===a.selectedYear||c||this._notifyChange(a),this._adjustInstDate(a),a.input&&a.input.val(d?"":this._formatDate(a))},_getDate:function(a){return!a.currentYear||a.input&&""===a.input.val()?null:this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay))},_attachHandlers:function(b){var c=this._get(b,"stepMonths"),d="#"+b.id.replace(/\\\\/g,"\\");b.dpDiv.find("[data-handler]").map(function(){var b={prev:function(){a.datepicker._adjustDate(d,-c,"M")},next:function(){a.datepicker._adjustDate(d,+c,"M")},hide:function(){a.datepicker._hideDatepicker()},today:function(){a.datepicker._gotoToday(d)},selectDay:function(){return a.datepicker._selectDay(d,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return a.datepicker._selectMonthYear(d,this,"M"),!1},selectYear:function(){return a.datepicker._selectMonthYear(d,this,"Y"),!1}};a(this).on(this.getAttribute("data-event"),b[this.getAttribute("data-handler")])})},_generateHTML:function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O=new Date,P=this._daylightSavingAdjust(new Date(O.getFullYear(),O.getMonth(),O.getDate())),Q=this._get(a,"isRTL"),R=this._get(a,"showButtonPanel"),S=this._get(a,"hideIfNoPrevNext"),T=this._get(a,"navigationAsDateFormat"),U=this._getNumberOfMonths(a),V=this._get(a,"showCurrentAtPos"),W=this._get(a,"stepMonths"),X=1!==U[0]||1!==U[1],Y=this._daylightSavingAdjust(a.currentDay?new Date(a.currentYear,a.currentMonth,a.currentDay):new Date(9999,9,9)),Z=this._getMinMaxDate(a,"min"),$=this._getMinMaxDate(a,"max"),_=a.drawMonth-V,aa=a.drawYear;if(0>_&&(_+=12,aa--),$)for(b=this._daylightSavingAdjust(new Date($.getFullYear(),$.getMonth()-U[0]*U[1]+1,$.getDate())),b=Z&&Z>b?Z:b;this._daylightSavingAdjust(new Date(aa,_,1))>b;)0>--_&&(_=11,aa--);for(a.drawMonth=_,a.drawYear=aa,c=this._get(a,"prevText"),c=T?this.formatDate(c,this._daylightSavingAdjust(new Date(aa,_-W,1)),this._getFormatConfig(a)):c,d=this._canAdjustMonth(a,-1,aa,_)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+c+"'><span class='ui-icon ui-icon-circle-triangle-"+(Q?"e":"w")+"'>"+c+"</span></a>":S?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+c+"'><span class='ui-icon ui-icon-circle-triangle-"+(Q?"e":"w")+"'>"+c+"</span></a>",e=this._get(a,"nextText"),e=T?this.formatDate(e,this._daylightSavingAdjust(new Date(aa,_+W,1)),this._getFormatConfig(a)):e,f=this._canAdjustMonth(a,1,aa,_)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+e+"'><span class='ui-icon ui-icon-circle-triangle-"+(Q?"w":"e")+"'>"+e+"</span></a>":S?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+e+"'><span class='ui-icon ui-icon-circle-triangle-"+(Q?"w":"e")+"'>"+e+"</span></a>",g=this._get(a,"currentText"),h=this._get(a,"gotoCurrent")&&a.currentDay?Y:P,g=T?this.formatDate(g,h,this._getFormatConfig(a)):g,i=a.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(a,"closeText")+"</button>",j=R?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(Q?i:"")+(this._isInRange(a,h)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+g+"</button>":"")+(Q?"":i)+"</div>":"",k=parseInt(this._get(a,"firstDay"),10),k=isNaN(k)?0:k,l=this._get(a,"showWeek"),m=this._get(a,"dayNames"),n=this._get(a,"dayNamesMin"),o=this._get(a,"monthNames"),p=this._get(a,"monthNamesShort"),q=this._get(a,"beforeShowDay"),r=this._get(a,"showOtherMonths"),s=this._get(a,"selectOtherMonths"),t=this._getDefaultDate(a),u="",w=0;U[0]>w;w++){for(x="",this.maxRows=4,y=0;U[1]>y;y++){if(z=this._daylightSavingAdjust(new Date(aa,_,a.selectedDay)),A=" ui-corner-all",B="",X){if(B+="<div class='ui-datepicker-group",U[1]>1)switch(y){case 0:B+=" ui-datepicker-group-first",A=" ui-corner-"+(Q?"right":"left");break;case U[1]-1:B+=" ui-datepicker-group-last",A=" ui-corner-"+(Q?"left":"right");break;default:B+=" ui-datepicker-group-middle",A=""}B+="'>"}for(B+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+A+"'>"+(/all|left/.test(A)&&0===w?Q?f:d:"")+(/all|right/.test(A)&&0===w?Q?d:f:"")+this._generateMonthYearHeader(a,_,aa,Z,$,w>0||y>0,o,p)+"</div><table class='ui-datepicker-calendar'><thead><tr>",C=l?"<th class='ui-datepicker-week-col'>"+this._get(a,"weekHeader")+"</th>":"",v=0;7>v;v++)D=(v+k)%7,C+="<th scope='col'"+((v+k+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+m[D]+"'>"+n[D]+"</span></th>";for(B+=C+"</tr></thead><tbody>",E=this._getDaysInMonth(aa,_),aa===a.selectedYear&&_===a.selectedMonth&&(a.selectedDay=Math.min(a.selectedDay,E)),F=(this._getFirstDayOfMonth(aa,_)-k+7)%7,G=Math.ceil((F+E)/7),H=X&&this.maxRows>G?this.maxRows:G,this.maxRows=H,I=this._daylightSavingAdjust(new Date(aa,_,1-F)),J=0;H>J;J++){for(B+="<tr>",K=l?"<td class='ui-datepicker-week-col'>"+this._get(a,"calculateWeek")(I)+"</td>":"",v=0;7>v;v++)L=q?q.apply(a.input?a.input[0]:null,[I]):[!0,""],M=I.getMonth()!==_,N=M&&!s||!L[0]||Z&&Z>I||$&&I>$,K+="<td class='"+((v+k+6)%7>=5?" ui-datepicker-week-end":"")+(M?" ui-datepicker-other-month":"")+(I.getTime()===z.getTime()&&_===a.selectedMonth&&a._keyEvent||t.getTime()===I.getTime()&&t.getTime()===z.getTime()?" "+this._dayOverClass:"")+(N?" "+this._unselectableClass+" ui-state-disabled":"")+(M&&!r?"":" "+L[1]+(I.getTime()===Y.getTime()?" "+this._currentClass:"")+(I.getTime()===P.getTime()?" ui-datepicker-today":""))+"'"+(M&&!r||!L[2]?"":" title='"+L[2].replace(/'/g,"&#39;")+"'")+(N?"":" data-handler='selectDay' data-event='click' data-month='"+I.getMonth()+"' data-year='"+I.getFullYear()+"'")+">"+(M&&!r?"&#xa0;":N?"<span class='ui-state-default'>"+I.getDate()+"</span>":"<a class='ui-state-default"+(I.getTime()===P.getTime()?" ui-state-highlight":"")+(I.getTime()===Y.getTime()?" ui-state-active":"")+(M?" ui-priority-secondary":"")+"' href='#'>"+I.getDate()+"</a>")+"</td>",I.setDate(I.getDate()+1),I=this._daylightSavingAdjust(I);B+=K+"</tr>"}_++,_>11&&(_=0,aa++),B+="</tbody></table>"+(X?"</div>"+(U[0]>0&&y===U[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),x+=B}u+=x}return u+=j,a._keyEvent=!1,u},_generateMonthYearHeader:function(a,b,c,d,e,f,g,h){var i,j,k,l,m,n,o,p,q=this._get(a,"changeMonth"),r=this._get(a,"changeYear"),s=this._get(a,"showMonthAfterYear"),t="<div class='ui-datepicker-title'>",u="";if(f||!q)u+="<span class='ui-datepicker-month'>"+g[b]+"</span>";else{for(i=d&&d.getFullYear()===c,j=e&&e.getFullYear()===c,u+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",k=0;12>k;k++)(!i||k>=d.getMonth())&&(!j||e.getMonth()>=k)&&(u+="<option value='"+k+"'"+(k===b?" selected='selected'":"")+">"+h[k]+"</option>");u+="</select>"}if(s||(t+=u+(!f&&q&&r?"":"&#xa0;")),!a.yearshtml)if(a.yearshtml="",f||!r)t+="<span class='ui-datepicker-year'>"+c+"</span>";else{for(l=this._get(a,"yearRange").split(":"),m=(new Date).getFullYear(),n=function(a){var b=a.match(/c[+\-].*/)?c+parseInt(a.substring(1),10):a.match(/[+\-].*/)?m+parseInt(a,10):parseInt(a,10);return isNaN(b)?m:b},o=n(l[0]),p=Math.max(o,n(l[1]||"")),o=d?Math.max(o,d.getFullYear()):o,p=e?Math.min(p,e.getFullYear()):p,a.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";p>=o;o++)a.yearshtml+="<option value='"+o+"'"+(o===c?" selected='selected'":"")+">"+o+"</option>";a.yearshtml+="</select>",t+=a.yearshtml,a.yearshtml=null}return t+=this._get(a,"yearSuffix"),s&&(t+=(!f&&q&&r?"":"&#xa0;")+u),t+="</div>"},_adjustInstDate:function(a,b,c){var d=a.selectedYear+("Y"===c?b:0),e=a.selectedMonth+("M"===c?b:0),f=Math.min(a.selectedDay,this._getDaysInMonth(d,e))+("D"===c?b:0),g=this._restrictMinMax(a,this._daylightSavingAdjust(new Date(d,e,f)));a.selectedDay=g.getDate(),a.drawMonth=a.selectedMonth=g.getMonth(),a.drawYear=a.selectedYear=g.getFullYear(),("M"===c||"Y"===c)&&this._notifyChange(a)},_restrictMinMax:function(a,b){var c=this._getMinMaxDate(a,"min"),d=this._getMinMaxDate(a,"max"),e=c&&c>b?c:b;return d&&e>d?d:e},_notifyChange:function(a){var b=this._get(a,"onChangeMonthYear");b&&b.apply(a.input?a.input[0]:null,[a.selectedYear,a.selectedMonth+1,a])},_getNumberOfMonths:function(a){var b=this._get(a,"numberOfMonths");return null==b?[1,1]:"number"==typeof b?[1,b]:b},_getMinMaxDate:function(a,b){return this._determineDate(a,this._get(a,b+"Date"),null)},_getDaysInMonth:function(a,b){return 32-this._daylightSavingAdjust(new Date(a,b,32)).getDate()},_getFirstDayOfMonth:function(a,b){return new Date(a,b,1).getDay()},_canAdjustMonth:function(a,b,c,d){var e=this._getNumberOfMonths(a),f=this._daylightSavingAdjust(new Date(c,d+(0>b?b:e[0]*e[1]),1));return 0>b&&f.setDate(this._getDaysInMonth(f.getFullYear(),f.getMonth())),this._isInRange(a,f)},_isInRange:function(a,b){var c,d,e=this._getMinMaxDate(a,"min"),f=this._getMinMaxDate(a,"max"),g=null,h=null,i=this._get(a,"yearRange");return i&&(c=i.split(":"),d=(new Date).getFullYear(),g=parseInt(c[0],10),h=parseInt(c[1],10),c[0].match(/[+\-].*/)&&(g+=d),c[1].match(/[+\-].*/)&&(h+=d)),(!e||b.getTime()>=e.getTime())&&(!f||b.getTime()<=f.getTime())&&(!g||b.getFullYear()>=g)&&(!h||h>=b.getFullYear())},_getFormatConfig:function(a){var b=this._get(a,"shortYearCutoff");return b="string"!=typeof b?b:(new Date).getFullYear()%100+parseInt(b,10),{shortYearCutoff:b,dayNamesShort:this._get(a,"dayNamesShort"),dayNames:this._get(a,"dayNames"),monthNamesShort:this._get(a,"monthNamesShort"),monthNames:this._get(a,"monthNames")}},_formatDate:function(a,b,c,d){b||(a.currentDay=a.selectedDay,a.currentMonth=a.selectedMonth,a.currentYear=a.selectedYear);var e=b?"object"==typeof b?b:this._daylightSavingAdjust(new Date(d,c,b)):this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return this.formatDate(this._get(a,"dateFormat"),e,this._getFormatConfig(a))}}),a.fn.datepicker=function(b){if(!this.length)return this;a.datepicker.initialized||(a(document).on("mousedown",a.datepicker._checkExternalClick),a.datepicker.initialized=!0),0===a("#"+a.datepicker._mainDivId).length&&a("body").append(a.datepicker.dpDiv);var c=Array.prototype.slice.call(arguments,1);return"string"!=typeof b||"isDisabled"!==b&&"getDate"!==b&&"widget"!==b?"option"===b&&2===arguments.length&&"string"==typeof arguments[1]?a.datepicker["_"+b+"Datepicker"].apply(a.datepicker,[this[0]].concat(c)):this.each(function(){"string"==typeof b?a.datepicker["_"+b+"Datepicker"].apply(a.datepicker,[this].concat(c)):a.datepicker._attachDatepicker(this,b)}):a.datepicker["_"+b+"Datepicker"].apply(a.datepicker,[this[0]].concat(c))},a.datepicker=new d,a.datepicker.initialized=!1,a.datepicker.uuid=(new Date).getTime(),a.datepicker.version="1.12.1",a.datepicker,a.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());var q=!1;a(document).on("mouseup",function(){q=!1}),a.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var b=this;this.element.on("mousedown."+this.widgetName,function(a){return b._mouseDown(a)}).on("click."+this.widgetName,function(c){return!0===a.data(c.target,b.widgetName+".preventClickEvent")?(a.removeData(c.target,b.widgetName+".preventClickEvent"),c.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(b){if(!q){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(b),this._mouseDownEvent=b;var c=this,d=1===b.which,e=!("string"!=typeof this.options.cancel||!b.target.nodeName)&&a(b.target).closest(this.options.cancel).length;return!(d&&!e&&this._mouseCapture(b))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){c.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(b)&&this._mouseDelayMet(b)&&(this._mouseStarted=!1!==this._mouseStart(b),!this._mouseStarted)?(b.preventDefault(),!0):(!0===a.data(b.target,this.widgetName+".preventClickEvent")&&a.removeData(b.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(a){return c._mouseMove(a)},this._mouseUpDelegate=function(a){return c._mouseUp(a)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),b.preventDefault(),q=!0,!0))}},_mouseMove:function(b){if(this._mouseMoved){if(a.ui.ie&&(!document.documentMode||9>document.documentMode)&&!b.button)return this._mouseUp(b);if(!b.which)if(b.originalEvent.altKey||b.originalEvent.ctrlKey||b.originalEvent.metaKey||b.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(b)}return(b.which||b.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(b),b.preventDefault()):(this._mouseDistanceMet(b)&&this._mouseDelayMet(b)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,b),this._mouseStarted?this._mouseDrag(b):this._mouseUp(b)),!this._mouseStarted)},_mouseUp:function(b){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,b.target===this._mouseDownEvent.target&&a.data(b.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(b)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,q=!1,b.preventDefault()},_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),a.ui.plugin={add:function(b,c,d){var e,f=a.ui[b].prototype;for(e in d)f.plugins[e]=f.plugins[e]||[],f.plugins[e].push([c,d[e]])},call:function(a,b,c,d){var e,f=a.plugins[b];if(f&&(d||a.element[0].parentNode&&11!==a.element[0].parentNode.nodeType))for(e=0;f.length>e;e++)a.options[f[e][0]]&&f[e][1].apply(a.element,c)}},a.ui.safeBlur=function(b){b&&"body"!==b.nodeName.toLowerCase()&&a(b).trigger("blur")},a.widget("ui.draggable",a.ui.mouse,{version:"1.12.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(a,b){this._super(a,b),"handle"===a&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?void(this.destroyOnClear=!0):(this._removeHandleClassName(),void this._mouseDestroy())},_mouseCapture:function(b){var c=this.options;return!(this.helper||c.disabled||a(b.target).closest(".ui-resizable-handle").length>0)&&(this.handle=this._getHandle(b),!!this.handle&&(this._blurActiveElement(b),this._blockFrames(!0===c.iframeFix?"iframe":c.iframeFix),!0))},_blockFrames:function(b){this.iframeBlocks=this.document.find(b).map(function(){var b=a(this);return a("<div>").css("position","absolute").appendTo(b.parent()).outerWidth(b.outerWidth()).outerHeight(b.outerHeight()).offset(b.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(b){var c=a.ui.safeActiveElement(this.document[0]);a(b.target).closest(c).length||a.ui.safeBlur(c)},_mouseStart:function(b){var c=this.options;return this.helper=this._createHelper(b),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),a.ui.ddmanager&&(a.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===a(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(b),this.originalPosition=this.position=this._generatePosition(b,!1),this.originalPageX=b.pageX,this.originalPageY=b.pageY,c.cursorAt&&this._adjustOffsetFromHelper(c.cursorAt),this._setContainment(),!1===this._trigger("start",b)?(this._clear(),!1):(this._cacheHelperProportions(),a.ui.ddmanager&&!c.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b),this._mouseDrag(b,!0),a.ui.ddmanager&&a.ui.ddmanager.dragStart(this,b),!0)},_refreshOffsets:function(a){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:a.pageX-this.offset.left,top:a.pageY-this.offset.top}},_mouseDrag:function(b,c){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(b,!0),this.positionAbs=this._convertPositionTo("absolute"),!c){var d=this._uiHash();if(!1===this._trigger("drag",b,d))return this._mouseUp(new a.Event("mouseup",b)),!1;this.position=d.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",a.ui.ddmanager&&a.ui.ddmanager.drag(this,b),!1},_mouseStop:function(b){var c=this,d=!1;return a.ui.ddmanager&&!this.options.dropBehaviour&&(d=a.ui.ddmanager.drop(this,b)),this.dropped&&(d=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!d||"valid"===this.options.revert&&d||!0===this.options.revert||a.isFunction(this.options.revert)&&this.options.revert.call(this.element,d)?a(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==c._trigger("stop",b)&&c._clear()}):!1!==this._trigger("stop",b)&&this._clear(),!1},_mouseUp:function(b){return this._unblockFrames(),a.ui.ddmanager&&a.ui.ddmanager.dragStop(this,b),this.handleElement.is(b.target)&&this.element.trigger("focus"),a.ui.mouse.prototype._mouseUp.call(this,b)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new a.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(b){return!this.options.handle||!!a(b.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(b){var c=this.options,d=a.isFunction(c.helper),e=d?a(c.helper.apply(this.element[0],[b])):"clone"===c.helper?this.element.clone().removeAttr("id"):this.element;return e.parents("body").length||e.appendTo("parent"===c.appendTo?this.element[0].parentNode:c.appendTo),d&&e[0]===this.element[0]&&this._setPositionRelative(),e[0]===this.element[0]||/(fixed|absolute)/.test(e.css("position"))||e.css("position","absolute"),e},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(b){"string"==typeof b&&(b=b.split(" ")),a.isArray(b)&&(b={left:+b[0],top:+b[1]||0}),"left"in b&&(this.offset.click.left=b.left+this.margins.left),"right"in b&&(this.offset.click.left=this.helperProportions.width-b.right+this.margins.left),"top"in b&&(this.offset.click.top=b.top+this.margins.top),"bottom"in b&&(this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top)},_isRootNode:function(a){return/(html|body)/i.test(a.tagName)||a===this.document[0]},_getParentOffset:function(){var b=this.offsetParent.offset(),c=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==c&&a.contains(this.scrollParent[0],this.offsetParent[0])&&(b.left+=this.scrollParent.scrollLeft(),b.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(b={top:0,left:0}),{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var a=this.element.position(),b=this._isRootNode(this.scrollParent[0]);return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+(b?0:this.scrollParent.scrollTop()),left:a.left-(parseInt(this.helper.css("left"),10)||0)+(b?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var b,c,d,e=this.options,f=this.document[0];return this.relativeContainer=null,e.containment?"window"===e.containment?void(this.containment=[a(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,a(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,a(window).scrollLeft()+a(window).width()-this.helperProportions.width-this.margins.left,a(window).scrollTop()+(a(window).height()||f.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===e.containment?void(this.containment=[0,0,a(f).width()-this.helperProportions.width-this.margins.left,(a(f).height()||f.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):e.containment.constructor===Array?void(this.containment=e.containment):("parent"===e.containment&&(e.containment=this.helper[0].parentNode),c=a(e.containment),void((d=c[0])&&(b=/(scroll|auto)/.test(c.css("overflow")),this.containment=[(parseInt(c.css("borderLeftWidth"),10)||0)+(parseInt(c.css("paddingLeft"),10)||0),(parseInt(c.css("borderTopWidth"),10)||0)+(parseInt(c.css("paddingTop"),10)||0),(b?Math.max(d.scrollWidth,d.offsetWidth):d.offsetWidth)-(parseInt(c.css("borderRightWidth"),10)||0)-(parseInt(c.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(b?Math.max(d.scrollHeight,d.offsetHeight):d.offsetHeight)-(parseInt(c.css("borderBottomWidth"),10)||0)-(parseInt(c.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=c))):void(this.containment=null)},_convertPositionTo:function(a,b){b||(b=this.position);var c="absolute"===a?1:-1,d=this._isRootNode(this.scrollParent[0]);return{top:b.top+this.offset.relative.top*c+this.offset.parent.top*c-("fixed"===this.cssPosition?-this.offset.scroll.top:d?0:this.offset.scroll.top)*c,left:b.left+this.offset.relative.left*c+this.offset.parent.left*c-("fixed"===this.cssPosition?-this.offset.scroll.left:d?0:this.offset.scroll.left)*c}},_generatePosition:function(a,b){var c,d,e,f,g=this.options,h=this._isRootNode(this.scrollParent[0]),i=a.pageX,j=a.pageY;return h&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),b&&(this.containment&&(this.relativeContainer?(d=this.relativeContainer.offset(),c=[this.containment[0]+d.left,this.containment[1]+d.top,this.containment[2]+d.left,this.containment[3]+d.top]):c=this.containment,a.pageX-this.offset.click.left<c[0]&&(i=c[0]+this.offset.click.left),a.pageY-this.offset.click.top<c[1]&&(j=c[1]+this.offset.click.top),a.pageX-this.offset.click.left>c[2]&&(i=c[2]+this.offset.click.left),a.pageY-this.offset.click.top>c[3]&&(j=c[3]+this.offset.click.top)),g.grid&&(e=g.grid[1]?this.originalPageY+Math.round((j-this.originalPageY)/g.grid[1])*g.grid[1]:this.originalPageY,j=c?e-this.offset.click.top>=c[1]||e-this.offset.click.top>c[3]?e:e-this.offset.click.top>=c[1]?e-g.grid[1]:e+g.grid[1]:e,f=g.grid[0]?this.originalPageX+Math.round((i-this.originalPageX)/g.grid[0])*g.grid[0]:this.originalPageX,i=c?f-this.offset.click.left>=c[0]||f-this.offset.click.left>c[2]?f:f-this.offset.click.left>=c[0]?f-g.grid[0]:f+g.grid[0]:f),"y"===g.axis&&(i=this.originalPageX),"x"===g.axis&&(j=this.originalPageY)),{top:j-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:h?0:this.offset.scroll.top),left:i-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:h?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(b,c,d){return d=d||this._uiHash(),a.ui.plugin.call(this,b,[c,d,this],!0),/^(drag|start|stop)/.test(b)&&(this.positionAbs=this._convertPositionTo("absolute"),d.offset=this.positionAbs),a.Widget.prototype._trigger.call(this,b,c,d)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),a.ui.plugin.add("draggable","connectToSortable",{start:function(b,c,d){var e=a.extend({},c,{item:d.element});d.sortables=[],a(d.options.connectToSortable).each(function(){var c=a(this).sortable("instance");c&&!c.options.disabled&&(d.sortables.push(c),c.refreshPositions(),c._trigger("activate",b,e))})},stop:function(b,c,d){var e=a.extend({},c,{item:d.element});d.cancelHelperRemoval=!1,a.each(d.sortables,function(){var a=this;a.isOver?(a.isOver=0,d.cancelHelperRemoval=!0,a.cancelHelperRemoval=!1,a._storedCSS={position:a.placeholder.css("position"),top:a.placeholder.css("top"),left:a.placeholder.css("left")},a._mouseStop(b),a.options.helper=a.options._helper):(a.cancelHelperRemoval=!0,a._trigger("deactivate",b,e))})},drag:function(b,c,d){a.each(d.sortables,function(){var e=!1,f=this;f.positionAbs=d.positionAbs,f.helperProportions=d.helperProportions,f.offset.click=d.offset.click,f._intersectsWith(f.containerCache)&&(e=!0,a.each(d.sortables,function(){return this.positionAbs=d.positionAbs,this.helperProportions=d.helperProportions,this.offset.click=d.offset.click,this!==f&&this._intersectsWith(this.containerCache)&&a.contains(f.element[0],this.element[0])&&(e=!1),e})),e?(f.isOver||(f.isOver=1,d._parent=c.helper.parent(),f.currentItem=c.helper.appendTo(f.element).data("ui-sortable-item",!0),f.options._helper=f.options.helper,f.options.helper=function(){return c.helper[0]},b.target=f.currentItem[0],f._mouseCapture(b,!0),f._mouseStart(b,!0,!0),f.offset.click.top=d.offset.click.top,f.offset.click.left=d.offset.click.left,
f.offset.parent.left-=d.offset.parent.left-f.offset.parent.left,f.offset.parent.top-=d.offset.parent.top-f.offset.parent.top,d._trigger("toSortable",b),d.dropped=f.element,a.each(d.sortables,function(){this.refreshPositions()}),d.currentItem=d.element,f.fromOutside=d),f.currentItem&&(f._mouseDrag(b),c.position=f.position)):f.isOver&&(f.isOver=0,f.cancelHelperRemoval=!0,f.options._revert=f.options.revert,f.options.revert=!1,f._trigger("out",b,f._uiHash(f)),f._mouseStop(b,!0),f.options.revert=f.options._revert,f.options.helper=f.options._helper,f.placeholder&&f.placeholder.remove(),c.helper.appendTo(d._parent),d._refreshOffsets(b),c.position=d._generatePosition(b,!0),d._trigger("fromSortable",b),d.dropped=!1,a.each(d.sortables,function(){this.refreshPositions()}))})}}),a.ui.plugin.add("draggable","cursor",{start:function(b,c,d){var e=a("body"),f=d.options;e.css("cursor")&&(f._cursor=e.css("cursor")),e.css("cursor",f.cursor)},stop:function(b,c,d){var e=d.options;e._cursor&&a("body").css("cursor",e._cursor)}}),a.ui.plugin.add("draggable","opacity",{start:function(b,c,d){var e=a(c.helper),f=d.options;e.css("opacity")&&(f._opacity=e.css("opacity")),e.css("opacity",f.opacity)},stop:function(b,c,d){var e=d.options;e._opacity&&a(c.helper).css("opacity",e._opacity)}}),a.ui.plugin.add("draggable","scroll",{start:function(a,b,c){c.scrollParentNotHidden||(c.scrollParentNotHidden=c.helper.scrollParent(!1)),c.scrollParentNotHidden[0]!==c.document[0]&&"HTML"!==c.scrollParentNotHidden[0].tagName&&(c.overflowOffset=c.scrollParentNotHidden.offset())},drag:function(b,c,d){var e=d.options,f=!1,g=d.scrollParentNotHidden[0],h=d.document[0];g!==h&&"HTML"!==g.tagName?(e.axis&&"x"===e.axis||(d.overflowOffset.top+g.offsetHeight-b.pageY<e.scrollSensitivity?g.scrollTop=f=g.scrollTop+e.scrollSpeed:b.pageY-d.overflowOffset.top<e.scrollSensitivity&&(g.scrollTop=f=g.scrollTop-e.scrollSpeed)),e.axis&&"y"===e.axis||(d.overflowOffset.left+g.offsetWidth-b.pageX<e.scrollSensitivity?g.scrollLeft=f=g.scrollLeft+e.scrollSpeed:b.pageX-d.overflowOffset.left<e.scrollSensitivity&&(g.scrollLeft=f=g.scrollLeft-e.scrollSpeed))):(e.axis&&"x"===e.axis||(b.pageY-a(h).scrollTop()<e.scrollSensitivity?f=a(h).scrollTop(a(h).scrollTop()-e.scrollSpeed):a(window).height()-(b.pageY-a(h).scrollTop())<e.scrollSensitivity&&(f=a(h).scrollTop(a(h).scrollTop()+e.scrollSpeed))),e.axis&&"y"===e.axis||(b.pageX-a(h).scrollLeft()<e.scrollSensitivity?f=a(h).scrollLeft(a(h).scrollLeft()-e.scrollSpeed):a(window).width()-(b.pageX-a(h).scrollLeft())<e.scrollSensitivity&&(f=a(h).scrollLeft(a(h).scrollLeft()+e.scrollSpeed)))),!1!==f&&a.ui.ddmanager&&!e.dropBehaviour&&a.ui.ddmanager.prepareOffsets(d,b)}}),a.ui.plugin.add("draggable","snap",{start:function(b,c,d){var e=d.options;d.snapElements=[],a(e.snap.constructor!==String?e.snap.items||":data(ui-draggable)":e.snap).each(function(){var b=a(this),c=b.offset();this!==d.element[0]&&d.snapElements.push({item:this,width:b.outerWidth(),height:b.outerHeight(),top:c.top,left:c.left})})},drag:function(b,c,d){var e,f,g,h,i,j,k,l,m,n,o=d.options,p=o.snapTolerance,q=c.offset.left,r=q+d.helperProportions.width,s=c.offset.top,t=s+d.helperProportions.height;for(m=d.snapElements.length-1;m>=0;m--)i=d.snapElements[m].left-d.margins.left,j=i+d.snapElements[m].width,k=d.snapElements[m].top-d.margins.top,l=k+d.snapElements[m].height,i-p>r||q>j+p||k-p>t||s>l+p||!a.contains(d.snapElements[m].item.ownerDocument,d.snapElements[m].item)?(d.snapElements[m].snapping&&d.options.snap.release&&d.options.snap.release.call(d.element,b,a.extend(d._uiHash(),{snapItem:d.snapElements[m].item})),d.snapElements[m].snapping=!1):("inner"!==o.snapMode&&(e=p>=Math.abs(k-t),f=p>=Math.abs(l-s),g=p>=Math.abs(i-r),h=p>=Math.abs(j-q),e&&(c.position.top=d._convertPositionTo("relative",{top:k-d.helperProportions.height,left:0}).top),f&&(c.position.top=d._convertPositionTo("relative",{top:l,left:0}).top),g&&(c.position.left=d._convertPositionTo("relative",{top:0,left:i-d.helperProportions.width}).left),h&&(c.position.left=d._convertPositionTo("relative",{top:0,left:j}).left)),n=e||f||g||h,"outer"!==o.snapMode&&(e=p>=Math.abs(k-s),f=p>=Math.abs(l-t),g=p>=Math.abs(i-q),h=p>=Math.abs(j-r),e&&(c.position.top=d._convertPositionTo("relative",{top:k,left:0}).top),f&&(c.position.top=d._convertPositionTo("relative",{top:l-d.helperProportions.height,left:0}).top),g&&(c.position.left=d._convertPositionTo("relative",{top:0,left:i}).left),h&&(c.position.left=d._convertPositionTo("relative",{top:0,left:j-d.helperProportions.width}).left)),!d.snapElements[m].snapping&&(e||f||g||h||n)&&d.options.snap.snap&&d.options.snap.snap.call(d.element,b,a.extend(d._uiHash(),{snapItem:d.snapElements[m].item})),d.snapElements[m].snapping=e||f||g||h||n)}}),a.ui.plugin.add("draggable","stack",{start:function(b,c,d){var e,f=d.options,g=a.makeArray(a(f.stack)).sort(function(b,c){return(parseInt(a(b).css("zIndex"),10)||0)-(parseInt(a(c).css("zIndex"),10)||0)});g.length&&(e=parseInt(a(g[0]).css("zIndex"),10)||0,a(g).each(function(b){a(this).css("zIndex",e+b)}),this.css("zIndex",e+g.length))}}),a.ui.plugin.add("draggable","zIndex",{start:function(b,c,d){var e=a(c.helper),f=d.options;e.css("zIndex")&&(f._zIndex=e.css("zIndex")),e.css("zIndex",f.zIndex)},stop:function(b,c,d){var e=d.options;e._zIndex&&a(c.helper).css("zIndex",e._zIndex)}}),a.ui.draggable,a.widget("ui.resizable",a.ui.mouse,{version:"1.12.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(a){return parseFloat(a)||0},_isNumber:function(a){return!isNaN(parseFloat(a))},_hasScroll:function(b,c){if("hidden"===a(b).css("overflow"))return!1;var d=c&&"left"===c?"scrollLeft":"scrollTop",e=!1;return b[d]>0||(b[d]=1,e=b[d]>0,b[d]=0,e)},_create:function(){var b,c=this.options,d=this;this._addClass("ui-resizable"),a.extend(this,{_aspectRatio:!!c.aspectRatio,aspectRatio:c.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:c.helper||c.ghost||c.animate?c.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(a("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,b={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")},this.element.css(b),this.originalElement.css("margin",0),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css(b),this._proportionallyResize()),this._setupHandles(),c.autoHide&&a(this.element).on("mouseenter",function(){c.disabled||(d._removeClass("ui-resizable-autohide"),d._handles.show())}).on("mouseleave",function(){c.disabled||d.resizing||(d._addClass("ui-resizable-autohide"),d._handles.hide())}),this._mouseInit()},_destroy:function(){this._mouseDestroy();var b,c=function(b){a(b).removeData("resizable").removeData("ui-resizable").off(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(c(this.element),b=this.element,this.originalElement.css({position:b.css("position"),width:b.outerWidth(),height:b.outerHeight(),top:b.css("top"),left:b.css("left")}).insertAfter(b),b.remove()),this.originalElement.css("resize",this.originalResizeStyle),c(this.originalElement),this},_setOption:function(a,b){switch(this._super(a,b),a){case"handles":this._removeHandles(),this._setupHandles()}},_setupHandles:function(){var b,c,d,e,f,g=this.options,h=this;if(this.handles=g.handles||(a(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=a(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),d=this.handles.split(","),this.handles={},c=0;d.length>c;c++)b=a.trim(d[c]),e="ui-resizable-"+b,f=a("<div>"),this._addClass(f,"ui-resizable-handle "+e),f.css({zIndex:g.zIndex}),this.handles[b]=".ui-resizable-"+b,this.element.append(f);this._renderAxis=function(b){var c,d,e,f;b=b||this.element;for(c in this.handles)this.handles[c].constructor===String?this.handles[c]=this.element.children(this.handles[c]).first().show():(this.handles[c].jquery||this.handles[c].nodeType)&&(this.handles[c]=a(this.handles[c]),this._on(this.handles[c],{mousedown:h._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(d=a(this.handles[c],this.element),f=/sw|ne|nw|se|n|s/.test(c)?d.outerHeight():d.outerWidth(),e=["padding",/ne|nw|n/.test(c)?"Top":/se|sw|s/.test(c)?"Bottom":/^e$/.test(c)?"Right":"Left"].join(""),b.css(e,f),this._proportionallyResize()),this._handles=this._handles.add(this.handles[c])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.on("mouseover",function(){h.resizing||(this.className&&(f=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),h.axis=f&&f[1]?f[1]:"se")}),g.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function(){this._handles.remove()},_mouseCapture:function(b){var c,d,e=!1;for(c in this.handles)((d=a(this.handles[c])[0])===b.target||a.contains(d,b.target))&&(e=!0);return!this.options.disabled&&e},_mouseStart:function(b){var c,d,e,f=this.options,g=this.element;return this.resizing=!0,this._renderProxy(),c=this._num(this.helper.css("left")),d=this._num(this.helper.css("top")),f.containment&&(c+=a(f.containment).scrollLeft()||0,d+=a(f.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:c,top:d},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:g.width(),height:g.height()},this.originalSize=this._helper?{width:g.outerWidth(),height:g.outerHeight()}:{width:g.width(),height:g.height()},this.sizeDiff={width:g.outerWidth()-g.width(),height:g.outerHeight()-g.height()},this.originalPosition={left:c,top:d},this.originalMousePosition={left:b.pageX,top:b.pageY},this.aspectRatio="number"==typeof f.aspectRatio?f.aspectRatio:this.originalSize.width/this.originalSize.height||1,e=a(".ui-resizable-"+this.axis).css("cursor"),a("body").css("cursor","auto"===e?this.axis+"-resize":e),this._addClass("ui-resizable-resizing"),this._propagate("start",b),!0},_mouseDrag:function(b){var c,d,e=this.originalMousePosition,f=this.axis,g=b.pageX-e.left||0,h=b.pageY-e.top||0,i=this._change[f];return this._updatePrevProperties(),!!i&&(c=i.apply(this,[b,g,h]),this._updateVirtualBoundaries(b.shiftKey),(this._aspectRatio||b.shiftKey)&&(c=this._updateRatio(c,b)),c=this._respectSize(c,b),this._updateCache(c),this._propagate("resize",b),d=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),a.isEmptyObject(d)||(this._updatePrevProperties(),this._trigger("resize",b,this.ui()),this._applyChanges()),!1)},_mouseStop:function(b){this.resizing=!1;var c,d,e,f,g,h,i,j=this.options,k=this;return this._helper&&(c=this._proportionallyResizeElements,d=c.length&&/textarea/i.test(c[0].nodeName),e=d&&this._hasScroll(c[0],"left")?0:k.sizeDiff.height,f=d?0:k.sizeDiff.width,g={width:k.helper.width()-f,height:k.helper.height()-e},h=parseFloat(k.element.css("left"))+(k.position.left-k.originalPosition.left)||null,i=parseFloat(k.element.css("top"))+(k.position.top-k.originalPosition.top)||null,j.animate||this.element.css(a.extend(g,{top:i,left:h})),k.helper.height(k.size.height),k.helper.width(k.size.width),this._helper&&!j.animate&&this._proportionallyResize()),a("body").css("cursor","auto"),this._removeClass("ui-resizable-resizing"),this._propagate("stop",b),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var a={};return this.position.top!==this.prevPosition.top&&(a.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(a.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(a.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(a.height=this.size.height+"px"),this.helper.css(a),a},_updateVirtualBoundaries:function(a){var b,c,d,e,f,g=this.options;f={minWidth:this._isNumber(g.minWidth)?g.minWidth:0,maxWidth:this._isNumber(g.maxWidth)?g.maxWidth:1/0,minHeight:this._isNumber(g.minHeight)?g.minHeight:0,maxHeight:this._isNumber(g.maxHeight)?g.maxHeight:1/0},(this._aspectRatio||a)&&(b=f.minHeight*this.aspectRatio,d=f.minWidth/this.aspectRatio,c=f.maxHeight*this.aspectRatio,e=f.maxWidth/this.aspectRatio,b>f.minWidth&&(f.minWidth=b),d>f.minHeight&&(f.minHeight=d),f.maxWidth>c&&(f.maxWidth=c),f.maxHeight>e&&(f.maxHeight=e)),this._vBoundaries=f},_updateCache:function(a){this.offset=this.helper.offset(),this._isNumber(a.left)&&(this.position.left=a.left),this._isNumber(a.top)&&(this.position.top=a.top),this._isNumber(a.height)&&(this.size.height=a.height),this._isNumber(a.width)&&(this.size.width=a.width)},_updateRatio:function(a){var b=this.position,c=this.size,d=this.axis;return this._isNumber(a.height)?a.width=a.height*this.aspectRatio:this._isNumber(a.width)&&(a.height=a.width/this.aspectRatio),"sw"===d&&(a.left=b.left+(c.width-a.width),a.top=null),"nw"===d&&(a.top=b.top+(c.height-a.height),a.left=b.left+(c.width-a.width)),a},_respectSize:function(a){var b=this._vBoundaries,c=this.axis,d=this._isNumber(a.width)&&b.maxWidth&&b.maxWidth<a.width,e=this._isNumber(a.height)&&b.maxHeight&&b.maxHeight<a.height,f=this._isNumber(a.width)&&b.minWidth&&b.minWidth>a.width,g=this._isNumber(a.height)&&b.minHeight&&b.minHeight>a.height,h=this.originalPosition.left+this.originalSize.width,i=this.originalPosition.top+this.originalSize.height,j=/sw|nw|w/.test(c),k=/nw|ne|n/.test(c);return f&&(a.width=b.minWidth),g&&(a.height=b.minHeight),d&&(a.width=b.maxWidth),e&&(a.height=b.maxHeight),f&&j&&(a.left=h-b.minWidth),d&&j&&(a.left=h-b.maxWidth),g&&k&&(a.top=i-b.minHeight),e&&k&&(a.top=i-b.maxHeight),a.width||a.height||a.left||!a.top?a.width||a.height||a.top||!a.left||(a.left=null):a.top=null,a},_getPaddingPlusBorderDimensions:function(a){for(var b=0,c=[],d=[a.css("borderTopWidth"),a.css("borderRightWidth"),a.css("borderBottomWidth"),a.css("borderLeftWidth")],e=[a.css("paddingTop"),a.css("paddingRight"),a.css("paddingBottom"),a.css("paddingLeft")];4>b;b++)c[b]=parseFloat(d[b])||0,c[b]+=parseFloat(e[b])||0;return{height:c[0]+c[2],width:c[1]+c[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var a,b=0,c=this.helper||this.element;this._proportionallyResizeElements.length>b;b++)a=this._proportionallyResizeElements[b],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(a)),a.css({height:c.height()-this.outerDimensions.height||0,width:c.width()-this.outerDimensions.width||0})},_renderProxy:function(){var b=this.element,c=this.options;this.elementOffset=b.offset(),this._helper?(this.helper=this.helper||a("<div style='overflow:hidden;'></div>"),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++c.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(a,b){return{width:this.originalSize.width+b}},w:function(a,b){var c=this.originalSize;return{left:this.originalPosition.left+b,width:c.width-b}},n:function(a,b,c){var d=this.originalSize;return{top:this.originalPosition.top+c,height:d.height-c}},s:function(a,b,c){return{height:this.originalSize.height+c}},se:function(b,c,d){return a.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[b,c,d]))},sw:function(b,c,d){return a.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[b,c,d]))},ne:function(b,c,d){return a.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[b,c,d]))},nw:function(b,c,d){return a.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[b,c,d]))}},_propagate:function(b,c){a.ui.plugin.call(this,b,[c,this.ui()]),"resize"!==b&&this._trigger(b,c,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),a.ui.plugin.add("resizable","animate",{stop:function(b){var c=a(this).resizable("instance"),d=c.options,e=c._proportionallyResizeElements,f=e.length&&/textarea/i.test(e[0].nodeName),g=f&&c._hasScroll(e[0],"left")?0:c.sizeDiff.height,h=f?0:c.sizeDiff.width,i={width:c.size.width-h,height:c.size.height-g},j=parseFloat(c.element.css("left"))+(c.position.left-c.originalPosition.left)||null,k=parseFloat(c.element.css("top"))+(c.position.top-c.originalPosition.top)||null;c.element.animate(a.extend(i,k&&j?{top:k,left:j}:{}),{duration:d.animateDuration,easing:d.animateEasing,step:function(){var d={width:parseFloat(c.element.css("width")),height:parseFloat(c.element.css("height")),top:parseFloat(c.element.css("top")),left:parseFloat(c.element.css("left"))};e&&e.length&&a(e[0]).css({width:d.width,height:d.height}),c._updateCache(d),c._propagate("resize",b)}})}}),a.ui.plugin.add("resizable","containment",{start:function(){var b,c,d,e,f,g,h,i=a(this).resizable("instance"),j=i.options,k=i.element,l=j.containment,m=l instanceof a?l.get(0):/parent/.test(l)?k.parent().get(0):l;m&&(i.containerElement=a(m),/document/.test(l)||l===document?(i.containerOffset={left:0,top:0},i.containerPosition={left:0,top:0},i.parentData={element:a(document),left:0,top:0,width:a(document).width(),height:a(document).height()||document.body.parentNode.scrollHeight}):(b=a(m),c=[],a(["Top","Right","Left","Bottom"]).each(function(a,d){c[a]=i._num(b.css("padding"+d))}),i.containerOffset=b.offset(),i.containerPosition=b.position(),i.containerSize={height:b.innerHeight()-c[3],width:b.innerWidth()-c[1]},d=i.containerOffset,e=i.containerSize.height,f=i.containerSize.width,g=i._hasScroll(m,"left")?m.scrollWidth:f,h=i._hasScroll(m)?m.scrollHeight:e,i.parentData={element:m,left:d.left,top:d.top,width:g,height:h}))},resize:function(b){var c,d,e,f,g=a(this).resizable("instance"),h=g.options,i=g.containerOffset,j=g.position,k=g._aspectRatio||b.shiftKey,l={top:0,left:0},m=g.containerElement,n=!0;m[0]!==document&&/static/.test(m.css("position"))&&(l=i),j.left<(g._helper?i.left:0)&&(g.size.width=g.size.width+(g._helper?g.position.left-i.left:g.position.left-l.left),k&&(g.size.height=g.size.width/g.aspectRatio,n=!1),g.position.left=h.helper?i.left:0),j.top<(g._helper?i.top:0)&&(g.size.height=g.size.height+(g._helper?g.position.top-i.top:g.position.top),k&&(g.size.width=g.size.height*g.aspectRatio,n=!1),g.position.top=g._helper?i.top:0),e=g.containerElement.get(0)===g.element.parent().get(0),f=/relative|absolute/.test(g.containerElement.css("position")),e&&f?(g.offset.left=g.parentData.left+g.position.left,g.offset.top=g.parentData.top+g.position.top):(g.offset.left=g.element.offset().left,g.offset.top=g.element.offset().top),c=Math.abs(g.sizeDiff.width+(g._helper?g.offset.left-l.left:g.offset.left-i.left)),d=Math.abs(g.sizeDiff.height+(g._helper?g.offset.top-l.top:g.offset.top-i.top)),c+g.size.width>=g.parentData.width&&(g.size.width=g.parentData.width-c,k&&(g.size.height=g.size.width/g.aspectRatio,n=!1)),d+g.size.height>=g.parentData.height&&(g.size.height=g.parentData.height-d,k&&(g.size.width=g.size.height*g.aspectRatio,n=!1)),n||(g.position.left=g.prevPosition.left,g.position.top=g.prevPosition.top,g.size.width=g.prevSize.width,g.size.height=g.prevSize.height)},stop:function(){var b=a(this).resizable("instance"),c=b.options,d=b.containerOffset,e=b.containerPosition,f=b.containerElement,g=a(b.helper),h=g.offset(),i=g.outerWidth()-b.sizeDiff.width,j=g.outerHeight()-b.sizeDiff.height;b._helper&&!c.animate&&/relative/.test(f.css("position"))&&a(this).css({left:h.left-e.left-d.left,width:i,height:j}),b._helper&&!c.animate&&/static/.test(f.css("position"))&&a(this).css({left:h.left-e.left-d.left,width:i,height:j})}}),a.ui.plugin.add("resizable","alsoResize",{start:function(){var b=a(this).resizable("instance"),c=b.options;a(c.alsoResize).each(function(){var b=a(this);b.data("ui-resizable-alsoresize",{width:parseFloat(b.width()),height:parseFloat(b.height()),left:parseFloat(b.css("left")),top:parseFloat(b.css("top"))})})},resize:function(b,c){var d=a(this).resizable("instance"),e=d.options,f=d.originalSize,g=d.originalPosition,h={height:d.size.height-f.height||0,width:d.size.width-f.width||0,top:d.position.top-g.top||0,left:d.position.left-g.left||0};a(e.alsoResize).each(function(){var b=a(this),d=a(this).data("ui-resizable-alsoresize"),e={},f=b.parents(c.originalElement[0]).length?["width","height"]:["width","height","top","left"];a.each(f,function(a,b){var c=(d[b]||0)+(h[b]||0);c&&c>=0&&(e[b]=c||null)}),b.css(e)})},stop:function(){a(this).removeData("ui-resizable-alsoresize")}}),a.ui.plugin.add("resizable","ghost",{start:function(){var b=a(this).resizable("instance"),c=b.size;b.ghost=b.originalElement.clone(),b.ghost.css({opacity:.25,display:"block",position:"relative",height:c.height,width:c.width,margin:0,left:0,top:0}),b._addClass(b.ghost,"ui-resizable-ghost"),!1!==a.uiBackCompat&&"string"==typeof b.options.ghost&&b.ghost.addClass(this.options.ghost),b.ghost.appendTo(b.helper)},resize:function(){var b=a(this).resizable("instance");b.ghost&&b.ghost.css({position:"relative",height:b.size.height,width:b.size.width})},stop:function(){var b=a(this).resizable("instance");b.ghost&&b.helper&&b.helper.get(0).removeChild(b.ghost.get(0))}}),a.ui.plugin.add("resizable","grid",{resize:function(){var b,c=a(this).resizable("instance"),d=c.options,e=c.size,f=c.originalSize,g=c.originalPosition,h=c.axis,i="number"==typeof d.grid?[d.grid,d.grid]:d.grid,j=i[0]||1,k=i[1]||1,l=Math.round((e.width-f.width)/j)*j,m=Math.round((e.height-f.height)/k)*k,n=f.width+l,o=f.height+m,p=d.maxWidth&&n>d.maxWidth,q=d.maxHeight&&o>d.maxHeight,r=d.minWidth&&d.minWidth>n,s=d.minHeight&&d.minHeight>o;d.grid=i,r&&(n+=j),s&&(o+=k),p&&(n-=j),q&&(o-=k),/^(se|s|e)$/.test(h)?(c.size.width=n,c.size.height=o):/^(ne)$/.test(h)?(c.size.width=n,c.size.height=o,c.position.top=g.top-m):/^(sw)$/.test(h)?(c.size.width=n,c.size.height=o,c.position.left=g.left-l):((0>=o-k||0>=n-j)&&(b=c._getPaddingPlusBorderDimensions(this)),o-k>0?(c.size.height=o,c.position.top=g.top-m):(o=k-b.height,c.size.height=o,c.position.top=g.top+f.height-o),n-j>0?(c.size.width=n,c.position.left=g.left-l):(n=j-b.width,c.size.width=n,c.position.left=g.left+f.width-n))}}),a.ui.resizable,a.widget("ui.dialog",{version:"1.12.1",options:{appendTo:"body",autoOpen:!0,buttons:[],classes:{"ui-dialog":"ui-corner-all","ui-dialog-titlebar":"ui-corner-all"},closeOnEscape:!0,closeText:"Close",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(b){var c=a(this).css(b).offset().top;0>c&&a(this).css("top",b.top-c)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),null==this.options.title&&null!=this.originalTitle&&(this.options.title=this.originalTitle),this.options.disabled&&(this.options.disabled=!1),this._createWrapper(),this.element.show().removeAttr("title").appendTo(this.uiDialog),this._addClass("ui-dialog-content","ui-widget-content"),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&a.fn.draggable&&this._makeDraggable(),this.options.resizable&&a.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var b=this.options.appendTo;return b&&(b.jquery||b.nodeType)?a(b):this.document.find(b||"body").eq(0)},_destroy:function(){var a,b=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().css(this.originalCss).detach(),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),a=b.parent.children().eq(b.index),a.length&&a[0]!==this.element[0]?a.before(this.element):b.parent.append(this.element)},widget:function(){return this.uiDialog},disable:a.noop,enable:a.noop,close:function(b){var c=this;this._isOpen&&!1!==this._trigger("beforeClose",b)&&(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),this.opener.filter(":focusable").trigger("focus").length||a.ui.safeBlur(a.ui.safeActiveElement(this.document[0])),this._hide(this.uiDialog,this.options.hide,function(){c._trigger("close",b)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(b,c){var d=!1,e=this.uiDialog.siblings(".ui-front:visible").map(function(){return+a(this).css("z-index")}).get(),f=Math.max.apply(null,e);return f>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",f+1),d=!0),d&&!c&&this._trigger("focus",b),d},open:function(){var b=this;return this._isOpen?void(this._moveToTop()&&this._focusTabbable()):(this._isOpen=!0,this.opener=a(a.ui.safeActiveElement(this.document[0])),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){b._focusTabbable(),b._trigger("focus")}),this._makeFocusTarget(),void this._trigger("open"))},_focusTabbable:function(){var a=this._focusedElement;a||(a=this.element.find("[autofocus]")),a.length||(a=this.element.find(":tabbable")),a.length||(a=this.uiDialogButtonPane.find(":tabbable")),a.length||(a=this.uiDialogTitlebarClose.filter(":tabbable")),a.length||(a=this.uiDialog),a.eq(0).trigger("focus")},_keepFocus:function(b){function c(){var b=a.ui.safeActiveElement(this.document[0]);this.uiDialog[0]===b||a.contains(this.uiDialog[0],b)||this._focusTabbable()}b.preventDefault(),c.call(this),this._delay(c)},_createWrapper:function(){this.uiDialog=a("<div>").hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._addClass(this.uiDialog,"ui-dialog","ui-widget ui-widget-content ui-front"),this._on(this.uiDialog,{keydown:function(b){if(this.options.closeOnEscape&&!b.isDefaultPrevented()&&b.keyCode&&b.keyCode===a.ui.keyCode.ESCAPE)return b.preventDefault(),void this.close(b);if(b.keyCode===a.ui.keyCode.TAB&&!b.isDefaultPrevented()){var c=this.uiDialog.find(":tabbable"),d=c.filter(":first"),e=c.filter(":last");b.target!==e[0]&&b.target!==this.uiDialog[0]||b.shiftKey?b.target!==d[0]&&b.target!==this.uiDialog[0]||!b.shiftKey||(this._delay(function(){e.trigger("focus")}),b.preventDefault()):(this._delay(function(){d.trigger("focus")}),b.preventDefault())}},mousedown:function(a){this._moveToTop(a)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var b;this.uiDialogTitlebar=a("<div>"),this._addClass(this.uiDialogTitlebar,"ui-dialog-titlebar","ui-widget-header ui-helper-clearfix"),this._on(this.uiDialogTitlebar,{mousedown:function(b){a(b.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.trigger("focus")}}),this.uiDialogTitlebarClose=a("<button type='button'></button>").button({label:a("<a>").text(this.options.closeText).html(),icon:"ui-icon-closethick",showLabel:!1}).appendTo(this.uiDialogTitlebar),this._addClass(this.uiDialogTitlebarClose,"ui-dialog-titlebar-close"),this._on(this.uiDialogTitlebarClose,{click:function(a){a.preventDefault(),this.close(a)}}),b=a("<span>").uniqueId().prependTo(this.uiDialogTitlebar),this._addClass(b,"ui-dialog-title"),this._title(b),this.uiDialogTitlebar.prependTo(this.uiDialog),this.uiDialog.attr({"aria-labelledby":b.attr("id")})},_title:function(a){this.options.title?a.text(this.options.title):a.html("&#160;")},_createButtonPane:function(){this.uiDialogButtonPane=a("<div>"),this._addClass(this.uiDialogButtonPane,"ui-dialog-buttonpane","ui-widget-content ui-helper-clearfix"),this.uiButtonSet=a("<div>").appendTo(this.uiDialogButtonPane),this._addClass(this.uiButtonSet,"ui-dialog-buttonset"),this._createButtons()},_createButtons:function(){var b=this,c=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),a.isEmptyObject(c)||a.isArray(c)&&!c.length?void this._removeClass(this.uiDialog,"ui-dialog-buttons"):(a.each(c,function(c,d){var e,f;d=a.isFunction(d)?{click:d,text:c}:d,d=a.extend({type:"button"},d),e=d.click,f={icon:d.icon,iconPosition:d.iconPosition,showLabel:d.showLabel,icons:d.icons,text:d.text},delete d.click,delete d.icon,delete d.iconPosition,delete d.showLabel,delete d.icons,"boolean"==typeof d.text&&delete d.text,a("<button></button>",d).button(f).appendTo(b.uiButtonSet).on("click",function(){e.apply(b.element[0],arguments)})}),this._addClass(this.uiDialog,"ui-dialog-buttons"),void this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){function b(a){return{position:a.position,offset:a.offset}}var c=this,d=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(d,e){c._addClass(a(this),"ui-dialog-dragging"),c._blockFrames(),c._trigger("dragStart",d,b(e))},drag:function(a,d){c._trigger("drag",a,b(d))},stop:function(e,f){var g=f.offset.left-c.document.scrollLeft(),h=f.offset.top-c.document.scrollTop();d.position={my:"left top",at:"left"+(g>=0?"+":"")+g+" top"+(h>=0?"+":"")+h,of:c.window},c._removeClass(a(this),"ui-dialog-dragging"),c._unblockFrames(),c._trigger("dragStop",e,b(f))}})},_makeResizable:function(){function b(a){return{originalPosition:a.originalPosition,originalSize:a.originalSize,position:a.position,size:a.size}}var c=this,d=this.options,e=d.resizable,f=this.uiDialog.css("position"),g="string"==typeof e?e:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:d.maxWidth,maxHeight:d.maxHeight,minWidth:d.minWidth,minHeight:this._minHeight(),handles:g,start:function(d,e){c._addClass(a(this),"ui-dialog-resizing"),c._blockFrames(),c._trigger("resizeStart",d,b(e))},resize:function(a,d){c._trigger("resize",a,b(d))},stop:function(e,f){var g=c.uiDialog.offset(),h=g.left-c.document.scrollLeft(),i=g.top-c.document.scrollTop()
;d.height=c.uiDialog.height(),d.width=c.uiDialog.width(),d.position={my:"left top",at:"left"+(h>=0?"+":"")+h+" top"+(i>=0?"+":"")+i,of:c.window},c._removeClass(a(this),"ui-dialog-resizing"),c._unblockFrames(),c._trigger("resizeStop",e,b(f))}}).css("position",f)},_trackFocus:function(){this._on(this.widget(),{focusin:function(b){this._makeFocusTarget(),this._focusedElement=a(b.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var b=this._trackingInstances(),c=a.inArray(this,b);-1!==c&&b.splice(c,1)},_trackingInstances:function(){var a=this.document.data("ui-dialog-instances");return a||(a=[],this.document.data("ui-dialog-instances",a)),a},_minHeight:function(){var a=this.options;return"auto"===a.height?a.minHeight:Math.min(a.minHeight,a.height)},_position:function(){var a=this.uiDialog.is(":visible");a||this.uiDialog.show(),this.uiDialog.position(this.options.position),a||this.uiDialog.hide()},_setOptions:function(b){var c=this,d=!1,e={};a.each(b,function(a,b){c._setOption(a,b),a in c.sizeRelatedOptions&&(d=!0),a in c.resizableRelatedOptions&&(e[a]=b)}),d&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",e)},_setOption:function(b,c){var d,e,f=this.uiDialog;"disabled"!==b&&(this._super(b,c),"appendTo"===b&&this.uiDialog.appendTo(this._appendTo()),"buttons"===b&&this._createButtons(),"closeText"===b&&this.uiDialogTitlebarClose.button({label:a("<a>").text(""+this.options.closeText).html()}),"draggable"===b&&(d=f.is(":data(ui-draggable)"),d&&!c&&f.draggable("destroy"),!d&&c&&this._makeDraggable()),"position"===b&&this._position(),"resizable"===b&&(e=f.is(":data(ui-resizable)"),e&&!c&&f.resizable("destroy"),e&&"string"==typeof c&&f.resizable("option","handles",c),e||!1===c||this._makeResizable()),"title"===b&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var a,b,c,d=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),d.minWidth>d.width&&(d.width=d.minWidth),a=this.uiDialog.css({height:"auto",width:d.width}).outerHeight(),b=Math.max(0,d.minHeight-a),c="number"==typeof d.maxHeight?Math.max(0,d.maxHeight-a):"none","auto"===d.height?this.element.css({minHeight:b,maxHeight:c,height:"auto"}):this.element.height(Math.max(0,d.height-a)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var b=a(this);return a("<div>").css({position:"absolute",width:b.outerWidth(),height:b.outerHeight()}).appendTo(b.parent()).offset(b.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(b){return!!a(b.target).closest(".ui-dialog").length||!!a(b.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var b=!0;this._delay(function(){b=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(a){b||this._allowInteraction(a)||(a.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=a("<div>").appendTo(this._appendTo()),this._addClass(this.overlay,null,"ui-widget-overlay ui-front"),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var a=this.document.data("ui-dialog-overlays")-1;a?this.document.data("ui-dialog-overlays",a):(this._off(this.document,"focusin"),this.document.removeData("ui-dialog-overlays")),this.overlay.remove(),this.overlay=null}}}),!1!==a.uiBackCompat&&a.widget("ui.dialog",a.ui.dialog,{options:{dialogClass:""},_createWrapper:function(){this._super(),this.uiDialog.addClass(this.options.dialogClass)},_setOption:function(a,b){"dialogClass"===a&&this.uiDialog.removeClass(this.options.dialogClass).addClass(b),this._superApply(arguments)}}),a.ui.dialog,a.widget("ui.droppable",{version:"1.12.1",widgetEventPrefix:"drop",options:{accept:"*",addClasses:!0,greedy:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var b,c=this.options,d=c.accept;this.isover=!1,this.isout=!0,this.accept=a.isFunction(d)?d:function(a){return a.is(d)},this.proportions=function(){return arguments.length?void(b=arguments[0]):b||(b={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight})},this._addToManager(c.scope),c.addClasses&&this._addClass("ui-droppable")},_addToManager:function(b){a.ui.ddmanager.droppables[b]=a.ui.ddmanager.droppables[b]||[],a.ui.ddmanager.droppables[b].push(this)},_splice:function(a){for(var b=0;a.length>b;b++)a[b]===this&&a.splice(b,1)},_destroy:function(){var b=a.ui.ddmanager.droppables[this.options.scope];this._splice(b)},_setOption:function(b,c){if("accept"===b)this.accept=a.isFunction(c)?c:function(a){return a.is(c)};else if("scope"===b){var d=a.ui.ddmanager.droppables[this.options.scope];this._splice(d),this._addToManager(c)}this._super(b,c)},_activate:function(b){var c=a.ui.ddmanager.current;this._addActiveClass(),c&&this._trigger("activate",b,this.ui(c))},_deactivate:function(b){var c=a.ui.ddmanager.current;this._removeActiveClass(),c&&this._trigger("deactivate",b,this.ui(c))},_over:function(b){var c=a.ui.ddmanager.current;c&&(c.currentItem||c.element)[0]!==this.element[0]&&this.accept.call(this.element[0],c.currentItem||c.element)&&(this._addHoverClass(),this._trigger("over",b,this.ui(c)))},_out:function(b){var c=a.ui.ddmanager.current;c&&(c.currentItem||c.element)[0]!==this.element[0]&&this.accept.call(this.element[0],c.currentItem||c.element)&&(this._removeHoverClass(),this._trigger("out",b,this.ui(c)))},_drop:function(b,c){var d=c||a.ui.ddmanager.current,e=!1;return!(!d||(d.currentItem||d.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var c=a(this).droppable("instance");return c.options.greedy&&!c.options.disabled&&c.options.scope===d.options.scope&&c.accept.call(c.element[0],d.currentItem||d.element)&&r(d,a.extend(c,{offset:c.element.offset()}),c.options.tolerance,b)?(e=!0,!1):void 0}),!e&&(!!this.accept.call(this.element[0],d.currentItem||d.element)&&(this._removeActiveClass(),this._removeHoverClass(),this._trigger("drop",b,this.ui(d)),this.element)))},ui:function(a){return{draggable:a.currentItem||a.element,helper:a.helper,position:a.position,offset:a.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}});var r=a.ui.intersect=function(){function a(a,b,c){return a>=b&&b+c>a}return function(b,c,d,e){if(!c.offset)return!1;var f=(b.positionAbs||b.position.absolute).left+b.margins.left,g=(b.positionAbs||b.position.absolute).top+b.margins.top,h=f+b.helperProportions.width,i=g+b.helperProportions.height,j=c.offset.left,k=c.offset.top,l=j+c.proportions().width,m=k+c.proportions().height;switch(d){case"fit":return f>=j&&l>=h&&g>=k&&m>=i;case"intersect":return f+b.helperProportions.width/2>j&&l>h-b.helperProportions.width/2&&g+b.helperProportions.height/2>k&&m>i-b.helperProportions.height/2;case"pointer":return a(e.pageY,k,c.proportions().height)&&a(e.pageX,j,c.proportions().width);case"touch":return(g>=k&&m>=g||i>=k&&m>=i||k>g&&i>m)&&(f>=j&&l>=f||h>=j&&l>=h||j>f&&h>l);default:return!1}}}();a.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(b,c){var d,e,f=a.ui.ddmanager.droppables[b.options.scope]||[],g=c?c.type:null,h=(b.currentItem||b.element).find(":data(ui-droppable)").addBack();a:for(d=0;f.length>d;d++)if(!(f[d].options.disabled||b&&!f[d].accept.call(f[d].element[0],b.currentItem||b.element))){for(e=0;h.length>e;e++)if(h[e]===f[d].element[0]){f[d].proportions().height=0;continue a}f[d].visible="none"!==f[d].element.css("display"),f[d].visible&&("mousedown"===g&&f[d]._activate.call(f[d],c),f[d].offset=f[d].element.offset(),f[d].proportions({width:f[d].element[0].offsetWidth,height:f[d].element[0].offsetHeight}))}},drop:function(b,c){var d=!1;return a.each((a.ui.ddmanager.droppables[b.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&r(b,this,this.options.tolerance,c)&&(d=this._drop.call(this,c)||d),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],b.currentItem||b.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,c)))}),d},dragStart:function(b,c){b.element.parentsUntil("body").on("scroll.droppable",function(){b.options.refreshPositions||a.ui.ddmanager.prepareOffsets(b,c)})},drag:function(b,c){b.options.refreshPositions&&a.ui.ddmanager.prepareOffsets(b,c),a.each(a.ui.ddmanager.droppables[b.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var d,e,f,g=r(b,this,this.options.tolerance,c),h=!g&&this.isover?"isout":g&&!this.isover?"isover":null;h&&(this.options.greedy&&(e=this.options.scope,f=this.element.parents(":data(ui-droppable)").filter(function(){return a(this).droppable("instance").options.scope===e}),f.length&&(d=a(f[0]).droppable("instance"),d.greedyChild="isover"===h)),d&&"isover"===h&&(d.isover=!1,d.isout=!0,d._out.call(d,c)),this[h]=!0,this["isout"===h?"isover":"isout"]=!1,this["isover"===h?"_over":"_out"].call(this,c),d&&"isout"===h&&(d.isout=!1,d.isover=!0,d._over.call(d,c)))}})},dragStop:function(b,c){b.element.parentsUntil("body").off("scroll.droppable"),b.options.refreshPositions||a.ui.ddmanager.prepareOffsets(b,c)}},!1!==a.uiBackCompat&&a.widget("ui.droppable",a.ui.droppable,{options:{hoverClass:!1,activeClass:!1},_addActiveClass:function(){this._super(),this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super(),this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super(),this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:function(){this._super(),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}}),a.ui.droppable,a.widget("ui.progressbar",{version:"1.12.1",options:{classes:{"ui-progressbar":"ui-corner-all","ui-progressbar-value":"ui-corner-left","ui-progressbar-complete":"ui-corner-right"},max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.attr({role:"progressbar","aria-valuemin":this.min}),this._addClass("ui-progressbar","ui-widget ui-widget-content"),this.valueDiv=a("<div>").appendTo(this.element),this._addClass(this.valueDiv,"ui-progressbar-value","ui-widget-header"),this._refreshValue()},_destroy:function(){this.element.removeAttr("role aria-valuemin aria-valuemax aria-valuenow"),this.valueDiv.remove()},value:function(a){return void 0===a?this.options.value:(this.options.value=this._constrainedValue(a),void this._refreshValue())},_constrainedValue:function(a){return void 0===a&&(a=this.options.value),this.indeterminate=!1===a,"number"!=typeof a&&(a=0),!this.indeterminate&&Math.min(this.options.max,Math.max(this.min,a))},_setOptions:function(a){var b=a.value;delete a.value,this._super(a),this.options.value=this._constrainedValue(b),this._refreshValue()},_setOption:function(a,b){"max"===a&&(b=Math.max(this.min,b)),this._super(a,b)},_setOptionDisabled:function(a){this._super(a),this.element.attr("aria-disabled",a),this._toggleClass(null,"ui-state-disabled",!!a)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var b=this.options.value,c=this._percentage();this.valueDiv.toggle(this.indeterminate||b>this.min).width(c.toFixed(0)+"%"),this._toggleClass(this.valueDiv,"ui-progressbar-complete",null,b===this.options.max)._toggleClass("ui-progressbar-indeterminate",null,this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=a("<div>").appendTo(this.valueDiv),this._addClass(this.overlayDiv,"ui-progressbar-overlay"))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":b}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==b&&(this.oldValue=b,this._trigger("change")),b===this.options.max&&this._trigger("complete")}}),a.widget("ui.selectable",a.ui.mouse,{version:"1.12.1",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var b=this;this._addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){b.elementPos=a(b.element[0]).offset(),b.selectees=a(b.options.filter,b.element[0]),b._addClass(b.selectees,"ui-selectee"),b.selectees.each(function(){var c=a(this),d=c.offset(),e={left:d.left-b.elementPos.left,top:d.top-b.elementPos.top};a.data(this,"selectable-item",{element:this,$element:c,left:e.left,top:e.top,right:e.left+c.outerWidth(),bottom:e.top+c.outerHeight(),startselected:!1,selected:c.hasClass("ui-selected"),selecting:c.hasClass("ui-selecting"),unselecting:c.hasClass("ui-unselecting")})})},this.refresh(),this._mouseInit(),this.helper=a("<div>"),this._addClass(this.helper,"ui-selectable-helper")},_destroy:function(){this.selectees.removeData("selectable-item"),this._mouseDestroy()},_mouseStart:function(b){var c=this,d=this.options;this.opos=[b.pageX,b.pageY],this.elementPos=a(this.element[0]).offset(),this.options.disabled||(this.selectees=a(d.filter,this.element[0]),this._trigger("start",b),a(d.appendTo).append(this.helper),this.helper.css({left:b.pageX,top:b.pageY,width:0,height:0}),d.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var d=a.data(this,"selectable-item");d.startselected=!0,b.metaKey||b.ctrlKey||(c._removeClass(d.$element,"ui-selected"),d.selected=!1,c._addClass(d.$element,"ui-unselecting"),d.unselecting=!0,c._trigger("unselecting",b,{unselecting:d.element}))}),a(b.target).parents().addBack().each(function(){var d,e=a.data(this,"selectable-item");return e?(d=!b.metaKey&&!b.ctrlKey||!e.$element.hasClass("ui-selected"),c._removeClass(e.$element,d?"ui-unselecting":"ui-selected")._addClass(e.$element,d?"ui-selecting":"ui-unselecting"),e.unselecting=!d,e.selecting=d,e.selected=d,d?c._trigger("selecting",b,{selecting:e.element}):c._trigger("unselecting",b,{unselecting:e.element}),!1):void 0}))},_mouseDrag:function(b){if(this.dragged=!0,!this.options.disabled){var c,d=this,e=this.options,f=this.opos[0],g=this.opos[1],h=b.pageX,i=b.pageY;return f>h&&(c=h,h=f,f=c),g>i&&(c=i,i=g,g=c),this.helper.css({left:f,top:g,width:h-f,height:i-g}),this.selectees.each(function(){var c=a.data(this,"selectable-item"),j=!1,k={};c&&c.element!==d.element[0]&&(k.left=c.left+d.elementPos.left,k.right=c.right+d.elementPos.left,k.top=c.top+d.elementPos.top,k.bottom=c.bottom+d.elementPos.top,"touch"===e.tolerance?j=!(k.left>h||f>k.right||k.top>i||g>k.bottom):"fit"===e.tolerance&&(j=k.left>f&&h>k.right&&k.top>g&&i>k.bottom),j?(c.selected&&(d._removeClass(c.$element,"ui-selected"),c.selected=!1),c.unselecting&&(d._removeClass(c.$element,"ui-unselecting"),c.unselecting=!1),c.selecting||(d._addClass(c.$element,"ui-selecting"),c.selecting=!0,d._trigger("selecting",b,{selecting:c.element}))):(c.selecting&&((b.metaKey||b.ctrlKey)&&c.startselected?(d._removeClass(c.$element,"ui-selecting"),c.selecting=!1,d._addClass(c.$element,"ui-selected"),c.selected=!0):(d._removeClass(c.$element,"ui-selecting"),c.selecting=!1,c.startselected&&(d._addClass(c.$element,"ui-unselecting"),c.unselecting=!0),d._trigger("unselecting",b,{unselecting:c.element}))),c.selected&&(b.metaKey||b.ctrlKey||c.startselected||(d._removeClass(c.$element,"ui-selected"),c.selected=!1,d._addClass(c.$element,"ui-unselecting"),c.unselecting=!0,d._trigger("unselecting",b,{unselecting:c.element})))))}),!1}},_mouseStop:function(b){var c=this;return this.dragged=!1,a(".ui-unselecting",this.element[0]).each(function(){var d=a.data(this,"selectable-item");c._removeClass(d.$element,"ui-unselecting"),d.unselecting=!1,d.startselected=!1,c._trigger("unselected",b,{unselected:d.element})}),a(".ui-selecting",this.element[0]).each(function(){var d=a.data(this,"selectable-item");c._removeClass(d.$element,"ui-selecting")._addClass(d.$element,"ui-selected"),d.selecting=!1,d.selected=!0,d.startselected=!0,c._trigger("selected",b,{selected:d.element})}),this._trigger("stop",b),this.helper.remove(),!1}}),a.widget("ui.selectmenu",[a.ui.formResetMixin,{version:"1.12.1",defaultElement:"<select>",options:{appendTo:null,classes:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"},disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:!1,change:null,close:null,focus:null,open:null,select:null},_create:function(){var b=this.element.uniqueId().attr("id");this.ids={element:b,button:b+"-button",menu:b+"-menu"},this._drawButton(),this._drawMenu(),this._bindFormResetHandler(),this._rendered=!1,this.menuItems=a()},_drawButton:function(){var b,c=this,d=this._parseOption(this.element.find("option:selected"),this.element[0].selectedIndex);this.labels=this.element.labels().attr("for",this.ids.button),this._on(this.labels,{click:function(a){this.button.focus(),a.preventDefault()}}),this.element.hide(),this.button=a("<span>",{tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true",title:this.element.attr("title")}).insertAfter(this.element),this._addClass(this.button,"ui-selectmenu-button ui-selectmenu-button-closed","ui-button ui-widget"),b=a("<span>").appendTo(this.button),this._addClass(b,"ui-selectmenu-icon","ui-icon "+this.options.icons.button),this.buttonItem=this._renderButtonItem(d).appendTo(this.button),!1!==this.options.width&&this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){c._rendered||c._refreshMenu()})},_drawMenu:function(){var b=this;this.menu=a("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=a("<div>").append(this.menu),this._addClass(this.menuWrap,"ui-selectmenu-menu","ui-front"),this.menuWrap.appendTo(this._appendTo()),this.menuInstance=this.menu.menu({classes:{"ui-menu":"ui-corner-bottom"},role:"listbox",select:function(a,c){a.preventDefault(),b._setSelection(),b._select(c.item.data("ui-selectmenu-item"),a)},focus:function(a,c){var d=c.item.data("ui-selectmenu-item");null!=b.focusIndex&&d.index!==b.focusIndex&&(b._trigger("focus",a,{item:d}),b.isOpen||b._select(d,a)),b.focusIndex=d.index,b.button.attr("aria-activedescendant",b.menuItems.eq(d.index).attr("id"))}}).menu("instance"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(this._getSelectedItem().data("ui-selectmenu-item")||{})),null===this.options.width&&this._resizeButton()},_refreshMenu:function(){var a,b=this.element.find("option");this.menu.empty(),this._parseOptions(b),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup").find(".ui-menu-item-wrapper"),this._rendered=!0,b.length&&(a=this._getSelectedItem(),this.menuInstance.focus(null,a),this._setAria(a.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(a){this.options.disabled||(this._rendered?(this._removeClass(this.menu.find(".ui-state-active"),null,"ui-state-active"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.menuItems.length&&(this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",a)))},_position:function(){this.menuWrap.position(a.extend({of:this.button},this.options.position))},close:function(a){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",a))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderButtonItem:function(b){var c=a("<span>");return this._setText(c,b.label),this._addClass(c,"ui-selectmenu-text"),c},_renderMenu:function(b,c){var d=this,e="";a.each(c,function(c,f){var g;f.optgroup!==e&&(g=a("<li>",{text:f.optgroup}),d._addClass(g,"ui-selectmenu-optgroup","ui-menu-divider"+(f.element.parent("optgroup").prop("disabled")?" ui-state-disabled":"")),g.appendTo(b),e=f.optgroup),d._renderItemData(b,f)})},_renderItemData:function(a,b){return this._renderItem(a,b).data("ui-selectmenu-item",b)},_renderItem:function(b,c){var d=a("<li>"),e=a("<div>",{title:c.element.attr("title")});return c.disabled&&this._addClass(d,null,"ui-state-disabled"),this._setText(e,c.label),d.append(e).appendTo(b)},_setText:function(a,b){b?a.text(b):a.html("&#160;")},_move:function(a,b){var c,d,e=".ui-menu-item";this.isOpen?c=this.menuItems.eq(this.focusIndex).parent("li"):(c=this.menuItems.eq(this.element[0].selectedIndex).parent("li"),e+=":not(.ui-state-disabled)"),d="first"===a||"last"===a?c["first"===a?"prevAll":"nextAll"](e).eq(-1):c[a+"All"](e).eq(0),d.length&&this.menuInstance.focus(b,d)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex).parent("li")},_toggle:function(a){this[this.isOpen?"close":"open"](a)},_setSelection:function(){var a;this.range&&(window.getSelection?(a=window.getSelection(),a.removeAllRanges(),a.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(b){this.isOpen&&(a(b.target).closest(".ui-selectmenu-menu, #"+a.ui.escapeSelector(this.ids.button)).length||this.close(b))}},_buttonEvents:{mousedown:function(){var a;window.getSelection?(a=window.getSelection(),a.rangeCount&&(this.range=a.getRangeAt(0))):this.range=document.selection.createRange()},click:function(a){this._setSelection(),this._toggle(a)},keydown:function(b){var c=!0;switch(b.keyCode){case a.ui.keyCode.TAB:case a.ui.keyCode.ESCAPE:this.close(b),c=!1;break;case a.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(b);break;case a.ui.keyCode.UP:b.altKey?this._toggle(b):this._move("prev",b);break;case a.ui.keyCode.DOWN:b.altKey?this._toggle(b):this._move("next",b);break;case a.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(b):this._toggle(b);break;case a.ui.keyCode.LEFT:this._move("prev",b);break;case a.ui.keyCode.RIGHT:this._move("next",b);break;case a.ui.keyCode.HOME:case a.ui.keyCode.PAGE_UP:this._move("first",b);break;case a.ui.keyCode.END:case a.ui.keyCode.PAGE_DOWN:this._move("last",b);break;default:this.menu.trigger(b),c=!1}c&&b.preventDefault()}},_selectFocusedItem:function(a){var b=this.menuItems.eq(this.focusIndex).parent("li");b.hasClass("ui-state-disabled")||this._select(b.data("ui-selectmenu-item"),a)},_select:function(a,b){var c=this.element[0].selectedIndex;this.element[0].selectedIndex=a.index,this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(a)),this._setAria(a),this._trigger("select",b,{item:a}),a.index!==c&&this._trigger("change",b,{item:a}),this.close(b)},_setAria:function(a){var b=this.menuItems.eq(a.index).attr("id");this.button.attr({"aria-labelledby":b,"aria-activedescendant":b}),this.menu.attr("aria-activedescendant",b)},_setOption:function(a,b){if("icons"===a){var c=this.button.find("span.ui-icon");this._removeClass(c,null,this.options.icons.button)._addClass(c,null,b.button)}this._super(a,b),"appendTo"===a&&this.menuWrap.appendTo(this._appendTo()),"width"===a&&this._resizeButton()},_setOptionDisabled:function(a){this._super(a),this.menuInstance.option("disabled",a),this.button.attr("aria-disabled",a),this._toggleClass(this.button,null,"ui-state-disabled",a),this.element.prop("disabled",a),a?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)},_appendTo:function(){var b=this.options.appendTo;return b&&(b=b.jquery||b.nodeType?a(b):this.document.find(b).eq(0)),b&&b[0]||(b=this.element.closest(".ui-front, dialog")),b.length||(b=this.document[0].body),b},_toggleAttr:function(){this.button.attr("aria-expanded",this.isOpen),this._removeClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"closed":"open"))._addClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"open":"closed"))._toggleClass(this.menuWrap,"ui-selectmenu-open",null,this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var a=this.options.width;return!1===a?void this.button.css("width",""):(null===a&&(a=this.element.show().outerWidth(),this.element.hide()),void this.button.outerWidth(a))},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){var a=this._super();return a.disabled=this.element.prop("disabled"),a},_parseOptions:function(b){var c=this,d=[];b.each(function(b,e){d.push(c._parseOption(a(e),b))}),this.items=d},_parseOption:function(a,b){var c=a.parent("optgroup");return{element:a,index:b,value:a.val(),label:a.text(),optgroup:c.attr("label")||"",disabled:c.prop("disabled")||a.prop("disabled")}},_destroy:function(){this._unbindFormResetHandler(),this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.labels.attr("for",this.ids.element)}}]),a.widget("ui.slider",a.ui.mouse,{version:"1.12.1",widgetEventPrefix:"slide",options:{animate:!1,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content"),this._refresh(),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var b,c,d=this.options,e=this.element.find(".ui-slider-handle"),f=[];for(c=d.values&&d.values.length||1,e.length>c&&(e.slice(c).remove(),e=e.slice(0,c)),b=e.length;c>b;b++)f.push("<span tabindex='0'></span>");this.handles=e.add(a(f.join("")).appendTo(this.element)),this._addClass(this.handles,"ui-slider-handle","ui-state-default"),this.handle=this.handles.eq(0),this.handles.each(function(b){a(this).data("ui-slider-handle-index",b).attr("tabIndex",0)})},_createRange:function(){var b=this.options;b.range?(!0===b.range&&(b.values?b.values.length&&2!==b.values.length?b.values=[b.values[0],b.values[0]]:a.isArray(b.values)&&(b.values=b.values.slice(0)):b.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?(this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max"),this.range.css({left:"",bottom:""})):(this.range=a("<div>").appendTo(this.element),this._addClass(this.range,"ui-slider-range")),("min"===b.range||"max"===b.range)&&this._addClass(this.range,"ui-slider-range-"+b.range)):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this._mouseDestroy()},_mouseCapture:function(b){var c,d,e,f,g,h,i,j=this,k=this.options;return!k.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),c={x:b.pageX,y:b.pageY},d=this._normValueFromMouse(c),e=this._valueMax()-this._valueMin()+1,this.handles.each(function(b){var c=Math.abs(d-j.values(b));(e>c||e===c&&(b===j._lastChangedValue||j.values(b)===k.min))&&(e=c,f=a(this),g=b)}),!1!==this._start(b,g)&&(this._mouseSliding=!0,this._handleIndex=g,this._addClass(f,null,"ui-state-active"),f.trigger("focus"),h=f.offset(),i=!a(b.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=i?{left:0,top:0}:{left:b.pageX-h.left-f.width()/2,top:b.pageY-h.top-f.height()/2-(parseInt(f.css("borderTopWidth"),10)||0)-(parseInt(f.css("borderBottomWidth"),10)||0)+(parseInt(f.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(b,g,d),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(a){var b={x:a.pageX,y:a.pageY},c=this._normValueFromMouse(b);return this._slide(a,this._handleIndex,c),!1},_mouseStop:function(a){return this._removeClass(this.handles,null,"ui-state-active"),this._mouseSliding=!1,this._stop(a,this._handleIndex),this._change(a,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(a){var b,c,d,e,f;return"horizontal"===this.orientation?(b=this.elementSize.width,c=a.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(b=this.elementSize.height,c=a.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),d=c/b,d>1&&(d=1),0>d&&(d=0),"vertical"===this.orientation&&(d=1-d),e=this._valueMax()-this._valueMin(),f=this._valueMin()+d*e,this._trimAlignValue(f)},_uiHash:function(a,b,c){var d={handle:this.handles[a],handleIndex:a,value:void 0!==b?b:this.value()};return this._hasMultipleValues()&&(d.value=void 0!==b?b:this.values(a),d.values=c||this.values()),d},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(a,b){return this._trigger("start",a,this._uiHash(b))},_slide:function(a,b,c){var d,e=this.value(),f=this.values();this._hasMultipleValues()&&(d=this.values(b?0:1),e=this.values(b),2===this.options.values.length&&!0===this.options.range&&(c=0===b?Math.min(d,c):Math.max(d,c)),f[b]=c),c!==e&&!1!==this._trigger("slide",a,this._uiHash(b,c,f))&&(this._hasMultipleValues()?this.values(b,c):this.value(c))},_stop:function(a,b){this._trigger("stop",a,this._uiHash(b))},_change:function(a,b){this._keySliding||this._mouseSliding||(this._lastChangedValue=b,this._trigger("change",a,this._uiHash(b)))},value:function(a){return arguments.length?(this.options.value=this._trimAlignValue(a),this._refreshValue(),void this._change(null,0)):this._value()},values:function(b,c){var d,e,f;if(arguments.length>1)return this.options.values[b]=this._trimAlignValue(c),this._refreshValue(),void this._change(null,b);if(!arguments.length)return this._values();if(!a.isArray(arguments[0]))return this._hasMultipleValues()?this._values(b):this.value();for(d=this.options.values,e=arguments[0],f=0;d.length>f;f+=1)d[f]=this._trimAlignValue(e[f]),this._change(null,f);this._refreshValue()},_setOption:function(b,c){var d,e=0;switch("range"===b&&!0===this.options.range&&("min"===c?(this.options.value=this._values(0),this.options.values=null):"max"===c&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),a.isArray(this.options.values)&&(e=this.options.values.length),this._super(b,c),b){case"orientation":this._detectOrientation(),this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation),this._refreshValue(),this.options.range&&this._refreshRange(c),this.handles.css("horizontal"===c?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":
for(this._animateOff=!0,this._refreshValue(),d=e-1;d>=0;d--)this._change(null,d);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_setOptionDisabled:function(a){this._super(a),this._toggleClass(null,"ui-state-disabled",!!a)},_value:function(){var a=this.options.value;return a=this._trimAlignValue(a)},_values:function(a){var b,c,d;if(arguments.length)return b=this.options.values[a],b=this._trimAlignValue(b);if(this._hasMultipleValues()){for(c=this.options.values.slice(),d=0;c.length>d;d+=1)c[d]=this._trimAlignValue(c[d]);return c}return[]},_trimAlignValue:function(a){if(this._valueMin()>=a)return this._valueMin();if(a>=this._valueMax())return this._valueMax();var b=this.options.step>0?this.options.step:1,c=(a-this._valueMin())%b,d=a-c;return 2*Math.abs(c)>=b&&(d+=c>0?b:-b),parseFloat(d.toFixed(5))},_calculateNewMax:function(){var a=this.options.max,b=this._valueMin(),c=this.options.step;a=Math.round((a-b)/c)*c+b,a>this.options.max&&(a-=c),this.max=parseFloat(a.toFixed(this._precision()))},_precision:function(){var a=this._precisionOf(this.options.step);return null!==this.options.min&&(a=Math.max(a,this._precisionOf(this.options.min))),a},_precisionOf:function(a){var b=""+a,c=b.indexOf(".");return-1===c?0:b.length-c-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(a){"vertical"===a&&this.range.css({width:"",left:""}),"horizontal"===a&&this.range.css({height:"",bottom:""})},_refreshValue:function(){var b,c,d,e,f,g=this.options.range,h=this.options,i=this,j=!this._animateOff&&h.animate,k={};this._hasMultipleValues()?this.handles.each(function(d){c=(i.values(d)-i._valueMin())/(i._valueMax()-i._valueMin())*100,k["horizontal"===i.orientation?"left":"bottom"]=c+"%",a(this).stop(1,1)[j?"animate":"css"](k,h.animate),!0===i.options.range&&("horizontal"===i.orientation?(0===d&&i.range.stop(1,1)[j?"animate":"css"]({left:c+"%"},h.animate),1===d&&i.range[j?"animate":"css"]({width:c-b+"%"},{queue:!1,duration:h.animate})):(0===d&&i.range.stop(1,1)[j?"animate":"css"]({bottom:c+"%"},h.animate),1===d&&i.range[j?"animate":"css"]({height:c-b+"%"},{queue:!1,duration:h.animate}))),b=c}):(d=this.value(),e=this._valueMin(),f=this._valueMax(),c=f!==e?(d-e)/(f-e)*100:0,k["horizontal"===this.orientation?"left":"bottom"]=c+"%",this.handle.stop(1,1)[j?"animate":"css"](k,h.animate),"min"===g&&"horizontal"===this.orientation&&this.range.stop(1,1)[j?"animate":"css"]({width:c+"%"},h.animate),"max"===g&&"horizontal"===this.orientation&&this.range.stop(1,1)[j?"animate":"css"]({width:100-c+"%"},h.animate),"min"===g&&"vertical"===this.orientation&&this.range.stop(1,1)[j?"animate":"css"]({height:c+"%"},h.animate),"max"===g&&"vertical"===this.orientation&&this.range.stop(1,1)[j?"animate":"css"]({height:100-c+"%"},h.animate))},_handleEvents:{keydown:function(b){var c,d,e,f=a(b.target).data("ui-slider-handle-index");switch(b.keyCode){case a.ui.keyCode.HOME:case a.ui.keyCode.END:case a.ui.keyCode.PAGE_UP:case a.ui.keyCode.PAGE_DOWN:case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:if(b.preventDefault(),!this._keySliding&&(this._keySliding=!0,this._addClass(a(b.target),null,"ui-state-active"),!1===this._start(b,f)))return}switch(e=this.options.step,c=d=this._hasMultipleValues()?this.values(f):this.value(),b.keyCode){case a.ui.keyCode.HOME:d=this._valueMin();break;case a.ui.keyCode.END:d=this._valueMax();break;case a.ui.keyCode.PAGE_UP:d=this._trimAlignValue(c+(this._valueMax()-this._valueMin())/this.numPages);break;case a.ui.keyCode.PAGE_DOWN:d=this._trimAlignValue(c-(this._valueMax()-this._valueMin())/this.numPages);break;case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:if(c===this._valueMax())return;d=this._trimAlignValue(c+e);break;case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:if(c===this._valueMin())return;d=this._trimAlignValue(c-e)}this._slide(b,f,d)},keyup:function(b){var c=a(b.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(b,c),this._change(b,c),this._removeClass(a(b.target),null,"ui-state-active"))}}}),a.widget("ui.sortable",a.ui.mouse,{version:"1.12.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(a,b,c){return a>=b&&b+c>a},_isFloating:function(a){return/left|right/.test(a.css("float"))||/inline|table-cell/.test(a.css("display"))},_create:function(){this.containerCache={},this._addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(a,b){this._super(a,b),"handle"===a&&this._setHandleClassName()},_setHandleClassName:function(){var b=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle"),a.each(this.items,function(){b._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")})},_destroy:function(){this._mouseDestroy();for(var a=this.items.length-1;a>=0;a--)this.items[a].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(b,c){var d=null,e=!1,f=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(b),a(b.target).parents().each(function(){return a.data(this,f.widgetName+"-item")===f?(d=a(this),!1):void 0}),a.data(b.target,f.widgetName+"-item")===f&&(d=a(b.target)),!!d&&(!(this.options.handle&&!c&&(a(this.options.handle,d).find("*").addBack().each(function(){this===b.target&&(e=!0)}),!e))&&(this.currentItem=d,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(b,c,d){var e,f,g=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(b),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},a.extend(this.offset,{click:{left:b.pageX-this.offset.left,top:b.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(b),this.originalPageX=b.pageX,this.originalPageY=b.pageY,g.cursorAt&&this._adjustOffsetFromHelper(g.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),g.containment&&this._setContainment(),g.cursor&&"auto"!==g.cursor&&(f=this.document.find("body"),this.storedCursor=f.css("cursor"),f.css("cursor",g.cursor),this.storedStylesheet=a("<style>*{ cursor: "+g.cursor+" !important; }</style>").appendTo(f)),g.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",g.opacity)),g.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",g.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",b,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!d)for(e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("activate",b,this._uiHash(this));return a.ui.ddmanager&&(a.ui.ddmanager.current=this),a.ui.ddmanager&&!g.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this._mouseDrag(b),!0},_mouseDrag:function(b){var c,d,e,f,g=this.options,h=!1;for(this.position=this._generatePosition(b),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-b.pageY<g.scrollSensitivity?this.scrollParent[0].scrollTop=h=this.scrollParent[0].scrollTop+g.scrollSpeed:b.pageY-this.overflowOffset.top<g.scrollSensitivity&&(this.scrollParent[0].scrollTop=h=this.scrollParent[0].scrollTop-g.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-b.pageX<g.scrollSensitivity?this.scrollParent[0].scrollLeft=h=this.scrollParent[0].scrollLeft+g.scrollSpeed:b.pageX-this.overflowOffset.left<g.scrollSensitivity&&(this.scrollParent[0].scrollLeft=h=this.scrollParent[0].scrollLeft-g.scrollSpeed)):(b.pageY-this.document.scrollTop()<g.scrollSensitivity?h=this.document.scrollTop(this.document.scrollTop()-g.scrollSpeed):this.window.height()-(b.pageY-this.document.scrollTop())<g.scrollSensitivity&&(h=this.document.scrollTop(this.document.scrollTop()+g.scrollSpeed)),b.pageX-this.document.scrollLeft()<g.scrollSensitivity?h=this.document.scrollLeft(this.document.scrollLeft()-g.scrollSpeed):this.window.width()-(b.pageX-this.document.scrollLeft())<g.scrollSensitivity&&(h=this.document.scrollLeft(this.document.scrollLeft()+g.scrollSpeed))),!1!==h&&a.ui.ddmanager&&!g.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),c=this.items.length-1;c>=0;c--)if(d=this.items[c],e=d.item[0],(f=this._intersectsWithPointer(d))&&d.instance===this.currentContainer&&e!==this.currentItem[0]&&this.placeholder[1===f?"next":"prev"]()[0]!==e&&!a.contains(this.placeholder[0],e)&&("semi-dynamic"!==this.options.type||!a.contains(this.element[0],e))){if(this.direction=1===f?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(d))break;this._rearrange(b,d),this._trigger("change",b,this._uiHash());break}return this._contactContainers(b),a.ui.ddmanager&&a.ui.ddmanager.drag(this,b),this._trigger("sort",b,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(b,c){if(b){if(a.ui.ddmanager&&!this.options.dropBehaviour&&a.ui.ddmanager.drop(this,b),this.options.revert){var d=this,e=this.placeholder.offset(),f=this.options.axis,g={};f&&"x"!==f||(g.left=e.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),f&&"y"!==f||(g.top=e.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,a(this.helper).animate(g,parseInt(this.options.revert,10)||500,function(){d._clear(b)})}else this._clear(b,c);return!1}},cancel:function(){if(this.dragging){this._mouseUp(new a.Event("mouseup",{target:null})),"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var b=this.containers.length-1;b>=0;b--)this.containers[b]._trigger("deactivate",null,this._uiHash(this)),this.containers[b].containerCache.over&&(this.containers[b]._trigger("out",null,this._uiHash(this)),this.containers[b].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),a.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?a(this.domPosition.prev).after(this.currentItem):a(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(b){var c=this._getItemsAsjQuery(b&&b.connected),d=[];return b=b||{},a(c).each(function(){var c=(a(b.item||this).attr(b.attribute||"id")||"").match(b.expression||/(.+)[\-=_](.+)/);c&&d.push((b.key||c[1]+"[]")+"="+(b.key&&b.expression?c[1]:c[2]))}),!d.length&&b.key&&d.push(b.key+"="),d.join("&")},toArray:function(b){var c=this._getItemsAsjQuery(b&&b.connected),d=[];return b=b||{},c.each(function(){d.push(a(b.item||this).attr(b.attribute||"id")||"")}),d},_intersectsWith:function(a){var b=this.positionAbs.left,c=b+this.helperProportions.width,d=this.positionAbs.top,e=d+this.helperProportions.height,f=a.left,g=f+a.width,h=a.top,i=h+a.height,j=this.offset.click.top,k=this.offset.click.left,l="x"===this.options.axis||d+j>h&&i>d+j,m="y"===this.options.axis||b+k>f&&g>b+k,n=l&&m;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>a[this.floating?"width":"height"]?n:b+this.helperProportions.width/2>f&&g>c-this.helperProportions.width/2&&d+this.helperProportions.height/2>h&&i>e-this.helperProportions.height/2},_intersectsWithPointer:function(a){var b,c,d="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,a.top,a.height),e="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,a.left,a.width);return!(!d||!e)&&(b=this._getDragVerticalDirection(),c=this._getDragHorizontalDirection(),this.floating?"right"===c||"down"===b?2:1:b&&("down"===b?2:1))},_intersectsWithSides:function(a){var b=this._isOverAxis(this.positionAbs.top+this.offset.click.top,a.top+a.height/2,a.height),c=this._isOverAxis(this.positionAbs.left+this.offset.click.left,a.left+a.width/2,a.width),d=this._getDragVerticalDirection(),e=this._getDragHorizontalDirection();return this.floating&&e?"right"===e&&c||"left"===e&&!c:d&&("down"===d&&b||"up"===d&&!b)},_getDragVerticalDirection:function(){var a=this.positionAbs.top-this.lastPositionAbs.top;return 0!==a&&(a>0?"down":"up")},_getDragHorizontalDirection:function(){var a=this.positionAbs.left-this.lastPositionAbs.left;return 0!==a&&(a>0?"right":"left")},refresh:function(a){return this._refreshItems(a),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var a=this.options;return a.connectWith.constructor===String?[a.connectWith]:a.connectWith},_getItemsAsjQuery:function(b){function c(){h.push(this)}var d,e,f,g,h=[],i=[],j=this._connectWith();if(j&&b)for(d=j.length-1;d>=0;d--)for(f=a(j[d],this.document[0]),e=f.length-1;e>=0;e--)(g=a.data(f[e],this.widgetFullName))&&g!==this&&!g.options.disabled&&i.push([a.isFunction(g.options.items)?g.options.items.call(g.element):a(g.options.items,g.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),g]);for(i.push([a.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):a(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),d=i.length-1;d>=0;d--)i[d][0].each(c);return a(h)},_removeCurrentsFromItems:function(){var b=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=a.grep(this.items,function(a){for(var c=0;b.length>c;c++)if(b[c]===a.item[0])return!1;return!0})},_refreshItems:function(b){this.items=[],this.containers=[this];var c,d,e,f,g,h,i,j,k=this.items,l=[[a.isFunction(this.options.items)?this.options.items.call(this.element[0],b,{item:this.currentItem}):a(this.options.items,this.element),this]],m=this._connectWith();if(m&&this.ready)for(c=m.length-1;c>=0;c--)for(e=a(m[c],this.document[0]),d=e.length-1;d>=0;d--)(f=a.data(e[d],this.widgetFullName))&&f!==this&&!f.options.disabled&&(l.push([a.isFunction(f.options.items)?f.options.items.call(f.element[0],b,{item:this.currentItem}):a(f.options.items,f.element),f]),this.containers.push(f));for(c=l.length-1;c>=0;c--)for(g=l[c][1],h=l[c][0],d=0,j=h.length;j>d;d++)i=a(h[d]),i.data(this.widgetName+"-item",g),k.push({item:i,instance:g,width:0,height:0,left:0,top:0})},refreshPositions:function(b){this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item)),this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var c,d,e,f;for(c=this.items.length-1;c>=0;c--)d=this.items[c],d.instance!==this.currentContainer&&this.currentContainer&&d.item[0]!==this.currentItem[0]||(e=this.options.toleranceElement?a(this.options.toleranceElement,d.item):d.item,b||(d.width=e.outerWidth(),d.height=e.outerHeight()),f=e.offset(),d.left=f.left,d.top=f.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(c=this.containers.length-1;c>=0;c--)f=this.containers[c].element.offset(),this.containers[c].containerCache.left=f.left,this.containers[c].containerCache.top=f.top,this.containers[c].containerCache.width=this.containers[c].element.outerWidth(),this.containers[c].containerCache.height=this.containers[c].element.outerHeight();return this},_createPlaceholder:function(b){b=b||this;var c,d=b.options;d.placeholder&&d.placeholder.constructor!==String||(c=d.placeholder,d.placeholder={element:function(){var d=b.currentItem[0].nodeName.toLowerCase(),e=a("<"+d+">",b.document[0]);return b._addClass(e,"ui-sortable-placeholder",c||b.currentItem[0].className)._removeClass(e,"ui-sortable-helper"),"tbody"===d?b._createTrPlaceholder(b.currentItem.find("tr").eq(0),a("<tr>",b.document[0]).appendTo(e)):"tr"===d?b._createTrPlaceholder(b.currentItem,e):"img"===d&&e.attr("src",b.currentItem.attr("src")),c||e.css("visibility","hidden"),e},update:function(a,e){(!c||d.forcePlaceholderSize)&&(e.height()||e.height(b.currentItem.innerHeight()-parseInt(b.currentItem.css("paddingTop")||0,10)-parseInt(b.currentItem.css("paddingBottom")||0,10)),e.width()||e.width(b.currentItem.innerWidth()-parseInt(b.currentItem.css("paddingLeft")||0,10)-parseInt(b.currentItem.css("paddingRight")||0,10)))}}),b.placeholder=a(d.placeholder.element.call(b.element,b.currentItem)),b.currentItem.after(b.placeholder),d.placeholder.update(b,b.placeholder)},_createTrPlaceholder:function(b,c){var d=this;b.children().each(function(){a("<td>&#160;</td>",d.document[0]).attr("colspan",a(this).attr("colspan")||1).appendTo(c)})},_contactContainers:function(b){var c,d,e,f,g,h,i,j,k,l,m=null,n=null;for(c=this.containers.length-1;c>=0;c--)if(!a.contains(this.currentItem[0],this.containers[c].element[0]))if(this._intersectsWith(this.containers[c].containerCache)){if(m&&a.contains(this.containers[c].element[0],m.element[0]))continue;m=this.containers[c],n=c}else this.containers[c].containerCache.over&&(this.containers[c]._trigger("out",b,this._uiHash(this)),this.containers[c].containerCache.over=0);if(m)if(1===this.containers.length)this.containers[n].containerCache.over||(this.containers[n]._trigger("over",b,this._uiHash(this)),this.containers[n].containerCache.over=1);else{for(e=1e4,f=null,k=m.floating||this._isFloating(this.currentItem),g=k?"left":"top",h=k?"width":"height",l=k?"pageX":"pageY",d=this.items.length-1;d>=0;d--)a.contains(this.containers[n].element[0],this.items[d].item[0])&&this.items[d].item[0]!==this.currentItem[0]&&(i=this.items[d].item.offset()[g],j=!1,b[l]-i>this.items[d][h]/2&&(j=!0),e>Math.abs(b[l]-i)&&(e=Math.abs(b[l]-i),f=this.items[d],this.direction=j?"up":"down"));if(!f&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[n])return void(this.currentContainer.containerCache.over||(this.containers[n]._trigger("over",b,this._uiHash()),this.currentContainer.containerCache.over=1));f?this._rearrange(b,f,null,!0):this._rearrange(b,null,this.containers[n].element,!0),this._trigger("change",b,this._uiHash()),this.containers[n]._trigger("change",b,this._uiHash(this)),this.currentContainer=this.containers[n],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[n]._trigger("over",b,this._uiHash(this)),this.containers[n].containerCache.over=1}},_createHelper:function(b){var c=this.options,d=a.isFunction(c.helper)?a(c.helper.apply(this.element[0],[b,this.currentItem])):"clone"===c.helper?this.currentItem.clone():this.currentItem;return d.parents("body").length||a("parent"!==c.appendTo?c.appendTo:this.currentItem[0].parentNode)[0].appendChild(d[0]),d[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!d[0].style.width||c.forceHelperSize)&&d.width(this.currentItem.width()),(!d[0].style.height||c.forceHelperSize)&&d.height(this.currentItem.height()),d},_adjustOffsetFromHelper:function(b){"string"==typeof b&&(b=b.split(" ")),a.isArray(b)&&(b={left:+b[0],top:+b[1]||0}),"left"in b&&(this.offset.click.left=b.left+this.margins.left),"right"in b&&(this.offset.click.left=this.helperProportions.width-b.right+this.margins.left),"top"in b&&(this.offset.click.top=b.top+this.margins.top),"bottom"in b&&(this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var b=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&a.contains(this.scrollParent[0],this.offsetParent[0])&&(b.left+=this.scrollParent.scrollLeft(),b.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&a.ui.ie)&&(b={top:0,left:0}),{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var a=this.currentItem.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var b,c,d,e=this.options;"parent"===e.containment&&(e.containment=this.helper[0].parentNode),("document"===e.containment||"window"===e.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===e.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===e.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(e.containment)||(b=a(e.containment)[0],c=a(e.containment).offset(),d="hidden"!==a(b).css("overflow"),this.containment=[c.left+(parseInt(a(b).css("borderLeftWidth"),10)||0)+(parseInt(a(b).css("paddingLeft"),10)||0)-this.margins.left,c.top+(parseInt(a(b).css("borderTopWidth"),10)||0)+(parseInt(a(b).css("paddingTop"),10)||0)-this.margins.top,c.left+(d?Math.max(b.scrollWidth,b.offsetWidth):b.offsetWidth)-(parseInt(a(b).css("borderLeftWidth"),10)||0)-(parseInt(a(b).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,c.top+(d?Math.max(b.scrollHeight,b.offsetHeight):b.offsetHeight)-(parseInt(a(b).css("borderTopWidth"),10)||0)-(parseInt(a(b).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(b,c){c||(c=this.position);var d="absolute"===b?1:-1,e="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,f=/(html|body)/i.test(e[0].tagName);return{top:c.top+this.offset.relative.top*d+this.offset.parent.top*d-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():f?0:e.scrollTop())*d,left:c.left+this.offset.relative.left*d+this.offset.parent.left*d-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():f?0:e.scrollLeft())*d}},_generatePosition:function(b){var c,d,e=this.options,f=b.pageX,g=b.pageY,h="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,i=/(html|body)/i.test(h[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(b.pageX-this.offset.click.left<this.containment[0]&&(f=this.containment[0]+this.offset.click.left),b.pageY-this.offset.click.top<this.containment[1]&&(g=this.containment[1]+this.offset.click.top),b.pageX-this.offset.click.left>this.containment[2]&&(f=this.containment[2]+this.offset.click.left),b.pageY-this.offset.click.top>this.containment[3]&&(g=this.containment[3]+this.offset.click.top)),e.grid&&(c=this.originalPageY+Math.round((g-this.originalPageY)/e.grid[1])*e.grid[1],g=this.containment?c-this.offset.click.top>=this.containment[1]&&c-this.offset.click.top<=this.containment[3]?c:c-this.offset.click.top>=this.containment[1]?c-e.grid[1]:c+e.grid[1]:c,d=this.originalPageX+Math.round((f-this.originalPageX)/e.grid[0])*e.grid[0],f=this.containment?d-this.offset.click.left>=this.containment[0]&&d-this.offset.click.left<=this.containment[2]?d:d-this.offset.click.left>=this.containment[0]?d-e.grid[0]:d+e.grid[0]:d)),{top:g-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():i?0:h.scrollTop()),left:f-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():i?0:h.scrollLeft())}},_rearrange:function(a,b,c,d){c?c[0].appendChild(this.placeholder[0]):b.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?b.item[0]:b.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var e=this.counter;this._delay(function(){e===this.counter&&this.refreshPositions(!d)})},_clear:function(a,b){function c(a,b,c){return function(d){c._trigger(a,d,b._uiHash(b))}}this.reverting=!1;var d,e=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(d in this._storedCSS)("auto"===this._storedCSS[d]||"static"===this._storedCSS[d])&&(this._storedCSS[d]="");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!b&&e.push(function(a){this._trigger("receive",a,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||b||e.push(function(a){this._trigger("update",a,this._uiHash())}),this!==this.currentContainer&&(b||(e.push(function(a){this._trigger("remove",a,this._uiHash())}),e.push(function(a){return function(b){a._trigger("receive",b,this._uiHash(this))}}.call(this,this.currentContainer)),e.push(function(a){return function(b){a._trigger("update",b,this._uiHash(this))}}.call(this,this.currentContainer)))),d=this.containers.length-1;d>=0;d--)b||e.push(c("deactivate",this,this.containers[d])),this.containers[d].containerCache.over&&(e.push(c("out",this,this.containers[d])),this.containers[d].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,b||this._trigger("beforeStop",a,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!b){for(d=0;e.length>d;d++)e[d].call(this,a);this._trigger("stop",a,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){!1===a.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(b){var c=b||this;return{helper:c.helper,placeholder:c.placeholder||a([]),position:c.position,originalPosition:c.originalPosition,offset:c.positionAbs,item:c.currentItem,sender:b?b.element:null}}}),a.widget("ui.spinner",{version:"1.12.1",defaultElement:"<input>",widgetEventPrefix:"spin",options:{classes:{"ui-spinner":"ui-corner-all","ui-spinner-down":"ui-corner-br","ui-spinner-up":"ui-corner-tr"},culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var b=this._super(),c=this.element;return a.each(["min","max","step"],function(a,d){var e=c.attr(d);null!=e&&e.length&&(b[d]=e)}),b},_events:{keydown:function(a){this._start(a)&&this._keydown(a)&&a.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(a){return this.cancelBlur?void delete this.cancelBlur:(this._stop(),this._refresh(),void(this.previous!==this.element.val()&&this._trigger("change",a)))},mousewheel:function(a,b){if(b){if(!this.spinning&&!this._start(a))return!1;this._spin((b>0?1:-1)*this.options.step,a),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(a)},100),a.preventDefault()}},"mousedown .ui-spinner-button":function(b){function c(){this.element[0]===a.ui.safeActiveElement(this.document[0])||(this.element.trigger("focus"),this.previous=d,this._delay(function(){this.previous=d}))}var d;d=this.element[0]===a.ui.safeActiveElement(this.document[0])?this.previous:this.element.val(),b.preventDefault(),c.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,c.call(this)}),!1!==this._start(b)&&this._repeat(null,a(b.currentTarget).hasClass("ui-spinner-up")?1:-1,b)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(b){return a(b.currentTarget).hasClass("ui-state-active")?!1!==this._start(b)&&void this._repeat(null,a(b.currentTarget).hasClass("ui-spinner-up")?1:-1,b):void 0},"mouseleave .ui-spinner-button":"_stop"},_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap("<span>").parent().append("<a></a><a></a>")},_draw:function(){this._enhance(),this._addClass(this.uiSpinner,"ui-spinner","ui-widget ui-widget-content"),this._addClass("ui-spinner-input"),this.element.attr("role","spinbutton"),this.buttons=this.uiSpinner.children("a").attr("tabIndex",-1).attr("aria-hidden",!0).button({classes:{"ui-button":""}}),this._removeClass(this.buttons,"ui-corner-all"),this._addClass(this.buttons.first(),"ui-spinner-button ui-spinner-up"),this._addClass(this.buttons.last(),"ui-spinner-button ui-spinner-down"),this.buttons.first().button({icon:this.options.icons.up,showLabel:!1}),this.buttons.last().button({icon:this.options.icons.down,showLabel:!1}),this.buttons.height()>Math.ceil(.5*this.uiSpinner.height())&&this.uiSpinner.height()>0&&this.uiSpinner.height(this.uiSpinner.height())},_keydown:function(b){
var c=this.options,d=a.ui.keyCode;switch(b.keyCode){case d.UP:return this._repeat(null,1,b),!0;case d.DOWN:return this._repeat(null,-1,b),!0;case d.PAGE_UP:return this._repeat(null,c.page,b),!0;case d.PAGE_DOWN:return this._repeat(null,-c.page,b),!0}return!1},_start:function(a){return!(!this.spinning&&!1===this._trigger("start",a))&&(this.counter||(this.counter=1),this.spinning=!0,!0)},_repeat:function(a,b,c){a=a||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,b,c)},a),this._spin(b*this.options.step,c)},_spin:function(a,b){var c=this.value()||0;this.counter||(this.counter=1),c=this._adjustValue(c+a*this._increment(this.counter)),this.spinning&&!1===this._trigger("spin",b,{value:c})||(this._value(c),this.counter++)},_increment:function(b){var c=this.options.incremental;return c?a.isFunction(c)?c(b):Math.floor(b*b*b/5e4-b*b/500+17*b/200+1):1},_precision:function(){var a=this._precisionOf(this.options.step);return null!==this.options.min&&(a=Math.max(a,this._precisionOf(this.options.min))),a},_precisionOf:function(a){var b=""+a,c=b.indexOf(".");return-1===c?0:b.length-c-1},_adjustValue:function(a){var b,c,d=this.options;return b=null!==d.min?d.min:0,c=a-b,c=Math.round(c/d.step)*d.step,a=b+c,a=parseFloat(a.toFixed(this._precision())),null!==d.max&&a>d.max?d.max:null!==d.min&&d.min>a?d.min:a},_stop:function(a){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",a))},_setOption:function(a,b){var c,d,e;return"culture"===a||"numberFormat"===a?(c=this._parse(this.element.val()),this.options[a]=b,void this.element.val(this._format(c))):(("max"===a||"min"===a||"step"===a)&&"string"==typeof b&&(b=this._parse(b)),"icons"===a&&(d=this.buttons.first().find(".ui-icon"),this._removeClass(d,null,this.options.icons.up),this._addClass(d,null,b.up),e=this.buttons.last().find(".ui-icon"),this._removeClass(e,null,this.options.icons.down),this._addClass(e,null,b.down)),void this._super(a,b))},_setOptionDisabled:function(a){this._super(a),this._toggleClass(this.uiSpinner,null,"ui-state-disabled",!!a),this.element.prop("disabled",!!a),this.buttons.button(a?"disable":"enable")},_setOptions:h(function(a){this._super(a)}),_parse:function(a){return"string"==typeof a&&""!==a&&(a=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(a,10,this.options.culture):+a),""===a||isNaN(a)?null:a},_format:function(a){return""===a?"":window.Globalize&&this.options.numberFormat?Globalize.format(a,this.options.numberFormat,this.options.culture):a},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var a=this.value();return null!==a&&a===this._adjustValue(a)},_value:function(a,b){var c;""!==a&&null!==(c=this._parse(a))&&(b||(c=this._adjustValue(c)),a=this._format(c)),this.element.val(a),this._refresh()},_destroy:function(){this.element.prop("disabled",!1).removeAttr("autocomplete role aria-valuemin aria-valuemax aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:h(function(a){this._stepUp(a)}),_stepUp:function(a){this._start()&&(this._spin((a||1)*this.options.step),this._stop())},stepDown:h(function(a){this._stepDown(a)}),_stepDown:function(a){this._start()&&(this._spin((a||1)*-this.options.step),this._stop())},pageUp:h(function(a){this._stepUp((a||1)*this.options.page)}),pageDown:h(function(a){this._stepDown((a||1)*this.options.page)}),value:function(a){return arguments.length?void h(this._value).call(this,a):this._parse(this.element.val())},widget:function(){return this.uiSpinner}}),!1!==a.uiBackCompat&&a.widget("ui.spinner",a.ui.spinner,{_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml())},_uiSpinnerHtml:function(){return"<span>"},_buttonHtml:function(){return"<a></a><a></a>"}}),a.ui.spinner,a.widget("ui.tabs",{version:"1.12.1",delay:300,options:{active:null,classes:{"ui-tabs":"ui-corner-all","ui-tabs-nav":"ui-corner-all","ui-tabs-panel":"ui-corner-bottom","ui-tabs-tab":"ui-corner-top"},collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var a=/#.*$/;return function(b){var c,d;c=b.href.replace(a,""),d=location.href.replace(a,"");try{c=decodeURIComponent(c)}catch(e){}try{d=decodeURIComponent(d)}catch(e){}return b.hash.length>1&&c===d}}(),_create:function(){var b=this,c=this.options;this.running=!1,this._addClass("ui-tabs","ui-widget ui-widget-content"),this._toggleClass("ui-tabs-collapsible",null,c.collapsible),this._processTabs(),c.active=this._initialActive(),a.isArray(c.disabled)&&(c.disabled=a.unique(c.disabled.concat(a.map(this.tabs.filter(".ui-state-disabled"),function(a){return b.tabs.index(a)}))).sort()),this.active=!1!==this.options.active&&this.anchors.length?this._findActive(c.active):a(),this._refresh(),this.active.length&&this.load(c.active)},_initialActive:function(){var b=this.options.active,c=this.options.collapsible,d=location.hash.substring(1);return null===b&&(d&&this.tabs.each(function(c,e){return a(e).attr("aria-controls")===d?(b=c,!1):void 0}),null===b&&(b=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===b||-1===b)&&(b=!!this.tabs.length&&0)),!1!==b&&-1===(b=this.tabs.index(this.tabs.eq(b)))&&(b=!c&&0),!c&&!1===b&&this.anchors.length&&(b=0),b},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):a()}},_tabKeydown:function(b){var c=a(a.ui.safeActiveElement(this.document[0])).closest("li"),d=this.tabs.index(c),e=!0;if(!this._handlePageNav(b)){switch(b.keyCode){case a.ui.keyCode.RIGHT:case a.ui.keyCode.DOWN:d++;break;case a.ui.keyCode.UP:case a.ui.keyCode.LEFT:e=!1,d--;break;case a.ui.keyCode.END:d=this.anchors.length-1;break;case a.ui.keyCode.HOME:d=0;break;case a.ui.keyCode.SPACE:return b.preventDefault(),clearTimeout(this.activating),void this._activate(d);case a.ui.keyCode.ENTER:return b.preventDefault(),clearTimeout(this.activating),void this._activate(d!==this.options.active&&d);default:return}b.preventDefault(),clearTimeout(this.activating),d=this._focusNextTab(d,e),b.ctrlKey||b.metaKey||(c.attr("aria-selected","false"),this.tabs.eq(d).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",d)},this.delay))}},_panelKeydown:function(b){this._handlePageNav(b)||b.ctrlKey&&b.keyCode===a.ui.keyCode.UP&&(b.preventDefault(),this.active.trigger("focus"))},_handlePageNav:function(b){return b.altKey&&b.keyCode===a.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):b.altKey&&b.keyCode===a.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(b,c){function d(){return b>e&&(b=0),0>b&&(b=e),b}for(var e=this.tabs.length-1;-1!==a.inArray(d(),this.options.disabled);)b=c?b+1:b-1;return b},_focusNextTab:function(a,b){return a=this._findNextTab(a,b),this.tabs.eq(a).trigger("focus"),a},_setOption:function(a,b){return"active"===a?void this._activate(b):(this._super(a,b),"collapsible"===a&&(this._toggleClass("ui-tabs-collapsible",null,b),b||!1!==this.options.active||this._activate(0)),"event"===a&&this._setupEvents(b),void("heightStyle"===a&&this._setupHeightStyle(b)))},_sanitizeSelector:function(a){return a?a.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var b=this.options,c=this.tablist.children(":has(a[href])");b.disabled=a.map(c.filter(".ui-state-disabled"),function(a){return c.index(a)}),this._processTabs(),!1!==b.active&&this.anchors.length?this.active.length&&!a.contains(this.tablist[0],this.active[0])?this.tabs.length===b.disabled.length?(b.active=!1,this.active=a()):this._activate(this._findNextTab(Math.max(0,b.active-1),!1)):b.active=this.tabs.index(this.active):(b.active=!1,this.active=a()),this._refresh()},_refresh:function(){this._setOptionDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._addClass(this.active,"ui-tabs-active","ui-state-active"),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var b=this,c=this.tabs,d=this.anchors,e=this.panels;this.tablist=this._getList().attr("role","tablist"),this._addClass(this.tablist,"ui-tabs-nav","ui-helper-reset ui-helper-clearfix ui-widget-header"),this.tablist.on("mousedown"+this.eventNamespace,"> li",function(b){a(this).is(".ui-state-disabled")&&b.preventDefault()}).on("focus"+this.eventNamespace,".ui-tabs-anchor",function(){a(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").attr({role:"tab",tabIndex:-1}),this._addClass(this.tabs,"ui-tabs-tab","ui-state-default"),this.anchors=this.tabs.map(function(){return a("a",this)[0]}).attr({role:"presentation",tabIndex:-1}),this._addClass(this.anchors,"ui-tabs-anchor"),this.panels=a(),this.anchors.each(function(c,d){var e,f,g,h=a(d).uniqueId().attr("id"),i=a(d).closest("li"),j=i.attr("aria-controls");b._isLocal(d)?(e=d.hash,g=e.substring(1),f=b.element.find(b._sanitizeSelector(e))):(g=i.attr("aria-controls")||a({}).uniqueId()[0].id,e="#"+g,f=b.element.find(e),f.length||(f=b._createPanel(g),f.insertAfter(b.panels[c-1]||b.tablist)),f.attr("aria-live","polite")),f.length&&(b.panels=b.panels.add(f)),j&&i.data("ui-tabs-aria-controls",j),i.attr({"aria-controls":g,"aria-labelledby":h}),f.attr("aria-labelledby",h)}),this.panels.attr("role","tabpanel"),this._addClass(this.panels,"ui-tabs-panel","ui-widget-content"),c&&(this._off(c.not(this.tabs)),this._off(d.not(this.anchors)),this._off(e.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol, ul").eq(0)},_createPanel:function(b){return a("<div>").attr("id",b).data("ui-tabs-destroy",!0)},_setOptionDisabled:function(b){var c,d,e;for(a.isArray(b)&&(b.length?b.length===this.anchors.length&&(b=!0):b=!1),e=0;d=this.tabs[e];e++)c=a(d),!0===b||-1!==a.inArray(e,b)?(c.attr("aria-disabled","true"),this._addClass(c,null,"ui-state-disabled")):(c.removeAttr("aria-disabled"),this._removeClass(c,null,"ui-state-disabled"));this.options.disabled=b,this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!0===b)},_setupEvents:function(b){var c={};b&&a.each(b.split(" "),function(a,b){c[b]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(a){a.preventDefault()}}),this._on(this.anchors,c),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(b){var c,d=this.element.parent();"fill"===b?(c=d.height(),c-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var b=a(this),d=b.css("position");"absolute"!==d&&"fixed"!==d&&(c-=b.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){c-=a(this).outerHeight(!0)}),this.panels.each(function(){a(this).height(Math.max(0,c-a(this).innerHeight()+a(this).height()))}).css("overflow","auto")):"auto"===b&&(c=0,this.panels.each(function(){c=Math.max(c,a(this).height("").height())}).height(c))},_eventHandler:function(b){var c=this.options,d=this.active,e=a(b.currentTarget),f=e.closest("li"),g=f[0]===d[0],h=g&&c.collapsible,i=h?a():this._getPanelForTab(f),j=d.length?this._getPanelForTab(d):a(),k={oldTab:d,oldPanel:j,newTab:h?a():f,newPanel:i};b.preventDefault(),f.hasClass("ui-state-disabled")||f.hasClass("ui-tabs-loading")||this.running||g&&!c.collapsible||!1===this._trigger("beforeActivate",b,k)||(c.active=!h&&this.tabs.index(f),this.active=g?a():f,this.xhr&&this.xhr.abort(),j.length||i.length||a.error("jQuery UI Tabs: Mismatching fragment identifier."),i.length&&this.load(this.tabs.index(f),b),this._toggle(b,k))},_toggle:function(b,c){function d(){f.running=!1,f._trigger("activate",b,c)}function e(){f._addClass(c.newTab.closest("li"),"ui-tabs-active","ui-state-active"),g.length&&f.options.show?f._show(g,f.options.show,d):(g.show(),d())}var f=this,g=c.newPanel,h=c.oldPanel;this.running=!0,h.length&&this.options.hide?this._hide(h,this.options.hide,function(){f._removeClass(c.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),e()}):(this._removeClass(c.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),h.hide(),e()),h.attr("aria-hidden","true"),c.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),g.length&&h.length?c.oldTab.attr("tabIndex",-1):g.length&&this.tabs.filter(function(){return 0===a(this).attr("tabIndex")}).attr("tabIndex",-1),g.attr("aria-hidden","false"),c.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(b){var c,d=this._findActive(b);d[0]!==this.active[0]&&(d.length||(d=this.active),c=d.find(".ui-tabs-anchor")[0],this._eventHandler({target:c,currentTarget:c,preventDefault:a.noop}))},_findActive:function(b){return!1===b?a():this.tabs.eq(b)},_getIndex:function(b){return"string"==typeof b&&(b=this.anchors.index(this.anchors.filter("[href$='"+a.ui.escapeSelector(b)+"']"))),b},_destroy:function(){this.xhr&&this.xhr.abort(),this.tablist.removeAttr("role").off(this.eventNamespace),this.anchors.removeAttr("role tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){a.data(this,"ui-tabs-destroy")?a(this).remove():a(this).removeAttr("role tabIndex aria-live aria-busy aria-selected aria-labelledby aria-hidden aria-expanded")}),this.tabs.each(function(){var b=a(this),c=b.data("ui-tabs-aria-controls");c?b.attr("aria-controls",c).removeData("ui-tabs-aria-controls"):b.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(b){var c=this.options.disabled;!1!==c&&(void 0===b?c=!1:(b=this._getIndex(b),c=a.isArray(c)?a.map(c,function(a){return a!==b?a:null}):a.map(this.tabs,function(a,c){return c!==b?c:null})),this._setOptionDisabled(c))},disable:function(b){var c=this.options.disabled;if(!0!==c){if(void 0===b)c=!0;else{if(b=this._getIndex(b),-1!==a.inArray(b,c))return;c=a.isArray(c)?a.merge([b],c).sort():[b]}this._setOptionDisabled(c)}},load:function(b,c){b=this._getIndex(b);var d=this,e=this.tabs.eq(b),f=e.find(".ui-tabs-anchor"),g=this._getPanelForTab(e),h={tab:e,panel:g},i=function(a,b){"abort"===b&&d.panels.stop(!1,!0),d._removeClass(e,"ui-tabs-loading"),g.removeAttr("aria-busy"),a===d.xhr&&delete d.xhr};this._isLocal(f[0])||(this.xhr=a.ajax(this._ajaxSettings(f,c,h)),this.xhr&&"canceled"!==this.xhr.statusText&&(this._addClass(e,"ui-tabs-loading"),g.attr("aria-busy","true"),this.xhr.done(function(a,b,e){setTimeout(function(){g.html(a),d._trigger("load",c,h),i(e,b)},1)}).fail(function(a,b){setTimeout(function(){i(a,b)},1)})))},_ajaxSettings:function(b,c,d){var e=this;return{url:b.attr("href").replace(/#.*$/,""),beforeSend:function(b,f){return e._trigger("beforeLoad",c,a.extend({jqXHR:b,ajaxSettings:f},d))}}},_getPanelForTab:function(b){var c=a(b).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+c))}}),!1!==a.uiBackCompat&&a.widget("ui.tabs",a.ui.tabs,{_processTabs:function(){this._superApply(arguments),this._addClass(this.tabs,"ui-tab")}}),a.ui.tabs,a.widget("ui.tooltip",{version:"1.12.1",options:{classes:{"ui-tooltip":"ui-corner-all ui-widget-shadow"},content:function(){var b=a(this).attr("title")||"";return a("<a>").text(b).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,track:!1,close:null,open:null},_addDescribedBy:function(b,c){var d=(b.attr("aria-describedby")||"").split(/\s+/);d.push(c),b.data("ui-tooltip-id",c).attr("aria-describedby",a.trim(d.join(" ")))},_removeDescribedBy:function(b){var c=b.data("ui-tooltip-id"),d=(b.attr("aria-describedby")||"").split(/\s+/),e=a.inArray(c,d);-1!==e&&d.splice(e,1),b.removeData("ui-tooltip-id"),d=a.trim(d.join(" ")),d?b.attr("aria-describedby",d):b.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.liveRegion=a("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this.disabledTitles=a([])},_setOption:function(b,c){var d=this;this._super(b,c),"content"===b&&a.each(this.tooltips,function(a,b){d._updateContent(b.element)})},_setOptionDisabled:function(a){this[a?"_disable":"_enable"]()},_disable:function(){var b=this;a.each(this.tooltips,function(c,d){var e=a.Event("blur");e.target=e.currentTarget=d.element[0],b.close(e,!0)}),this.disabledTitles=this.disabledTitles.add(this.element.find(this.options.items).addBack().filter(function(){var b=a(this);return b.is("[title]")?b.data("ui-tooltip-title",b.attr("title")).removeAttr("title"):void 0}))},_enable:function(){this.disabledTitles.each(function(){var b=a(this);b.data("ui-tooltip-title")&&b.attr("title",b.data("ui-tooltip-title"))}),this.disabledTitles=a([])},open:function(b){var c=this,d=a(b?b.target:this.element).closest(this.options.items);d.length&&!d.data("ui-tooltip-id")&&(d.attr("title")&&d.data("ui-tooltip-title",d.attr("title")),d.data("ui-tooltip-open",!0),b&&"mouseover"===b.type&&d.parents().each(function(){var b,d=a(this);d.data("ui-tooltip-open")&&(b=a.Event("blur"),b.target=b.currentTarget=this,c.close(b,!0)),d.attr("title")&&(d.uniqueId(),c.parents[this.id]={element:this,title:d.attr("title")},d.attr("title",""))}),this._registerCloseHandlers(b,d),this._updateContent(d,b))},_updateContent:function(a,b){var c,d=this.options.content,e=this,f=b?b.type:null;return"string"==typeof d||d.nodeType||d.jquery?this._open(b,a,d):void((c=d.call(a[0],function(c){e._delay(function(){a.data("ui-tooltip-open")&&(b&&(b.type=f),this._open(b,a,c))})}))&&this._open(b,a,c))},_open:function(b,c,d){function e(a){j.of=a,g.is(":hidden")||g.position(j)}var f,g,h,i,j=a.extend({},this.options.position);if(d){if(f=this._find(c))return void f.tooltip.find(".ui-tooltip-content").html(d);c.is("[title]")&&(b&&"mouseover"===b.type?c.attr("title",""):c.removeAttr("title")),f=this._tooltip(c),g=f.tooltip,this._addDescribedBy(c,g.attr("id")),g.find(".ui-tooltip-content").html(d),this.liveRegion.children().hide(),i=a("<div>").html(g.find(".ui-tooltip-content").html()),i.removeAttr("name").find("[name]").removeAttr("name"),i.removeAttr("id").find("[id]").removeAttr("id"),i.appendTo(this.liveRegion),this.options.track&&b&&/^mouse/.test(b.type)?(this._on(this.document,{mousemove:e}),e(b)):g.position(a.extend({of:c},this.options.position)),g.hide(),this._show(g,this.options.show),this.options.track&&this.options.show&&this.options.show.delay&&(h=this.delayedShow=setInterval(function(){g.is(":visible")&&(e(j.of),clearInterval(h))},a.fx.interval)),this._trigger("open",b,{tooltip:g})}},_registerCloseHandlers:function(b,c){var d={keyup:function(b){if(b.keyCode===a.ui.keyCode.ESCAPE){var d=a.Event(b);d.currentTarget=c[0],this.close(d,!0)}}};c[0]!==this.element[0]&&(d.remove=function(){this._removeTooltip(this._find(c).tooltip)}),b&&"mouseover"!==b.type||(d.mouseleave="close"),b&&"focusin"!==b.type||(d.focusout="close"),this._on(!0,c,d)},close:function(b){var c,d=this,e=a(b?b.currentTarget:this.element),f=this._find(e);return f?(c=f.tooltip,void(f.closing||(clearInterval(this.delayedShow),e.data("ui-tooltip-title")&&!e.attr("title")&&e.attr("title",e.data("ui-tooltip-title")),this._removeDescribedBy(e),f.hiding=!0,c.stop(!0),this._hide(c,this.options.hide,function(){d._removeTooltip(a(this))}),e.removeData("ui-tooltip-open"),this._off(e,"mouseleave focusout keyup"),e[0]!==this.element[0]&&this._off(e,"remove"),this._off(this.document,"mousemove"),b&&"mouseleave"===b.type&&a.each(this.parents,function(b,c){a(c.element).attr("title",c.title),delete d.parents[b]}),f.closing=!0,this._trigger("close",b,{tooltip:c}),f.hiding||(f.closing=!1)))):void e.removeData("ui-tooltip-open")},_tooltip:function(b){var c=a("<div>").attr("role","tooltip"),d=a("<div>").appendTo(c),e=c.uniqueId().attr("id");return this._addClass(d,"ui-tooltip-content"),this._addClass(c,"ui-tooltip","ui-widget ui-widget-content"),c.appendTo(this._appendTo(b)),this.tooltips[e]={element:b,tooltip:c}},_find:function(a){var b=a.data("ui-tooltip-id");return b?this.tooltips[b]:null},_removeTooltip:function(a){a.remove(),delete this.tooltips[a.attr("id")]},_appendTo:function(a){var b=a.closest(".ui-front, dialog");return b.length||(b=this.document[0].body),b},_destroy:function(){var b=this;a.each(this.tooltips,function(c,d){var e=a.Event("blur"),f=d.element;e.target=e.currentTarget=f[0],b.close(e,!0),a("#"+c).remove(),f.data("ui-tooltip-title")&&(f.attr("title")||f.attr("title",f.data("ui-tooltip-title")),f.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}}),!1!==a.uiBackCompat&&a.widget("ui.tooltip",a.ui.tooltip,{options:{tooltipClass:null},_tooltip:function(){var a=this._superApply(arguments);return this.options.tooltipClass&&a.tooltip.addClass(this.options.tooltipClass),a}}),a.ui.tooltip}),function(a,b){"object"==typeof exports&&"undefined"!=typeof module?b(exports,require("jquery")):"function"==typeof define&&define.amd?define(["exports","jquery"],b):b((a=a||self).bootstrap={},a.jQuery)}(this,function(a,b){"use strict";function c(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function d(a,b,d){return b&&c(a.prototype,b),d&&c(a,d),a}function e(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){var d,e,f;d=a,f=c[e=b],e in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f})}return a}function f(a){var c=this,d=!1;return b(this).one(Q.TRANSITION_END,function(){d=!0}),setTimeout(function(){d||Q.triggerTransitionEnd(c)},a),this}function g(a){return a&&"[object Function]"==={}.toString.call(a)}function h(a,b){if(1!==a.nodeType)return[];var c=a.ownerDocument.defaultView.getComputedStyle(a,null);return b?c[b]:c}function i(a){return"HTML"===a.nodeName?a:a.parentNode||a.host}function j(a){if(!a)return document.body;switch(a.nodeName){case"HTML":case"BODY":return a.ownerDocument.body;case"#document":return a.body}var b=h(a),c=b.overflow,d=b.overflowX;return/(auto|scroll|overlay)/.test(c+b.overflowY+d)?a:j(i(a))}function k(a){return 11===a?hb:10===a?ib:hb||ib}function l(a){if(!a)return document.documentElement;for(var b=k(10)?document.body:null,c=a.offsetParent||null;c===b&&a.nextElementSibling;)c=(a=a.nextElementSibling).offsetParent;var d=c&&c.nodeName;return d&&"BODY"!==d&&"HTML"!==d?-1!==["TH","TD","TABLE"].indexOf(c.nodeName)&&"static"===h(c,"position")?l(c):c:a?a.ownerDocument.documentElement:document.documentElement}function m(a){return null!==a.parentNode?m(a.parentNode):a}function n(a,b){if(!(a&&a.nodeType&&b&&b.nodeType))return document.documentElement;var c=a.compareDocumentPosition(b)&Node.DOCUMENT_POSITION_FOLLOWING,d=c?a:b,e=c?b:a,f=document.createRange();f.setStart(d,0),f.setEnd(e,0);var g,h,i=f.commonAncestorContainer;if(a!==i&&b!==i||d.contains(e))return"BODY"===(h=(g=i).nodeName)||"HTML"!==h&&l(g.firstElementChild)!==g?l(i):i;var j=m(a);return j.host?n(j.host,b):n(a,m(b).host)}function o(a){var b="top"===(1<arguments.length&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",c=a.nodeName;if("BODY"!==c&&"HTML"!==c)return a[b];var d=a.ownerDocument.documentElement;return(a.ownerDocument.scrollingElement||d)[b]}function p(a,b){var c="x"===b?"Left":"Top",d="Left"===c?"Right":"Bottom";return parseFloat(a["border"+c+"Width"],10)+parseFloat(a["border"+d+"Width"],10)}function q(a,b,c,d){return Math.max(b["offset"+a],b["scroll"+a],c["client"+a],c["offset"+a],c["scroll"+a],k(10)?parseInt(c["offset"+a])+parseInt(d["margin"+("Height"===a?"Top":"Left")])+parseInt(d["margin"+("Height"===a?"Bottom":"Right")]):0)}function r(a){var b=a.body,c=a.documentElement,d=k(10)&&getComputedStyle(c);return{height:q("Height",b,c,d),width:q("Width",b,c,d)}}function s(a){return lb({},a,{right:a.left+a.width,bottom:a.top+a.height})}function t(a){var b={};try{if(k(10)){b=a.getBoundingClientRect();var c=o(a,"top"),d=o(a,"left");b.top+=c,b.left+=d,b.bottom+=c,b.right+=d}else b=a.getBoundingClientRect()}catch(a){}var e={left:b.left,top:b.top,width:b.right-b.left,height:b.bottom-b.top},f="HTML"===a.nodeName?r(a.ownerDocument):{},g=f.width||a.clientWidth||e.right-e.left,i=f.height||a.clientHeight||e.bottom-e.top,j=a.offsetWidth-g,l=a.offsetHeight-i;if(j||l){var m=h(a);j-=p(m,"x"),l-=p(m,"y"),e.width-=j,e.height-=l}return s(e)}function u(a,b){var c=2<arguments.length&&void 0!==arguments[2]&&arguments[2],d=k(10),e="HTML"===b.nodeName,f=t(a),g=t(b),i=j(a),l=h(b),m=parseFloat(l.borderTopWidth,10),n=parseFloat(l.borderLeftWidth,10);c&&e&&(g.top=Math.max(g.top,0),g.left=Math.max(g.left,0));var p=s({top:f.top-g.top-m,left:f.left-g.left-n,width:f.width,height:f.height});if(p.marginTop=0,p.marginLeft=0,!d&&e){var q=parseFloat(l.marginTop,10),r=parseFloat(l.marginLeft,10);p.top-=m-q,p.bottom-=m-q,p.left-=n-r,p.right-=n-r,p.marginTop=q,p.marginLeft=r}return(d&&!c?b.contains(i):b===i&&"BODY"!==i.nodeName)&&(p=function(a,b){var c=2<arguments.length&&void 0!==arguments[2]&&arguments[2],d=o(b,"top"),e=o(b,"left"),f=c?-1:1;return a.top+=d*f,a.bottom+=d*f,a.left+=e*f,a.right+=e*f,a}(p,b)),p}function v(a){if(!a||!a.parentElement||k())return document.documentElement;for(var b=a.parentElement;b&&"none"===h(b,"transform");)b=b.parentElement;return b||document.documentElement}function w(a,b,c,d){var e=4<arguments.length&&void 0!==arguments[4]&&arguments[4],f={top:0,left:0},g=e?v(a):n(a,b);if("viewport"===d)f=function(a){var b=1<arguments.length&&void 0!==arguments[1]&&arguments[1],c=a.ownerDocument.documentElement,d=u(a,c),e=Math.max(c.clientWidth,window.innerWidth||0),f=Math.max(c.clientHeight,window.innerHeight||0),g=b?0:o(c),h=b?0:o(c,"left");return s({top:g-d.top+d.marginTop,left:h-d.left+d.marginLeft,width:e,height:f})}(g,e);else{var k=void 0;"scrollParent"===d?"BODY"===(k=j(i(b))).nodeName&&(k=a.ownerDocument.documentElement):k="window"===d?a.ownerDocument.documentElement:d;var l=u(k,g,e);if("HTML"!==k.nodeName||function a(b){var c=b.nodeName;if("BODY"===c||"HTML"===c)return!1;if("fixed"===h(b,"position"))return!0;var d=i(b);return!!d&&a(d)}(g))f=l;else{var m=r(a.ownerDocument),p=m.height,q=m.width;f.top+=l.top-l.marginTop,f.bottom=p+l.top,f.left+=l.left-l.marginLeft,f.right=q+l.left}}var t="number"==typeof(c=c||0);return f.left+=t?c:c.left||0,f.top+=t?c:c.top||0,f.right-=t?c:c.right||0,f.bottom-=t?c:c.bottom||0,f}function x(a,b,c,d,e){var f=5<arguments.length&&void 0!==arguments[5]?arguments[5]:0;if(-1===a.indexOf("auto"))return a;var g=w(c,d,f,e),h={top:{width:g.width,height:b.top-g.top},right:{width:g.right-b.right,height:g.height},bottom:{width:g.width,height:g.bottom-b.bottom},left:{width:b.left-g.left,height:g.height}},i=Object.keys(h).map(function(a){return lb({key:a},h[a],{area:(b=h[a],b.width*b.height)});var b}).sort(function(a,b){return b.area-a.area}),j=i.filter(function(a){var b=a.width,d=a.height;return b>=c.clientWidth&&d>=c.clientHeight}),k=0<j.length?j[0].key:i[0].key,l=a.split("-")[1];return k+(l?"-"+l:"")}function y(a,b,c){var d=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return u(c,d?v(b):n(b,c),d)}function z(a){var b=a.ownerDocument.defaultView.getComputedStyle(a),c=parseFloat(b.marginTop||0)+parseFloat(b.marginBottom||0),d=parseFloat(b.marginLeft||0)+parseFloat(b.marginRight||0);return{width:a.offsetWidth+d,height:a.offsetHeight+c}}function A(a){var b={left:"right",right:"left",bottom:"top",top:"bottom"};return a.replace(/left|right|bottom|top/g,function(a){return b[a]})}function B(a,b,c){c=c.split("-")[0];var d=z(a),e={width:d.width,height:d.height},f=-1!==["right","left"].indexOf(c),g=f?"top":"left",h=f?"left":"top",i=f?"height":"width",j=f?"width":"height";return e[g]=b[g]+b[i]/2-d[i]/2,e[h]=c===h?b[h]-d[j]:b[A(h)],e}function C(a,b){return Array.prototype.find?a.find(b):a.filter(b)[0]}function D(a,b,c){return(void 0===c?a:a.slice(0,function(a,b,c){if(Array.prototype.findIndex)return a.findIndex(function(a){return a[b]===c});var d=C(a,function(a){return a[b]===c});return a.indexOf(d)}(a,"name",c))).forEach(function(a){a.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var c=a.function||a.fn;a.enabled&&g(c)&&(b.offsets.popper=s(b.offsets.popper),b.offsets.reference=s(b.offsets.reference),b=c(b,a))}),b}function E(a,b){return a.some(function(a){var c=a.name;return a.enabled&&c===b})}function F(a){for(var b=[!1,"ms","Webkit","Moz","O"],c=a.charAt(0).toUpperCase()+a.slice(1),d=0;d<b.length;d++){var e=b[d],f=e?""+e+c:a;if(void 0!==document.body.style[f])return f}return null}function G(a){var b=a.ownerDocument;return b?b.defaultView:window}function H(a,b,c,d){c.updateBound=d,G(a).addEventListener("resize",c.updateBound,{passive:!0});var e=j(a);return function a(b,c,d,e){var f="BODY"===b.nodeName,g=f?b.ownerDocument.defaultView:b;g.addEventListener(c,d,{passive:!0}),f||a(j(g.parentNode),c,d,e),e.push(g)}(e,"scroll",c.updateBound,c.scrollParents),c.scrollElement=e,c.eventsEnabled=!0,c}function I(){var a,b;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(a=this.reference,b=this.state,G(a).removeEventListener("resize",b.updateBound),b.scrollParents.forEach(function(a){a.removeEventListener("scroll",b.updateBound)}),b.updateBound=null,b.scrollParents=[],b.scrollElement=null,b.eventsEnabled=!1,b))}function J(a){return""!==a&&!isNaN(parseFloat(a))&&isFinite(a)}function K(a,b){Object.keys(b).forEach(function(c){var d="";-1!==["width","height","top","right","bottom","left"].indexOf(c)&&J(b[c])&&(d="px"),a.style[c]=b[c]+d})}function L(a,b,c){var d=C(a,function(a){return a.name===b}),e=!!d&&a.some(function(a){return a.name===c&&a.enabled&&a.order<d.order});if(!e){var f="`"+b+"`",g="`"+c+"`";console.warn(g+" modifier is required by "+f+" modifier in order to work, be sure to include it before "+f+"!")}return e}function M(a){var b=1<arguments.length&&void 0!==arguments[1]&&arguments[1],c=ob.indexOf(a),d=ob.slice(c+1).concat(ob.slice(0,c));return b?d.reverse():d}function N(a,b,c,d){var e=[0,0],f=-1!==["right","left"].indexOf(d),g=a.split(/(\+|\-)/).map(function(a){return a.trim()}),h=g.indexOf(C(g,function(a){return-1!==a.search(/,|\s/)}));g[h]&&-1===g[h].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var i=/\s*,\s*|\s+/,j=-1!==h?[g.slice(0,h).concat([g[h].split(i)[0]]),[g[h].split(i)[1]].concat(g.slice(h+1))]:[g];return(j=j.map(function(a,d){var e=(1===d?!f:f)?"height":"width",g=!1;return a.reduce(function(a,b){return""===a[a.length-1]&&-1!==["+","-"].indexOf(b)?(a[a.length-1]=b,g=!0,a):g?(a[a.length-1]+=b,g=!1,a):a.concat(b)},[]).map(function(a){return function(a,b,c,d){var e=a.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),f=+e[1],g=e[2];if(!f)return a;if(0!==g.indexOf("%"))return"vh"!==g&&"vw"!==g?f:("vh"===g?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*f;var h=void 0;switch(g){case"%p":h=c;break;case"%":case"%r":default:h=d}return s(h)[b]/100*f}(a,e,b,c)})})).forEach(function(a,b){
a.forEach(function(c,d){J(c)&&(e[b]+=c*("-"===a[d-1]?-1:1))})}),e}function O(a,b,c){if(0===a.length)return a;if(c&&"function"==typeof c)return c(a);for(var d=(new window.DOMParser).parseFromString(a,"text/html"),e=Object.keys(b),f=[].slice.call(d.body.querySelectorAll("*")),g=function(a,c){var d=f[a],g=d.nodeName.toLowerCase();if(-1===e.indexOf(d.nodeName.toLowerCase()))return d.parentNode.removeChild(d),"continue";var h=[].slice.call(d.attributes),i=[].concat(b["*"]||[],b[g]||[]);h.forEach(function(a){(function(a,b){var c=a.nodeName.toLowerCase();if(-1!==b.indexOf(c))return-1===mc.indexOf(c)||Boolean(a.nodeValue.match(oc)||a.nodeValue.match(pc));for(var d=b.filter(function(a){return a instanceof RegExp}),e=0,f=d.length;e<f;e++)if(c.match(d[e]))return!0;return!1})(a,i)||d.removeAttribute(a.nodeName)})},h=0,i=f.length;h<i;h++)g(h);return d.body.innerHTML}b=b&&b.hasOwnProperty("default")?b.default:b;var P="transitionend",Q={TRANSITION_END:"bsTransitionEnd",getUID:function(a){for(;a+=~~(1e6*Math.random()),document.getElementById(a););return a},getSelectorFromElement:function(a){var b=a.getAttribute("data-target");if(!b||"#"===b){var c=a.getAttribute("href");b=c&&"#"!==c?c.trim():""}try{return document.querySelector(b)?b:null}catch(a){return null}},getTransitionDurationFromElement:function(a){if(!a)return 0;var c=b(a).css("transition-duration"),d=b(a).css("transition-delay"),e=parseFloat(c),f=parseFloat(d);return e||f?(c=c.split(",")[0],d=d.split(",")[0],1e3*(parseFloat(c)+parseFloat(d))):0},reflow:function(a){return a.offsetHeight},triggerTransitionEnd:function(a){b(a).trigger(P)},supportsTransitionEnd:function(){return Boolean(P)},isElement:function(a){return(a[0]||a).nodeType},typeCheckConfig:function(a,b,c){for(var d in c)if(Object.prototype.hasOwnProperty.call(c,d)){var e=c[d],f=b[d],g=f&&Q.isElement(f)?"element":(h=f,{}.toString.call(h).match(/\s([a-z]+)/i)[1].toLowerCase());if(!new RegExp(e).test(g))throw new Error(a.toUpperCase()+': Option "'+d+'" provided type "'+g+'" but expected type "'+e+'".')}var h},findShadowRoot:function(a){if(!document.documentElement.attachShadow)return null;if("function"!=typeof a.getRootNode)return a instanceof ShadowRoot?a:a.parentNode?Q.findShadowRoot(a.parentNode):null;var b=a.getRootNode();return b instanceof ShadowRoot?b:null}};b.fn.emulateTransitionEnd=f,b.event.special[Q.TRANSITION_END]={bindType:P,delegateType:P,handle:function(a){if(b(a.target).is(this))return a.handleObj.handler.apply(this,arguments)}};var R="alert",S="bs.alert",T="."+S,U=b.fn[R],V={CLOSE:"close"+T,CLOSED:"closed"+T,CLICK_DATA_API:"click"+T+".data-api"},W="alert",X="fade",Y="show",Z=function(){function a(a){this._element=a}var c=a.prototype;return c.close=function(a){var b=this._element;a&&(b=this._getRootElement(a)),this._triggerCloseEvent(b).isDefaultPrevented()||this._removeElement(b)},c.dispose=function(){b.removeData(this._element,S),this._element=null},c._getRootElement=function(a){var c=Q.getSelectorFromElement(a),d=!1;return c&&(d=document.querySelector(c)),d||(d=b(a).closest("."+W)[0]),d},c._triggerCloseEvent=function(a){var c=b.Event(V.CLOSE);return b(a).trigger(c),c},c._removeElement=function(a){var c=this;if(b(a).removeClass(Y),b(a).hasClass(X)){var d=Q.getTransitionDurationFromElement(a);b(a).one(Q.TRANSITION_END,function(b){return c._destroyElement(a,b)}).emulateTransitionEnd(d)}else this._destroyElement(a)},c._destroyElement=function(a){b(a).detach().trigger(V.CLOSED).remove()},a._jQueryInterface=function(c){return this.each(function(){var d=b(this),e=d.data(S);e||(e=new a(this),d.data(S,e)),"close"===c&&e[c](this)})},a._handleDismiss=function(a){return function(b){b&&b.preventDefault(),a.close(this)}},d(a,null,[{key:"VERSION",get:function(){return"4.3.1"}}]),a}();b(document).on(V.CLICK_DATA_API,'[data-dismiss="alert"]',Z._handleDismiss(new Z)),b.fn[R]=Z._jQueryInterface,b.fn[R].Constructor=Z,b.fn[R].noConflict=function(){return b.fn[R]=U,Z._jQueryInterface};var $="button",_="bs.button",aa="."+_,ba=".data-api",ca=b.fn[$],da="active",ea='[data-toggle^="button"]',fa='[data-toggle="buttons"]',ga='input:not([type="hidden"])',ha=".active",ia=".btn",ja={CLICK_DATA_API:"click"+aa+ba,FOCUS_BLUR_DATA_API:"focus"+aa+ba+" blur"+aa+ba},ka=function(){function a(a){this._element=a}var c=a.prototype;return c.toggle=function(){var a=!0,c=!0,d=b(this._element).closest(fa)[0];if(d){var e=this._element.querySelector(ga);if(e){if("radio"===e.type)if(e.checked&&this._element.classList.contains(da))a=!1;else{var f=d.querySelector(ha);f&&b(f).removeClass(da)}if(a){if(e.hasAttribute("disabled")||d.hasAttribute("disabled")||e.classList.contains("disabled")||d.classList.contains("disabled"))return;e.checked=!this._element.classList.contains(da),b(e).trigger("change")}e.focus(),c=!1}}c&&this._element.setAttribute("aria-pressed",!this._element.classList.contains(da)),a&&b(this._element).toggleClass(da)},c.dispose=function(){b.removeData(this._element,_),this._element=null},a._jQueryInterface=function(c){return this.each(function(){var d=b(this).data(_);d||(d=new a(this),b(this).data(_,d)),"toggle"===c&&d[c]()})},d(a,null,[{key:"VERSION",get:function(){return"4.3.1"}}]),a}();b(document).on(ja.CLICK_DATA_API,ea,function(a){a.preventDefault();var c=a.target;b(c).hasClass("btn")||(c=b(c).closest(ia)),ka._jQueryInterface.call(b(c),"toggle")}).on(ja.FOCUS_BLUR_DATA_API,ea,function(a){var c=b(a.target).closest(ia)[0];b(c).toggleClass("focus",/^focus(in)?$/.test(a.type))}),b.fn[$]=ka._jQueryInterface,b.fn[$].Constructor=ka,b.fn[$].noConflict=function(){return b.fn[$]=ca,ka._jQueryInterface};var la="carousel",ma="bs.carousel",na="."+ma,oa=".data-api",pa=b.fn[la],qa={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0,touch:!0},ra={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},sa="next",ta="prev",ua="left",va="right",wa={SLIDE:"slide"+na,SLID:"slid"+na,KEYDOWN:"keydown"+na,MOUSEENTER:"mouseenter"+na,MOUSELEAVE:"mouseleave"+na,TOUCHSTART:"touchstart"+na,TOUCHMOVE:"touchmove"+na,TOUCHEND:"touchend"+na,POINTERDOWN:"pointerdown"+na,POINTERUP:"pointerup"+na,DRAG_START:"dragstart"+na,LOAD_DATA_API:"load"+na+oa,CLICK_DATA_API:"click"+na+oa},xa="carousel",ya="active",za="slide",Aa="carousel-item-right",Ba="carousel-item-left",Ca="carousel-item-next",Da="carousel-item-prev",Ea="pointer-event",Fa=".active",Ga=".active.carousel-item",Ha=".carousel-item",Ia=".carousel-item img",Ja=".carousel-item-next, .carousel-item-prev",Ka=".carousel-indicators",La='[data-ride="carousel"]',Ma={TOUCH:"touch",PEN:"pen"},Na=function(){function a(a,b){this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this.touchStartX=0,this.touchDeltaX=0,this._config=this._getConfig(b),this._element=a,this._indicatorsElement=this._element.querySelector(Ka),this._touchSupported="ontouchstart"in document.documentElement||0<navigator.maxTouchPoints,this._pointerEvent=Boolean(window.PointerEvent||window.MSPointerEvent),this._addEventListeners()}var c=a.prototype;return c.next=function(){this._isSliding||this._slide(sa)},c.nextWhenVisible=function(){!document.hidden&&b(this._element).is(":visible")&&"hidden"!==b(this._element).css("visibility")&&this.next()},c.prev=function(){this._isSliding||this._slide(ta)},c.pause=function(a){a||(this._isPaused=!0),this._element.querySelector(Ja)&&(Q.triggerTransitionEnd(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null},c.cycle=function(a){a||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config.interval&&!this._isPaused&&(this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))},c.to=function(a){var c=this;this._activeElement=this._element.querySelector(Ga);var d=this._getItemIndex(this._activeElement);if(!(a>this._items.length-1||a<0))if(this._isSliding)b(this._element).one(wa.SLID,function(){return c.to(a)});else{if(d===a)return this.pause(),void this.cycle();var e=d<a?sa:ta;this._slide(e,this._items[a])}},c.dispose=function(){b(this._element).off(na),b.removeData(this._element,ma),this._items=null,this._config=null,this._element=null,this._interval=null,this._isPaused=null,this._isSliding=null,this._activeElement=null,this._indicatorsElement=null},c._getConfig=function(a){return a=e({},qa,a),Q.typeCheckConfig(la,a,ra),a},c._handleSwipe=function(){var a=Math.abs(this.touchDeltaX);if(!(a<=40)){var b=a/this.touchDeltaX;0<b&&this.prev(),b<0&&this.next()}},c._addEventListeners=function(){var a=this;this._config.keyboard&&b(this._element).on(wa.KEYDOWN,function(b){return a._keydown(b)}),"hover"===this._config.pause&&b(this._element).on(wa.MOUSEENTER,function(b){return a.pause(b)}).on(wa.MOUSELEAVE,function(b){return a.cycle(b)}),this._config.touch&&this._addTouchEventListeners()},c._addTouchEventListeners=function(){var a=this;if(this._touchSupported){var c=function(b){a._pointerEvent&&Ma[b.originalEvent.pointerType.toUpperCase()]?a.touchStartX=b.originalEvent.clientX:a._pointerEvent||(a.touchStartX=b.originalEvent.touches[0].clientX)},d=function(b){a._pointerEvent&&Ma[b.originalEvent.pointerType.toUpperCase()]&&(a.touchDeltaX=b.originalEvent.clientX-a.touchStartX),a._handleSwipe(),"hover"===a._config.pause&&(a.pause(),a.touchTimeout&&clearTimeout(a.touchTimeout),a.touchTimeout=setTimeout(function(b){return a.cycle(b)},500+a._config.interval))};b(this._element.querySelectorAll(Ia)).on(wa.DRAG_START,function(a){return a.preventDefault()}),this._pointerEvent?(b(this._element).on(wa.POINTERDOWN,function(a){return c(a)}),b(this._element).on(wa.POINTERUP,function(a){return d(a)}),this._element.classList.add(Ea)):(b(this._element).on(wa.TOUCHSTART,function(a){return c(a)}),b(this._element).on(wa.TOUCHMOVE,function(b){var c;(c=b).originalEvent.touches&&1<c.originalEvent.touches.length?a.touchDeltaX=0:a.touchDeltaX=c.originalEvent.touches[0].clientX-a.touchStartX}),b(this._element).on(wa.TOUCHEND,function(a){return d(a)}))}},c._keydown=function(a){if(!/input|textarea/i.test(a.target.tagName))switch(a.which){case 37:a.preventDefault(),this.prev();break;case 39:a.preventDefault(),this.next()}},c._getItemIndex=function(a){return this._items=a&&a.parentNode?[].slice.call(a.parentNode.querySelectorAll(Ha)):[],this._items.indexOf(a)},c._getItemByDirection=function(a,b){var c=a===sa,d=a===ta,e=this._getItemIndex(b),f=this._items.length-1;if((d&&0===e||c&&e===f)&&!this._config.wrap)return b;var g=(e+(a===ta?-1:1))%this._items.length;return-1===g?this._items[this._items.length-1]:this._items[g]},c._triggerSlideEvent=function(a,c){var d=this._getItemIndex(a),e=this._getItemIndex(this._element.querySelector(Ga)),f=b.Event(wa.SLIDE,{relatedTarget:a,direction:c,from:e,to:d});return b(this._element).trigger(f),f},c._setActiveIndicatorElement=function(a){if(this._indicatorsElement){var c=[].slice.call(this._indicatorsElement.querySelectorAll(Fa));b(c).removeClass(ya);var d=this._indicatorsElement.children[this._getItemIndex(a)];d&&b(d).addClass(ya)}},c._slide=function(a,c){var d,e,f,g=this,h=this._element.querySelector(Ga),i=this._getItemIndex(h),j=c||h&&this._getItemByDirection(a,h),k=this._getItemIndex(j),l=Boolean(this._interval);if(f=a===sa?(d=Ba,e=Ca,ua):(d=Aa,e=Da,va),j&&b(j).hasClass(ya))this._isSliding=!1;else if(!this._triggerSlideEvent(j,f).isDefaultPrevented()&&h&&j){this._isSliding=!0,l&&this.pause(),this._setActiveIndicatorElement(j);var m=b.Event(wa.SLID,{relatedTarget:j,direction:f,from:i,to:k});if(b(this._element).hasClass(za)){b(j).addClass(e),Q.reflow(j),b(h).addClass(d),b(j).addClass(d);var n=parseInt(j.getAttribute("data-interval"),10);this._config.interval=n?(this._config.defaultInterval=this._config.defaultInterval||this._config.interval,n):this._config.defaultInterval||this._config.interval;var o=Q.getTransitionDurationFromElement(h);b(h).one(Q.TRANSITION_END,function(){b(j).removeClass(d+" "+e).addClass(ya),b(h).removeClass(ya+" "+e+" "+d),g._isSliding=!1,setTimeout(function(){return b(g._element).trigger(m)},0)}).emulateTransitionEnd(o)}else b(h).removeClass(ya),b(j).addClass(ya),this._isSliding=!1,b(this._element).trigger(m);l&&this.cycle()}},a._jQueryInterface=function(c){return this.each(function(){var d=b(this).data(ma),f=e({},qa,b(this).data());"object"==typeof c&&(f=e({},f,c));var g="string"==typeof c?c:f.slide;if(d||(d=new a(this,f),b(this).data(ma,d)),"number"==typeof c)d.to(c);else if("string"==typeof g){if(void 0===d[g])throw new TypeError('No method named "'+g+'"');d[g]()}else f.interval&&f.ride&&(d.pause(),d.cycle())})},a._dataApiClickHandler=function(c){var d=Q.getSelectorFromElement(this);if(d){var f=b(d)[0];if(f&&b(f).hasClass(xa)){var g=e({},b(f).data(),b(this).data()),h=this.getAttribute("data-slide-to");h&&(g.interval=!1),a._jQueryInterface.call(b(f),g),h&&b(f).data(ma).to(h),c.preventDefault()}}},d(a,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"Default",get:function(){return qa}}]),a}();b(document).on(wa.CLICK_DATA_API,"[data-slide], [data-slide-to]",Na._dataApiClickHandler),b(window).on(wa.LOAD_DATA_API,function(){for(var a=[].slice.call(document.querySelectorAll(La)),c=0,d=a.length;c<d;c++){var e=b(a[c]);Na._jQueryInterface.call(e,e.data())}}),b.fn[la]=Na._jQueryInterface,b.fn[la].Constructor=Na,b.fn[la].noConflict=function(){return b.fn[la]=pa,Na._jQueryInterface};var Oa="collapse",Pa="bs.collapse",Qa="."+Pa,Ra=b.fn[Oa],Sa={toggle:!0,parent:""},Ta={toggle:"boolean",parent:"(string|element)"},Ua={SHOW:"show"+Qa,SHOWN:"shown"+Qa,HIDE:"hide"+Qa,HIDDEN:"hidden"+Qa,CLICK_DATA_API:"click"+Qa+".data-api"},Va="show",Wa="collapse",Xa="collapsing",Ya="collapsed",Za="width",$a="height",_a=".show, .collapsing",ab='[data-toggle="collapse"]',bb=function(){function a(a,b){this._isTransitioning=!1,this._element=a,this._config=this._getConfig(b),this._triggerArray=[].slice.call(document.querySelectorAll('[data-toggle="collapse"][href="#'+a.id+'"],[data-toggle="collapse"][data-target="#'+a.id+'"]'));for(var c=[].slice.call(document.querySelectorAll(ab)),d=0,e=c.length;d<e;d++){var f=c[d],g=Q.getSelectorFromElement(f),h=[].slice.call(document.querySelectorAll(g)).filter(function(b){return b===a});null!==g&&0<h.length&&(this._selector=g,this._triggerArray.push(f))}this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle()}var c=a.prototype;return c.toggle=function(){b(this._element).hasClass(Va)?this.hide():this.show()},c.show=function(){var c,d,e=this;if(!(this._isTransitioning||b(this._element).hasClass(Va)||(this._parent&&0===(c=[].slice.call(this._parent.querySelectorAll(_a)).filter(function(a){return"string"==typeof e._config.parent?a.getAttribute("data-parent")===e._config.parent:a.classList.contains(Wa)})).length&&(c=null),c&&(d=b(c).not(this._selector).data(Pa))&&d._isTransitioning))){var f=b.Event(Ua.SHOW);if(b(this._element).trigger(f),!f.isDefaultPrevented()){c&&(a._jQueryInterface.call(b(c).not(this._selector),"hide"),d||b(c).data(Pa,null));var g=this._getDimension();b(this._element).removeClass(Wa).addClass(Xa),this._element.style[g]=0,this._triggerArray.length&&b(this._triggerArray).removeClass(Ya).attr("aria-expanded",!0),this.setTransitioning(!0);var h="scroll"+(g[0].toUpperCase()+g.slice(1)),i=Q.getTransitionDurationFromElement(this._element);b(this._element).one(Q.TRANSITION_END,function(){b(e._element).removeClass(Xa).addClass(Wa).addClass(Va),e._element.style[g]="",e.setTransitioning(!1),b(e._element).trigger(Ua.SHOWN)}).emulateTransitionEnd(i),this._element.style[g]=this._element[h]+"px"}}},c.hide=function(){var a=this;if(!this._isTransitioning&&b(this._element).hasClass(Va)){var c=b.Event(Ua.HIDE);if(b(this._element).trigger(c),!c.isDefaultPrevented()){var d=this._getDimension();this._element.style[d]=this._element.getBoundingClientRect()[d]+"px",Q.reflow(this._element),b(this._element).addClass(Xa).removeClass(Wa).removeClass(Va);var e=this._triggerArray.length;if(0<e)for(var f=0;f<e;f++){var g=this._triggerArray[f],h=Q.getSelectorFromElement(g);null!==h&&(b([].slice.call(document.querySelectorAll(h))).hasClass(Va)||b(g).addClass(Ya).attr("aria-expanded",!1))}this.setTransitioning(!0),this._element.style[d]="";var i=Q.getTransitionDurationFromElement(this._element);b(this._element).one(Q.TRANSITION_END,function(){a.setTransitioning(!1),b(a._element).removeClass(Xa).addClass(Wa).trigger(Ua.HIDDEN)}).emulateTransitionEnd(i)}}},c.setTransitioning=function(a){this._isTransitioning=a},c.dispose=function(){b.removeData(this._element,Pa),this._config=null,this._parent=null,this._element=null,this._triggerArray=null,this._isTransitioning=null},c._getConfig=function(a){return(a=e({},Sa,a)).toggle=Boolean(a.toggle),Q.typeCheckConfig(Oa,a,Ta),a},c._getDimension=function(){return b(this._element).hasClass(Za)?Za:$a},c._getParent=function(){var c,d=this;Q.isElement(this._config.parent)?(c=this._config.parent,void 0!==this._config.parent.jquery&&(c=this._config.parent[0])):c=document.querySelector(this._config.parent);var e='[data-toggle="collapse"][data-parent="'+this._config.parent+'"]',f=[].slice.call(c.querySelectorAll(e));return b(f).each(function(b,c){d._addAriaAndCollapsedClass(a._getTargetFromElement(c),[c])}),c},c._addAriaAndCollapsedClass=function(a,c){var d=b(a).hasClass(Va);c.length&&b(c).toggleClass(Ya,!d).attr("aria-expanded",d)},a._getTargetFromElement=function(a){var b=Q.getSelectorFromElement(a);return b?document.querySelector(b):null},a._jQueryInterface=function(c){return this.each(function(){var d=b(this),f=d.data(Pa),g=e({},Sa,d.data(),"object"==typeof c&&c?c:{});if(!f&&g.toggle&&/show|hide/.test(c)&&(g.toggle=!1),f||(f=new a(this,g),d.data(Pa,f)),"string"==typeof c){if(void 0===f[c])throw new TypeError('No method named "'+c+'"');f[c]()}})},d(a,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"Default",get:function(){return Sa}}]),a}();b(document).on(Ua.CLICK_DATA_API,ab,function(a){"A"===a.currentTarget.tagName&&a.preventDefault();var c=b(this),d=Q.getSelectorFromElement(this),e=[].slice.call(document.querySelectorAll(d));b(e).each(function(){var a=b(this),d=a.data(Pa)?"toggle":c.data();bb._jQueryInterface.call(a,d)})}),b.fn[Oa]=bb._jQueryInterface,b.fn[Oa].Constructor=bb,b.fn[Oa].noConflict=function(){return b.fn[Oa]=Ra,bb._jQueryInterface};for(var cb="undefined"!=typeof window&&"undefined"!=typeof document,db=["Edge","Trident","Firefox"],eb=0,fb=0;fb<db.length;fb+=1)if(cb&&0<=navigator.userAgent.indexOf(db[fb])){eb=1;break}var gb=cb&&window.Promise?function(a){var b=!1;return function(){b||(b=!0,window.Promise.resolve().then(function(){b=!1,a()}))}}:function(a){var b=!1;return function(){b||(b=!0,setTimeout(function(){b=!1,a()},eb))}},hb=cb&&!(!window.MSInputMethodContext||!document.documentMode),ib=cb&&/MSIE 10/.test(navigator.userAgent),jb=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),kb=function(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a},lb=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},mb=cb&&/Firefox/i.test(navigator.userAgent),nb=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],ob=nb.slice(3),pb="flip",qb="clockwise",rb="counterclockwise",sb={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(a){var b=a.placement,c=b.split("-")[0],d=b.split("-")[1];if(d){var e=a.offsets,f=e.reference,g=e.popper,h=-1!==["bottom","top"].indexOf(c),i=h?"left":"top",j=h?"width":"height",k={start:kb({},i,f[i]),end:kb({},i,f[i]+f[j]-g[j])};a.offsets.popper=lb({},g,k[d])}return a}},offset:{order:200,enabled:!0,fn:function(a,b){var c=b.offset,d=a.placement,e=a.offsets,f=e.popper,g=e.reference,h=d.split("-")[0],i=void 0;return i=J(+c)?[+c,0]:N(c,f,g,h),"left"===h?(f.top+=i[0],f.left-=i[1]):"right"===h?(f.top+=i[0],f.left+=i[1]):"top"===h?(f.left+=i[0],f.top-=i[1]):"bottom"===h&&(f.left+=i[0],f.top+=i[1]),a.popper=f,a},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(a,b){var c=b.boundariesElement||l(a.instance.popper);a.instance.reference===c&&(c=l(c));var d=F("transform"),e=a.instance.popper.style,f=e.top,g=e.left,h=e[d];e.top="",e.left="",e[d]="";var i=w(a.instance.popper,a.instance.reference,b.padding,c,a.positionFixed);e.top=f,e.left=g,e[d]=h,b.boundaries=i;var j=b.priority,k=a.offsets.popper,m={primary:function(a){var c=k[a];return k[a]<i[a]&&!b.escapeWithReference&&(c=Math.max(k[a],i[a])),kb({},a,c)},secondary:function(a){var c="right"===a?"left":"top",d=k[c];return k[a]>i[a]&&!b.escapeWithReference&&(d=Math.min(k[c],i[a]-("right"===a?k.width:k.height))),kb({},c,d)}};return j.forEach(function(a){var b=-1!==["left","top"].indexOf(a)?"primary":"secondary";k=lb({},k,m[b](a))}),a.offsets.popper=k,a},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(a){var b=a.offsets,c=b.popper,d=b.reference,e=a.placement.split("-")[0],f=Math.floor,g=-1!==["top","bottom"].indexOf(e),h=g?"right":"bottom",i=g?"left":"top",j=g?"width":"height";return c[h]<f(d[i])&&(a.offsets.popper[i]=f(d[i])-c[j]),c[i]>f(d[h])&&(a.offsets.popper[i]=f(d[h])),a}},arrow:{order:500,enabled:!0,fn:function(a,b){var c;if(!L(a.instance.modifiers,"arrow","keepTogether"))return a;var d=b.element;if("string"==typeof d){if(!(d=a.instance.popper.querySelector(d)))return a}else if(!a.instance.popper.contains(d))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),a;var e=a.placement.split("-")[0],f=a.offsets,g=f.popper,i=f.reference,j=-1!==["left","right"].indexOf(e),k=j?"height":"width",l=j?"Top":"Left",m=l.toLowerCase(),n=j?"left":"top",o=j?"bottom":"right",p=z(d)[k];i[o]-p<g[m]&&(a.offsets.popper[m]-=g[m]-(i[o]-p)),i[m]+p>g[o]&&(a.offsets.popper[m]+=i[m]+p-g[o]),a.offsets.popper=s(a.offsets.popper);var q=i[m]+i[k]/2-p/2,r=h(a.instance.popper),t=parseFloat(r["margin"+l],10),u=parseFloat(r["border"+l+"Width"],10),v=q-a.offsets.popper[m]-t-u;return v=Math.max(Math.min(g[k]-p,v),0),a.arrowElement=d,a.offsets.arrow=(kb(c={},m,Math.round(v)),kb(c,n,""),c),a},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(a,b){if(E(a.instance.modifiers,"inner"))return a;if(a.flipped&&a.placement===a.originalPlacement)return a;var c=w(a.instance.popper,a.instance.reference,b.padding,b.boundariesElement,a.positionFixed),d=a.placement.split("-")[0],e=A(d),f=a.placement.split("-")[1]||"",g=[];switch(b.behavior){case pb:g=[d,e];break;case qb:g=M(d);break;case rb:g=M(d,!0);break;default:g=b.behavior}return g.forEach(function(h,i){if(d!==h||g.length===i+1)return a;d=a.placement.split("-")[0],e=A(d);var j,k=a.offsets.popper,l=a.offsets.reference,m=Math.floor,n="left"===d&&m(k.right)>m(l.left)||"right"===d&&m(k.left)<m(l.right)||"top"===d&&m(k.bottom)>m(l.top)||"bottom"===d&&m(k.top)<m(l.bottom),o=m(k.left)<m(c.left),p=m(k.right)>m(c.right),q=m(k.top)<m(c.top),r=m(k.bottom)>m(c.bottom),s="left"===d&&o||"right"===d&&p||"top"===d&&q||"bottom"===d&&r,t=-1!==["top","bottom"].indexOf(d),u=!!b.flipVariations&&(t&&"start"===f&&o||t&&"end"===f&&p||!t&&"start"===f&&q||!t&&"end"===f&&r);(n||s||u)&&(a.flipped=!0,(n||s)&&(d=g[i+1]),u&&(f="end"===(j=f)?"start":"start"===j?"end":j),a.placement=d+(f?"-"+f:""),a.offsets.popper=lb({},a.offsets.popper,B(a.instance.popper,a.offsets.reference,a.placement)),a=D(a.instance.modifiers,a,"flip"))}),a},behavior:"flip",padding:5,boundariesElement:"viewport"},inner:{order:700,enabled:!1,fn:function(a){var b=a.placement,c=b.split("-")[0],d=a.offsets,e=d.popper,f=d.reference,g=-1!==["left","right"].indexOf(c),h=-1===["top","left"].indexOf(c);return e[g?"left":"top"]=f[c]-(h?e[g?"width":"height"]:0),a.placement=A(b),a.offsets.popper=s(e),a}},hide:{order:800,enabled:!0,fn:function(a){if(!L(a.instance.modifiers,"hide","preventOverflow"))return a;var b=a.offsets.reference,c=C(a.instance.modifiers,function(a){return"preventOverflow"===a.name}).boundaries;if(b.bottom<c.top||b.left>c.right||b.top>c.bottom||b.right<c.left){if(!0===a.hide)return a;a.hide=!0,a.attributes["x-out-of-boundaries"]=""}else{if(!1===a.hide)return a;a.hide=!1,a.attributes["x-out-of-boundaries"]=!1}return a}},computeStyle:{order:850,enabled:!0,fn:function(a,b){var c=b.x,d=b.y,e=a.offsets.popper,f=C(a.instance.modifiers,function(a){return"applyStyle"===a.name}).gpuAcceleration;void 0!==f&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var g,h,i,j,k,m,n,o,p,q,r,s,u,v,w=void 0!==f?f:b.gpuAcceleration,x=l(a.instance.popper),y=t(x),z={position:e.position},A=(g=a,h=window.devicePixelRatio<2||!mb,i=g.offsets,j=i.popper,k=i.reference,m=Math.round,n=Math.floor,o=function(a){return a},p=m(k.width),q=m(j.width),r=-1!==["left","right"].indexOf(g.placement),s=-1!==g.placement.indexOf("-"),v=h?m:o,{left:(u=h?r||s||p%2==q%2?m:n:o)(p%2==1&&q%2==1&&!s&&h?j.left-1:j.left),top:v(j.top),bottom:v(j.bottom),right:u(j.right)}),B="bottom"===c?"top":"bottom",D="right"===d?"left":"right",E=F("transform"),G=void 0,H=void 0;if(H="bottom"===B?"HTML"===x.nodeName?-x.clientHeight+A.bottom:-y.height+A.bottom:A.top,G="right"===D?"HTML"===x.nodeName?-x.clientWidth+A.right:-y.width+A.right:A.left,w&&E)z[E]="translate3d("+G+"px, "+H+"px, 0)",z[B]=0,z[D]=0,z.willChange="transform";else{var I="bottom"===B?-1:1,J="right"===D?-1:1;z[B]=H*I,z[D]=G*J,z.willChange=B+", "+D}var K={"x-placement":a.placement};return a.attributes=lb({},K,a.attributes),a.styles=lb({},z,a.styles),a.arrowStyles=lb({},a.offsets.arrow,a.arrowStyles),a},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(a){var b,c;return K(a.instance.popper,a.styles),b=a.instance.popper,c=a.attributes,Object.keys(c).forEach(function(a){!1!==c[a]?b.setAttribute(a,c[a]):b.removeAttribute(a)}),a.arrowElement&&Object.keys(a.arrowStyles).length&&K(a.arrowElement,a.arrowStyles),a},onLoad:function(a,b,c,d,e){var f=y(e,b,a,c.positionFixed),g=x(c.placement,f,b,a,c.modifiers.flip.boundariesElement,c.modifiers.flip.padding);return b.setAttribute("x-placement",g),K(b,{position:c.positionFixed?"fixed":"absolute"}),c},gpuAcceleration:void 0}}},tb=function(){function a(b,c){var d=this,e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),this.scheduleUpdate=function(){return requestAnimationFrame(d.update)},this.update=gb(this.update.bind(this)),this.options=lb({},a.Defaults,e),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=b&&b.jquery?b[0]:b,this.popper=c&&c.jquery?c[0]:c,this.options.modifiers={},Object.keys(lb({},a.Defaults.modifiers,e.modifiers)).forEach(function(b){d.options.modifiers[b]=lb({},a.Defaults.modifiers[b]||{},e.modifiers?e.modifiers[b]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(a){return lb({name:a},d.options.modifiers[a])}).sort(function(a,b){return a.order-b.order}),this.modifiers.forEach(function(a){a.enabled&&g(a.onLoad)&&a.onLoad(d.reference,d.popper,d.options,a,d.state)}),this.update();var f=this.options.eventsEnabled;f&&this.enableEventListeners(),this.state.eventsEnabled=f}return jb(a,[{key:"update",value:function(){return function(){if(!this.state.isDestroyed){var a={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};a.offsets.reference=y(this.state,this.popper,this.reference,this.options.positionFixed),a.placement=x(this.options.placement,a.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),a.originalPlacement=a.placement,a.positionFixed=this.options.positionFixed,a.offsets.popper=B(this.popper,a.offsets.reference,a.placement),a.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",a=D(this.modifiers,a),this.state.isCreated?this.options.onUpdate(a):(this.state.isCreated=!0,this.options.onCreate(a))}}.call(this)}},{key:"destroy",value:function(){return function(){return this.state.isDestroyed=!0,E(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[F("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}.call(this)}},{key:"enableEventListeners",value:function(){return function(){this.state.eventsEnabled||(this.state=H(this.reference,this.options,this.state,this.scheduleUpdate))}.call(this)}},{key:"disableEventListeners",value:function(){return I.call(this)}}]),a}();tb.Utils=("undefined"!=typeof window?window:global).PopperUtils,tb.placements=nb,tb.Defaults=sb;var ub="dropdown",vb="bs.dropdown",wb="."+vb,xb=".data-api",yb=b.fn[ub],zb=new RegExp("38|40|27"),Ab={HIDE:"hide"+wb,HIDDEN:"hidden"+wb,SHOW:"show"+wb,SHOWN:"shown"+wb,CLICK:"click"+wb,CLICK_DATA_API:"click"+wb+xb,KEYDOWN_DATA_API:"keydown"+wb+xb,KEYUP_DATA_API:"keyup"+wb+xb},Bb="disabled",Cb="show",Db="dropup",Eb="dropright",Fb="dropleft",Gb="dropdown-menu-right",Hb="position-static",Ib='[data-toggle="dropdown"]',Jb=".dropdown-menu",Kb=".navbar-nav",Lb=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",Mb="top-start",Nb="top-end",Ob="bottom-start",Pb="bottom-end",Qb="right-start",Rb="left-start",Sb={offset:0,flip:!0,boundary:"scrollParent",reference:"toggle",display:"dynamic"},Tb={offset:"(number|string|function)",flip:"boolean",boundary:"(string|element)",reference:"(string|element)",display:"string"},Ub=function(){function a(a,b){this._element=a,this._popper=null,this._config=this._getConfig(b),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar(),this._addEventListeners()}var c=a.prototype;return c.toggle=function(){if(!this._element.disabled&&!b(this._element).hasClass(Bb)){var c=a._getParentFromElement(this._element),d=b(this._menu).hasClass(Cb);if(a._clearMenus(),!d){var e={relatedTarget:this._element},f=b.Event(Ab.SHOW,e);if(b(c).trigger(f),!f.isDefaultPrevented()){if(!this._inNavbar){if(void 0===tb)throw new TypeError("Bootstrap's dropdowns require Popper.js (https://popper.js.org/)");var g=this._element;"parent"===this._config.reference?g=c:Q.isElement(this._config.reference)&&(g=this._config.reference,void 0!==this._config.reference.jquery&&(g=this._config.reference[0])),"scrollParent"!==this._config.boundary&&b(c).addClass(Hb),this._popper=new tb(g,this._menu,this._getPopperConfig())}"ontouchstart"in document.documentElement&&0===b(c).closest(Kb).length&&b(document.body).children().on("mouseover",null,b.noop),this._element.focus(),this._element.setAttribute("aria-expanded",!0),b(this._menu).toggleClass(Cb),b(c).toggleClass(Cb).trigger(b.Event(Ab.SHOWN,e))}}}},c.show=function(){if(!(this._element.disabled||b(this._element).hasClass(Bb)||b(this._menu).hasClass(Cb))){var c={relatedTarget:this._element},d=b.Event(Ab.SHOW,c),e=a._getParentFromElement(this._element);b(e).trigger(d),d.isDefaultPrevented()||(b(this._menu).toggleClass(Cb),b(e).toggleClass(Cb).trigger(b.Event(Ab.SHOWN,c)))}},c.hide=function(){if(!this._element.disabled&&!b(this._element).hasClass(Bb)&&b(this._menu).hasClass(Cb)){var c={relatedTarget:this._element},d=b.Event(Ab.HIDE,c),e=a._getParentFromElement(this._element);b(e).trigger(d),
d.isDefaultPrevented()||(b(this._menu).toggleClass(Cb),b(e).toggleClass(Cb).trigger(b.Event(Ab.HIDDEN,c)))}},c.dispose=function(){b.removeData(this._element,vb),b(this._element).off(wb),this._element=null,(this._menu=null)!==this._popper&&(this._popper.destroy(),this._popper=null)},c.update=function(){this._inNavbar=this._detectNavbar(),null!==this._popper&&this._popper.scheduleUpdate()},c._addEventListeners=function(){var a=this;b(this._element).on(Ab.CLICK,function(b){b.preventDefault(),b.stopPropagation(),a.toggle()})},c._getConfig=function(a){return a=e({},this.constructor.Default,b(this._element).data(),a),Q.typeCheckConfig(ub,a,this.constructor.DefaultType),a},c._getMenuElement=function(){if(!this._menu){var b=a._getParentFromElement(this._element);b&&(this._menu=b.querySelector(Jb))}return this._menu},c._getPlacement=function(){var a=b(this._element.parentNode),c=Ob;return a.hasClass(Db)?(c=Mb,b(this._menu).hasClass(Gb)&&(c=Nb)):a.hasClass(Eb)?c=Qb:a.hasClass(Fb)?c=Rb:b(this._menu).hasClass(Gb)&&(c=Pb),c},c._detectNavbar=function(){return 0<b(this._element).closest(".navbar").length},c._getOffset=function(){var a=this,b={};return"function"==typeof this._config.offset?b.fn=function(b){return b.offsets=e({},b.offsets,a._config.offset(b.offsets,a._element)||{}),b}:b.offset=this._config.offset,b},c._getPopperConfig=function(){var a={placement:this._getPlacement(),modifiers:{offset:this._getOffset(),flip:{enabled:this._config.flip},preventOverflow:{boundariesElement:this._config.boundary}}};return"static"===this._config.display&&(a.modifiers.applyStyle={enabled:!1}),a},a._jQueryInterface=function(c){return this.each(function(){var d=b(this).data(vb);if(d||(d=new a(this,"object"==typeof c?c:null),b(this).data(vb,d)),"string"==typeof c){if(void 0===d[c])throw new TypeError('No method named "'+c+'"');d[c]()}})},a._clearMenus=function(c){if(!c||3!==c.which&&("keyup"!==c.type||9===c.which))for(var d=[].slice.call(document.querySelectorAll(Ib)),e=0,f=d.length;e<f;e++){var g=a._getParentFromElement(d[e]),h=b(d[e]).data(vb),i={relatedTarget:d[e]};if(c&&"click"===c.type&&(i.clickEvent=c),h){var j=h._menu;if(b(g).hasClass(Cb)&&!(c&&("click"===c.type&&/input|textarea/i.test(c.target.tagName)||"keyup"===c.type&&9===c.which)&&b.contains(g,c.target))){var k=b.Event(Ab.HIDE,i);b(g).trigger(k),k.isDefaultPrevented()||("ontouchstart"in document.documentElement&&b(document.body).children().off("mouseover",null,b.noop),d[e].setAttribute("aria-expanded","false"),b(j).removeClass(Cb),b(g).removeClass(Cb).trigger(b.Event(Ab.HIDDEN,i)))}}}},a._getParentFromElement=function(a){var b,c=Q.getSelectorFromElement(a);return c&&(b=document.querySelector(c)),b||a.parentNode},a._dataApiKeydownHandler=function(c){if((/input|textarea/i.test(c.target.tagName)?!(32===c.which||27!==c.which&&(40!==c.which&&38!==c.which||b(c.target).closest(Jb).length)):zb.test(c.which))&&(c.preventDefault(),c.stopPropagation(),!this.disabled&&!b(this).hasClass(Bb))){var d=a._getParentFromElement(this),e=b(d).hasClass(Cb);if(e&&(!e||27!==c.which&&32!==c.which)){var f=[].slice.call(d.querySelectorAll(Lb));if(0!==f.length){var g=f.indexOf(c.target);38===c.which&&0<g&&g--,40===c.which&&g<f.length-1&&g++,g<0&&(g=0),f[g].focus()}}else{if(27===c.which){var h=d.querySelector(Ib);b(h).trigger("focus")}b(this).trigger("click")}}},d(a,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"Default",get:function(){return Sb}},{key:"DefaultType",get:function(){return Tb}}]),a}();b(document).on(Ab.KEYDOWN_DATA_API,Ib,Ub._dataApiKeydownHandler).on(Ab.KEYDOWN_DATA_API,Jb,Ub._dataApiKeydownHandler).on(Ab.CLICK_DATA_API+" "+Ab.KEYUP_DATA_API,Ub._clearMenus).on(Ab.CLICK_DATA_API,Ib,function(a){a.preventDefault(),a.stopPropagation(),Ub._jQueryInterface.call(b(this),"toggle")}).on(Ab.CLICK_DATA_API,".dropdown form",function(a){a.stopPropagation()}),b.fn[ub]=Ub._jQueryInterface,b.fn[ub].Constructor=Ub,b.fn[ub].noConflict=function(){return b.fn[ub]=yb,Ub._jQueryInterface};var Vb="modal",Wb="bs.modal",Xb="."+Wb,Yb=b.fn[Vb],Zb={backdrop:!0,keyboard:!0,focus:!0,show:!0},$b={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},_b={HIDE:"hide"+Xb,HIDDEN:"hidden"+Xb,SHOW:"show"+Xb,SHOWN:"shown"+Xb,FOCUSIN:"focusin"+Xb,RESIZE:"resize"+Xb,CLICK_DISMISS:"click.dismiss"+Xb,KEYDOWN_DISMISS:"keydown.dismiss"+Xb,MOUSEUP_DISMISS:"mouseup.dismiss"+Xb,MOUSEDOWN_DISMISS:"mousedown.dismiss"+Xb,CLICK_DATA_API:"click"+Xb+".data-api"},ac="modal-dialog-scrollable",bc="modal-scrollbar-measure",cc="modal-backdrop",dc="modal-open",ec="fade",fc="show",gc=".modal-dialog",hc=".modal-body",ic='[data-dismiss="modal"]',jc=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",kc=".sticky-top",lc=function(){function a(a,b){this._config=this._getConfig(b),this._element=a,this._dialog=a.querySelector(gc),this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._isTransitioning=!1,this._scrollbarWidth=0}var c=a.prototype;return c.toggle=function(a){return this._isShown?this.hide():this.show(a)},c.show=function(a){var c=this;if(!this._isShown&&!this._isTransitioning){b(this._element).hasClass(ec)&&(this._isTransitioning=!0);var d=b.Event(_b.SHOW,{relatedTarget:a});b(this._element).trigger(d),this._isShown||d.isDefaultPrevented()||(this._isShown=!0,this._checkScrollbar(),this._setScrollbar(),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),b(this._element).on(_b.CLICK_DISMISS,ic,function(a){return c.hide(a)}),b(this._dialog).on(_b.MOUSEDOWN_DISMISS,function(){b(c._element).one(_b.MOUSEUP_DISMISS,function(a){b(a.target).is(c._element)&&(c._ignoreBackdropClick=!0)})}),this._showBackdrop(function(){return c._showElement(a)}))}},c.hide=function(a){var c=this;if(a&&a.preventDefault(),this._isShown&&!this._isTransitioning){var d=b.Event(_b.HIDE);if(b(this._element).trigger(d),this._isShown&&!d.isDefaultPrevented()){this._isShown=!1;var e=b(this._element).hasClass(ec);if(e&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),b(document).off(_b.FOCUSIN),b(this._element).removeClass(fc),b(this._element).off(_b.CLICK_DISMISS),b(this._dialog).off(_b.MOUSEDOWN_DISMISS),e){var f=Q.getTransitionDurationFromElement(this._element);b(this._element).one(Q.TRANSITION_END,function(a){return c._hideModal(a)}).emulateTransitionEnd(f)}else this._hideModal()}}},c.dispose=function(){[window,this._element,this._dialog].forEach(function(a){return b(a).off(Xb)}),b(document).off(_b.FOCUSIN),b.removeData(this._element,Wb),this._config=null,this._element=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._isTransitioning=null,this._scrollbarWidth=null},c.handleUpdate=function(){this._adjustDialog()},c._getConfig=function(a){return a=e({},Zb,a),Q.typeCheckConfig(Vb,a,$b),a},c._showElement=function(a){var c=this,d=b(this._element).hasClass(ec);this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),b(this._dialog).hasClass(ac)?this._dialog.querySelector(hc).scrollTop=0:this._element.scrollTop=0,d&&Q.reflow(this._element),b(this._element).addClass(fc),this._config.focus&&this._enforceFocus();var e=b.Event(_b.SHOWN,{relatedTarget:a}),f=function(){c._config.focus&&c._element.focus(),c._isTransitioning=!1,b(c._element).trigger(e)};if(d){var g=Q.getTransitionDurationFromElement(this._dialog);b(this._dialog).one(Q.TRANSITION_END,f).emulateTransitionEnd(g)}else f()},c._enforceFocus=function(){var a=this;b(document).off(_b.FOCUSIN).on(_b.FOCUSIN,function(c){document!==c.target&&a._element!==c.target&&0===b(a._element).has(c.target).length&&a._element.focus()})},c._setEscapeEvent=function(){var a=this;this._isShown&&this._config.keyboard?b(this._element).on(_b.KEYDOWN_DISMISS,function(b){27===b.which&&(b.preventDefault(),a.hide())}):this._isShown||b(this._element).off(_b.KEYDOWN_DISMISS)},c._setResizeEvent=function(){var a=this;this._isShown?b(window).on(_b.RESIZE,function(b){return a.handleUpdate(b)}):b(window).off(_b.RESIZE)},c._hideModal=function(){var a=this;this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._isTransitioning=!1,this._showBackdrop(function(){b(document.body).removeClass(dc),a._resetAdjustments(),a._resetScrollbar(),b(a._element).trigger(_b.HIDDEN)})},c._removeBackdrop=function(){this._backdrop&&(b(this._backdrop).remove(),this._backdrop=null)},c._showBackdrop=function(a){var c=this,d=b(this._element).hasClass(ec)?ec:"";if(this._isShown&&this._config.backdrop){if(this._backdrop=document.createElement("div"),this._backdrop.className=cc,d&&this._backdrop.classList.add(d),b(this._backdrop).appendTo(document.body),b(this._element).on(_b.CLICK_DISMISS,function(a){c._ignoreBackdropClick?c._ignoreBackdropClick=!1:a.target===a.currentTarget&&("static"===c._config.backdrop?c._element.focus():c.hide())}),d&&Q.reflow(this._backdrop),b(this._backdrop).addClass(fc),!a)return;if(!d)return void a();var e=Q.getTransitionDurationFromElement(this._backdrop);b(this._backdrop).one(Q.TRANSITION_END,a).emulateTransitionEnd(e)}else if(!this._isShown&&this._backdrop){b(this._backdrop).removeClass(fc);var f=function(){c._removeBackdrop(),a&&a()};if(b(this._element).hasClass(ec)){var g=Q.getTransitionDurationFromElement(this._backdrop);b(this._backdrop).one(Q.TRANSITION_END,f).emulateTransitionEnd(g)}else f()}else a&&a()},c._adjustDialog=function(){var a=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&a&&(this._element.style.paddingLeft=this._scrollbarWidth+"px"),this._isBodyOverflowing&&!a&&(this._element.style.paddingRight=this._scrollbarWidth+"px")},c._resetAdjustments=function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""},c._checkScrollbar=function(){var a=document.body.getBoundingClientRect();this._isBodyOverflowing=a.left+a.right<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()},c._setScrollbar=function(){var a=this;if(this._isBodyOverflowing){var c=[].slice.call(document.querySelectorAll(jc)),d=[].slice.call(document.querySelectorAll(kc));b(c).each(function(c,d){var e=d.style.paddingRight,f=b(d).css("padding-right");b(d).data("padding-right",e).css("padding-right",parseFloat(f)+a._scrollbarWidth+"px")}),b(d).each(function(c,d){var e=d.style.marginRight,f=b(d).css("margin-right");b(d).data("margin-right",e).css("margin-right",parseFloat(f)-a._scrollbarWidth+"px")});var e=document.body.style.paddingRight,f=b(document.body).css("padding-right");b(document.body).data("padding-right",e).css("padding-right",parseFloat(f)+this._scrollbarWidth+"px")}b(document.body).addClass(dc)},c._resetScrollbar=function(){var a=[].slice.call(document.querySelectorAll(jc));b(a).each(function(a,c){var d=b(c).data("padding-right");b(c).removeData("padding-right"),c.style.paddingRight=d||""});var c=[].slice.call(document.querySelectorAll(""+kc));b(c).each(function(a,c){var d=b(c).data("margin-right");void 0!==d&&b(c).css("margin-right",d).removeData("margin-right")});var d=b(document.body).data("padding-right");b(document.body).removeData("padding-right"),document.body.style.paddingRight=d||""},c._getScrollbarWidth=function(){var a=document.createElement("div");a.className=bc,document.body.appendChild(a);var b=a.getBoundingClientRect().width-a.clientWidth;return document.body.removeChild(a),b},a._jQueryInterface=function(c,d){return this.each(function(){var f=b(this).data(Wb),g=e({},Zb,b(this).data(),"object"==typeof c&&c?c:{});if(f||(f=new a(this,g),b(this).data(Wb,f)),"string"==typeof c){if(void 0===f[c])throw new TypeError('No method named "'+c+'"');f[c](d)}else g.show&&f.show(d)})},d(a,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"Default",get:function(){return Zb}}]),a}();b(document).on(_b.CLICK_DATA_API,'[data-toggle="modal"]',function(a){var c,d=this,f=Q.getSelectorFromElement(this);f&&(c=document.querySelector(f));var g=b(c).data(Wb)?"toggle":e({},b(c).data(),b(this).data());"A"!==this.tagName&&"AREA"!==this.tagName||a.preventDefault();var h=b(c).one(_b.SHOW,function(a){a.isDefaultPrevented()||h.one(_b.HIDDEN,function(){b(d).is(":visible")&&d.focus()})});lc._jQueryInterface.call(b(c),g,this)}),b.fn[Vb]=lc._jQueryInterface,b.fn[Vb].Constructor=lc,b.fn[Vb].noConflict=function(){return b.fn[Vb]=Yb,lc._jQueryInterface};var mc=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],nc={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},oc=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,pc=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+/]+=*$/i,qc="tooltip",rc="bs.tooltip",sc="."+rc,tc=b.fn[qc],uc="bs-tooltip",vc=new RegExp("(^|\\s)"+uc+"\\S+","g"),wc=["sanitize","whiteList","sanitizeFn"],xc={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(number|string|function)",container:"(string|element|boolean)",fallbackPlacement:"(string|array)",boundary:"(string|element)",sanitize:"boolean",sanitizeFn:"(null|function)",whiteList:"object"},yc={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},zc={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:0,container:!1,fallbackPlacement:"flip",boundary:"scrollParent",sanitize:!0,sanitizeFn:null,whiteList:nc},Ac="show",Bc="out",Cc={HIDE:"hide"+sc,HIDDEN:"hidden"+sc,SHOW:"show"+sc,SHOWN:"shown"+sc,INSERTED:"inserted"+sc,CLICK:"click"+sc,FOCUSIN:"focusin"+sc,FOCUSOUT:"focusout"+sc,MOUSEENTER:"mouseenter"+sc,MOUSELEAVE:"mouseleave"+sc},Dc="fade",Ec="show",Fc=".tooltip-inner",Gc=".arrow",Hc="hover",Ic="focus",Jc="click",Kc="manual",Lc=function(){function a(a,b){if(void 0===tb)throw new TypeError("Bootstrap's tooltips require Popper.js (https://popper.js.org/)");this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this.element=a,this.config=this._getConfig(b),this.tip=null,this._setListeners()}var c=a.prototype;return c.enable=function(){this._isEnabled=!0},c.disable=function(){this._isEnabled=!1},c.toggleEnabled=function(){this._isEnabled=!this._isEnabled},c.toggle=function(a){if(this._isEnabled)if(a){var c=this.constructor.DATA_KEY,d=b(a.currentTarget).data(c);d||(d=new this.constructor(a.currentTarget,this._getDelegateConfig()),b(a.currentTarget).data(c,d)),d._activeTrigger.click=!d._activeTrigger.click,d._isWithActiveTrigger()?d._enter(null,d):d._leave(null,d)}else{if(b(this.getTipElement()).hasClass(Ec))return void this._leave(null,this);this._enter(null,this)}},c.dispose=function(){clearTimeout(this._timeout),b.removeData(this.element,this.constructor.DATA_KEY),b(this.element).off(this.constructor.EVENT_KEY),b(this.element).closest(".modal").off("hide.bs.modal"),this.tip&&b(this.tip).remove(),this._isEnabled=null,this._timeout=null,this._hoverState=null,(this._activeTrigger=null)!==this._popper&&this._popper.destroy(),this._popper=null,this.element=null,this.config=null,this.tip=null},c.show=function(){var a=this;if("none"===b(this.element).css("display"))throw new Error("Please use show on visible elements");var c=b.Event(this.constructor.Event.SHOW);if(this.isWithContent()&&this._isEnabled){b(this.element).trigger(c);var d=Q.findShadowRoot(this.element),e=b.contains(null!==d?d:this.element.ownerDocument.documentElement,this.element);if(c.isDefaultPrevented()||!e)return;var f=this.getTipElement(),g=Q.getUID(this.constructor.NAME);f.setAttribute("id",g),this.element.setAttribute("aria-describedby",g),this.setContent(),this.config.animation&&b(f).addClass(Dc);var h="function"==typeof this.config.placement?this.config.placement.call(this,f,this.element):this.config.placement,i=this._getAttachment(h);this.addAttachmentClass(i);var j=this._getContainer();b(f).data(this.constructor.DATA_KEY,this),b.contains(this.element.ownerDocument.documentElement,this.tip)||b(f).appendTo(j),b(this.element).trigger(this.constructor.Event.INSERTED),this._popper=new tb(this.element,f,{placement:i,modifiers:{offset:this._getOffset(),flip:{behavior:this.config.fallbackPlacement},arrow:{element:Gc},preventOverflow:{boundariesElement:this.config.boundary}},onCreate:function(b){b.originalPlacement!==b.placement&&a._handlePopperPlacementChange(b)},onUpdate:function(b){return a._handlePopperPlacementChange(b)}}),b(f).addClass(Ec),"ontouchstart"in document.documentElement&&b(document.body).children().on("mouseover",null,b.noop);var k=function(){a.config.animation&&a._fixTransition();var c=a._hoverState;a._hoverState=null,b(a.element).trigger(a.constructor.Event.SHOWN),c===Bc&&a._leave(null,a)};if(b(this.tip).hasClass(Dc)){var l=Q.getTransitionDurationFromElement(this.tip);b(this.tip).one(Q.TRANSITION_END,k).emulateTransitionEnd(l)}else k()}},c.hide=function(a){var c=this,d=this.getTipElement(),e=b.Event(this.constructor.Event.HIDE),f=function(){c._hoverState!==Ac&&d.parentNode&&d.parentNode.removeChild(d),c._cleanTipClass(),c.element.removeAttribute("aria-describedby"),b(c.element).trigger(c.constructor.Event.HIDDEN),null!==c._popper&&c._popper.destroy(),a&&a()};if(b(this.element).trigger(e),!e.isDefaultPrevented()){if(b(d).removeClass(Ec),"ontouchstart"in document.documentElement&&b(document.body).children().off("mouseover",null,b.noop),this._activeTrigger[Jc]=!1,this._activeTrigger[Ic]=!1,this._activeTrigger[Hc]=!1,b(this.tip).hasClass(Dc)){var g=Q.getTransitionDurationFromElement(d);b(d).one(Q.TRANSITION_END,f).emulateTransitionEnd(g)}else f();this._hoverState=""}},c.update=function(){null!==this._popper&&this._popper.scheduleUpdate()},c.isWithContent=function(){return Boolean(this.getTitle())},c.addAttachmentClass=function(a){b(this.getTipElement()).addClass(uc+"-"+a)},c.getTipElement=function(){return this.tip=this.tip||b(this.config.template)[0],this.tip},c.setContent=function(){var a=this.getTipElement();this.setElementContent(b(a.querySelectorAll(Fc)),this.getTitle()),b(a).removeClass(Dc+" "+Ec)},c.setElementContent=function(a,c){"object"!=typeof c||!c.nodeType&&!c.jquery?this.config.html?(this.config.sanitize&&(c=O(c,this.config.whiteList,this.config.sanitizeFn)),a.html(c)):a.text(c):this.config.html?b(c).parent().is(a)||a.empty().append(c):a.text(b(c).text())},c.getTitle=function(){var a=this.element.getAttribute("data-original-title");return a||(a="function"==typeof this.config.title?this.config.title.call(this.element):this.config.title),a},c._getOffset=function(){var a=this,b={};return"function"==typeof this.config.offset?b.fn=function(b){return b.offsets=e({},b.offsets,a.config.offset(b.offsets,a.element)||{}),b}:b.offset=this.config.offset,b},c._getContainer=function(){return!1===this.config.container?document.body:Q.isElement(this.config.container)?b(this.config.container):b(document).find(this.config.container)},c._getAttachment=function(a){return yc[a.toUpperCase()]},c._setListeners=function(){var a=this;this.config.trigger.split(" ").forEach(function(c){if("click"===c)b(a.element).on(a.constructor.Event.CLICK,a.config.selector,function(b){return a.toggle(b)});else if(c!==Kc){var d=c===Hc?a.constructor.Event.MOUSEENTER:a.constructor.Event.FOCUSIN,e=c===Hc?a.constructor.Event.MOUSELEAVE:a.constructor.Event.FOCUSOUT;b(a.element).on(d,a.config.selector,function(b){return a._enter(b)}).on(e,a.config.selector,function(b){return a._leave(b)})}}),b(this.element).closest(".modal").on("hide.bs.modal",function(){a.element&&a.hide()}),this.config.selector?this.config=e({},this.config,{trigger:"manual",selector:""}):this._fixTitle()},c._fixTitle=function(){var a=typeof this.element.getAttribute("data-original-title");(this.element.getAttribute("title")||"string"!==a)&&(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))},c._enter=function(a,c){var d=this.constructor.DATA_KEY;(c=c||b(a.currentTarget).data(d))||(c=new this.constructor(a.currentTarget,this._getDelegateConfig()),b(a.currentTarget).data(d,c)),a&&(c._activeTrigger["focusin"===a.type?Ic:Hc]=!0),b(c.getTipElement()).hasClass(Ec)||c._hoverState===Ac?c._hoverState=Ac:(clearTimeout(c._timeout),c._hoverState=Ac,c.config.delay&&c.config.delay.show?c._timeout=setTimeout(function(){c._hoverState===Ac&&c.show()},c.config.delay.show):c.show())},c._leave=function(a,c){var d=this.constructor.DATA_KEY;(c=c||b(a.currentTarget).data(d))||(c=new this.constructor(a.currentTarget,this._getDelegateConfig()),b(a.currentTarget).data(d,c)),a&&(c._activeTrigger["focusout"===a.type?Ic:Hc]=!1),c._isWithActiveTrigger()||(clearTimeout(c._timeout),c._hoverState=Bc,c.config.delay&&c.config.delay.hide?c._timeout=setTimeout(function(){c._hoverState===Bc&&c.hide()},c.config.delay.hide):c.hide())},c._isWithActiveTrigger=function(){for(var a in this._activeTrigger)if(this._activeTrigger[a])return!0;return!1},c._getConfig=function(a){var c=b(this.element).data();return Object.keys(c).forEach(function(a){-1!==wc.indexOf(a)&&delete c[a]}),"number"==typeof(a=e({},this.constructor.Default,c,"object"==typeof a&&a?a:{})).delay&&(a.delay={show:a.delay,hide:a.delay}),"number"==typeof a.title&&(a.title=a.title.toString()),"number"==typeof a.content&&(a.content=a.content.toString()),Q.typeCheckConfig(qc,a,this.constructor.DefaultType),a.sanitize&&(a.template=O(a.template,a.whiteList,a.sanitizeFn)),a},c._getDelegateConfig=function(){var a={};if(this.config)for(var b in this.config)this.constructor.Default[b]!==this.config[b]&&(a[b]=this.config[b]);return a},c._cleanTipClass=function(){var a=b(this.getTipElement()),c=a.attr("class").match(vc);null!==c&&c.length&&a.removeClass(c.join(""))},c._handlePopperPlacementChange=function(a){var b=a.instance;this.tip=b.popper,this._cleanTipClass(),this.addAttachmentClass(this._getAttachment(a.placement))},c._fixTransition=function(){var a=this.getTipElement(),c=this.config.animation;null===a.getAttribute("x-placement")&&(b(a).removeClass(Dc),this.config.animation=!1,this.hide(),this.show(),this.config.animation=c)},a._jQueryInterface=function(c){return this.each(function(){var d=b(this).data(rc),e="object"==typeof c&&c;if((d||!/dispose|hide/.test(c))&&(d||(d=new a(this,e),b(this).data(rc,d)),"string"==typeof c)){if(void 0===d[c])throw new TypeError('No method named "'+c+'"');d[c]()}})},d(a,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"Default",get:function(){return zc}},{key:"NAME",get:function(){return qc}},{key:"DATA_KEY",get:function(){return rc}},{key:"Event",get:function(){return Cc}},{key:"EVENT_KEY",get:function(){return sc}},{key:"DefaultType",get:function(){return xc}}]),a}();b.fn[qc]=Lc._jQueryInterface,b.fn[qc].Constructor=Lc,b.fn[qc].noConflict=function(){return b.fn[qc]=tc,Lc._jQueryInterface};var Mc="popover",Nc="bs.popover",Oc="."+Nc,Pc=b.fn[Mc],Qc="bs-popover",Rc=new RegExp("(^|\\s)"+Qc+"\\S+","g"),Sc=e({},Lc.Default,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),Tc=e({},Lc.DefaultType,{content:"(string|element|function)"}),Uc="fade",Vc="show",Wc=".popover-header",Xc=".popover-body",Yc={HIDE:"hide"+Oc,HIDDEN:"hidden"+Oc,SHOW:"show"+Oc,SHOWN:"shown"+Oc,INSERTED:"inserted"+Oc,CLICK:"click"+Oc,FOCUSIN:"focusin"+Oc,FOCUSOUT:"focusout"+Oc,MOUSEENTER:"mouseenter"+Oc,MOUSELEAVE:"mouseleave"+Oc},Zc=function(a){function c(){return a.apply(this,arguments)||this}var e,f;f=a,(e=c).prototype=Object.create(f.prototype),(e.prototype.constructor=e).__proto__=f;var g=c.prototype;return g.isWithContent=function(){return this.getTitle()||this._getContent()},g.addAttachmentClass=function(a){b(this.getTipElement()).addClass(Qc+"-"+a)},g.getTipElement=function(){return this.tip=this.tip||b(this.config.template)[0],this.tip},g.setContent=function(){var a=b(this.getTipElement());this.setElementContent(a.find(Wc),this.getTitle());var c=this._getContent();"function"==typeof c&&(c=c.call(this.element)),this.setElementContent(a.find(Xc),c),a.removeClass(Uc+" "+Vc)},g._getContent=function(){return this.element.getAttribute("data-content")||this.config.content},g._cleanTipClass=function(){var a=b(this.getTipElement()),c=a.attr("class").match(Rc);null!==c&&0<c.length&&a.removeClass(c.join(""))},c._jQueryInterface=function(a){return this.each(function(){var d=b(this).data(Nc),e="object"==typeof a?a:null;if((d||!/dispose|hide/.test(a))&&(d||(d=new c(this,e),b(this).data(Nc,d)),"string"==typeof a)){if(void 0===d[a])throw new TypeError('No method named "'+a+'"');d[a]()}})},d(c,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"Default",get:function(){return Sc}},{key:"NAME",get:function(){return Mc}},{key:"DATA_KEY",get:function(){return Nc}},{key:"Event",get:function(){return Yc}},{key:"EVENT_KEY",get:function(){return Oc}},{key:"DefaultType",get:function(){return Tc}}]),c}(Lc);b.fn[Mc]=Zc._jQueryInterface,b.fn[Mc].Constructor=Zc,b.fn[Mc].noConflict=function(){return b.fn[Mc]=Pc,Zc._jQueryInterface};var $c="scrollspy",_c="bs.scrollspy",ad="."+_c,bd=b.fn[$c],cd={offset:10,method:"auto",target:""},dd={offset:"number",method:"string",target:"(string|element)"},ed={ACTIVATE:"activate"+ad,SCROLL:"scroll"+ad,LOAD_DATA_API:"load"+ad+".data-api"},fd="dropdown-item",gd="active",hd='[data-spy="scroll"]',id=".nav, .list-group",jd=".nav-link",kd=".nav-item",ld=".list-group-item",md=".dropdown",nd=".dropdown-item",od=".dropdown-toggle",pd="offset",qd="position",rd=function(){function a(a,c){var d=this;this._element=a,this._scrollElement="BODY"===a.tagName?window:a,this._config=this._getConfig(c),this._selector=this._config.target+" "+jd+","+this._config.target+" "+ld+","+this._config.target+" "+nd,this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,b(this._scrollElement).on(ed.SCROLL,function(a){return d._process(a)}),this.refresh(),this._process()}var c=a.prototype;return c.refresh=function(){var a=this,c=this._scrollElement===this._scrollElement.window?pd:qd,d="auto"===this._config.method?c:this._config.method,e=d===qd?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),[].slice.call(document.querySelectorAll(this._selector)).map(function(a){var c,f=Q.getSelectorFromElement(a);if(f&&(c=document.querySelector(f)),c){var g=c.getBoundingClientRect();if(g.width||g.height)return[b(c)[d]().top+e,f]}return null}).filter(function(a){return a}).sort(function(a,b){return a[0]-b[0]}).forEach(function(b){a._offsets.push(b[0]),a._targets.push(b[1])})},c.dispose=function(){b.removeData(this._element,_c),b(this._scrollElement).off(ad),this._element=null,this._scrollElement=null,this._config=null,this._selector=null,this._offsets=null,this._targets=null,this._activeTarget=null,this._scrollHeight=null},c._getConfig=function(a){if("string"!=typeof(a=e({},cd,"object"==typeof a&&a?a:{})).target){var c=b(a.target).attr("id");c||(c=Q.getUID($c),b(a.target).attr("id",c)),a.target="#"+c}return Q.typeCheckConfig($c,a,dd),a},c._getScrollTop=function(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop},c._getScrollHeight=function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},c._getOffsetHeight=function(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height},c._process=function(){var a=this._getScrollTop()+this._config.offset,b=this._getScrollHeight(),c=this._config.offset+b-this._getOffsetHeight();if(this._scrollHeight!==b&&this.refresh(),c<=a){var d=this._targets[this._targets.length-1];this._activeTarget!==d&&this._activate(d)}else{if(this._activeTarget&&a<this._offsets[0]&&0<this._offsets[0])return this._activeTarget=null,void this._clear();for(var e=this._offsets.length;e--;)this._activeTarget!==this._targets[e]&&a>=this._offsets[e]&&(void 0===this._offsets[e+1]||a<this._offsets[e+1])&&this._activate(this._targets[e])}},c._activate=function(a){this._activeTarget=a,this._clear();var c=this._selector.split(",").map(function(b){return b+'[data-target="'+a+'"],'+b+'[href="'+a+'"]'}),d=b([].slice.call(document.querySelectorAll(c.join(","))));d.hasClass(fd)?(d.closest(md).find(od).addClass(gd),d.addClass(gd)):(d.addClass(gd),d.parents(id).prev(jd+", "+ld).addClass(gd),d.parents(id).prev(kd).children(jd).addClass(gd)),b(this._scrollElement).trigger(ed.ACTIVATE,{relatedTarget:a})},c._clear=function(){[].slice.call(document.querySelectorAll(this._selector)).filter(function(a){return a.classList.contains(gd)}).forEach(function(a){return a.classList.remove(gd)})},a._jQueryInterface=function(c){return this.each(function(){var d=b(this).data(_c);if(d||(d=new a(this,"object"==typeof c&&c),b(this).data(_c,d)),"string"==typeof c){if(void 0===d[c])throw new TypeError('No method named "'+c+'"');d[c]()}})},d(a,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"Default",get:function(){return cd}}]),a}();b(window).on(ed.LOAD_DATA_API,function(){for(var a=[].slice.call(document.querySelectorAll(hd)),c=a.length;c--;){var d=b(a[c]);rd._jQueryInterface.call(d,d.data())}}),b.fn[$c]=rd._jQueryInterface,b.fn[$c].Constructor=rd,b.fn[$c].noConflict=function(){return b.fn[$c]=bd,rd._jQueryInterface};var sd="bs.tab",td="."+sd,ud=b.fn.tab,vd={HIDE:"hide"+td,HIDDEN:"hidden"+td,SHOW:"show"+td,SHOWN:"shown"+td,CLICK_DATA_API:"click"+td+".data-api"},wd="dropdown-menu",xd="active",yd="disabled",zd="fade",Ad="show",Bd=".dropdown",Cd=".nav, .list-group",Dd=".active",Ed="> li > .active",Fd=".dropdown-toggle",Gd="> .dropdown-menu .active",Hd=function(){function a(a){this._element=a}var c=a.prototype;return c.show=function(){var a=this;if(!(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&b(this._element).hasClass(xd)||b(this._element).hasClass(yd))){var c,d,e=b(this._element).closest(Cd)[0],f=Q.getSelectorFromElement(this._element);if(e){var g="UL"===e.nodeName||"OL"===e.nodeName?Ed:Dd;d=(d=b.makeArray(b(e).find(g)))[d.length-1]}var h=b.Event(vd.HIDE,{relatedTarget:this._element}),i=b.Event(vd.SHOW,{relatedTarget:d});if(d&&b(d).trigger(h),b(this._element).trigger(i),!i.isDefaultPrevented()&&!h.isDefaultPrevented()){f&&(c=document.querySelector(f)),this._activate(this._element,e);var j=function(){var c=b.Event(vd.HIDDEN,{relatedTarget:a._element}),e=b.Event(vd.SHOWN,{relatedTarget:d});b(d).trigger(c),b(a._element).trigger(e)};c?this._activate(c,c.parentNode,j):j()}}},c.dispose=function(){b.removeData(this._element,sd),this._element=null},c._activate=function(a,c,d){var e=this,f=(!c||"UL"!==c.nodeName&&"OL"!==c.nodeName?b(c).children(Dd):b(c).find(Ed))[0],g=d&&f&&b(f).hasClass(zd),h=function(){return e._transitionComplete(a,f,d)};if(f&&g){var i=Q.getTransitionDurationFromElement(f);b(f).removeClass(Ad).one(Q.TRANSITION_END,h).emulateTransitionEnd(i)}else h()},c._transitionComplete=function(a,c,d){if(c){b(c).removeClass(xd);var e=b(c.parentNode).find(Gd)[0];e&&b(e).removeClass(xd),"tab"===c.getAttribute("role")&&c.setAttribute("aria-selected",!1)}if(b(a).addClass(xd),"tab"===a.getAttribute("role")&&a.setAttribute("aria-selected",!0),Q.reflow(a),a.classList.contains(zd)&&a.classList.add(Ad),a.parentNode&&b(a.parentNode).hasClass(wd)){var f=b(a).closest(Bd)[0];if(f){var g=[].slice.call(f.querySelectorAll(Fd))
;b(g).addClass(xd)}a.setAttribute("aria-expanded",!0)}d&&d()},a._jQueryInterface=function(c){return this.each(function(){var d=b(this),e=d.data(sd);if(e||(e=new a(this),d.data(sd,e)),"string"==typeof c){if(void 0===e[c])throw new TypeError('No method named "'+c+'"');e[c]()}})},d(a,null,[{key:"VERSION",get:function(){return"4.3.1"}}]),a}();b(document).on(vd.CLICK_DATA_API,'[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',function(a){a.preventDefault(),Hd._jQueryInterface.call(b(this),"show")}),b.fn.tab=Hd._jQueryInterface,b.fn.tab.Constructor=Hd,b.fn.tab.noConflict=function(){return b.fn.tab=ud,Hd._jQueryInterface};var Id="toast",Jd="bs.toast",Kd="."+Jd,Ld=b.fn[Id],Md={CLICK_DISMISS:"click.dismiss"+Kd,HIDE:"hide"+Kd,HIDDEN:"hidden"+Kd,SHOW:"show"+Kd,SHOWN:"shown"+Kd},Nd="fade",Od="hide",Pd="show",Qd="showing",Rd={animation:"boolean",autohide:"boolean",delay:"number"},Sd={animation:!0,autohide:!0,delay:500},Td='[data-dismiss="toast"]',Ud=function(){function a(a,b){this._element=a,this._config=this._getConfig(b),this._timeout=null,this._setListeners()}var c=a.prototype;return c.show=function(){var a=this;b(this._element).trigger(Md.SHOW),this._config.animation&&this._element.classList.add(Nd);var c=function(){a._element.classList.remove(Qd),a._element.classList.add(Pd),b(a._element).trigger(Md.SHOWN),a._config.autohide&&a.hide()};if(this._element.classList.remove(Od),this._element.classList.add(Qd),this._config.animation){var d=Q.getTransitionDurationFromElement(this._element);b(this._element).one(Q.TRANSITION_END,c).emulateTransitionEnd(d)}else c()},c.hide=function(a){var c=this;this._element.classList.contains(Pd)&&(b(this._element).trigger(Md.HIDE),a?this._close():this._timeout=setTimeout(function(){c._close()},this._config.delay))},c.dispose=function(){clearTimeout(this._timeout),this._timeout=null,this._element.classList.contains(Pd)&&this._element.classList.remove(Pd),b(this._element).off(Md.CLICK_DISMISS),b.removeData(this._element,Jd),this._element=null,this._config=null},c._getConfig=function(a){return a=e({},Sd,b(this._element).data(),"object"==typeof a&&a?a:{}),Q.typeCheckConfig(Id,a,this.constructor.DefaultType),a},c._setListeners=function(){var a=this;b(this._element).on(Md.CLICK_DISMISS,Td,function(){return a.hide(!0)})},c._close=function(){var a=this,c=function(){a._element.classList.add(Od),b(a._element).trigger(Md.HIDDEN)};if(this._element.classList.remove(Pd),this._config.animation){var d=Q.getTransitionDurationFromElement(this._element);b(this._element).one(Q.TRANSITION_END,c).emulateTransitionEnd(d)}else c()},a._jQueryInterface=function(c){return this.each(function(){var d=b(this),e=d.data(Jd);if(e||(e=new a(this,"object"==typeof c&&c),d.data(Jd,e)),"string"==typeof c){if(void 0===e[c])throw new TypeError('No method named "'+c+'"');e[c](this)}})},d(a,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"DefaultType",get:function(){return Rd}},{key:"Default",get:function(){return Sd}}]),a}();b.fn[Id]=Ud._jQueryInterface,b.fn[Id].Constructor=Ud,b.fn[Id].noConflict=function(){return b.fn[Id]=Ld,Ud._jQueryInterface},function(){if(void 0===b)throw new TypeError("Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript.");var a=b.fn.jquery.split(" ")[0].split(".");if(a[0]<2&&a[1]<9||1===a[0]&&9===a[1]&&a[2]<1||4<=a[0])throw new Error("Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0")}(),a.Util=Q,a.Alert=Z,a.Button=ka,a.Carousel=Na,a.Collapse=bb,a.Dropdown=Ub,a.Modal=lc,a.Popover=Zc,a.Scrollspy=rd,a.Tab=Hd,a.Toast=Ud,a.Tooltip=Lc,Object.defineProperty(a,"__esModule",{value:!0})}),function(a,b){"object"==typeof exports&&"undefined"!=typeof module?module.exports=b(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],b):(a=a||self).metisMenu=b(a.jQuery)}(this,function(a){"use strict";function b(){return(b=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}var c=function(a){function b(b){var c=this,e=!1;return a(this).one(d.TRANSITION_END,function(){e=!0}),setTimeout(function(){e||d.triggerTransitionEnd(c)},b),this}var c="transitionend",d={TRANSITION_END:"mmTransitionEnd",triggerTransitionEnd:function(b){a(b).trigger(c)},supportsTransitionEnd:function(){return Boolean(c)}};return a.fn.mmEmulateTransitionEnd=b,a.event.special[d.TRANSITION_END]={bindType:c,delegateType:c,handle:function(b){if(a(b.target).is(this))return b.handleObj.handler.apply(this,arguments)}},d}(a=a&&a.hasOwnProperty("default")?a.default:a),d="metisMenu",e="metisMenu",f="."+e,g=a.fn[d],h={toggle:!0,preventDefault:!0,triggerElement:"a",parentTrigger:"li",subMenu:"ul"},i={SHOW:"show"+f,SHOWN:"shown"+f,HIDE:"hide"+f,HIDDEN:"hidden"+f,CLICK_DATA_API:"click"+f+".data-api"},j="metismenu",k="mm-active",l="mm-show",m="mm-collapse",n="mm-collapsing",o=function(){function d(a,c){this.element=a,this.config=b({},h,c),this.transitioning=null,this.init()}var f=d.prototype;return f.init=function(){var b=this,c=this.config,d=a(this.element);d.addClass(j),d.find(c.parentTrigger+"."+k).children(c.triggerElement).attr("aria-expanded","true"),d.find(c.parentTrigger+"."+k).parents(c.parentTrigger).addClass(k),d.find(c.parentTrigger+"."+k).parents(c.parentTrigger).children(c.triggerElement).attr("aria-expanded","true"),d.find(c.parentTrigger+"."+k).has(c.subMenu).children(c.subMenu).addClass(m+" "+l),d.find(c.parentTrigger).not("."+k).has(c.subMenu).children(c.subMenu).addClass(m),d.find(c.parentTrigger).children(c.triggerElement).on(i.CLICK_DATA_API,function(d){var e=a(this);if("true"!==e.attr("aria-disabled")){c.preventDefault&&"#"===e.attr("href")&&d.preventDefault();var f=e.parent(c.parentTrigger),g=f.siblings(c.parentTrigger),h=g.children(c.triggerElement);f.hasClass(k)?(e.attr("aria-expanded","false"),b.removeActive(f)):(e.attr("aria-expanded","true"),b.setActive(f),c.toggle&&(b.removeActive(g),h.attr("aria-expanded","false"))),c.onTransitionStart&&c.onTransitionStart(d)}})},f.setActive=function(b){a(b).addClass(k);var c=a(b).children(this.config.subMenu);0<c.length&&!c.hasClass(l)&&this.show(c)},f.removeActive=function(b){a(b).removeClass(k);var c=a(b).children(this.config.subMenu+"."+l);0<c.length&&this.hide(c)},f.show=function(b){var d=this;if(!this.transitioning&&!a(b).hasClass(n)){var e=a(b),f=a.Event(i.SHOW);if(e.trigger(f),!f.isDefaultPrevented()){if(e.parent(this.config.parentTrigger).addClass(k),this.config.toggle){var g=e.parent(this.config.parentTrigger).siblings().children(this.config.subMenu+"."+l);this.hide(g)}e.removeClass(m).addClass(n).height(0),this.setTransitioning(!0),e.height(b[0].scrollHeight).one(c.TRANSITION_END,function(){d.config&&d.element&&(e.removeClass(n).addClass(m+" "+l).height(""),d.setTransitioning(!1),e.trigger(i.SHOWN))}).mmEmulateTransitionEnd(350)}}},f.hide=function(b){var d=this;if(!this.transitioning&&a(b).hasClass(l)){var e=a(b),f=a.Event(i.HIDE);if(e.trigger(f),!f.isDefaultPrevented()){e.parent(this.config.parentTrigger).removeClass(k),e.height(e.height())[0].offsetHeight,e.addClass(n).removeClass(m).removeClass(l),this.setTransitioning(!0);var g=function(){d.config&&d.element&&(d.transitioning&&d.config.onTransitionEnd&&d.config.onTransitionEnd(),d.setTransitioning(!1),e.trigger(i.HIDDEN),e.removeClass(n).addClass(m))};0===e.height()||"none"===e.css("display")?g():e.height(0).one(c.TRANSITION_END,g).mmEmulateTransitionEnd(350)}}},f.setTransitioning=function(a){this.transitioning=a},f.dispose=function(){a.removeData(this.element,e),a(this.element).find(this.config.parentTrigger).has(this.config.subMenu).children(this.config.triggerElement).off("click"),this.transitioning=null,this.config=null,this.element=null},d.jQueryInterface=function(c){return this.each(function(){var f=a(this),g=f.data(e),i=b({},h,f.data(),"object"==typeof c&&c?c:{});if(g||(g=new d(this,i),f.data(e,g)),"string"==typeof c){if(void 0===g[c])throw new Error('No method named "'+c+'"');g[c]()}})},d}();return a.fn[d]=o.jQueryInterface,a.fn[d].Constructor=o,a.fn[d].noConflict=function(){return a.fn[d]=g,o.jQueryInterface},o}),function(a,b){"use strict";"function"==typeof define&&define.amd?define([],function(){return a.Waves=b.call(a),a.Waves}):"object"==typeof exports?module.exports=b.call(a):a.Waves=b.call(a)}("object"==typeof global?global:this,function(){"use strict";function a(a){return null!==a&&a===a.window}function b(b){return a(b)?b:9===b.nodeType&&b.defaultView}function c(a){var b=typeof a;return"function"===b||"object"===b&&!!a}function d(a){return c(a)&&a.nodeType>0}function e(a){var b=m.call(a);return"[object String]"===b?l(a):c(a)&&/^\[object (Array|HTMLCollection|NodeList|Object)\]$/.test(b)&&a.hasOwnProperty("length")?a:d(a)?[a]:[]}function f(a){var c,d,e={top:0,left:0},f=a&&a.ownerDocument;return c=f.documentElement,void 0!==a.getBoundingClientRect&&(e=a.getBoundingClientRect()),d=b(f),{top:e.top+d.pageYOffset-c.clientTop,left:e.left+d.pageXOffset-c.clientLeft}}function g(a){var b="";for(var c in a)a.hasOwnProperty(c)&&(b+=c+":"+a[c]+";");return b}function h(a,b,c){if(c){c.classList.remove("waves-rippling");var d=c.getAttribute("data-x"),e=c.getAttribute("data-y"),f=c.getAttribute("data-scale"),h=c.getAttribute("data-translate"),i=350-(Date.now()-Number(c.getAttribute("data-hold")));i<0&&(i=0),"mousemove"===a.type&&(i=150);var j="mousemove"===a.type?2500:o.duration;setTimeout(function(){var a={top:e+"px",left:d+"px",opacity:"0","-webkit-transition-duration":j+"ms","-moz-transition-duration":j+"ms","-o-transition-duration":j+"ms","transition-duration":j+"ms","-webkit-transform":f+" "+h,"-moz-transform":f+" "+h,"-ms-transform":f+" "+h,"-o-transform":f+" "+h,transform:f+" "+h};c.setAttribute("style",g(a)),setTimeout(function(){try{b.removeChild(c)}catch(a){return!1}},j)},i)}}function i(a){if(!1===q.allowEvent(a))return null;for(var b=null,c=a.target||a.srcElement;c.parentElement;){if(!(c instanceof SVGElement)&&c.classList.contains("waves-effect")){b=c;break}c=c.parentElement}return b}function j(a){var b=i(a);if(null!==b){if(b.disabled||b.getAttribute("disabled")||b.classList.contains("disabled"))return;if(q.registerEvent(a),"touchstart"===a.type&&o.delay){var c=!1,d=setTimeout(function(){d=null,o.show(a,b)},o.delay),e=function(e){d&&(clearTimeout(d),d=null,o.show(a,b)),c||(c=!0,o.hide(e,b)),g()},f=function(a){d&&(clearTimeout(d),d=null),e(a),g()};b.addEventListener("touchmove",f,!1),b.addEventListener("touchend",e,!1),b.addEventListener("touchcancel",e,!1);var g=function(){b.removeEventListener("touchmove",f),b.removeEventListener("touchend",e),b.removeEventListener("touchcancel",e)}}else o.show(a,b),n&&(b.addEventListener("touchend",o.hide,!1),b.addEventListener("touchcancel",o.hide,!1)),b.addEventListener("mouseup",o.hide,!1),b.addEventListener("mouseleave",o.hide,!1)}}var k=k||{},l=document.querySelectorAll.bind(document),m=Object.prototype.toString,n="ontouchstart"in window,o={duration:750,delay:200,show:function(a,b,c){if(2===a.button)return!1;b=b||this;var d=document.createElement("div");d.className="waves-ripple waves-rippling",b.appendChild(d);var e=f(b),h=0,i=0;"touches"in a&&a.touches.length?(h=a.touches[0].pageY-e.top,i=a.touches[0].pageX-e.left):(h=a.pageY-e.top,i=a.pageX-e.left),i=i>=0?i:0,h=h>=0?h:0;var j="scale("+b.clientWidth/100*3+")",k="translate(0,0)";c&&(k="translate("+c.x+"px, "+c.y+"px)"),d.setAttribute("data-hold",Date.now()),d.setAttribute("data-x",i),d.setAttribute("data-y",h),d.setAttribute("data-scale",j),d.setAttribute("data-translate",k);var l={top:h+"px",left:i+"px"};d.classList.add("waves-notransition"),d.setAttribute("style",g(l)),d.classList.remove("waves-notransition"),l["-webkit-transform"]=j+" "+k,l["-moz-transform"]=j+" "+k,l["-ms-transform"]=j+" "+k,l["-o-transform"]=j+" "+k,l.transform=j+" "+k,l.opacity="1";var m="mousemove"===a.type?2500:o.duration;l["-webkit-transition-duration"]=m+"ms",l["-moz-transition-duration"]=m+"ms",l["-o-transition-duration"]=m+"ms",l["transition-duration"]=m+"ms",d.setAttribute("style",g(l))},hide:function(a,b){for(var c=(b=b||this).getElementsByClassName("waves-rippling"),d=0,e=c.length;d<e;d++)h(a,b,c[d]);n&&(b.removeEventListener("touchend",o.hide),b.removeEventListener("touchcancel",o.hide)),b.removeEventListener("mouseup",o.hide),b.removeEventListener("mouseleave",o.hide)}},p={input:function(a){var b=a.parentNode;if("i"!==b.tagName.toLowerCase()||!b.classList.contains("waves-effect")){var c=document.createElement("i");c.className=a.className+" waves-input-wrapper",a.className="waves-button-input",b.replaceChild(c,a),c.appendChild(a);var d=window.getComputedStyle(a,null),e=d.color,f=d.backgroundColor;c.setAttribute("style","color:"+e+";background:"+f),a.setAttribute("style","background-color:rgba(0,0,0,0);")}},img:function(a){var b=a.parentNode;if("i"!==b.tagName.toLowerCase()||!b.classList.contains("waves-effect")){var c=document.createElement("i");b.replaceChild(c,a),c.appendChild(a)}}},q={touches:0,allowEvent:function(a){var b=!0;return/^(mousedown|mousemove)$/.test(a.type)&&q.touches&&(b=!1),b},registerEvent:function(a){var b=a.type;"touchstart"===b?q.touches+=1:/^(touchend|touchcancel)$/.test(b)&&setTimeout(function(){q.touches&&(q.touches-=1)},500)}};return k.init=function(a){var b=document.body;"duration"in(a=a||{})&&(o.duration=a.duration),"delay"in a&&(o.delay=a.delay),n&&(b.addEventListener("touchstart",j,!1),b.addEventListener("touchcancel",q.registerEvent,!1),b.addEventListener("touchend",q.registerEvent,!1)),b.addEventListener("mousedown",j,!1)},k.attach=function(a,b){a=e(a),"[object Array]"===m.call(b)&&(b=b.join(" ")),b=b?" "+b:"";for(var c,d,f=0,g=a.length;f<g;f++)d=(c=a[f]).tagName.toLowerCase(),-1!==["input","img"].indexOf(d)&&(p[d](c),c=c.parentElement),-1===c.className.indexOf("waves-effect")&&(c.className+=" waves-effect"+b)},k.ripple=function(a,b){var c=(a=e(a)).length;if(b=b||{},b.wait=b.wait||0,b.position=b.position||null,c)for(var d,g,h,i={},j=0,k={type:"mousedown",button:1};j<c;j++)if(d=a[j],g=b.position||{x:d.clientWidth/2,y:d.clientHeight/2},h=f(d),i.x=h.left+g.x,i.y=h.top+g.y,k.pageX=i.x,k.pageY=i.y,o.show(k,d),b.wait>=0&&null!==b.wait){var l={type:"mouseup",button:1};setTimeout(function(a,b){return function(){o.hide(a,b)}}(l,d),b.wait)}},k.calm=function(a){for(var b={type:"mouseup",button:1},c=0,d=(a=e(a)).length;c<d;c++)o.hide(b,a[c])},k.displayEffect=function(a){k.init(a)},k}),function(a){a.fn.extend({slimScroll:function(b){var c=a.extend({width:"auto",height:"250px",size:"7px",color:"#000",position:"right",distance:"1px",start:"top",opacity:.4,alwaysVisible:!1,disableFadeOut:!1,railVisible:!1,railColor:"#333",railOpacity:.2,railDraggable:!0,railClass:"slimScrollRail",barClass:"slimScrollBar",wrapperClass:"slimScrollDiv",allowPageScroll:!1,wheelStep:20,touchScrollStep:200,borderRadius:"7px",railBorderRadius:"7px"},b);return this.each(function(){function d(b){if(i){b=b||window.event;var d=0;b.wheelDelta&&(d=-b.wheelDelta/120),b.detail&&(d=b.detail/3),a(b.target||b.srcTarget||b.srcElement).closest("."+c.wrapperClass).is(r.parent())&&e(d,!0),b.preventDefault&&!q&&b.preventDefault(),q||(b.returnValue=!1)}}function e(a,b,d){q=!1;var e=r.outerHeight()-u.outerHeight();b&&(b=parseInt(u.css("top"))+a*parseInt(c.wheelStep)/100*u.outerHeight(),b=Math.min(Math.max(b,0),e),b=0<a?Math.ceil(b):Math.floor(b),u.css({top:b+"px"})),o=parseInt(u.css("top"))/(r.outerHeight()-u.outerHeight()),b=o*(r[0].scrollHeight-r.outerHeight()),d&&(b=a,a=b/r[0].scrollHeight*r.outerHeight(),a=Math.min(Math.max(a,0),e),u.css({top:a+"px"})),r.scrollTop(b),r.trigger("slimscrolling",~~b),g(),h()}function f(){n=Math.max(r.outerHeight()/r[0].scrollHeight*r.outerHeight(),30),u.css({height:n+"px"});var a=n==r.outerHeight()?"none":"block";u.css({display:a})}function g(){f(),clearTimeout(l),o==~~o?(q=c.allowPageScroll,p!=o&&r.trigger("slimscroll",0==~~o?"top":"bottom")):q=!1,p=o,n>=r.outerHeight()?q=!0:(u.stop(!0,!0).fadeIn("fast"),c.railVisible&&v.stop(!0,!0).fadeIn("fast"))}function h(){c.alwaysVisible||(l=setTimeout(function(){c.disableFadeOut&&i||j||k||(u.fadeOut("slow"),v.fadeOut("slow"))},1e3))}var i,j,k,l,m,n,o,p,q=!1,r=a(this);if(r.parent().hasClass(c.wrapperClass)){var s=r.scrollTop(),u=r.siblings("."+c.barClass),v=r.siblings("."+c.railClass);if(f(),a.isPlainObject(b)){if("height"in b&&"auto"==b.height){r.parent().css("height","auto"),r.css("height","auto");var w=r.parent().parent().height();r.parent().css("height",w),r.css("height",w)}else"height"in b&&(w=b.height,r.parent().css("height",w),r.css("height",w));if("scrollTo"in b)s=parseInt(c.scrollTo);else if("scrollBy"in b)s+=parseInt(c.scrollBy);else if("destroy"in b)return u.remove(),v.remove(),void r.unwrap();e(s,!1,!0)}}else if(!(a.isPlainObject(b)&&"destroy"in b)){c.height="auto"==c.height?r.parent().height():c.height,s=a("<div></div>").addClass(c.wrapperClass).css({position:"relative",overflow:"hidden",width:c.width,height:c.height}),r.css({overflow:"hidden",width:c.width,height:c.height});var v=a("<div></div>").addClass(c.railClass).css({width:c.size,height:"100%",position:"absolute",top:0,display:c.alwaysVisible&&c.railVisible?"block":"none","border-radius":c.railBorderRadius,background:c.railColor,opacity:c.railOpacity,zIndex:90}),u=a("<div></div>").addClass(c.barClass).css({background:c.color,width:c.size,position:"absolute",top:0,opacity:c.opacity,display:c.alwaysVisible?"block":"none","border-radius":c.borderRadius,BorderRadius:c.borderRadius,MozBorderRadius:c.borderRadius,WebkitBorderRadius:c.borderRadius,zIndex:99}),w="right"==c.position?{right:c.distance}:{left:c.distance};v.css(w),u.css(w),r.wrap(s),r.parent().append(u),r.parent().append(v),c.railDraggable&&u.bind("mousedown",function(b){var c=a(document);return k=!0,t=parseFloat(u.css("top")),pageY=b.pageY,c.bind("mousemove.slimscroll",function(a){currTop=t+a.pageY-pageY,u.css("top",currTop),e(0,u.position().top,!1)}),c.bind("mouseup.slimscroll",function(a){k=!1,h(),c.unbind(".slimscroll")}),!1}).bind("selectstart.slimscroll",function(a){return a.stopPropagation(),a.preventDefault(),!1}),v.hover(function(){g()},function(){h()}),u.hover(function(){j=!0},function(){j=!1}),r.hover(function(){i=!0,g(),h()},function(){i=!1,h()}),r.bind("touchstart",function(a,b){a.originalEvent.touches.length&&(m=a.originalEvent.touches[0].pageY)}),r.bind("touchmove",function(a){q||a.originalEvent.preventDefault(),a.originalEvent.touches.length&&(e((m-a.originalEvent.touches[0].pageY)/c.touchScrollStep,!0),m=a.originalEvent.touches[0].pageY)}),f(),"bottom"===c.start?(u.css({top:r.outerHeight()-u.outerHeight()}),e(0,!0)):"top"!==c.start&&(e(a(c.start).position().top,null,!0),c.alwaysVisible||u.hide()),window.addEventListener?(this.addEventListener("DOMMouseScroll",d,!1),this.addEventListener("mousewheel",d,!1)):document.attachEvent("onmousewheel",d)}}),this}}),a.fn.extend({slimscroll:a.fn.slimScroll})}(jQuery),function(a){"function"==typeof define&&define.amd?define(["jquery"],function(b){return a(b,window,document)}):"object"==typeof exports?module.exports=function(b,c){return b||(b=window),c||(c="undefined"!=typeof window?require("jquery"):require("jquery")(b)),a(c,b,b.document)}:a(jQuery,window,document)}(function(a,b,c,d){function e(b){var c,d,f={};a.each(b,function(a){(c=a.match(/^([^A-Z]+?)([A-Z])/))&&-1!=="a aa ai ao as b fn i m o s ".indexOf(c[1]+" ")&&(d=a.replace(c[0],c[2].toLowerCase()),f[d]=a,"o"===c[1]&&e(b[a]))}),b._hungarianMap=f}function f(b,c,g){b._hungarianMap||e(b);var h;a.each(c,function(e){(h=b._hungarianMap[e])===d||!g&&c[h]!==d||("o"===h.charAt(0)?(c[h]||(c[h]={}),a.extend(!0,c[h],c[e]),f(b[h],c[h],g)):c[h]=c[e])})}function g(a){var b=Ua.defaults.oLanguage,c=b.sDecimal;if(c&&Oa(c),a){var d=a.sZeroRecords;!a.sEmptyTable&&d&&"No data available in table"===b.sEmptyTable&&Fa(a,a,"sZeroRecords","sEmptyTable"),!a.sLoadingRecords&&d&&"Loading..."===b.sLoadingRecords&&Fa(a,a,"sZeroRecords","sLoadingRecords"),a.sInfoThousands&&(a.sThousands=a.sInfoThousands),(a=a.sDecimal)&&c!==a&&Oa(a)}}function h(a){if(jb(a,"ordering","bSort"),jb(a,"orderMulti","bSortMulti"),jb(a,"orderClasses","bSortClasses"),jb(a,"orderCellsTop","bSortCellsTop"),jb(a,"order","aaSorting"),jb(a,"orderFixed","aaSortingFixed"),jb(a,"paging","bPaginate"),jb(a,"pagingType","sPaginationType"),jb(a,"pageLength","iDisplayLength"),jb(a,"searching","bFilter"),"boolean"==typeof a.sScrollX&&(a.sScrollX=a.sScrollX?"100%":""),"boolean"==typeof a.scrollX&&(a.scrollX=a.scrollX?"100%":""),a=a.aoSearchCols)for(var b=0,c=a.length;b<c;b++)a[b]&&f(Ua.models.oSearch,a[b])}function i(b){jb(b,"orderable","bSortable"),jb(b,"orderData","aDataSort"),jb(b,"orderSequence","asSorting"),jb(b,"orderDataType","sortDataType");var c=b.aDataSort;"number"==typeof c&&!a.isArray(c)&&(b.aDataSort=[c])}function j(c){if(!Ua.__browser){var d={};Ua.__browser=d;var e=a("<div/>").css({position:"fixed",top:0,left:-1*a(b).scrollLeft(),height:1,width:1,overflow:"hidden"}).append(a("<div/>").css({position:"absolute",top:1,left:1,width:100,overflow:"scroll"}).append(a("<div/>").css({width:"100%",height:10}))).appendTo("body"),f=e.children(),g=f.children();d.barWidth=f[0].offsetWidth-f[0].clientWidth,d.bScrollOversize=100===g[0].offsetWidth&&100!==f[0].clientWidth,d.bScrollbarLeft=1!==Math.round(g.offset().left),d.bBounding=!!e[0].getBoundingClientRect().width,e.remove()}a.extend(c.oBrowser,Ua.__browser),c.oScroll.iBarWidth=Ua.__browser.barWidth}function k(a,b,c,e,f,g){var h,i=!1;for(c!==d&&(h=c,i=!0);e!==f;)a.hasOwnProperty(e)&&(h=i?b(h,a[e],e,a):a[e],i=!0,e+=g);return h}function l(b,d){var e=Ua.defaults.column,f=b.aoColumns.length,e=a.extend({},Ua.models.oColumn,e,{nTh:d||c.createElement("th"),sTitle:e.sTitle?e.sTitle:d?d.innerHTML:"",aDataSort:e.aDataSort?e.aDataSort:[f],mData:e.mData?e.mData:f,idx:f});b.aoColumns.push(e),e=b.aoPreSearchCols,e[f]=a.extend({},Ua.models.oSearch,e[f]),m(b,f,a(d).data())}function m(b,c,e){var c=b.aoColumns[c],g=b.oClasses,h=a(c.nTh);if(!c.sWidthOrig){c.sWidthOrig=h.attr("width")||null;var j=(h.attr("style")||"").match(/width:\s*(\d+[pxem%]+)/);j&&(c.sWidthOrig=j[1])}e!==d&&null!==e&&(i(e),f(Ua.defaults.column,e),e.mDataProp!==d&&!e.mData&&(e.mData=e.mDataProp),e.sType&&(c._sManualType=e.sType),e.className&&!e.sClass&&(e.sClass=e.className),e.sClass&&h.addClass(e.sClass),a.extend(c,e),Fa(c,e,"sWidth","sWidthOrig"),e.iDataSort!==d&&(c.aDataSort=[e.iDataSort]),Fa(c,e,"aDataSort"));var k=c.mData,l=z(k),m=c.mRender?z(c.mRender):null,e=function(a){return"string"==typeof a&&-1!==a.indexOf("@")};c._bAttrSrc=a.isPlainObject(k)&&(e(k.sort)||e(k.type)||e(k.filter)),c._setter=null,c.fnGetData=function(a,b,c){var e=l(a,b,d,c);return m&&b?m(e,b,a,c):e},c.fnSetData=function(a,b,c){return A(k)(a,b,c)},"number"!=typeof k&&(b._rowReadObject=!0),b.oFeatures.bSort||(c.bSortable=!1,h.addClass(g.sSortableNone)),b=-1!==a.inArray("asc",c.asSorting),e=-1!==a.inArray("desc",c.asSorting),c.bSortable&&(b||e)?b&&!e?(c.sSortingClass=g.sSortableAsc,c.sSortingClassJUI=g.sSortJUIAscAllowed):!b&&e?(c.sSortingClass=g.sSortableDesc,c.sSortingClassJUI=g.sSortJUIDescAllowed):(c.sSortingClass=g.sSortable,c.sSortingClassJUI=g.sSortJUI):(c.sSortingClass=g.sSortableNone,c.sSortingClassJUI="")}function n(a){if(!1!==a.oFeatures.bAutoWidth){var b=a.aoColumns;pa(a);for(var c=0,d=b.length;c<d;c++)b[c].nTh.style.width=b[c].sWidth}b=a.oScroll,(""!==b.sY||""!==b.sX)&&na(a),Ja(a,null,"column-sizing",[a])}function o(a,b){var c=r(a,"bVisible");return"number"==typeof c[b]?c[b]:null}function p(b,c){var d=r(b,"bVisible"),d=a.inArray(c,d);return-1!==d?d:null}function q(b){var c=0;return a.each(b.aoColumns,function(b,d){d.bVisible&&"none"!==a(d.nTh).css("display")&&c++}),c}function r(b,c){var d=[];return a.map(b.aoColumns,function(a,b){a[c]&&d.push(b)}),d}function s(a){var b,c,e,f,g,h,i,j,k,l=a.aoColumns,m=a.aoData,n=Ua.ext.type.detect;for(b=0,c=l.length;b<c;b++)if(i=l[b],k=[],!i.sType&&i._sManualType)i.sType=i._sManualType;else if(!i.sType){for(e=0,f=n.length;e<f;e++){for(g=0,h=m.length;g<h&&(k[g]===d&&(k[g]=w(a,g,b,"type")),(j=n[e](k[g],a))||e===n.length-1)&&"html"!==j;g++);if(j){i.sType=j;break}}i.sType||(i.sType="string")}}function t(b,c,e,f){var g,h,i,j,k,m,n=b.aoColumns;if(c)for(g=c.length-1;0<=g;g--){m=c[g];var o=m.targets!==d?m.targets:m.aTargets;for(a.isArray(o)||(o=[o]),h=0,i=o.length;h<i;h++)if("number"==typeof o[h]&&0<=o[h]){for(;n.length<=o[h];)l(b);f(o[h],m)}else if("number"==typeof o[h]&&0>o[h])f(n.length+o[h],m);else if("string"==typeof o[h])for(j=0,k=n.length;j<k;j++)("_all"==o[h]||a(n[j].nTh).hasClass(o[h]))&&f(j,m)}if(e)for(g=0,b=e.length;g<b;g++)f(g,e[g])}function u(b,c,e,f){var g=b.aoData.length,h=a.extend(!0,{},Ua.models.oRow,{src:e?"dom":"data",idx:g});h._aData=c,b.aoData.push(h);for(var i=b.aoColumns,j=0,k=i.length;j<k;j++)i[j].sType=null;return b.aiDisplayMaster.push(g),c=b.rowIdFn(c),c!==d&&(b.aIds[c]=h),(e||!b.oFeatures.bDeferRender)&&G(b,g,e,f),g}function v(b,c){var d;return c instanceof a||(c=a(c)),c.map(function(a,c){return d=F(b,c),u(b,d.data,c,d.cells)})}function w(a,b,c,e){var f=a.iDraw,g=a.aoColumns[c],h=a.aoData[b]._aData,i=g.sDefaultContent,j=g.fnGetData(h,e,{settings:a,row:b,col:c});if(j===d)return a.iDrawError!=f&&null===i&&(Ea(a,0,"Requested unknown parameter "+("function"==typeof g.mData?"{function}":"'"+g.mData+"'")+" for row "+b+", column "+c,4),a.iDrawError=f),i;if(j!==h&&null!==j||null===i||e===d){if("function"==typeof j)return j.call(h)}else j=i;return null===j&&"display"==e?"":j}function x(a,b,c,d){a.aoColumns[c].fnSetData(a.aoData[b]._aData,d,{settings:a,row:b,col:c})}function y(b){return a.map(b.match(/(\\.|[^\.])+/g)||[""],function(a){return a.replace(/\\\./g,".")})}function z(b){if(a.isPlainObject(b)){var c={};return a.each(b,function(a,b){b&&(c[a]=z(b))}),function(a,b,e,f){var g=c[b]||c._;return g!==d?g(a,b,e,f):a}}if(null===b)return function(a){return a};if("function"==typeof b)return function(a,c,d,e){return b(a,c,d,e)};if("string"==typeof b&&(-1!==b.indexOf(".")||-1!==b.indexOf("[")||-1!==b.indexOf("("))){var e=function(b,c,f){var g,h;if(""!==f){h=y(f);for(var i=0,j=h.length;i<j;i++){if(f=h[i].match(kb),g=h[i].match(lb),f){if(h[i]=h[i].replace(kb,""),""!==h[i]&&(b=b[h[i]]),g=[],h.splice(0,i+1),h=h.join("."),a.isArray(b))for(i=0,j=b.length;i<j;i++)g.push(e(b[i],c,h));b=f[0].substring(1,f[0].length-1),b=""===b?g:g.join(b);break}if(g)h[i]=h[i].replace(lb,""),b=b[h[i]]();else{if(null===b||b[h[i]]===d)return d;b=b[h[i]]}}}return b};return function(a,c){return e(a,c,b)}}return function(a){return a[b]}}function A(b){if(a.isPlainObject(b))return A(b._);if(null===b)return function(){};if("function"==typeof b)return function(a,c,d){b(a,"set",c,d)};if("string"==typeof b&&(-1!==b.indexOf(".")||-1!==b.indexOf("[")||-1!==b.indexOf("("))){var c=function(b,e,f){var g,f=y(f);g=f[f.length-1];for(var h,i,j=0,k=f.length-1;j<k;j++){if(h=f[j].match(kb),i=f[j].match(lb),h){if(f[j]=f[j].replace(kb,""),b[f[j]]=[],g=f.slice(),g.splice(0,j+1),h=g.join("."),a.isArray(e))for(i=0,k=e.length;i<k;i++)g={},c(g,e[i],h),b[f[j]].push(g);else b[f[j]]=e;return}i&&(f[j]=f[j].replace(lb,""),b=b[f[j]](e)),null!==b[f[j]]&&b[f[j]]!==d||(b[f[j]]={}),b=b[f[j]]}g.match(lb)?b[g.replace(lb,"")](e):b[g.replace(kb,"")]=e};return function(a,d){return c(a,d,b)}}return function(a,c){a[b]=c}}function B(a){return eb(a.aoData,"_aData")}function C(a){a.aoData.length=0,a.aiDisplayMaster.length=0,a.aiDisplay.length=0,a.aIds={}}function D(a,b,c){for(var e=-1,f=0,g=a.length;f<g;f++)a[f]==b?e=f:a[f]>b&&a[f]--;-1!=e&&c===d&&a.splice(e,1)}function E(a,b,c,e){var f,g=a.aoData[b],h=function(c,d){for(;c.childNodes.length;)c.removeChild(c.firstChild);c.innerHTML=w(a,b,d,"display")};if("dom"!==c&&(c&&"auto"!==c||"dom"!==g.src)){var i=g.anCells;if(i)if(e!==d)h(i[e],e);else for(c=0,f=i.length;c<f;c++)h(i[c],c)}else g._aData=F(a,g,e,e===d?d:g._aData).data;if(g._aSortData=null,g._aFilterData=null,h=a.aoColumns,e!==d)h[e].sType=null;else{for(c=0,f=h.length;c<f;c++)h[c].sType=null;H(a,g)}}function F(b,c,e,f){var g,h,i,j=[],k=c.firstChild,l=0,m=b.aoColumns,n=b._rowReadObject,f=f!==d?f:n?{}:[],o=function(a,b){if("string"==typeof a){var c=a.indexOf("@");-1!==c&&(c=a.substring(c+1),A(a)(f,b.getAttribute(c)))}},p=function(b){e!==d&&e!==l||(h=m[l],i=a.trim(b.innerHTML),h&&h._bAttrSrc?(A(h.mData._)(f,i),o(h.mData.sort,b),o(h.mData.type,b),o(h.mData.filter,b)):n?(h._setter||(h._setter=A(h.mData)),h._setter(f,i)):f[l]=i),l++};if(k)for(;k;)g=k.nodeName.toUpperCase(),"TD"!=g&&"TH"!=g||(p(k),j.push(k)),k=k.nextSibling;else for(j=c.anCells,k=0,g=j.length;k<g;k++)p(j[k]);return(c=c.firstChild?c:c.nTr)&&(c=c.getAttribute("id"))&&A(b.rowId)(f,c),{data:f,cells:j}}function G(b,d,e,f){var g,h,i,j,k,l=b.aoData[d],m=l._aData,n=[];if(null===l.nTr){for(g=e||c.createElement("tr"),l.nTr=g,l.anCells=n,g._DT_RowIndex=d,H(b,l),j=0,k=b.aoColumns.length;j<k;j++)i=b.aoColumns[j],h=e?f[j]:c.createElement(i.sCellType),h._DT_CellIndex={row:d,column:j},n.push(h),e&&!i.mRender&&i.mData===j||a.isPlainObject(i.mData)&&i.mData._===j+".display"||(h.innerHTML=w(b,d,j,"display")),i.sClass&&(h.className+=" "+i.sClass),i.bVisible&&!e?g.appendChild(h):!i.bVisible&&e&&h.parentNode.removeChild(h),i.fnCreatedCell&&i.fnCreatedCell.call(b.oInstance,h,w(b,d,j),m,d,j);Ja(b,"aoRowCreatedCallback",null,[g,m,d,n])}l.nTr.setAttribute("role","row")}function H(b,c){var d=c.nTr,e=c._aData;if(d){var f=b.rowIdFn(e);f&&(d.id=f),e.DT_RowClass&&(f=e.DT_RowClass.split(" "),c.__rowc=c.__rowc?ib(c.__rowc.concat(f)):f,a(d).removeClass(c.__rowc.join(" ")).addClass(e.DT_RowClass)),e.DT_RowAttr&&a(d).attr(e.DT_RowAttr),e.DT_RowData&&a(d).data(e.DT_RowData)}}function I(b){var c,d,e,f,g,h=b.nTHead,i=b.nTFoot,j=0===a("th, td",h).length,k=b.oClasses,l=b.aoColumns;for(j&&(f=a("<tr/>").appendTo(h)),c=0,d=l.length;c<d;c++)g=l[c],e=a(g.nTh).addClass(g.sClass),j&&e.appendTo(f),b.oFeatures.bSort&&(e.addClass(g.sSortingClass),!1!==g.bSortable&&(e.attr("tabindex",b.iTabIndex).attr("aria-controls",b.sTableId),ya(b,g.nTh,c))),g.sTitle!=e[0].innerHTML&&e.html(g.sTitle),La(b,"header")(b,e,g,k);if(j&&N(b.aoHeader,h),a(h).find(">tr").attr("role","row"),a(h).find(">tr>th, >tr>td").addClass(k.sHeaderTH),a(i).find(">tr>th, >tr>td").addClass(k.sFooterTH),null!==i)for(b=b.aoFooter[0],c=0,d=b.length;c<d;c++)g=l[c],g.nTf=b[c].cell,g.sClass&&a(g.nTf).addClass(g.sClass)}function J(b,c,e){var f,g,h,i,j=[],k=[],l=b.aoColumns.length;if(c){for(e===d&&(e=!1),f=0,g=c.length;f<g;f++){for(j[f]=c[f].slice(),j[f].nTr=c[f].nTr,h=l-1;0<=h;h--)!b.aoColumns[h].bVisible&&!e&&j[f].splice(h,1);k.push([])}for(f=0,g=j.length;f<g;f++){if(b=j[f].nTr)for(;h=b.firstChild;)b.removeChild(h);for(h=0,c=j[f].length;h<c;h++)if(i=l=1,k[f][h]===d){for(b.appendChild(j[f][h].cell),k[f][h]=1;j[f+l]!==d&&j[f][h].cell==j[f+l][h].cell;)k[f+l][h]=1,l++;for(;j[f][h+i]!==d&&j[f][h].cell==j[f][h+i].cell;){for(e=0;e<l;e++)k[f+e][h+i]=1;i++}a(j[f][h].cell).attr("rowspan",l).attr("colspan",i)}}}}function K(b){var c=Ja(b,"aoPreDrawCallback","preDraw",[b]);if(-1!==a.inArray(!1,c))la(b,!1);else{var c=[],e=0,f=b.asStripeClasses,g=f.length,h=b.oLanguage,i=b.iInitDisplayStart,j="ssp"==Ma(b),k=b.aiDisplay;b.bDrawing=!0,i!==d&&-1!==i&&(b._iDisplayStart=j?i:i>=b.fnRecordsDisplay()?0:i,b.iInitDisplayStart=-1);var i=b._iDisplayStart,l=b.fnDisplayEnd();if(b.bDeferLoading)b.bDeferLoading=!1,b.iDraw++,la(b,!1);else if(j){if(!b.bDestroying&&!Q(b))return}else b.iDraw++;if(0!==k.length)for(h=j?b.aoData.length:l,j=j?0:i;j<h;j++){var m=k[j],n=b.aoData[m];null===n.nTr&&G(b,m);var o=n.nTr;if(0!==g){var p=f[e%g];n._sRowStripe!=p&&(a(o).removeClass(n._sRowStripe).addClass(p),n._sRowStripe=p)}Ja(b,"aoRowCallback",null,[o,n._aData,e,j,m]),c.push(o),e++}else e=h.sZeroRecords,1==b.iDraw&&"ajax"==Ma(b)?e=h.sLoadingRecords:h.sEmptyTable&&0===b.fnRecordsTotal()&&(e=h.sEmptyTable),c[0]=a("<tr/>",{class:g?f[0]:""}).append(a("<td />",{valign:"top",colSpan:q(b),class:b.oClasses.sRowEmpty}).html(e))[0];Ja(b,"aoHeaderCallback","header",[a(b.nTHead).children("tr")[0],B(b),i,l,k]),
Ja(b,"aoFooterCallback","footer",[a(b.nTFoot).children("tr")[0],B(b),i,l,k]),f=a(b.nTBody),f.children().detach(),f.append(a(c)),Ja(b,"aoDrawCallback","draw",[b]),b.bSorted=!1,b.bFiltered=!1,b.bDrawing=!1}}function L(a,b){var c=a.oFeatures,d=c.bFilter;c.bSort&&va(a),d?V(a,a.oPreviousSearch):a.aiDisplay=a.aiDisplayMaster.slice(),!0!==b&&(a._iDisplayStart=0),a._drawHold=b,K(a),a._drawHold=!1}function M(b){var c=b.oClasses,d=a(b.nTable),d=a("<div/>").insertBefore(d),e=b.oFeatures,f=a("<div/>",{id:b.sTableId+"_wrapper",class:c.sWrapper+(b.nTFoot?"":" "+c.sNoFooter)});b.nHolding=d[0],b.nTableWrapper=f[0],b.nTableReinsertBefore=b.nTable.nextSibling;for(var g,h,i,j,k,l,m=b.sDom.split(""),n=0;n<m.length;n++){if(g=null,"<"==(h=m[n])){if(i=a("<div/>")[0],"'"==(j=m[n+1])||'"'==j){for(k="",l=2;m[n+l]!=j;)k+=m[n+l],l++;"H"==k?k=c.sJUIHeader:"F"==k&&(k=c.sJUIFooter),-1!=k.indexOf(".")?(j=k.split("."),i.id=j[0].substr(1,j[0].length-1),i.className=j[1]):"#"==k.charAt(0)?i.id=k.substr(1,k.length-1):i.className=k,n+=l}f.append(i),f=a(i)}else if(">"==h)f=f.parent();else if("l"==h&&e.bPaginate&&e.bLengthChange)g=ha(b);else if("f"==h&&e.bFilter)g=U(b);else if("r"==h&&e.bProcessing)g=ka(b);else if("t"==h)g=ma(b);else if("i"==h&&e.bInfo)g=ba(b);else if("p"==h&&e.bPaginate)g=ia(b);else if(0!==Ua.ext.feature.length)for(i=Ua.ext.feature,l=0,j=i.length;l<j;l++)if(h==i[l].cFeature){g=i[l].fnInit(b);break}g&&(i=b.aanFeatures,i[h]||(i[h]=[]),i[h].push(g),f.append(g))}d.replaceWith(f),b.nHolding=null}function N(b,c){var d,e,f,g,h,i,j,k,l,m,n=a(c).children("tr");for(b.splice(0,b.length),f=0,i=n.length;f<i;f++)b.push([]);for(f=0,i=n.length;f<i;f++)for(d=n[f],e=d.firstChild;e;){if("TD"==e.nodeName.toUpperCase()||"TH"==e.nodeName.toUpperCase()){for(k=1*e.getAttribute("colspan"),l=1*e.getAttribute("rowspan"),k=k&&0!==k&&1!==k?k:1,l=l&&0!==l&&1!==l?l:1,g=0,h=b[f];h[g];)g++;for(j=g,m=1===k,h=0;h<k;h++)for(g=0;g<l;g++)b[f+g][j+h]={cell:e,unique:m},b[f+g].nTr=d}e=e.nextSibling}}function O(a,b,c){var d=[];c||(c=a.aoHeader,b&&(c=[],N(c,b)));for(var b=0,e=c.length;b<e;b++)for(var f=0,g=c[b].length;f<g;f++)!c[b][f].unique||d[f]&&a.bSortCellsTop||(d[f]=c[b][f].cell);return d}function P(b,c,d){if(Ja(b,"aoServerParams","serverParams",[c]),c&&a.isArray(c)){var e={},f=/(.*?)\[\]$/;a.each(c,function(a,b){var c=b.name.match(f);c?(c=c[0],e[c]||(e[c]=[]),e[c].push(b.value)):e[b.name]=b.value}),c=e}var g,h=b.ajax,i=b.oInstance,j=function(a){Ja(b,null,"xhr",[b,a,b.jqXHR]),d(a)};if(a.isPlainObject(h)&&h.data){g=h.data;var k="function"==typeof g?g(c,b):g,c="function"==typeof g&&k?k:a.extend(!0,c,k);delete h.data}k={data:c,success:function(a){var c=a.error||a.sError;c&&Ea(b,0,c),b.json=a,j(a)},dataType:"json",cache:!1,type:b.sServerMethod,error:function(c,d){var e=Ja(b,null,"xhr",[b,null,b.jqXHR]);-1===a.inArray(!0,e)&&("parsererror"==d?Ea(b,0,"Invalid JSON response",1):4===c.readyState&&Ea(b,0,"Ajax error",7)),la(b,!1)}},b.oAjaxData=c,Ja(b,null,"preXhr",[b,c]),b.fnServerData?b.fnServerData.call(i,b.sAjaxSource,a.map(c,function(a,b){return{name:b,value:a}}),j,b):b.sAjaxSource||"string"==typeof h?b.jqXHR=a.ajax(a.extend(k,{url:h||b.sAjaxSource})):"function"==typeof h?b.jqXHR=h.call(i,c,j,b):(b.jqXHR=a.ajax(a.extend(k,h)),h.data=g)}function Q(a){return!a.bAjaxDataGet||(a.iDraw++,la(a,!0),P(a,R(a),function(b){S(a,b)}),!1)}function R(b){var c,d,e,f,g=b.aoColumns,h=g.length,i=b.oFeatures,j=b.oPreviousSearch,k=b.aoPreSearchCols,l=[],m=ua(b);c=b._iDisplayStart,d=!1!==i.bPaginate?b._iDisplayLength:-1;var n=function(a,b){l.push({name:a,value:b})};n("sEcho",b.iDraw),n("iColumns",h),n("sColumns",eb(g,"sName").join(",")),n("iDisplayStart",c),n("iDisplayLength",d);var o={draw:b.iDraw,columns:[],order:[],start:c,length:d,search:{value:j.sSearch,regex:j.bRegex}};for(c=0;c<h;c++)e=g[c],f=k[c],d="function"==typeof e.mData?"function":e.mData,o.columns.push({data:d,name:e.sName,searchable:e.bSearchable,orderable:e.bSortable,search:{value:f.sSearch,regex:f.bRegex}}),n("mDataProp_"+c,d),i.bFilter&&(n("sSearch_"+c,f.sSearch),n("bRegex_"+c,f.bRegex),n("bSearchable_"+c,e.bSearchable)),i.bSort&&n("bSortable_"+c,e.bSortable);return i.bFilter&&(n("sSearch",j.sSearch),n("bRegex",j.bRegex)),i.bSort&&(a.each(m,function(a,b){o.order.push({column:b.col,dir:b.dir}),n("iSortCol_"+a,b.col),n("sSortDir_"+a,b.dir)}),n("iSortingCols",m.length)),g=Ua.ext.legacy.ajax,null===g?b.sAjaxSource?l:o:g?l:o}function S(a,b){var c=T(a,b),e=b.sEcho!==d?b.sEcho:b.draw,f=b.iTotalRecords!==d?b.iTotalRecords:b.recordsTotal,g=b.iTotalDisplayRecords!==d?b.iTotalDisplayRecords:b.recordsFiltered;if(e){if(1*e<a.iDraw)return;a.iDraw=1*e}for(C(a),a._iRecordsTotal=parseInt(f,10),a._iRecordsDisplay=parseInt(g,10),e=0,f=c.length;e<f;e++)u(a,c[e]);a.aiDisplay=a.aiDisplayMaster.slice(),a.bAjaxDataGet=!1,K(a),a._bInitComplete||fa(a,b),a.bAjaxDataGet=!0,la(a,!1)}function T(b,c){var e=a.isPlainObject(b.ajax)&&b.ajax.dataSrc!==d?b.ajax.dataSrc:b.sAjaxDataProp;return"data"===e?c.aaData||c[e]:""!==e?z(e)(c):c}function U(b){var d=b.oClasses,e=b.sTableId,f=b.oLanguage,g=b.oPreviousSearch,h=b.aanFeatures,i='<input type="search" class="'+d.sFilterInput+'"/>',j=f.sSearch,j=j.match(/_INPUT_/)?j.replace("_INPUT_",i):j+i,d=a("<div/>",{id:h.f?null:e+"_filter",class:d.sFilter}).append(a("<label/>").append(j)),h=function(){var a=this.value?this.value:"";a!=g.sSearch&&(V(b,{sSearch:a,bRegex:g.bRegex,bSmart:g.bSmart,bCaseInsensitive:g.bCaseInsensitive}),b._iDisplayStart=0,K(b))},i=null!==b.searchDelay?b.searchDelay:"ssp"===Ma(b)?400:0,k=a("input",d).val(g.sSearch).attr("placeholder",f.sSearchPlaceholder).on("keyup.DT search.DT input.DT paste.DT cut.DT",i?qb(h,i):h).on("keypress.DT",function(a){if(13==a.keyCode)return!1}).attr("aria-controls",e);return a(b.nTable).on("search.dt.DT",function(a,d){if(b===d)try{k[0]!==c.activeElement&&k.val(g.sSearch)}catch(f){}}),d[0]}function V(a,b,c){var e=a.oPreviousSearch,f=a.aoPreSearchCols,g=function(a){e.sSearch=a.sSearch,e.bRegex=a.bRegex,e.bSmart=a.bSmart,e.bCaseInsensitive=a.bCaseInsensitive};if(s(a),"ssp"!=Ma(a)){for(Y(a,b.sSearch,c,b.bEscapeRegex!==d?!b.bEscapeRegex:b.bRegex,b.bSmart,b.bCaseInsensitive),g(b),b=0;b<f.length;b++)X(a,f[b].sSearch,b,f[b].bEscapeRegex!==d?!f[b].bEscapeRegex:f[b].bRegex,f[b].bSmart,f[b].bCaseInsensitive);W(a)}else g(b);a.bFiltered=!0,Ja(a,null,"search",[a])}function W(b){for(var c,d,e=Ua.ext.search,f=b.aiDisplay,g=0,h=e.length;g<h;g++){for(var i=[],j=0,k=f.length;j<k;j++)d=f[j],c=b.aoData[d],e[g](b,c._aFilterData,d,c._aData,j)&&i.push(d);f.length=0,a.merge(f,i)}}function X(a,b,c,d,e,f){if(""!==b){for(var g=[],h=a.aiDisplay,d=Z(b,d,e,f),e=0;e<h.length;e++)b=a.aoData[h[e]]._aFilterData[c],d.test(b)&&g.push(h[e]);a.aiDisplay=g}}function Y(a,b,c,d,e,f){var g,d=Z(b,d,e,f),f=a.oPreviousSearch.sSearch,h=a.aiDisplayMaster,e=[];if(0!==Ua.ext.search.length&&(c=!0),g=$(a),0>=b.length)a.aiDisplay=h.slice();else{for((g||c||f.length>b.length||0!==b.indexOf(f)||a.bSorted)&&(a.aiDisplay=h.slice()),b=a.aiDisplay,c=0;c<b.length;c++)d.test(a.aoData[b[c]]._sFilterRow)&&e.push(b[c]);a.aiDisplay=e}}function Z(b,c,d,e){return b=c?b:mb(b),d&&(b="^(?=.*?"+a.map(b.match(/"[^"]+"|[^ ]+/g)||[""],function(a){if('"'===a.charAt(0))var b=a.match(/^"(.*)"$/),a=b?b[1]:a;return a.replace('"',"")}).join(")(?=.*?")+").*$"),RegExp(b,e?"i":"")}function $(a){var b,c,d,e,f,g,h,i,j=a.aoColumns,k=Ua.ext.type.search;for(b=!1,c=0,e=a.aoData.length;c<e;c++)if(i=a.aoData[c],!i._aFilterData){for(g=[],d=0,f=j.length;d<f;d++)b=j[d],b.bSearchable?(h=w(a,c,d,"filter"),k[b.sType]&&(h=k[b.sType](h)),null===h&&(h=""),"string"!=typeof h&&h.toString&&(h=h.toString())):h="",h.indexOf&&-1!==h.indexOf("&")&&(nb.innerHTML=h,h=ob?nb.textContent:nb.innerText),h.replace&&(h=h.replace(/[\r\n]/g,"")),g.push(h);i._aFilterData=g,i._sFilterRow=g.join("  "),b=!0}return b}function _(a){return{search:a.sSearch,smart:a.bSmart,regex:a.bRegex,caseInsensitive:a.bCaseInsensitive}}function aa(a){return{sSearch:a.search,bSmart:a.smart,bRegex:a.regex,bCaseInsensitive:a.caseInsensitive}}function ba(b){var c=b.sTableId,d=b.aanFeatures.i,e=a("<div/>",{class:b.oClasses.sInfo,id:d?null:c+"_info"});return d||(b.aoDrawCallback.push({fn:ca,sName:"information"}),e.attr("role","status").attr("aria-live","polite"),a(b.nTable).attr("aria-describedby",c+"_info")),e[0]}function ca(b){var c=b.aanFeatures.i;if(0!==c.length){var d=b.oLanguage,e=b._iDisplayStart+1,f=b.fnDisplayEnd(),g=b.fnRecordsTotal(),h=b.fnRecordsDisplay(),i=h?d.sInfo:d.sInfoEmpty;h!==g&&(i+=" "+d.sInfoFiltered),i+=d.sInfoPostFix,i=da(b,i),d=d.fnInfoCallback,null!==d&&(i=d.call(b.oInstance,b,e,f,g,h,i)),a(c).html(i)}}function da(a,b){var c=a.fnFormatNumber,d=a._iDisplayStart+1,e=a._iDisplayLength,f=a.fnRecordsDisplay(),g=-1===e;return b.replace(/_START_/g,c.call(a,d)).replace(/_END_/g,c.call(a,a.fnDisplayEnd())).replace(/_MAX_/g,c.call(a,a.fnRecordsTotal())).replace(/_TOTAL_/g,c.call(a,f)).replace(/_PAGE_/g,c.call(a,g?1:Math.ceil(d/e))).replace(/_PAGES_/g,c.call(a,g?1:Math.ceil(f/e)))}function ea(a){var b,c,d,e=a.iInitDisplayStart,f=a.aoColumns;c=a.oFeatures;var g=a.bDeferLoading;if(a.bInitialised){for(M(a),I(a),J(a,a.aoHeader),J(a,a.aoFooter),la(a,!0),c.bAutoWidth&&pa(a),b=0,c=f.length;b<c;b++)d=f[b],d.sWidth&&(d.nTh.style.width=ta(d.sWidth));Ja(a,null,"preInit",[a]),L(a),f=Ma(a),("ssp"!=f||g)&&("ajax"==f?P(a,[],function(c){var d=T(a,c);for(b=0;b<d.length;b++)u(a,d[b]);a.iInitDisplayStart=e,L(a),la(a,!1),fa(a,c)},a):(la(a,!1),fa(a)))}else setTimeout(function(){ea(a)},200)}function fa(a,b){a._bInitComplete=!0,(b||a.oInit.aaData)&&n(a),Ja(a,null,"plugin-init",[a,b]),Ja(a,"aoInitComplete","init",[a,b])}function ga(a,b){var c=parseInt(b,10);a._iDisplayLength=c,Ka(a),Ja(a,null,"length",[a,c])}function ha(b){for(var c=b.oClasses,d=b.sTableId,e=b.aLengthMenu,f=a.isArray(e[0]),g=f?e[0]:e,e=f?e[1]:e,f=a("<select/>",{name:d+"_length","aria-controls":d,class:c.sLengthSelect}),h=0,i=g.length;h<i;h++)f[0][h]=new Option("number"==typeof e[h]?b.fnFormatNumber(e[h]):e[h],g[h]);var j=a("<div><label/></div>").addClass(c.sLength);return b.aanFeatures.l||(j[0].id=d+"_length"),j.children().append(b.oLanguage.sLengthMenu.replace("_MENU_",f[0].outerHTML)),a("select",j).val(b._iDisplayLength).on("change.DT",function(){ga(b,a(this).val()),K(b)}),a(b.nTable).on("length.dt.DT",function(c,d,e){b===d&&a("select",j).val(e)}),j[0]}function ia(b){var c=b.sPaginationType,d=Ua.ext.pager[c],e="function"==typeof d,f=function(a){K(a)},c=a("<div/>").addClass(b.oClasses.sPaging+c)[0],g=b.aanFeatures;return e||d.fnInit(b,c,f),g.p||(c.id=b.sTableId+"_paginate",b.aoDrawCallback.push({fn:function(a){if(e){var b,c=a._iDisplayStart,h=a._iDisplayLength,i=a.fnRecordsDisplay(),j=-1===h,c=j?0:Math.ceil(c/h),h=j?1:Math.ceil(i/h),i=d(c,h),j=0;for(b=g.p.length;j<b;j++)La(a,"pageButton")(a,g.p[j],j,i,c,h)}else d.fnUpdate(a,f)},sName:"pagination"})),c}function ja(a,b,c){var d=a._iDisplayStart,e=a._iDisplayLength,f=a.fnRecordsDisplay();return 0===f||-1===e?d=0:"number"==typeof b?(d=b*e)>f&&(d=0):"first"==b?d=0:"previous"==b?0>(d=0<=e?d-e:0)&&(d=0):"next"==b?d+e<f&&(d+=e):"last"==b?d=Math.floor((f-1)/e)*e:Ea(a,0,"Unknown paging action: "+b,5),b=a._iDisplayStart!==d,a._iDisplayStart=d,b&&(Ja(a,null,"page",[a]),c&&K(a)),b}function ka(b){return a("<div/>",{id:b.aanFeatures.r?null:b.sTableId+"_processing",class:b.oClasses.sProcessing}).html(b.oLanguage.sProcessing).insertBefore(b.nTable)[0]}function la(b,c){b.oFeatures.bProcessing&&a(b.aanFeatures.r).css("display",c?"block":"none"),Ja(b,null,"processing",[b,c])}function ma(b){var c=a(b.nTable);c.attr("role","grid");var d=b.oScroll;if(""===d.sX&&""===d.sY)return b.nTable;var e=d.sX,f=d.sY,g=b.oClasses,h=c.children("caption"),i=h.length?h[0]._captionSide:null,j=a(c[0].cloneNode(!1)),k=a(c[0].cloneNode(!1)),l=c.children("tfoot");l.length||(l=null),j=a("<div/>",{class:g.sScrollWrapper}).append(a("<div/>",{class:g.sScrollHead}).css({overflow:"hidden",position:"relative",border:0,width:e?e?ta(e):null:"100%"}).append(a("<div/>",{class:g.sScrollHeadInner}).css({"box-sizing":"content-box",width:d.sXInner||"100%"}).append(j.removeAttr("id").css("margin-left",0).append("top"===i?h:null).append(c.children("thead"))))).append(a("<div/>",{class:g.sScrollBody}).css({position:"relative",overflow:"auto",width:e?ta(e):null}).append(c)),l&&j.append(a("<div/>",{class:g.sScrollFoot}).css({overflow:"hidden",border:0,width:e?e?ta(e):null:"100%"}).append(a("<div/>",{class:g.sScrollFootInner}).append(k.removeAttr("id").css("margin-left",0).append("bottom"===i?h:null).append(c.children("tfoot")))));var c=j.children(),m=c[0],g=c[1],n=l?c[2]:null;return e&&a(g).on("scroll.DT",function(){var a=this.scrollLeft;m.scrollLeft=a,l&&(n.scrollLeft=a)}),a(g).css(f&&d.bCollapse?"max-height":"height",f),b.nScrollHead=m,b.nScrollBody=g,b.nScrollFoot=n,b.aoDrawCallback.push({fn:na,sName:"scrolling"}),j[0]}function na(b){var c,e,f,g,h,i=b.oScroll,j=i.sX,k=i.sXInner,l=i.sY,i=i.iBarWidth,m=a(b.nScrollHead),p=m[0].style,q=m.children("div"),r=q[0].style,s=q.children("table"),q=b.nScrollBody,t=a(q),u=q.style,v=a(b.nScrollFoot).children("div"),w=v.children("table"),x=a(b.nTHead),y=a(b.nTable),z=y[0],A=z.style,B=b.nTFoot?a(b.nTFoot):null,C=b.oBrowser,D=C.bScrollOversize,E=eb(b.aoColumns,"nTh"),F=[],G=[],H=[],I=[],J=function(a){a=a.style,a.paddingTop="0",a.paddingBottom="0",a.borderTopWidth="0",a.borderBottomWidth="0",a.height=0};e=q.scrollHeight>q.clientHeight,b.scrollBarVis!==e&&b.scrollBarVis!==d?(b.scrollBarVis=e,n(b)):(b.scrollBarVis=e,y.children("thead, tfoot").remove(),B&&(f=B.clone().prependTo(y),c=B.find("tr"),f=f.find("tr")),g=x.clone().prependTo(y),x=x.find("tr"),e=g.find("tr"),g.find("th, td").removeAttr("tabindex"),j||(u.width="100%",m[0].style.width="100%"),a.each(O(b,g),function(a,c){h=o(b,a),c.style.width=b.aoColumns[h].sWidth}),B&&oa(function(a){a.style.width=""},f),m=y.outerWidth(),""===j?(A.width="100%",D&&(y.find("tbody").height()>q.offsetHeight||"scroll"==t.css("overflow-y"))&&(A.width=ta(y.outerWidth()-i)),m=y.outerWidth()):""!==k&&(A.width=ta(k),m=y.outerWidth()),oa(J,e),oa(function(b){H.push(b.innerHTML),F.push(ta(a(b).css("width")))},e),oa(function(b,c){-1!==a.inArray(b,E)&&(b.style.width=F[c])},x),a(e).height(0),B&&(oa(J,f),oa(function(b){I.push(b.innerHTML),G.push(ta(a(b).css("width")))},f),oa(function(a,b){a.style.width=G[b]},c),a(f).height(0)),oa(function(a,b){a.innerHTML='<div class="dataTables_sizing">'+H[b]+"</div>",a.childNodes[0].style.height="0",a.childNodes[0].style.overflow="hidden",a.style.width=F[b]},e),B&&oa(function(a,b){a.innerHTML='<div class="dataTables_sizing">'+I[b]+"</div>",a.childNodes[0].style.height="0",a.childNodes[0].style.overflow="hidden",a.style.width=G[b]},f),y.outerWidth()<m?(c=q.scrollHeight>q.offsetHeight||"scroll"==t.css("overflow-y")?m+i:m,D&&(q.scrollHeight>q.offsetHeight||"scroll"==t.css("overflow-y"))&&(A.width=ta(c-i)),(""===j||""!==k)&&Ea(b,1,"Possible column misalignment",6)):c="100%",u.width=ta(c),p.width=ta(c),B&&(b.nScrollFoot.style.width=ta(c)),!l&&D&&(u.height=ta(z.offsetHeight+i)),j=y.outerWidth(),s[0].style.width=ta(j),r.width=ta(j),k=y.height()>q.clientHeight||"scroll"==t.css("overflow-y"),l="padding"+(C.bScrollbarLeft?"Left":"Right"),r[l]=k?i+"px":"0px",B&&(w[0].style.width=ta(j),v[0].style.width=ta(j),v[0].style[l]=k?i+"px":"0px"),y.children("colgroup").insertBefore(y.children("thead")),t.scroll(),!b.bSorted&&!b.bFiltered||b._drawHold||(q.scrollTop=0))}function oa(a,b,c){for(var d,e,f=0,g=0,h=b.length;g<h;){for(d=b[g].firstChild,e=c?c[g].firstChild:null;d;)1===d.nodeType&&(c?a(d,e,f):a(d,f),f++),d=d.nextSibling,e=c?e.nextSibling:null;g++}}function pa(c){var d,e,f=c.nTable,g=c.aoColumns,h=c.oScroll,i=h.sY,j=h.sX,k=h.sXInner,l=g.length,m=r(c,"bVisible"),p=a("th",c.nTHead),s=f.getAttribute("width"),t=f.parentNode,u=!1,v=c.oBrowser,h=v.bScrollOversize;for((d=f.style.width)&&-1!==d.indexOf("%")&&(s=d),d=0;d<m.length;d++)e=g[m[d]],null!==e.sWidth&&(e.sWidth=qa(e.sWidthOrig,t),u=!0);if(h||!u&&!j&&!i&&l==q(c)&&l==p.length)for(d=0;d<l;d++)null!==(m=o(c,d))&&(g[m].sWidth=ta(p.eq(d).width()));else{l=a(f).clone().css("visibility","hidden").removeAttr("id"),l.find("tbody tr").remove();var w=a("<tr/>").appendTo(l.find("tbody"));for(l.find("thead, tfoot").remove(),l.append(a(c.nTHead).clone()).append(a(c.nTFoot).clone()),l.find("tfoot th, tfoot td").css("width",""),p=O(c,l.find("thead")[0]),d=0;d<m.length;d++)e=g[m[d]],p[d].style.width=null!==e.sWidthOrig&&""!==e.sWidthOrig?ta(e.sWidthOrig):"",e.sWidthOrig&&j&&a(p[d]).append(a("<div/>").css({width:e.sWidthOrig,margin:0,padding:0,border:0,height:1}));if(c.aoData.length)for(d=0;d<m.length;d++)u=m[d],e=g[u],a(ra(c,u)).clone(!1).append(e.sContentPadding).appendTo(w);for(a("[name]",l).removeAttr("name"),e=a("<div/>").css(j||i?{position:"absolute",top:0,left:0,height:1,right:0,overflow:"hidden"}:{}).append(l).appendTo(t),j&&k?l.width(k):j?(l.css("width","auto"),l.removeAttr("width"),l.width()<t.clientWidth&&s&&l.width(t.clientWidth)):i?l.width(t.clientWidth):s&&l.width(s),d=i=0;d<m.length;d++)t=a(p[d]),k=t.outerWidth()-t.width(),t=v.bBounding?Math.ceil(p[d].getBoundingClientRect().width):t.outerWidth(),i+=t,g[m[d]].sWidth=ta(t-k);f.style.width=ta(i),e.remove()}s&&(f.style.width=ta(s)),!s&&!j||c._reszEvt||(f=function(){a(b).on("resize.DT-"+c.sInstance,qb(function(){n(c)}))},h?setTimeout(f,1e3):f(),c._reszEvt=!0)}function qa(b,d){if(!b)return 0;var e=a("<div/>").css("width",ta(b)).appendTo(d||c.body),f=e[0].offsetWidth;return e.remove(),f}function ra(b,c){var d=sa(b,c);if(0>d)return null;var e=b.aoData[d];return e.nTr?e.anCells[c]:a("<td/>").html(w(b,d,c,"display"))[0]}function sa(a,b){for(var c,d=-1,e=-1,f=0,g=a.aoData.length;f<g;f++)c=w(a,f,b,"display")+"",c=c.replace(pb,""),c=c.replace(/&nbsp;/g," "),c.length>d&&(d=c.length,e=f);return e}function ta(a){return null===a?"0px":"number"==typeof a?0>a?"0px":a+"px":a.match(/\d$/)?a+"px":a}function ua(b){var c,e,f,g,h,i,j=[],k=b.aoColumns;c=b.aaSortingFixed,e=a.isPlainObject(c);var l=[];for(f=function(b){b.length&&!a.isArray(b[0])?l.push(b):a.merge(l,b)},a.isArray(c)&&f(c),e&&c.pre&&f(c.pre),f(b.aaSorting),e&&c.post&&f(c.post),b=0;b<l.length;b++)for(i=l[b][0],f=k[i].aDataSort,c=0,e=f.length;c<e;c++)g=f[c],h=k[g].sType||"string",l[b]._idx===d&&(l[b]._idx=a.inArray(l[b][1],k[g].asSorting)),j.push({src:i,col:g,dir:l[b][1],index:l[b]._idx,type:h,formatter:Ua.ext.type.order[h+"-pre"]});return j}function va(a){var b,c,d,e,f=[],g=Ua.ext.type.order,h=a.aoData,i=0,j=a.aiDisplayMaster;for(s(a),e=ua(a),b=0,c=e.length;b<c;b++)d=e[b],d.formatter&&i++,Aa(a,d.col);if("ssp"!=Ma(a)&&0!==e.length){for(b=0,c=j.length;b<c;b++)f[j[b]]=b;i===e.length?j.sort(function(a,b){var c,d,g,i,j=e.length,k=h[a]._aSortData,l=h[b]._aSortData;for(g=0;g<j;g++)if(i=e[g],c=k[i.col],d=l[i.col],0!==(c=c<d?-1:c>d?1:0))return"asc"===i.dir?c:-c;return c=f[a],d=f[b],c<d?-1:c>d?1:0}):j.sort(function(a,b){var c,d,i,j,k=e.length,l=h[a]._aSortData,m=h[b]._aSortData;for(i=0;i<k;i++)if(j=e[i],c=l[j.col],d=m[j.col],j=g[j.type+"-"+j.dir]||g["string-"+j.dir],0!==(c=j(c,d)))return c;return c=f[a],d=f[b],c<d?-1:c>d?1:0})}a.bSorted=!0}function wa(a){for(var b,c,d=a.aoColumns,e=ua(a),a=a.oLanguage.oAria,f=0,g=d.length;f<g;f++){c=d[f];var h=c.asSorting;b=c.sTitle.replace(/<.*?>/g,"");var i=c.nTh;i.removeAttribute("aria-sort"),c.bSortable&&(0<e.length&&e[0].col==f?(i.setAttribute("aria-sort","asc"==e[0].dir?"ascending":"descending"),c=h[e[0].index+1]||h[0]):c=h[0],b+="asc"===c?a.sSortAscending:a.sSortDescending),i.setAttribute("aria-label",b)}}function xa(b,c,e,f){var g=b.aaSorting,h=b.aoColumns[c].asSorting,i=function(b,c){var e=b._idx;return e===d&&(e=a.inArray(b[1],h)),e+1<h.length?e+1:c?null:0};"number"==typeof g[0]&&(g=b.aaSorting=[g]),e&&b.oFeatures.bSortMulti?(e=a.inArray(c,eb(g,"0")),-1!==e?(c=i(g[e],!0),null===c&&1===g.length&&(c=0),null===c?g.splice(e,1):(g[e][1]=h[c],g[e]._idx=c)):(g.push([c,h[0],0]),g[g.length-1]._idx=0)):g.length&&g[0][0]==c?(c=i(g[0]),g.length=1,g[0][1]=h[c],g[0]._idx=c):(g.length=0,g.push([c,h[0]]),g[0]._idx=0),L(b),"function"==typeof f&&f(b)}function ya(a,b,c,d){var e=a.aoColumns[c];Ha(b,{},function(b){!1!==e.bSortable&&(a.oFeatures.bProcessing?(la(a,!0),setTimeout(function(){xa(a,c,b.shiftKey,d),"ssp"!==Ma(a)&&la(a,!1)},0)):xa(a,c,b.shiftKey,d))})}function za(b){var c,d,e=b.aLastSort,f=b.oClasses.sSortColumn,g=ua(b),h=b.oFeatures;if(h.bSort&&h.bSortClasses){for(h=0,c=e.length;h<c;h++)d=e[h].src,a(eb(b.aoData,"anCells",d)).removeClass(f+(2>h?h+1:3));for(h=0,c=g.length;h<c;h++)d=g[h].src,a(eb(b.aoData,"anCells",d)).addClass(f+(2>h?h+1:3))}b.aLastSort=g}function Aa(a,b){var c,d=a.aoColumns[b],e=Ua.ext.order[d.sSortDataType];e&&(c=e.call(a.oInstance,a,b,p(a,b)));for(var f,g=Ua.ext.type.order[d.sType+"-pre"],h=0,i=a.aoData.length;h<i;h++)d=a.aoData[h],d._aSortData||(d._aSortData=[]),(!d._aSortData[b]||e)&&(f=e?c[h]:w(a,h,b,"sort"),d._aSortData[b]=g?g(f):f)}function Ba(b){if(b.oFeatures.bStateSave&&!b.bDestroying){var c={time:+new Date,start:b._iDisplayStart,length:b._iDisplayLength,order:a.extend(!0,[],b.aaSorting),search:_(b.oPreviousSearch),columns:a.map(b.aoColumns,function(a,c){return{visible:a.bVisible,search:_(b.aoPreSearchCols[c])}})};Ja(b,"aoStateSaveParams","stateSaveParams",[b,c]),b.oSavedState=c,b.fnStateSaveCallback.call(b.oInstance,b,c)}}function Ca(b,c,e){var f,g,h=b.aoColumns,c=function(c){if(c&&c.time){var i=Ja(b,"aoStateLoadParams","stateLoadParams",[b,c]);if(-1===a.inArray(!1,i)&&!(0<(i=b.iStateDuration)&&c.time<+new Date-1e3*i||c.columns&&h.length!==c.columns.length)){if(b.oLoadedState=a.extend(!0,{},c),c.start!==d&&(b._iDisplayStart=c.start,b.iInitDisplayStart=c.start),c.length!==d&&(b._iDisplayLength=c.length),c.order!==d&&(b.aaSorting=[],a.each(c.order,function(a,c){b.aaSorting.push(c[0]>=h.length?[0,c[1]]:c)})),c.search!==d&&a.extend(b.oPreviousSearch,aa(c.search)),c.columns)for(f=0,g=c.columns.length;f<g;f++)i=c.columns[f],i.visible!==d&&(h[f].bVisible=i.visible),i.search!==d&&a.extend(b.aoPreSearchCols[f],aa(i.search));Ja(b,"aoStateLoaded","stateLoaded",[b,c])}}e()};if(b.oFeatures.bStateSave){var i=b.fnStateLoadCallback.call(b.oInstance,b,c);i!==d&&c(i)}else e()}function Da(b){var c=Ua.settings,b=a.inArray(b,eb(c,"nTable"));return-1!==b?c[b]:null}function Ea(a,c,d,e){if(d="DataTables warning: "+(a?"table id="+a.sTableId+" - ":"")+d,e&&(d+=". For more information about this error, please see http://datatables.net/tn/"+e),c)b.console&&console.log&&console.log(d);else if(c=Ua.ext,c=c.sErrMode||c.errMode,a&&Ja(a,null,"error",[a,e,d]),"alert"==c)alert(d);else{if("throw"==c)throw Error(d);"function"==typeof c&&c(a,e,d)}}function Fa(b,c,e,f){a.isArray(e)?a.each(e,function(d,e){a.isArray(e)?Fa(b,c,e[0],e[1]):Fa(b,c,e)}):(f===d&&(f=e),c[e]!==d&&(b[f]=c[e]))}function Ga(b,c,d){var e,f;for(f in c)c.hasOwnProperty(f)&&(e=c[f],a.isPlainObject(e)?(a.isPlainObject(b[f])||(b[f]={}),a.extend(!0,b[f],e)):b[f]=d&&"data"!==f&&"aaData"!==f&&a.isArray(e)?e.slice():e);return b}function Ha(b,c,d){a(b).on("click.DT",c,function(c){a(b).blur(),d(c)}).on("keypress.DT",c,function(a){13===a.which&&(a.preventDefault(),d(a))}).on("selectstart.DT",function(){return!1})}function Ia(a,b,c,d){c&&a[b].push({fn:c,sName:d})}function Ja(b,c,d,e){var f=[];return c&&(f=a.map(b[c].slice().reverse(),function(a){return a.fn.apply(b.oInstance,e)})),null!==d&&(c=a.Event(d+".dt"),a(b.nTable).trigger(c,e),f.push(c.result)),f}function Ka(a){var b=a._iDisplayStart,c=a.fnDisplayEnd(),d=a._iDisplayLength;b>=c&&(b=c-d),b-=b%d,(-1===d||0>b)&&(b=0),a._iDisplayStart=b}function La(b,c){var d=b.renderer,e=Ua.ext.renderer[c];return a.isPlainObject(d)&&d[c]?e[d[c]]||e._:"string"==typeof d?e[d]||e._:e._}function Ma(a){return a.oFeatures.bServerSide?"ssp":a.ajax||a.sAjaxSource?"ajax":"dom"}function Na(a,b){var c=[],c=Db.numbers_length,d=Math.floor(c/2);return b<=c?c=gb(0,b):a<=d?(c=gb(0,c-2),c.push("ellipsis"),c.push(b-1)):(a>=b-1-d?c=gb(b-(c-2),b):(c=gb(a-d+2,a+d-1),c.push("ellipsis"),c.push(b-1)),c.splice(0,0,"ellipsis"),c.splice(0,0,0)),c.DT_el="span",c}function Oa(b){a.each({num:function(a){return Eb(a,b)},"num-fmt":function(a){return Eb(a,b,$a)},"html-num":function(a){return Eb(a,b,Xa)},"html-num-fmt":function(a){return Eb(a,b,Xa,$a)}},function(a,c){Qa.type.order[a+b+"-pre"]=c,a.match(/^html\-/)&&(Qa.type.search[a+b]=Qa.type.search.html)})}function Pa(a){return function(){var b=[Da(this[Ua.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return Ua.ext.internal[a].apply(this,b)}}var Qa,Ra,Sa,Ta,Ua=function(b){this.$=function(a,b){return this.api(!0).$(a,b)},this._=function(a,b){return this.api(!0).rows(a,b).data()},this.api=function(a){return new Ra(a?Da(this[Qa.iApiIndex]):this)},this.fnAddData=function(b,c){var e=this.api(!0),f=a.isArray(b)&&(a.isArray(b[0])||a.isPlainObject(b[0]))?e.rows.add(b):e.row.add(b);return(c===d||c)&&e.draw(),f.flatten().toArray()},this.fnAdjustColumnSizing=function(a){var b=this.api(!0).columns.adjust(),c=b.settings()[0],e=c.oScroll;a===d||a?b.draw(!1):(""!==e.sX||""!==e.sY)&&na(c)},this.fnClearTable=function(a){var b=this.api(!0).clear();(a===d||a)&&b.draw()},this.fnClose=function(a){this.api(!0).row(a).child.hide()},this.fnDeleteRow=function(a,b,c){var e=this.api(!0),a=e.rows(a),f=a.settings()[0],g=f.aoData[a[0][0]];return a.remove(),b&&b.call(this,f,g),(c===d||c)&&e.draw(),g},this.fnDestroy=function(a){this.api(!0).destroy(a)},this.fnDraw=function(a){this.api(!0).draw(a)},this.fnFilter=function(a,b,c,e,f,g){f=this.api(!0),null===b||b===d?f.search(a,c,e,g):f.column(b).search(a,c,e,g),f.draw()},this.fnGetData=function(a,b){var c=this.api(!0);if(a!==d){var e=a.nodeName?a.nodeName.toLowerCase():"";return b!==d||"td"==e||"th"==e?c.cell(a,b).data():c.row(a).data()||null}return c.data().toArray()},this.fnGetNodes=function(a){var b=this.api(!0);return a!==d?b.row(a).node():b.rows().nodes().flatten().toArray()},this.fnGetPosition=function(a){var b=this.api(!0),c=a.nodeName.toUpperCase();return"TR"==c?b.row(a).index():"TD"==c||"TH"==c?(a=b.cell(a).index(),[a.row,a.columnVisible,a.column]):null},this.fnIsOpen=function(a){return this.api(!0).row(a).child.isShown()},this.fnOpen=function(a,b,c){return this.api(!0).row(a).child(b,c).show().child()[0]},this.fnPageChange=function(a,b){var c=this.api(!0).page(a);(b===d||b)&&c.draw(!1)},this.fnSetColumnVis=function(a,b,c){a=this.api(!0).column(a).visible(b),(c===d||c)&&a.columns.adjust().draw()},this.fnSettings=function(){return Da(this[Qa.iApiIndex])},this.fnSort=function(a){this.api(!0).order(a).draw()},this.fnSortListener=function(a,b,c){this.api(!0).order.listener(a,b,c)},this.fnUpdate=function(a,b,c,e,f){var g=this.api(!0);return c===d||null===c?g.row(b).data(a):g.cell(b,c).data(a),(f===d||f)&&g.columns.adjust(),(e===d||e)&&g.draw(),0},this.fnVersionCheck=Qa.fnVersionCheck;var c=this,e=b===d,k=this.length;e&&(b={}),this.oApi=this.internal=Qa.internal;for(var n in Ua.ext.internal)n&&(this[n]=Pa(n));return this.each(function(){var n,o={},p=1<k?Ga(o,b,!0):b,q=0,o=this.getAttribute("id"),r=!1,s=Ua.defaults,w=a(this);if("table"!=this.nodeName.toLowerCase())Ea(null,0,"Non-table node initialisation ("+this.nodeName+")",2);else{h(s),i(s.column),f(s,s,!0),f(s.column,s.column,!0),f(s,a.extend(p,w.data()));var x=Ua.settings,q=0;for(n=x.length;q<n;q++){var y=x[q];if(y.nTable==this||y.nTHead&&y.nTHead.parentNode==this||y.nTFoot&&y.nTFoot.parentNode==this){var A=p.bRetrieve!==d?p.bRetrieve:s.bRetrieve;if(e||A)return y.oInstance;if(p.bDestroy!==d?p.bDestroy:s.bDestroy){y.oInstance.fnDestroy();break}return void Ea(y,0,"Cannot reinitialise DataTable",3)}if(y.sTableId==this.id){x.splice(q,1);break}}null!==o&&""!==o||(this.id=o="DataTables_Table_"+Ua.ext._unique++);var B=a.extend(!0,{},Ua.models.oSettings,{sDestroyWidth:w[0].style.width,sInstance:o,sTableId:o});B.nTable=this,B.oApi=c.internal,B.oInit=p,x.push(B),B.oInstance=1===c.length?c:w.dataTable(),h(p),g(p.oLanguage),p.aLengthMenu&&!p.iDisplayLength&&(p.iDisplayLength=a.isArray(p.aLengthMenu[0])?p.aLengthMenu[0][0]:p.aLengthMenu[0]),p=Ga(a.extend(!0,{},s),p),Fa(B.oFeatures,p,"bPaginate bLengthChange bFilter bSort bSortMulti bInfo bProcessing bAutoWidth bSortClasses bServerSide bDeferRender".split(" ")),Fa(B,p,["asStripeClasses","ajax","fnServerData","fnFormatNumber","sServerMethod","aaSorting","aaSortingFixed","aLengthMenu","sPaginationType","sAjaxSource","sAjaxDataProp","iStateDuration","sDom","bSortCellsTop","iTabIndex","fnStateLoadCallback","fnStateSaveCallback","renderer","searchDelay","rowId",["iCookieDuration","iStateDuration"],["oSearch","oPreviousSearch"],["aoSearchCols","aoPreSearchCols"],["iDisplayLength","_iDisplayLength"]]),Fa(B.oScroll,p,[["sScrollX","sX"],["sScrollXInner","sXInner"],["sScrollY","sY"],["bScrollCollapse","bCollapse"]]),Fa(B.oLanguage,p,"fnInfoCallback"),Ia(B,"aoDrawCallback",p.fnDrawCallback,"user"),Ia(B,"aoServerParams",p.fnServerParams,"user"),Ia(B,"aoStateSaveParams",p.fnStateSaveParams,"user"),Ia(B,"aoStateLoadParams",p.fnStateLoadParams,"user"),Ia(B,"aoStateLoaded",p.fnStateLoaded,"user"),Ia(B,"aoRowCallback",p.fnRowCallback,"user"),Ia(B,"aoRowCreatedCallback",p.fnCreatedRow,"user"),Ia(B,"aoHeaderCallback",p.fnHeaderCallback,"user"),Ia(B,"aoFooterCallback",p.fnFooterCallback,"user"),Ia(B,"aoInitComplete",p.fnInitComplete,"user"),Ia(B,"aoPreDrawCallback",p.fnPreDrawCallback,"user"),B.rowIdFn=z(p.rowId),j(B);var C=B.oClasses;a.extend(C,Ua.ext.classes,p.oClasses),w.addClass(C.sTable),B.iInitDisplayStart===d&&(B.iInitDisplayStart=p.iDisplayStart,B._iDisplayStart=p.iDisplayStart),null!==p.iDeferLoading&&(B.bDeferLoading=!0,o=a.isArray(p.iDeferLoading),B._iRecordsDisplay=o?p.iDeferLoading[0]:p.iDeferLoading,B._iRecordsTotal=o?p.iDeferLoading[1]:p.iDeferLoading);var D=B.oLanguage;a.extend(!0,D,p.oLanguage),D.sUrl&&(a.ajax({dataType:"json",url:D.sUrl,success:function(b){g(b),f(s.oLanguage,b),a.extend(!0,D,b),ea(B)},error:function(){ea(B)}}),r=!0),null===p.asStripeClasses&&(B.asStripeClasses=[C.sStripeOdd,C.sStripeEven]);var o=B.asStripeClasses,E=w.children("tbody").find("tr").eq(0);if(-1!==a.inArray(!0,a.map(o,function(a){return E.hasClass(a)}))&&(a("tbody tr",this).removeClass(o.join(" ")),B.asDestroyStripes=o.slice()),o=[],x=this.getElementsByTagName("thead"),0!==x.length&&(N(B.aoHeader,x[0]),o=O(B)),null===p.aoColumns)for(x=[],q=0,n=o.length;q<n;q++)x.push(null);else x=p.aoColumns;for(q=0,n=x.length;q<n;q++)l(B,o?o[q]:null);if(t(B,p.aoColumnDefs,x,function(a,b){m(B,a,b)}),E.length){var F=function(a,b){return null!==a.getAttribute("data-"+b)?b:null};a(E[0]).children("th, td").each(function(a,b){var c=B.aoColumns[a];if(c.mData===a){var e=F(b,"sort")||F(b,"order"),f=F(b,"filter")||F(b,"search");null===e&&null===f||(c.mData={_:a+".display",sort:null!==e?a+".@data-"+e:d,type:null!==e?a+".@data-"+e:d,filter:null!==f?a+".@data-"+f:d},m(B,a))}})}var G=B.oFeatures,o=function(){if(p.aaSorting===d){var b=B.aaSorting;for(q=0,n=b.length;q<n;q++)b[q][1]=B.aoColumns[q].asSorting[0]}za(B),G.bSort&&Ia(B,"aoDrawCallback",function(){if(B.bSorted){var b=ua(B),c={};a.each(b,function(a,b){c[b.src]=b.dir}),Ja(B,null,"order",[B,b,c]),wa(B)}}),Ia(B,"aoDrawCallback",function(){(B.bSorted||"ssp"===Ma(B)||G.bDeferRender)&&za(B)},"sc");var b=w.children("caption").each(function(){this._captionSide=a(this).css("caption-side")}),c=w.children("thead");if(0===c.length&&(c=a("<thead/>").appendTo(w)),B.nTHead=c[0],c=w.children("tbody"),0===c.length&&(c=a("<tbody/>").appendTo(w)),B.nTBody=c[0],c=w.children("tfoot"),0===c.length&&b.length>0&&(""!==B.oScroll.sX||""!==B.oScroll.sY)&&(c=a("<tfoot/>").appendTo(w)),0===c.length||0===c.children().length?w.addClass(C.sNoFooter):c.length>0&&(B.nTFoot=c[0],N(B.aoFooter,B.nTFoot)),p.aaData)for(q=0;q<p.aaData.length;q++)u(B,p.aaData[q]);else(B.bDeferLoading||"dom"==Ma(B))&&v(B,a(B.nTBody).children("tr"));B.aiDisplay=B.aiDisplayMaster.slice(),B.bInitialised=!0,!1===r&&ea(B)};p.bStateSave?(G.bStateSave=!0,Ia(B,"aoDrawCallback",Ba,"state_save"),Ca(B,p,o)):o()}}),c=null,this
},Va={},Wa=/[\r\n]/g,Xa=/<.*?>/g,Ya=/^\d{2,4}[\.\/\-]\d{1,2}[\.\/\-]\d{1,2}([T ]{1}\d{1,2}[:\.]\d{2}([\.:]\d{2})?)?$/,Za=RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\|\\$|\\^|\\-)","g"),$a=/[',$£€¥%\u2009\u202F\u20BD\u20a9\u20BArfkɃΞ]/gi,_a=function(a){return!a||!0===a||"-"===a},ab=function(a){var b=parseInt(a,10);return!isNaN(b)&&isFinite(a)?b:null},bb=function(a,b){return Va[b]||(Va[b]=RegExp(mb(b),"g")),"string"==typeof a&&"."!==b?a.replace(/\./g,"").replace(Va[b],"."):a},cb=function(a,b,c){var d="string"==typeof a;return!!_a(a)||(b&&d&&(a=bb(a,b)),c&&d&&(a=a.replace($a,"")),!isNaN(parseFloat(a))&&isFinite(a))},db=function(a,b,c){return!!_a(a)||(_a(a)||"string"==typeof a?!!cb(a.replace(Xa,""),b,c)||null:null)},eb=function(a,b,c){var e=[],f=0,g=a.length;if(c!==d)for(;f<g;f++)a[f]&&a[f][b]&&e.push(a[f][b][c]);else for(;f<g;f++)a[f]&&e.push(a[f][b]);return e},fb=function(a,b,c,e){var f=[],g=0,h=b.length;if(e!==d)for(;g<h;g++)a[b[g]][c]&&f.push(a[b[g]][c][e]);else for(;g<h;g++)f.push(a[b[g]][c]);return f},gb=function(a,b){var c,e=[];b===d?(b=0,c=a):(c=b,b=a);for(var f=b;f<c;f++)e.push(f);return e},hb=function(a){for(var b=[],c=0,d=a.length;c<d;c++)a[c]&&b.push(a[c]);return b},ib=function(a){var b;a:{if(!(2>a.length)){b=a.slice().sort();for(var c=b[0],d=1,e=b.length;d<e;d++){if(b[d]===c){b=!1;break a}c=b[d]}}b=!0}if(b)return a.slice();b=[];var f,e=a.length,g=0,d=0;a:for(;d<e;d++){for(c=a[d],f=0;f<g;f++)if(b[f]===c)continue a;b.push(c),g++}return b};Ua.util={throttle:function(a,b){var c,e,f=b!==d?b:200;return function(){var b=this,g=+new Date,h=arguments;c&&g<c+f?(clearTimeout(e),e=setTimeout(function(){c=d,a.apply(b,h)},f)):(c=g,a.apply(b,h))}},escapeRegex:function(a){return a.replace(Za,"\\$1")}};var jb=function(a,b,c){a[b]!==d&&(a[c]=a[b])},kb=/\[.*?\]$/,lb=/\(\)$/,mb=Ua.util.escapeRegex,nb=a("<div>")[0],ob=nb.textContent!==d,pb=/<.*?>/g,qb=Ua.util.throttle,rb=[],sb=Array.prototype,tb=function(b){var c,d,e=Ua.settings,f=a.map(e,function(a){return a.nTable});return b?b.nTable&&b.oApi?[b]:b.nodeName&&"table"===b.nodeName.toLowerCase()?(c=a.inArray(b,f),-1!==c?[e[c]]:null):b&&"function"==typeof b.settings?b.settings().toArray():("string"==typeof b?d=a(b):b instanceof a&&(d=b),d?d.map(function(){return c=a.inArray(this,f),-1!==c?e[c]:null}).toArray():void 0):[]};Ra=function(b,c){if(!(this instanceof Ra))return new Ra(b,c);var d=[],e=function(a){(a=tb(a))&&(d=d.concat(a))};if(a.isArray(b))for(var f=0,g=b.length;f<g;f++)e(b[f]);else e(b);this.context=ib(d),c&&a.merge(this,c),this.selector={rows:null,cols:null,opts:null},Ra.extend(this,this,rb)},Ua.Api=Ra,a.extend(Ra.prototype,{any:function(){return 0!==this.count()},concat:sb.concat,context:[],count:function(){return this.flatten().length},each:function(a){for(var b=0,c=this.length;b<c;b++)a.call(this,this[b],b,this);return this},eq:function(a){var b=this.context;return b.length>a?new Ra(b[a],this[a]):null},filter:function(a){var b=[];if(sb.filter)b=sb.filter.call(this,a,this);else for(var c=0,d=this.length;c<d;c++)a.call(this,this[c],c,this)&&b.push(this[c]);return new Ra(this.context,b)},flatten:function(){var a=[];return new Ra(this.context,a.concat.apply(a,this.toArray()))},join:sb.join,indexOf:sb.indexOf||function(a,b){for(var c=b||0,d=this.length;c<d;c++)if(this[c]===a)return c;return-1},iterator:function(a,b,c,e){var f,g,h,i,j,k,l,m=[],n=this.context,o=this.selector;for("string"==typeof a&&(e=c,c=b,b=a,a=!1),g=0,h=n.length;g<h;g++){var p=new Ra(n[g]);if("table"===b)(f=c.call(p,n[g],g))!==d&&m.push(f);else if("columns"===b||"rows"===b)(f=c.call(p,n[g],this[g],g))!==d&&m.push(f);else if("column"===b||"column-rows"===b||"row"===b||"cell"===b)for(l=this[g],"column-rows"===b&&(k=yb(n[g],o.opts)),i=0,j=l.length;i<j;i++)f=l[i],(f="cell"===b?c.call(p,n[g],f.row,f.column,g,i):c.call(p,n[g],f,g,i,k))!==d&&m.push(f)}return m.length||e?(a=new Ra(n,a?m.concat.apply([],m):m),b=a.selector,b.rows=o.rows,b.cols=o.cols,b.opts=o.opts,a):this},lastIndexOf:sb.lastIndexOf||function(a,b){return this.indexOf.apply(this.toArray.reverse(),arguments)},length:0,map:function(a){var b=[];if(sb.map)b=sb.map.call(this,a,this);else for(var c=0,d=this.length;c<d;c++)b.push(a.call(this,this[c],c));return new Ra(this.context,b)},pluck:function(a){return this.map(function(b){return b[a]})},pop:sb.pop,push:sb.push,reduce:sb.reduce||function(a,b){return k(this,a,b,0,this.length,1)},reduceRight:sb.reduceRight||function(a,b){return k(this,a,b,this.length-1,-1,-1)},reverse:sb.reverse,selector:null,shift:sb.shift,slice:function(){return new Ra(this.context,this)},sort:sb.sort,splice:sb.splice,toArray:function(){return sb.slice.call(this)},to$:function(){return a(this)},toJQuery:function(){return a(this)},unique:function(){return new Ra(this.context,ib(this))},unshift:sb.unshift}),Ra.extend=function(b,c,d){if(d.length&&c&&(c instanceof Ra||c.__dt_wrapper)){var e,f,g,h=function(a,b,c){return function(){var d=b.apply(a,arguments);return Ra.extend(d,d,c.methodExt),d}};for(e=0,f=d.length;e<f;e++)g=d[e],c[g.name]="function"==typeof g.val?h(b,g.val,g):a.isPlainObject(g.val)?{}:g.val,c[g.name].__dt_wrapper=!0,Ra.extend(b,c[g.name],g.propExt)}},Ra.register=Sa=function(b,c){if(a.isArray(b))for(var d=0,e=b.length;d<e;d++)Ra.register(b[d],c);else for(var f,g,h=b.split("."),i=rb,d=0,e=h.length;d<e;d++){f=(g=-1!==h[d].indexOf("()"))?h[d].replace("()",""):h[d];var j;a:{j=0;for(var k=i.length;j<k;j++)if(i[j].name===f){j=i[j];break a}j=null}j||(j={name:f,val:{},methodExt:[],propExt:[]},i.push(j)),d===e-1?j.val=c:i=g?j.methodExt:j.propExt}},Ra.registerPlural=Ta=function(b,c,e){Ra.register(b,e),Ra.register(c,function(){var b=e.apply(this,arguments);return b===this?this:b instanceof Ra?b.length?a.isArray(b[0])?new Ra(b.context,b[0]):b[0]:d:b})},Sa("tables()",function(b){var c;if(b){c=Ra;var d=this.context;if("number"==typeof b)b=[d[b]];else var e=a.map(d,function(a){return a.nTable}),b=a(e).filter(b).map(function(){var b=a.inArray(this,e);return d[b]}).toArray();c=new c(b)}else c=this;return c}),Sa("table()",function(a){var a=this.tables(a),b=a.context;return b.length?new Ra(b[0]):a}),Ta("tables().nodes()","table().node()",function(){return this.iterator("table",function(a){return a.nTable},1)}),Ta("tables().body()","table().body()",function(){return this.iterator("table",function(a){return a.nTBody},1)}),Ta("tables().header()","table().header()",function(){return this.iterator("table",function(a){return a.nTHead},1)}),Ta("tables().footer()","table().footer()",function(){return this.iterator("table",function(a){return a.nTFoot},1)}),Ta("tables().containers()","table().container()",function(){return this.iterator("table",function(a){return a.nTableWrapper},1)}),Sa("draw()",function(a){return this.iterator("table",function(b){"page"===a?K(b):("string"==typeof a&&(a="full-hold"!==a),L(b,!1===a))})}),Sa("page()",function(a){return a===d?this.page.info().page:this.iterator("table",function(b){ja(b,a)})}),Sa("page.info()",function(){if(0===this.context.length)return d;var a=this.context[0],b=a._iDisplayStart,c=a.oFeatures.bPaginate?a._iDisplayLength:-1,e=a.fnRecordsDisplay(),f=-1===c;return{page:f?0:Math.floor(b/c),pages:f?1:Math.ceil(e/c),start:b,end:a.fnDisplayEnd(),length:c,recordsTotal:a.fnRecordsTotal(),recordsDisplay:e,serverSide:"ssp"===Ma(a)}}),Sa("page.len()",function(a){return a===d?0!==this.context.length?this.context[0]._iDisplayLength:d:this.iterator("table",function(b){ga(b,a)})});var ub=function(a,b,c){if(c){var d=new Ra(a);d.one("draw",function(){c(d.ajax.json())})}if("ssp"==Ma(a))L(a,b);else{la(a,!0);var e=a.jqXHR;e&&4!==e.readyState&&e.abort(),P(a,[],function(c){C(a);for(var c=T(a,c),d=0,e=c.length;d<e;d++)u(a,c[d]);L(a,b),la(a,!1)})}};Sa("ajax.json()",function(){var a=this.context;if(0<a.length)return a[0].json}),Sa("ajax.params()",function(){var a=this.context;if(0<a.length)return a[0].oAjaxData}),Sa("ajax.reload()",function(a,b){return this.iterator("table",function(c){ub(c,!1===b,a)})}),Sa("ajax.url()",function(b){var c=this.context;return b===d?0===c.length?d:(c=c[0],c.ajax?a.isPlainObject(c.ajax)?c.ajax.url:c.ajax:c.sAjaxSource):this.iterator("table",function(c){a.isPlainObject(c.ajax)?c.ajax.url=b:c.ajax=b})}),Sa("ajax.url().load()",function(a,b){return this.iterator("table",function(c){ub(c,!1===b,a)})});var vb=function(b,c,e,f,g){var h,i,j,k,l,m,n=[];for(j=typeof c,c&&"string"!==j&&"function"!==j&&c.length!==d||(c=[c]),j=0,k=c.length;j<k;j++)for(i=c[j]&&c[j].split&&!c[j].match(/[\[\(:]/)?c[j].split(","):[c[j]],l=0,m=i.length;l<m;l++)(h=e("string"==typeof i[l]?a.trim(i[l]):i[l]))&&h.length&&(n=n.concat(h));if(b=Qa.selector[b],b.length)for(j=0,k=b.length;j<k;j++)n=b[j](f,g,n);return ib(n)},wb=function(b){return b||(b={}),b.filter&&b.search===d&&(b.search=b.filter),a.extend({search:"none",order:"current",page:"all"},b)},xb=function(a){for(var b=0,c=a.length;b<c;b++)if(0<a[b].length)return a[0]=a[b],a[0].length=1,a.length=1,a.context=[a.context[b]],a;return a.length=0,a},yb=function(b,c){var d,e,f,g=[],h=b.aiDisplay;f=b.aiDisplayMaster;var i=c.search;if(d=c.order,e=c.page,"ssp"==Ma(b))return"removed"===i?[]:gb(0,f.length);if("current"==e)for(d=b._iDisplayStart,e=b.fnDisplayEnd();d<e;d++)g.push(h[d]);else if("current"==d||"applied"==d){if("none"==i)g=f.slice();else if("applied"==i)g=h.slice();else if("removed"==i){var j={};for(d=0,e=h.length;d<e;d++)j[h[d]]=null;g=a.map(f,function(a){return j.hasOwnProperty(a)?null:a})}}else if("index"==d||"original"==d)for(d=0,e=b.aoData.length;d<e;d++)"none"==i?g.push(d):(-1===(f=a.inArray(d,h))&&"removed"==i||0<=f&&"applied"==i)&&g.push(d);return g};Sa("rows()",function(b,c){b===d?b="":a.isPlainObject(b)&&(c=b,b="");var c=wb(c),e=this.iterator("table",function(e){var f,g=c;return vb("row",b,function(b){var c=ab(b),h=e.aoData;if(null!==c&&!g)return[c];if(f||(f=yb(e,g)),null!==c&&-1!==a.inArray(c,f))return[c];if(null===b||b===d||""===b)return f;if("function"==typeof b)return a.map(f,function(a){var c=h[a];return b(a,c._aData,c.nTr)?a:null});if(b.nodeName){var c=b._DT_RowIndex,i=b._DT_CellIndex;return c!==d?h[c]&&h[c].nTr===b?[c]:[]:i?h[i.row]&&h[i.row].nTr===b?[i.row]:[]:(c=a(b).closest("*[data-dt-row]"),c.length?[c.data("dt-row")]:[])}return"string"==typeof b&&"#"===b.charAt(0)&&(c=e.aIds[b.replace(/^#/,"")])!==d?[c.idx]:(c=hb(fb(e.aoData,f,"nTr")),a(c).filter(b).map(function(){return this._DT_RowIndex}).toArray())},e,g)},1);return e.selector.rows=b,e.selector.opts=c,e}),Sa("rows().nodes()",function(){return this.iterator("row",function(a,b){return a.aoData[b].nTr||d},1)}),Sa("rows().data()",function(){return this.iterator(!0,"rows",function(a,b){return fb(a.aoData,b,"_aData")},1)}),Ta("rows().cache()","row().cache()",function(a){return this.iterator("row",function(b,c){var d=b.aoData[c];return"search"===a?d._aFilterData:d._aSortData},1)}),Ta("rows().invalidate()","row().invalidate()",function(a){return this.iterator("row",function(b,c){E(b,c,a)})}),Ta("rows().indexes()","row().index()",function(){return this.iterator("row",function(a,b){return b},1)}),Ta("rows().ids()","row().id()",function(a){for(var b=[],c=this.context,d=0,e=c.length;d<e;d++)for(var f=0,g=this[d].length;f<g;f++){var h=c[d].rowIdFn(c[d].aoData[this[d][f]]._aData);b.push((!0===a?"#":"")+h)}return new Ra(c,b)}),Ta("rows().remove()","row().remove()",function(){var a=this;return this.iterator("row",function(b,c,e){var f,g,h,i,j,k=b.aoData,l=k[c];for(k.splice(c,1),f=0,g=k.length;f<g;f++)if(h=k[f],j=h.anCells,null!==h.nTr&&(h.nTr._DT_RowIndex=f),null!==j)for(h=0,i=j.length;h<i;h++)j[h]._DT_CellIndex.row=f;D(b.aiDisplayMaster,c),D(b.aiDisplay,c),D(a[e],c,!1),0<b._iRecordsDisplay&&b._iRecordsDisplay--,Ka(b),(c=b.rowIdFn(l._aData))!==d&&delete b.aIds[c]}),this.iterator("table",function(a){for(var b=0,c=a.aoData.length;b<c;b++)a.aoData[b].idx=b}),this}),Sa("rows.add()",function(b){var c=this.iterator("table",function(a){var c,d,e,f=[];for(d=0,e=b.length;d<e;d++)c=b[d],c.nodeName&&"TR"===c.nodeName.toUpperCase()?f.push(v(a,c)[0]):f.push(u(a,c));return f},1),d=this.rows(-1);return d.pop(),a.merge(d,c),d}),Sa("row()",function(a,b){return xb(this.rows(a,b))}),Sa("row().data()",function(b){var c=this.context;if(b===d)return c.length&&this.length?c[0].aoData[this[0]]._aData:d;var e=c[0].aoData[this[0]];return e._aData=b,a.isArray(b)&&e.nTr.id&&A(c[0].rowId)(b,e.nTr.id),E(c[0],this[0],"data"),this}),Sa("row().node()",function(){var a=this.context;return a.length&&this.length?a[0].aoData[this[0]].nTr||null:null}),Sa("row.add()",function(b){b instanceof a&&b.length&&(b=b[0]);var c=this.iterator("table",function(a){return b.nodeName&&"TR"===b.nodeName.toUpperCase()?v(a,b)[0]:u(a,b)});return this.row(c[0])});var zb=function(a,b){var c=a.context;c.length&&(c=c[0].aoData[b!==d?b:a[0]])&&c._details&&(c._details.remove(),c._detailsShow=d,c._details=d)},Ab=function(a,b){var c=a.context;if(c.length&&a.length){var d=c[0].aoData[a[0]];if(d._details){(d._detailsShow=b)?d._details.insertAfter(d.nTr):d._details.detach();var e=c[0],f=new Ra(e),g=e.aoData;f.off("draw.dt.DT_details column-visibility.dt.DT_details destroy.dt.DT_details"),0<eb(g,"_details").length&&(f.on("draw.dt.DT_details",function(a,b){e===b&&f.rows({page:"current"}).eq(0).each(function(a){a=g[a],a._detailsShow&&a._details.insertAfter(a.nTr)})}),f.on("column-visibility.dt.DT_details",function(a,b){if(e===b)for(var c,d=q(b),f=0,h=g.length;f<h;f++)c=g[f],c._details&&c._details.children("td[colspan]").attr("colspan",d)}),f.on("destroy.dt.DT_details",function(a,b){if(e===b)for(var c=0,d=g.length;c<d;c++)g[c]._details&&zb(f,c)}))}}};Sa("row().child()",function(b,c){var e=this.context;if(b===d)return e.length&&this.length?e[0].aoData[this[0]]._details:d;if(!0===b)this.child.show();else if(!1===b)zb(this);else if(e.length&&this.length){var f=e[0],e=e[0].aoData[this[0]],g=[],h=function(b,c){if(a.isArray(b)||b instanceof a)for(var d=0,e=b.length;d<e;d++)h(b[d],c);else b.nodeName&&"tr"===b.nodeName.toLowerCase()?g.push(b):(d=a("<tr><td/></tr>").addClass(c),a("td",d).addClass(c).html(b)[0].colSpan=q(f),g.push(d[0]))};h(b,c),e._details&&e._details.detach(),e._details=a(g),e._detailsShow&&e._details.insertAfter(e.nTr)}return this}),Sa(["row().child.show()","row().child().show()"],function(){return Ab(this,!0),this}),Sa(["row().child.hide()","row().child().hide()"],function(){return Ab(this,!1),this}),Sa(["row().child.remove()","row().child().remove()"],function(){return zb(this),this}),Sa("row().child.isShown()",function(){var a=this.context;return!(!a.length||!this.length)&&(a[0].aoData[this[0]]._detailsShow||!1)});var Bb=/^([^:]+):(name|visIdx|visible)$/,Cb=function(a,b,c,d,e){for(var c=[],d=0,f=e.length;d<f;d++)c.push(w(a,e[d],b));return c};Sa("columns()",function(b,c){b===d?b="":a.isPlainObject(b)&&(c=b,b="");var c=wb(c),e=this.iterator("table",function(d){var e=b,f=c,g=d.aoColumns,h=eb(g,"sName"),i=eb(g,"nTh");return vb("column",e,function(b){var c=ab(b);if(""===b)return gb(g.length);if(null!==c)return[c>=0?c:g.length+c];if("function"==typeof b){var e=yb(d,f);return a.map(g,function(a,c){return b(c,Cb(d,c,0,0,e),i[c])?c:null})}var j="string"==typeof b?b.match(Bb):"";if(j)switch(j[2]){case"visIdx":case"visible":if((c=parseInt(j[1],10))<0){var k=a.map(g,function(a,b){return a.bVisible?b:null});return[k[k.length+c]]}return[o(d,c)];case"name":return a.map(h,function(a,b){return a===j[1]?b:null});default:return[]}return b.nodeName&&b._DT_CellIndex?[b._DT_CellIndex.column]:(c=a(i).filter(b).map(function(){return a.inArray(this,i)}).toArray(),c.length||!b.nodeName?c:(c=a(b).closest("*[data-dt-column]"),c.length?[c.data("dt-column")]:[]))},d,f)},1);return e.selector.cols=b,e.selector.opts=c,e}),Ta("columns().header()","column().header()",function(){return this.iterator("column",function(a,b){return a.aoColumns[b].nTh},1)}),Ta("columns().footer()","column().footer()",function(){return this.iterator("column",function(a,b){return a.aoColumns[b].nTf},1)}),Ta("columns().data()","column().data()",function(){return this.iterator("column-rows",Cb,1)}),Ta("columns().dataSrc()","column().dataSrc()",function(){return this.iterator("column",function(a,b){return a.aoColumns[b].mData},1)}),Ta("columns().cache()","column().cache()",function(a){return this.iterator("column-rows",function(b,c,d,e,f){return fb(b.aoData,f,"search"===a?"_aFilterData":"_aSortData",c)},1)}),Ta("columns().nodes()","column().nodes()",function(){return this.iterator("column-rows",function(a,b,c,d,e){return fb(a.aoData,e,"anCells",b)},1)}),Ta("columns().visible()","column().visible()",function(b,c){var e=this.iterator("column",function(c,e){if(b===d)return c.aoColumns[e].bVisible;var f,g,h,i=c.aoColumns,j=i[e],k=c.aoData;if(b!==d&&j.bVisible!==b){if(b){var l=a.inArray(!0,eb(i,"bVisible"),e+1);for(f=0,g=k.length;f<g;f++)h=k[f].nTr,i=k[f].anCells,h&&h.insertBefore(i[e],i[l]||null)}else a(eb(c.aoData,"anCells",e)).detach();j.bVisible=b,J(c,c.aoHeader),J(c,c.aoFooter),c.aiDisplay.length||a(c.nTBody).find("td[colspan]").attr("colspan",q(c)),Ba(c)}});return b!==d&&(this.iterator("column",function(a,d){Ja(a,null,"column-visibility",[a,d,b,c])}),(c===d||c)&&this.columns.adjust()),e}),Ta("columns().indexes()","column().index()",function(a){return this.iterator("column",function(b,c){return"visible"===a?p(b,c):c},1)}),Sa("columns.adjust()",function(){return this.iterator("table",function(a){n(a)},1)}),Sa("column.index()",function(a,b){if(0!==this.context.length){var c=this.context[0];if("fromVisible"===a||"toData"===a)return o(c,b);if("fromData"===a||"toVisible"===a)return p(c,b)}}),Sa("column()",function(a,b){return xb(this.columns(a,b))}),Sa("cells()",function(b,c,e){if(a.isPlainObject(b)&&(b.row===d?(e=b,b=null):(e=c,c=null)),a.isPlainObject(c)&&(e=c,c=null),null===c||c===d)return this.iterator("table",function(c){var f,g,h,i,j,k,l,m=b,n=wb(e),o=c.aoData,p=yb(c,n),q=hb(fb(o,p,"anCells")),r=a([].concat.apply([],q)),s=c.aoColumns.length;return vb("cell",m,function(b){var e="function"==typeof b;if(null===b||b===d||e){for(g=[],h=0,i=p.length;h<i;h++)for(f=p[h],j=0;j<s;j++)k={row:f,column:j},e?(l=o[f],b(k,w(c,f,j),l.anCells?l.anCells[j]:null)&&g.push(k)):g.push(k);return g}return a.isPlainObject(b)?b.column!==d&&b.row!==d&&-1!==a.inArray(b.row,p)?[b]:[]:(e=r.filter(b).map(function(a,b){return{row:b._DT_CellIndex.row,column:b._DT_CellIndex.column}}).toArray(),e.length||!b.nodeName?e:(l=a(b).closest("*[data-dt-row]"),l.length?[{row:l.data("dt-row"),column:l.data("dt-column")}]:[]))},c,n)});var f,g,h,i,j,k=this.columns(c),l=this.rows(b);this.iterator("table",function(a,b){for(f=[],g=0,h=l[b].length;g<h;g++)for(i=0,j=k[b].length;i<j;i++)f.push({row:l[b][g],column:k[b][i]})},1);var m=this.cells(f,e);return a.extend(m.selector,{cols:c,rows:b,opts:e}),m}),Ta("cells().nodes()","cell().node()",function(){return this.iterator("cell",function(a,b,c){return(a=a.aoData[b])&&a.anCells?a.anCells[c]:d},1)}),Sa("cells().data()",function(){return this.iterator("cell",function(a,b,c){return w(a,b,c)},1)}),Ta("cells().cache()","cell().cache()",function(a){return a="search"===a?"_aFilterData":"_aSortData",this.iterator("cell",function(b,c,d){return b.aoData[c][a][d]},1)}),Ta("cells().render()","cell().render()",function(a){return this.iterator("cell",function(b,c,d){return w(b,c,d,a)},1)}),Ta("cells().indexes()","cell().index()",function(){return this.iterator("cell",function(a,b,c){return{row:b,column:c,columnVisible:p(a,c)}},1)}),Ta("cells().invalidate()","cell().invalidate()",function(a){return this.iterator("cell",function(b,c,d){E(b,c,a,d)})}),Sa("cell()",function(a,b,c){return xb(this.cells(a,b,c))}),Sa("cell().data()",function(a){var b=this.context,c=this[0];return a===d?b.length&&c.length?w(b[0],c[0].row,c[0].column):d:(x(b[0],c[0].row,c[0].column,a),E(b[0],c[0].row,"data",c[0].column),this)}),Sa("order()",function(b,c){var e=this.context;return b===d?0!==e.length?e[0].aaSorting:d:("number"==typeof b?b=[[b,c]]:b.length&&!a.isArray(b[0])&&(b=Array.prototype.slice.call(arguments)),this.iterator("table",function(a){a.aaSorting=b.slice()}))}),Sa("order.listener()",function(a,b,c){return this.iterator("table",function(d){ya(d,a,b,c)})}),Sa("order.fixed()",function(b){if(!b){var c=this.context,c=c.length?c[0].aaSortingFixed:d;return a.isArray(c)?{pre:c}:c}return this.iterator("table",function(c){c.aaSortingFixed=a.extend(!0,{},b)})}),Sa(["columns().order()","column().order()"],function(b){var c=this;return this.iterator("table",function(d,e){var f=[];a.each(c[e],function(a,c){f.push([c,b])}),d.aaSorting=f})}),Sa("search()",function(b,c,e,f){var g=this.context;return b===d?0!==g.length?g[0].oPreviousSearch.sSearch:d:this.iterator("table",function(d){d.oFeatures.bFilter&&V(d,a.extend({},d.oPreviousSearch,{sSearch:b+"",bRegex:null!==c&&c,bSmart:null===e||e,bCaseInsensitive:null===f||f}),1)})}),Ta("columns().search()","column().search()",function(b,c,e,f){return this.iterator("column",function(g,h){var i=g.aoPreSearchCols;if(b===d)return i[h].sSearch;g.oFeatures.bFilter&&(a.extend(i[h],{sSearch:b+"",bRegex:null!==c&&c,bSmart:null===e||e,bCaseInsensitive:null===f||f}),V(g,g.oPreviousSearch,1))})}),Sa("state()",function(){return this.context.length?this.context[0].oSavedState:null}),Sa("state.clear()",function(){return this.iterator("table",function(a){a.fnStateSaveCallback.call(a.oInstance,a,{})})}),Sa("state.loaded()",function(){return this.context.length?this.context[0].oLoadedState:null}),Sa("state.save()",function(){return this.iterator("table",function(a){Ba(a)})}),Ua.versionCheck=Ua.fnVersionCheck=function(a){for(var b,c,d=Ua.version.split("."),a=a.split("."),e=0,f=a.length;e<f;e++)if(b=parseInt(d[e],10)||0,c=parseInt(a[e],10)||0,b!==c)return b>c;return!0},Ua.isDataTable=Ua.fnIsDataTable=function(b){var c=a(b).get(0),d=!1;return b instanceof Ua.Api||(a.each(Ua.settings,function(b,e){var f=e.nScrollHead?a("table",e.nScrollHead)[0]:null,g=e.nScrollFoot?a("table",e.nScrollFoot)[0]:null;e.nTable!==c&&f!==c&&g!==c||(d=!0)}),d)},Ua.tables=Ua.fnTables=function(b){var c=!1;a.isPlainObject(b)&&(c=b.api,b=b.visible);var d=a.map(Ua.settings,function(c){if(!b||b&&a(c.nTable).is(":visible"))return c.nTable});return c?new Ra(d):d},Ua.camelToHungarian=f,Sa("$()",function(b,c){var d=this.rows(c).nodes(),d=a(d);return a([].concat(d.filter(b).toArray(),d.find(b).toArray()))}),a.each(["on","one","off"],function(b,c){Sa(c+"()",function(){var b=Array.prototype.slice.call(arguments);b[0]=a.map(b[0].split(/\s/),function(a){return a.match(/\.dt\b/)?a:a+".dt"}).join(" ");var d=a(this.tables().nodes());return d[c].apply(d,b),this})}),Sa("clear()",function(){return this.iterator("table",function(a){C(a)})}),Sa("settings()",function(){return new Ra(this.context,this.context)}),Sa("init()",function(){var a=this.context;return a.length?a[0].oInit:null}),Sa("data()",function(){return this.iterator("table",function(a){return eb(a.aoData,"_aData")}).flatten()}),Sa("destroy()",function(c){return c=c||!1,this.iterator("table",function(d){var e,f=d.nTableWrapper.parentNode,g=d.oClasses,h=d.nTable,i=d.nTBody,j=d.nTHead,k=d.nTFoot,l=a(h),i=a(i),m=a(d.nTableWrapper),n=a.map(d.aoData,function(a){return a.nTr});d.bDestroying=!0,Ja(d,"aoDestroyCallback","destroy",[d]),c||new Ra(d).columns().visible(!0),m.off(".DT").find(":not(tbody *)").off(".DT"),a(b).off(".DT-"+d.sInstance),h!=j.parentNode&&(l.children("thead").detach(),l.append(j)),k&&h!=k.parentNode&&(l.children("tfoot").detach(),l.append(k)),d.aaSorting=[],d.aaSortingFixed=[],za(d),a(n).removeClass(d.asStripeClasses.join(" ")),a("th, td",j).removeClass(g.sSortable+" "+g.sSortableAsc+" "+g.sSortableDesc+" "+g.sSortableNone),i.children().detach(),i.append(n),j=c?"remove":"detach",l[j](),m[j](),!c&&f&&(f.insertBefore(h,d.nTableReinsertBefore),l.css("width",d.sDestroyWidth).removeClass(g.sTable),(e=d.asDestroyStripes.length)&&i.children().each(function(b){a(this).addClass(d.asDestroyStripes[b%e])})),-1!==(f=a.inArray(d,Ua.settings))&&Ua.settings.splice(f,1)})}),a.each(["column","row","cell"],function(a,b){Sa(b+"s().every()",function(a){var c=this.selector.opts,e=this;return this.iterator(b,function(f,g,h,i,j){a.call(e[b](g,"cell"===b?h:c,"cell"===b?c:d),g,h,i,j)})})}),Sa("i18n()",function(b,c,e){var f=this.context[0],b=z(b)(f.oLanguage);return b===d&&(b=c),e!==d&&a.isPlainObject(b)&&(b=b[e]!==d?b[e]:b._),b.replace("%d",e)}),Ua.version="1.10.18",Ua.settings=[],Ua.models={},Ua.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0},Ua.models.oRow={nTr:null,anCells:null,_aData:[],_aSortData:null,_aFilterData:null,_sFilterRow:null,_sRowStripe:"",src:null,idx:-1},Ua.models.oColumn={idx:null,aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bVisible:null,_sManualType:null,_bAttrSrc:!1,fnCreatedCell:null,fnGetData:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null},Ua.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:[],ajax:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollCollapse:!1,bServerSide:!1,bSort:!0,bSortMulti:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(a){return a.toString().replace(/\B(?=(\d{3})+(?!\d))/g,this.oLanguage.sThousands)},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:null,fnServerParams:null,fnStateLoadCallback:function(a){try{return JSON.parse((-1===a.iStateDuration?sessionStorage:localStorage).getItem("DataTables_"+a.sInstance+"_"+location.pathname))}catch(b){}},fnStateLoadParams:null,fnStateLoaded:null,fnStateSaveCallback:function(a,b){try{(-1===a.iStateDuration?sessionStorage:localStorage).setItem("DataTables_"+a.sInstance+"_"+location.pathname,JSON.stringify(b))}catch(c){}},fnStateSaveParams:null,iStateDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iTabIndex:0,oClasses:{},oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sDecimal:"",sThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"Processing...",sSearch:"Search:",sSearchPlaceholder:"",sUrl:"",sZeroRecords:"No matching records found"},oSearch:a.extend({},Ua.models.oSearch),sAjaxDataProp:"data",sAjaxSource:null,sDom:"lfrtip",searchDelay:null,sPaginationType:"simple_numbers",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET",renderer:null,rowId:"DT_RowId"},e(Ua.defaults),Ua.defaults.column={aDataSort:null,iDataSort:-1,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bVisible:!0,fnCreatedCell:null,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null},e(Ua.defaults.column),Ua.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortMulti:null,bSortClasses:null,bStateSave:null},oScroll:{bCollapse:null,iBarWidth:0,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1,bScrollbarLeft:!1,bBounding:!1,barWidth:0},ajax:null,aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aIds:{},aoColumns:[],aoHeader:[],aoFooter:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:[],asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,searchDelay:null,sPaginationType:"two_button",iStateDuration:0,aoStateSave:[],aoStateLoad:[],oSavedState:null,oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,bAjaxDataGet:!0,jqXHR:null,json:d,oAjaxData:d,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iRecordsTotal:0,_iRecordsDisplay:0,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return"ssp"==Ma(this)?1*this._iRecordsTotal:this.aiDisplayMaster.length},fnRecordsDisplay:function(){return"ssp"==Ma(this)?1*this._iRecordsDisplay:this.aiDisplay.length},fnDisplayEnd:function(){var a=this._iDisplayLength,b=this._iDisplayStart,c=b+a,d=this.aiDisplay.length,e=this.oFeatures,f=e.bPaginate;return e.bServerSide?!1===f||-1===a?b+d:Math.min(b+a,this._iRecordsDisplay):!f||c>d||-1===a?d:c},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null,aLastSort:[],oPlugins:{},rowIdFn:null,rowId:null},Ua.ext=Qa={buttons:{},classes:{},build:"bs4/dt-1.10.18",errMode:"alert",feature:[],search:[],selector:{cell:[],column:[],row:[]},internal:{},legacy:{ajax:null},pager:{},renderer:{pageButton:{},header:{}},order:{},type:{detect:[],search:{},order:{}},_unique:0,fnVersionCheck:Ua.fnVersionCheck,iApiIndex:0,oJUIClasses:{},sVersion:Ua.version},a.extend(Qa,{afnFiltering:Qa.search,aTypes:Qa.type.detect,ofnSearch:Qa.type.search,oSort:Qa.type.order,afnSortData:Qa.order,aoFeatures:Qa.feature,oApi:Qa.internal,oStdClasses:Qa.classes,oPagination:Qa.pager}),a.extend(Ua.ext.classes,{sTable:"dataTable",sNoFooter:"no-footer",sPageButton:"paginate_button",sPageButtonActive:"current",sPageButtonDisabled:"disabled",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_asc_disabled",sSortableDesc:"sorting_desc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sFilterInput:"",sLengthSelect:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sHeaderTH:"",sFooterTH:"",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sJUIHeader:"",sJUIFooter:""});var Db=Ua.ext.pager;a.extend(Db,{simple:function(){return["previous","next"]},full:function(){return["first","previous","next","last"]},numbers:function(a,b){return[Na(a,b)]},simple_numbers:function(a,b){return["previous",Na(a,b),"next"]},full_numbers:function(a,b){return["first","previous",Na(a,b),"next","last"]},first_last_numbers:function(a,b){return["first",Na(a,b),"last"]},_numbers:Na,numbers_length:7}),a.extend(!0,Ua.ext.renderer,{pageButton:{_:function(b,e,f,g,h,i){var j,k,l,m=b.oClasses,n=b.oLanguage.oPaginate,o=b.oLanguage.oAria.paginate||{},p=0,q=function(c,d){var e,g,l,r,s=function(a){ja(b,a.data.action,!0)};for(e=0,g=d.length;e<g;e++)if(r=d[e],a.isArray(r))l=a("<"+(r.DT_el||"div")+"/>").appendTo(c),q(l,r);else{switch(j=null,k="",r){case"ellipsis":c.append('<span class="ellipsis">&#x2026;</span>');break;case"first":j=n.sFirst,k=r+(h>0?"":" "+m.sPageButtonDisabled);break;case"previous":j=n.sPrevious,k=r+(h>0?"":" "+m.sPageButtonDisabled);break;case"next":j=n.sNext,k=r+(h<i-1?"":" "+m.sPageButtonDisabled);break;case"last":j=n.sLast,
k=r+(h<i-1?"":" "+m.sPageButtonDisabled);break;default:j=r+1,k=h===r?m.sPageButtonActive:""}null!==j&&(l=a("<a>",{class:m.sPageButton+" "+k,"aria-controls":b.sTableId,"aria-label":o[r],"data-dt-idx":p,tabindex:b.iTabIndex,id:0===f&&"string"==typeof r?b.sTableId+"_"+r:null}).html(j).appendTo(c),Ha(l,{action:r},s),p++)}};try{l=a(e).find(c.activeElement).data("dt-idx")}catch(Ta){}q(a(e).empty(),g),l!==d&&a(e).find("[data-dt-idx="+l+"]").focus()}}}),a.extend(Ua.ext.type.detect,[function(a,b){var c=b.oLanguage.sDecimal;return cb(a,c)?"num"+c:null},function(a){if(a&&!(a instanceof Date)&&!Ya.test(a))return null;var b=Date.parse(a);return null!==b&&!isNaN(b)||_a(a)?"date":null},function(a,b){var c=b.oLanguage.sDecimal;return cb(a,c,!0)?"num-fmt"+c:null},function(a,b){var c=b.oLanguage.sDecimal;return db(a,c)?"html-num"+c:null},function(a,b){var c=b.oLanguage.sDecimal;return db(a,c,!0)?"html-num-fmt"+c:null},function(a){return _a(a)||"string"==typeof a&&-1!==a.indexOf("<")?"html":null}]),a.extend(Ua.ext.type.search,{html:function(a){return _a(a)?a:"string"==typeof a?a.replace(Wa," ").replace(Xa,""):""},string:function(a){return _a(a)?a:"string"==typeof a?a.replace(Wa," "):a}});var Eb=function(a,b,c,d){return 0===a||a&&"-"!==a?(b&&(a=bb(a,b)),a.replace&&(c&&(a=a.replace(c,"")),d&&(a=a.replace(d,""))),1*a):-1/0};a.extend(Qa.type.order,{"date-pre":function(a){return a=Date.parse(a),isNaN(a)?-1/0:a},"html-pre":function(a){return _a(a)?"":a.replace?a.replace(/<.*?>/g,"").toLowerCase():a+""},"string-pre":function(a){return _a(a)?"":"string"==typeof a?a.toLowerCase():a.toString?a.toString():""},"string-asc":function(a,b){return a<b?-1:a>b?1:0},"string-desc":function(a,b){return a<b?1:a>b?-1:0}}),Oa(""),a.extend(!0,Ua.ext.renderer,{header:{_:function(b,c,d,e){a(b.nTable).on("order.dt.DT",function(a,f,g,h){b===f&&(a=d.idx,c.removeClass(d.sSortingClass+" "+e.sSortAsc+" "+e.sSortDesc).addClass("asc"==h[a]?e.sSortAsc:"desc"==h[a]?e.sSortDesc:d.sSortingClass))})},jqueryui:function(b,c,d,e){a("<div/>").addClass(e.sSortJUIWrapper).append(c.contents()).append(a("<span/>").addClass(e.sSortIcon+" "+d.sSortingClassJUI)).appendTo(c),a(b.nTable).on("order.dt.DT",function(a,f,g,h){b===f&&(a=d.idx,c.removeClass(e.sSortAsc+" "+e.sSortDesc).addClass("asc"==h[a]?e.sSortAsc:"desc"==h[a]?e.sSortDesc:d.sSortingClass),c.find("span."+e.sSortIcon).removeClass(e.sSortJUIAsc+" "+e.sSortJUIDesc+" "+e.sSortJUI+" "+e.sSortJUIAscAllowed+" "+e.sSortJUIDescAllowed).addClass("asc"==h[a]?e.sSortJUIAsc:"desc"==h[a]?e.sSortJUIDesc:d.sSortingClassJUI))})}}});var Fb=function(a){return"string"==typeof a?a.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"):a};return Ua.render={number:function(a,b,c,d,e){return{display:function(f){if("number"!=typeof f&&"string"!=typeof f)return f;var g=0>f?"-":"",h=parseFloat(f);return isNaN(h)?Fb(f):(h=h.toFixed(c),f=Math.abs(h),h=parseInt(f,10),f=c?b+(f-h).toFixed(c).substring(2):"",g+(d||"")+h.toString().replace(/\B(?=(\d{3})+(?!\d))/g,a)+f+(e||""))}}},text:function(){return{display:Fb}}},a.extend(Ua.ext.internal,{_fnExternApiFunc:Pa,_fnBuildAjax:P,_fnAjaxUpdate:Q,_fnAjaxParameters:R,_fnAjaxUpdateDraw:S,_fnAjaxDataSrc:T,_fnAddColumn:l,_fnColumnOptions:m,_fnAdjustColumnSizing:n,_fnVisibleToColumnIndex:o,_fnColumnIndexToVisible:p,_fnVisbleColumns:q,_fnGetColumns:r,_fnColumnTypes:s,_fnApplyColumnDefs:t,_fnHungarianMap:e,_fnCamelToHungarian:f,_fnLanguageCompat:g,_fnBrowserDetect:j,_fnAddData:u,_fnAddTr:v,_fnNodeToDataIndex:function(a,b){return b._DT_RowIndex!==d?b._DT_RowIndex:null},_fnNodeToColumnIndex:function(b,c,d){return a.inArray(d,b.aoData[c].anCells)},_fnGetCellData:w,_fnSetCellData:x,_fnSplitObjNotation:y,_fnGetObjectDataFn:z,_fnSetObjectDataFn:A,_fnGetDataMaster:B,_fnClearTable:C,_fnDeleteIndex:D,_fnInvalidate:E,_fnGetRowElements:F,_fnCreateTr:G,_fnBuildHead:I,_fnDrawHead:J,_fnDraw:K,_fnReDraw:L,_fnAddOptionsHtml:M,_fnDetectHeader:N,_fnGetUniqueThs:O,_fnFeatureHtmlFilter:U,_fnFilterComplete:V,_fnFilterCustom:W,_fnFilterColumn:X,_fnFilter:Y,_fnFilterCreateSearch:Z,_fnEscapeRegex:mb,_fnFilterData:$,_fnFeatureHtmlInfo:ba,_fnUpdateInfo:ca,_fnInfoMacros:da,_fnInitialise:ea,_fnInitComplete:fa,_fnLengthChange:ga,_fnFeatureHtmlLength:ha,_fnFeatureHtmlPaginate:ia,_fnPageChange:ja,_fnFeatureHtmlProcessing:ka,_fnProcessingDisplay:la,_fnFeatureHtmlTable:ma,_fnScrollDraw:na,_fnApplyToChildren:oa,_fnCalculateColumnWidths:pa,_fnThrottle:qb,_fnConvertToWidth:qa,_fnGetWidestNode:ra,_fnGetMaxLenString:sa,_fnStringToCss:ta,_fnSortFlatten:ua,_fnSort:va,_fnSortAria:wa,_fnSortListener:xa,_fnSortAttachListener:ya,_fnSortingClasses:za,_fnSortData:Aa,_fnSaveState:Ba,_fnLoadState:Ca,_fnSettingsFromNode:Da,_fnLog:Ea,_fnMap:Fa,_fnBindAction:Ha,_fnCallbackReg:Ia,_fnCallbackFire:Ja,_fnLengthOverflow:Ka,_fnRenderer:La,_fnDataSource:Ma,_fnRowAttributes:H,_fnExtend:Ga,_fnCalculateEnd:function(){}}),a.fn.dataTable=Ua,Ua.$=a,a.fn.dataTableSettings=Ua.settings,a.fn.dataTableExt=Ua.ext,a.fn.DataTable=function(b){return a(this).dataTable(b).api()},a.each(Ua,function(b,c){a.fn.DataTable[b]=c}),a.fn.dataTable}),function(a){"function"==typeof define&&define.amd?define(["jquery","datatables.net"],function(b){return a(b,window,document)}):"object"==typeof exports?module.exports=function(b,c){return b||(b=window),c&&c.fn.dataTable||(c=require("datatables.net")(b,c).$),a(c,b,b.document)}:a(jQuery,window,document)}(function(a,b,c,d){var e=a.fn.dataTable;return a.extend(!0,e.defaults,{dom:"<'row'<'col-sm-12 col-md-6'l><'col-sm-12 col-md-6'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-12 col-md-5'i><'col-sm-12 col-md-7'p>>",renderer:"bootstrap"}),a.extend(e.ext.classes,{sWrapper:"dataTables_wrapper dt-bootstrap4",sFilterInput:"form-control form-control-sm",sLengthSelect:"custom-select custom-select-sm form-control form-control-sm",sProcessing:"dataTables_processing card",sPageButton:"paginate_button page-item"}),e.ext.renderer.pageButton.bootstrap=function(b,f,g,h,i,j){var k,l,m,n=new e.Api(b),o=b.oClasses,p=b.oLanguage.oPaginate,q=b.oLanguage.oAria.paginate||{},r=0,s=function(c,d){var e,f,h,m,t=function(b){b.preventDefault(),!a(b.currentTarget).hasClass("disabled")&&n.page()!=b.data.action&&n.page(b.data.action).draw("page")};for(e=0,f=d.length;e<f;e++)if(m=d[e],a.isArray(m))s(c,m);else{switch(l=k="",m){case"ellipsis":k="&#x2026;",l="disabled";break;case"first":k=p.sFirst,l=m+(0<i?"":" disabled");break;case"previous":k=p.sPrevious,l=m+(0<i?"":" disabled");break;case"next":k=p.sNext,l=m+(i<j-1?"":" disabled");break;case"last":k=p.sLast,l=m+(i<j-1?"":" disabled");break;default:k=m+1,l=i===m?"active":""}k&&(h=a("<li>",{class:o.sPageButton+" "+l,id:0===g&&"string"==typeof m?b.sTableId+"_"+m:null}).append(a("<a>",{href:"#","aria-controls":b.sTableId,"aria-label":q[m],"data-dt-idx":r,tabindex:b.iTabIndex,class:"page-link"}).html(k)).appendTo(c),b.oApi._fnBindAction(h,{action:m},t),r++)}};try{m=a(f).find(c.activeElement).data("dt-idx")}catch(t){}s(a(f).empty().html('<ul class="pagination"/>').children("ul"),h),m!==d&&a(f).find("[data-dt-idx="+m+"]").focus()},e}),function(a){"use strict";var b={options:{distance:0,background:"#fff",color:"#000",thickness:2,guideline:!1,guidelineColor:"#a0a0a0",guidelineOffset:50,guidelineIndent:10,notAvailable:"Your browser doesn't support signing",scale:1,syncField:null,syncFormat:"JSON",svgStyles:!1,change:null},_create:function(){this.element.addClass(this.widgetFullName||this.widgetBaseClass);try{this.canvas=a('<canvas width="'+this.element.width()+'" height="'+this.element.height()+'">'+this.options.notAvailable+"</canvas>")[0],this.element.append(this.canvas)}catch(b){a(this.canvas).remove(),this.resize=!0,this.canvas=document.createElement("canvas"),this.canvas.setAttribute("width",this.element.width()),this.canvas.setAttribute("height",this.element.height()),this.canvas.innerHTML=this.options.notAvailable,this.element.append(this.canvas),G_vmlCanvasManager&&G_vmlCanvasManager.initElement(this.canvas)}this.ctx=this.canvas.getContext("2d"),this._refresh(!0),this._mouseInit()},_refresh:function(b){if(this.resize){var c=a(this.canvas);a("div",this.canvas).css({width:c.width(),height:c.height()})}this.ctx.fillStyle=this.options.background,this.ctx.strokeStyle=this.options.color,this.ctx.lineWidth=this.options.thickness,this.ctx.lineCap="round",this.ctx.lineJoin="round",this.clear(b)},clear:function(a){this.options.disabled||(this.ctx.clearRect(0,0,this.element.width(),this.element.height()),this.ctx.fillRect(0,0,this.element.width(),this.element.height()),this.options.guideline&&(this.ctx.save(),this.ctx.strokeStyle=this.options.guidelineColor,this.ctx.lineWidth=1,this.ctx.beginPath(),this.ctx.moveTo(this.options.guidelineIndent,this.element.height()-this.options.guidelineOffset),this.ctx.lineTo(this.element.width()-this.options.guidelineIndent,this.element.height()-this.options.guidelineOffset),this.ctx.stroke(),this.ctx.restore()),this.lines=[],a||this._changed())},_changed:function(b){if(this.options.syncField){var c="";switch(this.options.syncFormat){case"PNG":c=this.toDataURL();break;case"JPEG":c=this.toDataURL("image/jpeg");break;case"SVG":c=this.toSVG();break;default:c=this.toJSON()}a(this.options.syncField).val(c)}this._trigger("change",b,{})},_setOptions:function(){this._superApply?this._superApply(arguments):a.Widget.prototype._setOptions.apply(this,arguments);var b=0,c=!0;for(var d in arguments[0])arguments[0].hasOwnProperty(d)&&(b++,c=c&&"disabled"===d);(b>1||!c)&&this._refresh()},_mouseCapture:function(){return!this.options.disabled},_mouseStart:function(a){this.offset=this.element.offset(),this.offset.left-=document.documentElement.scrollLeft||document.body.scrollLeft,this.offset.top-=document.documentElement.scrollTop||document.body.scrollTop,this.lastPoint=[this._round(a.clientX-this.offset.left),this._round(a.clientY-this.offset.top)],this.curLine=[this.lastPoint],this.lines.push(this.curLine)},_mouseDrag:function(a){var b=[this._round(a.clientX-this.offset.left),this._round(a.clientY-this.offset.top)];this.curLine.push(b),this.ctx.beginPath(),this.ctx.moveTo(this.lastPoint[0],this.lastPoint[1]),this.ctx.lineTo(b[0],b[1]),this.ctx.stroke(),this.lastPoint=b},_mouseStop:function(a){1===this.curLine.length&&(a.clientY+=this.options.thickness,this._mouseDrag(a)),this.lastPoint=null,this.curLine=null,this._changed(a)},_round:function(a){return Math.round(100*a)/100},toJSON:function(){return'{"lines":['+a.map(this.lines,function(b){return"["+a.map(b,function(a){return"["+a+"]"})+"]"})+"]}"},toSVG:function(){var b=this.options.svgStyles?'style="fill: '+this.options.background+';"':'fill="'+this.options.background+'"',c=this.options.svgStyles?'style="fill: none; stroke: '+this.options.color+"; stroke-width: "+this.options.thickness+';"':'fill="none" stroke="'+this.options.color+'" stroke-width="'+this.options.thickness+'"';return'<?xml version="1.0"?>\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg xmlns="http://www.w3.org/2000/svg" width="15cm" height="15cm">\n\t<g '+b+'>\n\t\t<rect x="0" y="0" width="'+this.canvas.width+'" height="'+this.canvas.height+'"/>\n\t\t<g '+c+">\n"+a.map(this.lines,function(b){return'\t\t\t<polyline points="'+a.map(b,function(a){return a+""}).join(" ")+'"/>\n'}).join("")+"\t\t</g>\n\t</g>\n</svg>\n"},toDataURL:function(a,b){return this.canvas.toDataURL(a,b)},draw:function(a){this.options.disabled||(this.clear(!0),"string"==typeof a&&0===a.indexOf("data:")?this._drawDataURL(a,this.options.scale):"string"==typeof a&&a.indexOf("<svg")>-1?this._drawSVG(a,this.options.scale):this._drawJSON(a,this.options.scale),this._changed())},_drawJSON:function(b,c){"string"==typeof b&&(b=a.parseJSON(b)),this.lines=b.lines||[];var d=this.ctx;a.each(this.lines,function(){d.beginPath(),a.each(this,function(a){d[0===a?"moveTo":"lineTo"](this[0]*c,this[1]*c)}),d.stroke()})},_drawSVG:function(b,c){var d=this.lines=[];a(b).find("polyline").each(function(){var b=[];a.each(a(this).attr("points").split(" "),function(a,c){var d=c.split(",");b.push([parseFloat(d[0]),parseFloat(d[1])])}),d.push(b)});var e=this.ctx;a.each(this.lines,function(){e.beginPath(),a.each(this,function(a){e[0===a?"moveTo":"lineTo"](this[0]*c,this[1]*c)}),e.stroke()})},_drawDataURL:function(a,b){var c=new Image,d=this.ctx;c.onload=function(){d.drawImage(this,0,0,c.width*b,c.height*b)},c.src=a},isEmpty:function(){return 0===this.lines.length},_destroy:function(){this.element.removeClass(this.widgetFullName||this.widgetBaseClass),a(this.canvas).remove(),this.canvas=this.ctx=this.lines=null,this._mouseDestroy()}};a.Widget.prototype._destroy||a.extend(b,{destroy:function(){this._destroy(),a.Widget.prototype.destroy.call(this)}}),a.Widget.prototype._getCreateOptions===a.noop&&a.extend(b,{_getCreateOptions:function(){return a.metadata&&a.metadata.get(this.element[0])[this.widgetName]}}),a.widget("kbw.signature",a.ui.mouse,b),a.kbw.signature.options=a.kbw.signature.prototype.options}(jQuery),function(a,b){"object"==typeof exports&&"undefined"!=typeof module?module.exports=b():"function"==typeof define&&define.amd?define(b):a.moment=b()}(this,function(){"use strict";function a(){return fd.apply(null,arguments)}function b(a){fd=a}function c(a){return a instanceof Array||"[object Array]"===Object.prototype.toString.call(a)}function d(a){return a instanceof Date||"[object Date]"===Object.prototype.toString.call(a)}function e(a,b){var c,d=[];for(c=0;c<a.length;++c)d.push(b(a[c],c));return d}function f(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function g(a,b){for(var c in b)f(b,c)&&(a[c]=b[c]);return f(b,"toString")&&(a.toString=b.toString),f(b,"valueOf")&&(a.valueOf=b.valueOf),a}function h(a,b,c,d){return Ja(a,b,c,d,!0).utc()}function i(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null}}function j(a){return null==a._pf&&(a._pf=i()),a._pf}function k(a){if(null==a._isValid){var b=j(a),c=gd.call(b.parsedDateParts,function(a){return null!=a});a._isValid=!isNaN(a._d.getTime())&&b.overflow<0&&!b.empty&&!b.invalidMonth&&!b.invalidWeekday&&!b.nullInput&&!b.invalidFormat&&!b.userInvalidated&&(!b.meridiem||b.meridiem&&c),a._strict&&(a._isValid=a._isValid&&0===b.charsLeftOver&&0===b.unusedTokens.length&&void 0===b.bigHour)}return a._isValid}function l(a){var b=h(NaN);return null!=a?g(j(b),a):j(b).userInvalidated=!0,b}function m(a){return void 0===a}function n(a,b){var c,d,e;if(m(b._isAMomentObject)||(a._isAMomentObject=b._isAMomentObject),m(b._i)||(a._i=b._i),m(b._f)||(a._f=b._f),m(b._l)||(a._l=b._l),m(b._strict)||(a._strict=b._strict),m(b._tzm)||(a._tzm=b._tzm),m(b._isUTC)||(a._isUTC=b._isUTC),m(b._offset)||(a._offset=b._offset),m(b._pf)||(a._pf=j(b)),m(b._locale)||(a._locale=b._locale),hd.length>0)for(c in hd)d=hd[c],e=b[d],m(e)||(a[d]=e);return a}function o(b){n(this,b),this._d=new Date(null!=b._d?b._d.getTime():NaN),!1===id&&(id=!0,a.updateOffset(this),id=!1)}function p(a){return a instanceof o||null!=a&&null!=a._isAMomentObject}function q(a){return a<0?Math.ceil(a):Math.floor(a)}function r(a){var b=+a,c=0;return 0!==b&&isFinite(b)&&(c=q(b)),c}function s(a,b,c){var d,e=Math.min(a.length,b.length),f=Math.abs(a.length-b.length),g=0;for(d=0;d<e;d++)(c&&a[d]!==b[d]||!c&&r(a[d])!==r(b[d]))&&g++;return g+f}function t(b){!1===a.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+b)}function u(b,c){var d=!0;return g(function(){return null!=a.deprecationHandler&&a.deprecationHandler(null,b),d&&(t(b+"\nArguments: "+Array.prototype.slice.call(arguments).join(", ")+"\n"+(new Error).stack),d=!1),c.apply(this,arguments)},c)}function v(b,c){null!=a.deprecationHandler&&a.deprecationHandler(b,c),jd[b]||(t(c),jd[b]=!0)}function w(a){return a instanceof Function||"[object Function]"===Object.prototype.toString.call(a)}function x(a){return"[object Object]"===Object.prototype.toString.call(a)}function y(a){var b,c;for(c in a)b=a[c],w(b)?this[c]=b:this["_"+c]=b;this._config=a,this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function z(a,b){var c,d=g({},a);for(c in b)f(b,c)&&(x(a[c])&&x(b[c])?(d[c]={},g(d[c],a[c]),g(d[c],b[c])):null!=b[c]?d[c]=b[c]:delete d[c]);return d}function A(a){null!=a&&this.set(a)}function B(a){return a?a.toLowerCase().replace("_","-"):a}function C(a){for(var b,c,d,e,f=0;f<a.length;){for(e=B(a[f]).split("-"),b=e.length,c=B(a[f+1]),c=c?c.split("-"):null;b>0;){if(d=D(e.slice(0,b).join("-")))return d;if(c&&c.length>=b&&s(e,c,!0)>=b-1)break;b--}f++}return null}function D(a){var b=null;if(!nd[a]&&"undefined"!=typeof module&&module&&module.exports)try{b=ld._abbr,require("./locale/"+a),E(b)}catch(c){}return nd[a]}function E(a,b){var c;return a&&(c=m(b)?H(a):F(a,b))&&(ld=c),ld._abbr}function F(a,b){return null!==b?(b.abbr=a,null!=nd[a]?(v("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale"),b=z(nd[a]._config,b)):null!=b.parentLocale&&(null!=nd[b.parentLocale]?b=z(nd[b.parentLocale]._config,b):v("parentLocaleUndefined","specified parentLocale is not defined yet")),nd[a]=new A(b),E(a),nd[a]):(delete nd[a],null)}function G(a,b){if(null!=b){var c;null!=nd[a]&&(b=z(nd[a]._config,b)),c=new A(b),c.parentLocale=nd[a],nd[a]=c,E(a)}else null!=nd[a]&&(null!=nd[a].parentLocale?nd[a]=nd[a].parentLocale:null!=nd[a]&&delete nd[a]);return nd[a]}function H(a){var b;if(a&&a._locale&&a._locale._abbr&&(a=a._locale._abbr),!a)return ld;if(!c(a)){if(b=D(a))return b;a=[a]}return C(a)}function I(){return kd(nd)}function J(a,b){var c=a.toLowerCase();od[c]=od[c+"s"]=od[b]=a}function K(a){return"string"==typeof a?od[a]||od[a.toLowerCase()]:void 0}function L(a){var b,c,d={};for(c in a)f(a,c)&&(b=K(c))&&(d[b]=a[c]);return d}function M(b,c){return function(d){return null!=d?(O(this,b,d),a.updateOffset(this,c),this):N(this,b)}}function N(a,b){return a.isValid()?a._d["get"+(a._isUTC?"UTC":"")+b]():NaN}function O(a,b,c){a.isValid()&&a._d["set"+(a._isUTC?"UTC":"")+b](c)}function P(a,b){var c;if("object"==typeof a)for(c in a)this.set(c,a[c]);else if(a=K(a),w(this[a]))return this[a](b);return this}function Q(a,b,c){var d=""+Math.abs(a),e=b-d.length;return(a>=0?c?"+":"":"-")+Math.pow(10,Math.max(0,e)).toString().substr(1)+d}function R(a,b,c,d){var e=d;"string"==typeof d&&(e=function(){return this[d]()}),a&&(sd[a]=e),b&&(sd[b[0]]=function(){return Q(e.apply(this,arguments),b[1],b[2])}),c&&(sd[c]=function(){return this.localeData().ordinal(e.apply(this,arguments),a)})}function S(a){return a.match(/\[[\s\S]/)?a.replace(/^\[|\]$/g,""):a.replace(/\\/g,"")}function T(a){var b,c,d=a.match(pd);for(b=0,c=d.length;b<c;b++)sd[d[b]]?d[b]=sd[d[b]]:d[b]=S(d[b]);return function(b){var e,f="";for(e=0;e<c;e++)f+=d[e]instanceof Function?d[e].call(b,a):d[e];return f}}function U(a,b){return a.isValid()?(b=V(b,a.localeData()),rd[b]=rd[b]||T(b),rd[b](a)):a.localeData().invalidDate()}function V(a,b){function c(a){return b.longDateFormat(a)||a}var d=5;for(qd.lastIndex=0;d>=0&&qd.test(a);)a=a.replace(qd,c),qd.lastIndex=0,d-=1;return a}function W(a,b,c){Kd[a]=w(b)?b:function(a,d){return a&&c?c:b}}function X(a,b){return f(Kd,a)?Kd[a](b._strict,b._locale):new RegExp(Y(a))}function Y(a){return Z(a.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a,b,c,d,e){return b||c||d||e}))}function Z(a){return a.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function $(a,b){var c,d=b;for("string"==typeof a&&(a=[a]),"number"==typeof b&&(d=function(a,c){c[b]=r(a)}),c=0;c<a.length;c++)Ld[a[c]]=d}function _(a,b){$(a,function(a,c,d,e){d._w=d._w||{},b(a,d._w,d,e)})}function aa(a,b,c){null!=b&&f(Ld,a)&&Ld[a](b,c._a,c,a)}function ba(a,b){return new Date(Date.UTC(a,b+1,0)).getUTCDate()}function ca(a,b){return c(this._months)?this._months[a.month()]:this._months[Vd.test(b)?"format":"standalone"][a.month()]}function da(a,b){return c(this._monthsShort)?this._monthsShort[a.month()]:this._monthsShort[Vd.test(b)?"format":"standalone"][a.month()]}function ea(a,b,c){var d,e,f,g=a.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],d=0;d<12;++d)f=h([2e3,d]),this._shortMonthsParse[d]=this.monthsShort(f,"").toLocaleLowerCase(),this._longMonthsParse[d]=this.months(f,"").toLocaleLowerCase();return c?"MMM"===b?(e=md.call(this._shortMonthsParse,g),-1!==e?e:null):(e=md.call(this._longMonthsParse,g),-1!==e?e:null):"MMM"===b?-1!==(e=md.call(this._shortMonthsParse,g))?e:(e=md.call(this._longMonthsParse,g),-1!==e?e:null):-1!==(e=md.call(this._longMonthsParse,g))?e:(e=md.call(this._shortMonthsParse,g),-1!==e?e:null)}function fa(a,b,c){var d,e,f;if(this._monthsParseExact)return ea.call(this,a,b,c);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),d=0;d<12;d++){if(e=h([2e3,d]),c&&!this._longMonthsParse[d]&&(this._longMonthsParse[d]=new RegExp("^"+this.months(e,"").replace(".","")+"$","i"),this._shortMonthsParse[d]=new RegExp("^"+this.monthsShort(e,"").replace(".","")+"$","i")),c||this._monthsParse[d]||(f="^"+this.months(e,"")+"|^"+this.monthsShort(e,""),this._monthsParse[d]=new RegExp(f.replace(".",""),"i")),c&&"MMMM"===b&&this._longMonthsParse[d].test(a))return d;if(c&&"MMM"===b&&this._shortMonthsParse[d].test(a))return d;if(!c&&this._monthsParse[d].test(a))return d}}function ga(a,b){var c;if(!a.isValid())return a;if("string"==typeof b)if(/^\d+$/.test(b))b=r(b);else if("number"!=typeof(b=a.localeData().monthsParse(b)))return a;return c=Math.min(a.date(),ba(a.year(),b)),a._d["set"+(a._isUTC?"UTC":"")+"Month"](b,c),a}function ha(b){return null!=b?(ga(this,b),a.updateOffset(this,!0),this):N(this,"Month")}function ia(){return ba(this.year(),this.month())}function ja(a){return this._monthsParseExact?(f(this,"_monthsRegex")||la.call(this),a?this._monthsShortStrictRegex:this._monthsShortRegex):this._monthsShortStrictRegex&&a?this._monthsShortStrictRegex:this._monthsShortRegex}function ka(a){return this._monthsParseExact?(f(this,"_monthsRegex")||la.call(this),a?this._monthsStrictRegex:this._monthsRegex):this._monthsStrictRegex&&a?this._monthsStrictRegex:this._monthsRegex}function la(){function a(a,b){return b.length-a.length}var b,c,d=[],e=[],f=[];for(b=0;b<12;b++)c=h([2e3,b]),d.push(this.monthsShort(c,"")),e.push(this.months(c,"")),f.push(this.months(c,"")),f.push(this.monthsShort(c,""));for(d.sort(a),e.sort(a),f.sort(a),b=0;b<12;b++)d[b]=Z(d[b]),e[b]=Z(e[b]),f[b]=Z(f[b]);this._monthsRegex=new RegExp("^("+f.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+e.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+d.join("|")+")","i")}function ma(a){var b,c=a._a;return c&&-2===j(a).overflow&&(b=c[Nd]<0||c[Nd]>11?Nd:c[Od]<1||c[Od]>ba(c[Md],c[Nd])?Od:c[Pd]<0||c[Pd]>24||24===c[Pd]&&(0!==c[Qd]||0!==c[Rd]||0!==c[Sd])?Pd:c[Qd]<0||c[Qd]>59?Qd:c[Rd]<0||c[Rd]>59?Rd:c[Sd]<0||c[Sd]>999?Sd:-1,j(a)._overflowDayOfYear&&(b<Md||b>Od)&&(b=Od),j(a)._overflowWeeks&&-1===b&&(b=Td),j(a)._overflowWeekday&&-1===b&&(b=Ud),j(a).overflow=b),a}function na(a){var b,c,d,e,f,g,h=a._i,i=$d.exec(h)||_d.exec(h);if(i){for(j(a).iso=!0,b=0,c=be.length;b<c;b++)if(be[b][1].exec(i[1])){e=be[b][0],d=!1!==be[b][2];break}if(null==e)return void(a._isValid=!1);if(i[3]){for(b=0,c=ce.length;b<c;b++)if(ce[b][1].exec(i[3])){f=(i[2]||" ")+ce[b][0];break}if(null==f)return void(a._isValid=!1)}if(!d&&null!=f)return void(a._isValid=!1);if(i[4]){if(!ae.exec(i[4]))return void(a._isValid=!1);g="Z"}a._f=e+(f||"")+(g||""),Ca(a)}else a._isValid=!1}function oa(b){var c=de.exec(b._i);if(null!==c)return void(b._d=new Date(+c[1]));na(b),!1===b._isValid&&(delete b._isValid,a.createFromInputFallback(b))}function pa(a,b,c,d,e,f,g){var h=new Date(a,b,c,d,e,f,g);return a<100&&a>=0&&isFinite(h.getFullYear())&&h.setFullYear(a),h}function qa(a){var b=new Date(Date.UTC.apply(null,arguments));return a<100&&a>=0&&isFinite(b.getUTCFullYear())&&b.setUTCFullYear(a),b}function ra(a){return sa(a)?366:365}function sa(a){return a%4==0&&a%100!=0||a%400==0}function ta(){return sa(this.year())}function ua(a,b,c){var d=7+b-c;return-(7+qa(a,0,d).getUTCDay()-b)%7+d-1}function va(a,b,c,d,e){var f,g,h=(7+c-d)%7,i=ua(a,d,e),j=1+7*(b-1)+h+i;return j<=0?(f=a-1,g=ra(f)+j):j>ra(a)?(f=a+1,g=j-ra(a)):(f=a,g=j),{year:f,dayOfYear:g}}function wa(a,b,c){var d,e,f=ua(a.year(),b,c),g=Math.floor((a.dayOfYear()-f-1)/7)+1;return g<1?(e=a.year()-1,d=g+xa(e,b,c)):g>xa(a.year(),b,c)?(d=g-xa(a.year(),b,c),e=a.year()+1):(e=a.year(),d=g),{week:d,year:e}}function xa(a,b,c){var d=ua(a,b,c),e=ua(a+1,b,c);return(ra(a)-d+e)/7}function ya(a,b,c){return null!=a?a:null!=b?b:c}function za(b){var c=new Date(a.now());return b._useUTC?[c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()]:[c.getFullYear(),c.getMonth(),c.getDate()]}function Aa(a){var b,c,d,e,f=[];if(!a._d){for(d=za(a),a._w&&null==a._a[Od]&&null==a._a[Nd]&&Ba(a),a._dayOfYear&&(e=ya(a._a[Md],d[Md]),a._dayOfYear>ra(e)&&(j(a)._overflowDayOfYear=!0),c=qa(e,0,a._dayOfYear),a._a[Nd]=c.getUTCMonth(),a._a[Od]=c.getUTCDate()),b=0;b<3&&null==a._a[b];++b)a._a[b]=f[b]=d[b];for(;b<7;b++)a._a[b]=f[b]=null==a._a[b]?2===b?1:0:a._a[b];24===a._a[Pd]&&0===a._a[Qd]&&0===a._a[Rd]&&0===a._a[Sd]&&(a._nextDay=!0,a._a[Pd]=0),a._d=(a._useUTC?qa:pa).apply(null,f),null!=a._tzm&&a._d.setUTCMinutes(a._d.getUTCMinutes()-a._tzm),a._nextDay&&(a._a[Pd]=24)}}function Ba(a){var b,c,d,e,f,g,h,i;b=a._w,null!=b.GG||null!=b.W||null!=b.E?(f=1,g=4,c=ya(b.GG,a._a[Md],wa(Ka(),1,4).year),d=ya(b.W,1),((e=ya(b.E,1))<1||e>7)&&(i=!0)):(f=a._locale._week.dow,g=a._locale._week.doy,c=ya(b.gg,a._a[Md],wa(Ka(),f,g).year),d=ya(b.w,1),null!=b.d?((e=b.d)<0||e>6)&&(i=!0):null!=b.e?(e=b.e+f,(b.e<0||b.e>6)&&(i=!0)):e=f),d<1||d>xa(c,f,g)?j(a)._overflowWeeks=!0:null!=i?j(a)._overflowWeekday=!0:(h=va(c,d,e,f,g),a._a[Md]=h.year,a._dayOfYear=h.dayOfYear)}function Ca(b){if(b._f===a.ISO_8601)return void na(b);b._a=[],j(b).empty=!0;var c,d,e,f,g,h=""+b._i,i=h.length,k=0;for(e=V(b._f,b._locale).match(pd)||[],c=0;c<e.length;c++)f=e[c],d=(h.match(X(f,b))||[])[0],d&&(g=h.substr(0,h.indexOf(d)),g.length>0&&j(b).unusedInput.push(g),h=h.slice(h.indexOf(d)+d.length),k+=d.length),sd[f]?(d?j(b).empty=!1:j(b).unusedTokens.push(f),aa(f,d,b)):b._strict&&!d&&j(b).unusedTokens.push(f);j(b).charsLeftOver=i-k,h.length>0&&j(b).unusedInput.push(h),!0===j(b).bigHour&&b._a[Pd]<=12&&b._a[Pd]>0&&(j(b).bigHour=void 0),j(b).parsedDateParts=b._a.slice(0),j(b).meridiem=b._meridiem,b._a[Pd]=Da(b._locale,b._a[Pd],b._meridiem),Aa(b),ma(b)}function Da(a,b,c){var d;return null==c?b:null!=a.meridiemHour?a.meridiemHour(b,c):null!=a.isPM?(d=a.isPM(c),d&&b<12&&(b+=12),d||12!==b||(b=0),b):b}function Ea(a){var b,c,d,e,f;if(0===a._f.length)return j(a).invalidFormat=!0,void(a._d=new Date(NaN));for(e=0;e<a._f.length;e++)f=0,b=n({},a),null!=a._useUTC&&(b._useUTC=a._useUTC),b._f=a._f[e],Ca(b),k(b)&&(f+=j(b).charsLeftOver,f+=10*j(b).unusedTokens.length,j(b).score=f,(null==d||f<d)&&(d=f,c=b));g(a,c||b)}function Fa(a){if(!a._d){var b=L(a._i);a._a=e([b.year,b.month,b.day||b.date,b.hour,b.minute,b.second,b.millisecond],function(a){return a&&parseInt(a,10)}),Aa(a)}}function Ga(a){var b=new o(ma(Ha(a)));return b._nextDay&&(b.add(1,"d"),b._nextDay=void 0),b}function Ha(a){var b=a._i,e=a._f;return a._locale=a._locale||H(a._l),null===b||void 0===e&&""===b?l({nullInput:!0}):("string"==typeof b&&(a._i=b=a._locale.preparse(b)),p(b)?new o(ma(b)):(c(e)?Ea(a):e?Ca(a):d(b)?a._d=b:Ia(a),k(a)||(a._d=null),a))}function Ia(b){var f=b._i;void 0===f?b._d=new Date(a.now()):d(f)?b._d=new Date(f.valueOf()):"string"==typeof f?oa(b):c(f)?(b._a=e(f.slice(0),function(a){return parseInt(a,10)}),Aa(b)):"object"==typeof f?Fa(b):"number"==typeof f?b._d=new Date(f):a.createFromInputFallback(b)}function Ja(a,b,c,d,e){var f={};return"boolean"==typeof c&&(d=c,c=void 0),f._isAMomentObject=!0,f._useUTC=f._isUTC=e,f._l=c,f._i=a,f._f=b,f._strict=d,Ga(f)}function Ka(a,b,c,d){return Ja(a,b,c,d,!1)}function La(a,b){var d,e;if(1===b.length&&c(b[0])&&(b=b[0]),!b.length)return Ka();for(d=b[0],e=1;e<b.length;++e)b[e].isValid()&&!b[e][a](d)||(d=b[e]);return d}function Ma(){return La("isBefore",[].slice.call(arguments,0))}function Na(){return La("isAfter",[].slice.call(arguments,0))}function Oa(a){var b=L(a),c=b.year||0,d=b.quarter||0,e=b.month||0,f=b.week||0,g=b.day||0,h=b.hour||0,i=b.minute||0,j=b.second||0,k=b.millisecond||0;this._milliseconds=+k+1e3*j+6e4*i+1e3*h*60*60,this._days=+g+7*f,this._months=+e+3*d+12*c,this._data={},this._locale=H(),this._bubble()}function Pa(a){return a instanceof Oa}function Qa(a,b){R(a,0,0,function(){var a=this.utcOffset(),c="+";return a<0&&(a=-a,c="-"),c+Q(~~(a/60),2)+b+Q(~~a%60,2)})}function Ra(a,b){var c=(b||"").match(a)||[],d=c[c.length-1]||[],e=(d+"").match(ie)||["-",0,0],f=60*e[1]+r(e[2]);return"+"===e[0]?f:-f}function Sa(b,c){var e,f;return c._isUTC?(e=c.clone(),f=(p(b)||d(b)?b.valueOf():Ka(b).valueOf())-e.valueOf(),e._d.setTime(e._d.valueOf()+f),a.updateOffset(e,!1),e):Ka(b).local()}function Ta(a){return 15*-Math.round(a._d.getTimezoneOffset()/15)}function Ua(b,c){var d,e=this._offset||0;return this.isValid()?null!=b?("string"==typeof b?b=Ra(Hd,b):Math.abs(b)<16&&(b*=60),!this._isUTC&&c&&(d=Ta(this)),this._offset=b,this._isUTC=!0,null!=d&&this.add(d,"m"),e!==b&&(!c||this._changeInProgress?jb(this,db(b-e,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,a.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?e:Ta(this):null!=b?this:NaN}function Va(a,b){return null!=a?("string"!=typeof a&&(a=-a),this.utcOffset(a,b),this):-this.utcOffset()}function Wa(a){return this.utcOffset(0,a)}function Xa(a){return this._isUTC&&(this.utcOffset(0,a),this._isUTC=!1,a&&this.subtract(Ta(this),"m")),this}function Ya(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(Ra(Gd,this._i)),this}function Za(a){return!!this.isValid()&&(a=a?Ka(a).utcOffset():0,(this.utcOffset()-a)%60==0)}function $a(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function _a(){if(!m(this._isDSTShifted))return this._isDSTShifted;var a={};if(n(a,this),a=Ha(a),a._a){var b=a._isUTC?h(a._a):Ka(a._a);this._isDSTShifted=this.isValid()&&s(a._a,b.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function ab(){return!!this.isValid()&&!this._isUTC}function bb(){return!!this.isValid()&&this._isUTC}function cb(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function db(a,b){var c,d,e,g=a,h=null;return Pa(a)?g={ms:a._milliseconds,d:a._days,M:a._months}:"number"==typeof a?(g={},b?g[b]=a:g.milliseconds=a):(h=je.exec(a))?(c="-"===h[1]?-1:1,g={y:0,d:r(h[Od])*c,h:r(h[Pd])*c,m:r(h[Qd])*c,s:r(h[Rd])*c,ms:r(h[Sd])*c}):(h=ke.exec(a))?(c="-"===h[1]?-1:1,g={y:eb(h[2],c),M:eb(h[3],c),w:eb(h[4],c),d:eb(h[5],c),h:eb(h[6],c),m:eb(h[7],c),s:eb(h[8],c)}):null==g?g={}:"object"==typeof g&&("from"in g||"to"in g)&&(e=gb(Ka(g.from),Ka(g.to)),g={},g.ms=e.milliseconds,g.M=e.months),d=new Oa(g),Pa(a)&&f(a,"_locale")&&(d._locale=a._locale),d}function eb(a,b){var c=a&&parseFloat(a.replace(",","."));return(isNaN(c)?0:c)*b}function fb(a,b){var c={milliseconds:0,months:0};return c.months=b.month()-a.month()+12*(b.year()-a.year()),a.clone().add(c.months,"M").isAfter(b)&&--c.months,c.milliseconds=+b-+a.clone().add(c.months,"M"),c}function gb(a,b){var c;return a.isValid()&&b.isValid()?(b=Sa(b,a),a.isBefore(b)?c=fb(a,b):(c=fb(b,a),c.milliseconds=-c.milliseconds,c.months=-c.months),c):{milliseconds:0,months:0}}function hb(a){return a<0?-1*Math.round(-1*a):Math.round(a)}function ib(a,b){return function(c,d){var e,f;return null===d||isNaN(+d)||(v(b,"moment()."+b+"(period, number) is deprecated. Please use moment()."+b+"(number, period)."),f=c,c=d,d=f),c="string"==typeof c?+c:c,e=db(c,d),jb(this,e,a),this}}function jb(b,c,d,e){var f=c._milliseconds,g=hb(c._days),h=hb(c._months)
;b.isValid()&&(e=null==e||e,f&&b._d.setTime(b._d.valueOf()+f*d),g&&O(b,"Date",N(b,"Date")+g*d),h&&ga(b,N(b,"Month")+h*d),e&&a.updateOffset(b,g||h))}function kb(a,b){var c=a||Ka(),d=Sa(c,this).startOf("day"),e=this.diff(d,"days",!0),f=e<-6?"sameElse":e<-1?"lastWeek":e<0?"lastDay":e<1?"sameDay":e<2?"nextDay":e<7?"nextWeek":"sameElse",g=b&&(w(b[f])?b[f]():b[f]);return this.format(g||this.localeData().calendar(f,this,Ka(c)))}function lb(){return new o(this)}function mb(a,b){var c=p(a)?a:Ka(a);return!(!this.isValid()||!c.isValid())&&(b=K(m(b)?"millisecond":b),"millisecond"===b?this.valueOf()>c.valueOf():c.valueOf()<this.clone().startOf(b).valueOf())}function nb(a,b){var c=p(a)?a:Ka(a);return!(!this.isValid()||!c.isValid())&&(b=K(m(b)?"millisecond":b),"millisecond"===b?this.valueOf()<c.valueOf():this.clone().endOf(b).valueOf()<c.valueOf())}function ob(a,b,c,d){return d=d||"()",("("===d[0]?this.isAfter(a,c):!this.isBefore(a,c))&&(")"===d[1]?this.isBefore(b,c):!this.isAfter(b,c))}function pb(a,b){var c,d=p(a)?a:Ka(a);return!(!this.isValid()||!d.isValid())&&(b=K(b||"millisecond"),"millisecond"===b?this.valueOf()===d.valueOf():(c=d.valueOf(),this.clone().startOf(b).valueOf()<=c&&c<=this.clone().endOf(b).valueOf()))}function qb(a,b){return this.isSame(a,b)||this.isAfter(a,b)}function rb(a,b){return this.isSame(a,b)||this.isBefore(a,b)}function sb(a,b,c){var d,e,f,g;return this.isValid()?(d=Sa(a,this),d.isValid()?(e=6e4*(d.utcOffset()-this.utcOffset()),b=K(b),"year"===b||"month"===b||"quarter"===b?(g=tb(this,d),"quarter"===b?g/=3:"year"===b&&(g/=12)):(f=this-d,g="second"===b?f/1e3:"minute"===b?f/6e4:"hour"===b?f/36e5:"day"===b?(f-e)/864e5:"week"===b?(f-e)/6048e5:f),c?g:q(g)):NaN):NaN}function tb(a,b){var c,d,e=12*(b.year()-a.year())+(b.month()-a.month()),f=a.clone().add(e,"months");return b-f<0?(c=a.clone().add(e-1,"months"),d=(b-f)/(f-c)):(c=a.clone().add(e+1,"months"),d=(b-f)/(c-f)),-(e+d)||0}function ub(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function vb(){var a=this.clone().utc();return 0<a.year()&&a.year()<=9999?w(Date.prototype.toISOString)?this.toDate().toISOString():U(a,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):U(a,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function wb(b){b||(b=this.isUtc()?a.defaultFormatUtc:a.defaultFormat);var c=U(this,b);return this.localeData().postformat(c)}function xb(a,b){return this.isValid()&&(p(a)&&a.isValid()||Ka(a).isValid())?db({to:this,from:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()}function yb(a){return this.from(Ka(),a)}function zb(a,b){return this.isValid()&&(p(a)&&a.isValid()||Ka(a).isValid())?db({from:this,to:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()}function Ab(a){return this.to(Ka(),a)}function Bb(a){var b;return void 0===a?this._locale._abbr:(b=H(a),null!=b&&(this._locale=b),this)}function Cb(){return this._locale}function Db(a){switch(a=K(a)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===a&&this.weekday(0),"isoWeek"===a&&this.isoWeekday(1),"quarter"===a&&this.month(3*Math.floor(this.month()/3)),this}function Eb(a){return void 0===(a=K(a))||"millisecond"===a?this:("date"===a&&(a="day"),this.startOf(a).add(1,"isoWeek"===a?"week":a).subtract(1,"ms"))}function Fb(){return this._d.valueOf()-6e4*(this._offset||0)}function Gb(){return Math.floor(this.valueOf()/1e3)}function Hb(){return this._offset?new Date(this.valueOf()):this._d}function Ib(){var a=this;return[a.year(),a.month(),a.date(),a.hour(),a.minute(),a.second(),a.millisecond()]}function Jb(){var a=this;return{years:a.year(),months:a.month(),date:a.date(),hours:a.hours(),minutes:a.minutes(),seconds:a.seconds(),milliseconds:a.milliseconds()}}function Kb(){return this.isValid()?this.toISOString():null}function Lb(){return k(this)}function Mb(){return g({},j(this))}function Nb(){return j(this).overflow}function Ob(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Pb(a,b){R(0,[a,a.length],0,b)}function Qb(a){return Ub.call(this,a,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Rb(a){return Ub.call(this,a,this.isoWeek(),this.isoWeekday(),1,4)}function Sb(){return xa(this.year(),1,4)}function Tb(){var a=this.localeData()._week;return xa(this.year(),a.dow,a.doy)}function Ub(a,b,c,d,e){var f;return null==a?wa(this,d,e).year:(f=xa(a,d,e),b>f&&(b=f),Vb.call(this,a,b,c,d,e))}function Vb(a,b,c,d,e){var f=va(a,b,c,d,e),g=qa(f.year,0,f.dayOfYear);return this.year(g.getUTCFullYear()),this.month(g.getUTCMonth()),this.date(g.getUTCDate()),this}function Wb(a){return null==a?Math.ceil((this.month()+1)/3):this.month(3*(a-1)+this.month()%3)}function Xb(a){return wa(a,this._week.dow,this._week.doy).week}function Yb(){return this._week.dow}function Zb(){return this._week.doy}function $b(a){var b=this.localeData().week(this);return null==a?b:this.add(7*(a-b),"d")}function _b(a){var b=wa(this,1,4).week;return null==a?b:this.add(7*(a-b),"d")}function ac(a,b){return"string"!=typeof a?a:isNaN(a)?(a=b.weekdaysParse(a),"number"==typeof a?a:null):parseInt(a,10)}function bc(a,b){return c(this._weekdays)?this._weekdays[a.day()]:this._weekdays[this._weekdays.isFormat.test(b)?"format":"standalone"][a.day()]}function cc(a){return this._weekdaysShort[a.day()]}function dc(a){return this._weekdaysMin[a.day()]}function ec(a,b,c){var d,e,f,g=a.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],d=0;d<7;++d)f=h([2e3,1]).day(d),this._minWeekdaysParse[d]=this.weekdaysMin(f,"").toLocaleLowerCase(),this._shortWeekdaysParse[d]=this.weekdaysShort(f,"").toLocaleLowerCase(),this._weekdaysParse[d]=this.weekdays(f,"").toLocaleLowerCase();return c?"dddd"===b?(e=md.call(this._weekdaysParse,g),-1!==e?e:null):"ddd"===b?(e=md.call(this._shortWeekdaysParse,g),-1!==e?e:null):(e=md.call(this._minWeekdaysParse,g),-1!==e?e:null):"dddd"===b?-1!==(e=md.call(this._weekdaysParse,g))?e:-1!==(e=md.call(this._shortWeekdaysParse,g))?e:(e=md.call(this._minWeekdaysParse,g),-1!==e?e:null):"ddd"===b?-1!==(e=md.call(this._shortWeekdaysParse,g))?e:-1!==(e=md.call(this._weekdaysParse,g))?e:(e=md.call(this._minWeekdaysParse,g),-1!==e?e:null):-1!==(e=md.call(this._minWeekdaysParse,g))?e:-1!==(e=md.call(this._weekdaysParse,g))?e:(e=md.call(this._shortWeekdaysParse,g),-1!==e?e:null)}function fc(a,b,c){var d,e,f;if(this._weekdaysParseExact)return ec.call(this,a,b,c);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),d=0;d<7;d++){if(e=h([2e3,1]).day(d),c&&!this._fullWeekdaysParse[d]&&(this._fullWeekdaysParse[d]=new RegExp("^"+this.weekdays(e,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[d]=new RegExp("^"+this.weekdaysShort(e,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[d]=new RegExp("^"+this.weekdaysMin(e,"").replace(".",".?")+"$","i")),this._weekdaysParse[d]||(f="^"+this.weekdays(e,"")+"|^"+this.weekdaysShort(e,"")+"|^"+this.weekdaysMin(e,""),this._weekdaysParse[d]=new RegExp(f.replace(".",""),"i")),c&&"dddd"===b&&this._fullWeekdaysParse[d].test(a))return d;if(c&&"ddd"===b&&this._shortWeekdaysParse[d].test(a))return d;if(c&&"dd"===b&&this._minWeekdaysParse[d].test(a))return d;if(!c&&this._weekdaysParse[d].test(a))return d}}function gc(a){if(!this.isValid())return null!=a?this:NaN;var b=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=a?(a=ac(a,this.localeData()),this.add(a-b,"d")):b}function hc(a){if(!this.isValid())return null!=a?this:NaN;var b=(this.day()+7-this.localeData()._week.dow)%7;return null==a?b:this.add(a-b,"d")}function ic(a){return this.isValid()?null==a?this.day()||7:this.day(this.day()%7?a:a-7):null!=a?this:NaN}function jc(a){return this._weekdaysParseExact?(f(this,"_weekdaysRegex")||mc.call(this),a?this._weekdaysStrictRegex:this._weekdaysRegex):this._weekdaysStrictRegex&&a?this._weekdaysStrictRegex:this._weekdaysRegex}function kc(a){return this._weekdaysParseExact?(f(this,"_weekdaysRegex")||mc.call(this),a?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):this._weekdaysShortStrictRegex&&a?this._weekdaysShortStrictRegex:this._weekdaysShortRegex}function lc(a){return this._weekdaysParseExact?(f(this,"_weekdaysRegex")||mc.call(this),a?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):this._weekdaysMinStrictRegex&&a?this._weekdaysMinStrictRegex:this._weekdaysMinRegex}function mc(){function a(a,b){return b.length-a.length}var b,c,d,e,f,g=[],i=[],j=[],k=[];for(b=0;b<7;b++)c=h([2e3,1]).day(b),d=this.weekdaysMin(c,""),e=this.weekdaysShort(c,""),f=this.weekdays(c,""),g.push(d),i.push(e),j.push(f),k.push(d),k.push(e),k.push(f);for(g.sort(a),i.sort(a),j.sort(a),k.sort(a),b=0;b<7;b++)i[b]=Z(i[b]),j[b]=Z(j[b]),k[b]=Z(k[b]);this._weekdaysRegex=new RegExp("^("+k.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+j.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+g.join("|")+")","i")}function nc(a){var b=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==a?b:this.add(a-b,"d")}function oc(){return this.hours()%12||12}function pc(){return this.hours()||24}function qc(a,b){R(a,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),b)})}function rc(a,b){return b._meridiemParse}function sc(a){return"p"===(a+"").toLowerCase().charAt(0)}function tc(a,b,c){return a>11?c?"pm":"PM":c?"am":"AM"}function uc(a,b){b[Sd]=r(1e3*("0."+a))}function vc(){return this._isUTC?"UTC":""}function wc(){return this._isUTC?"Coordinated Universal Time":""}function xc(a){return Ka(1e3*a)}function yc(){return Ka.apply(null,arguments).parseZone()}function zc(a,b,c){var d=this._calendar[a];return w(d)?d.call(b,c):d}function Ac(a){var b=this._longDateFormat[a],c=this._longDateFormat[a.toUpperCase()];return b||!c?b:(this._longDateFormat[a]=c.replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)}),this._longDateFormat[a])}function Bc(){return this._invalidDate}function Cc(a){return this._ordinal.replace("%d",a)}function Dc(a){return a}function Ec(a,b,c,d){var e=this._relativeTime[c];return w(e)?e(a,b,c,d):e.replace(/%d/i,a)}function Fc(a,b){var c=this._relativeTime[a>0?"future":"past"];return w(c)?c(b):c.replace(/%s/i,b)}function Gc(a,b,c,d){var e=H(),f=h().set(d,b);return e[c](f,a)}function Hc(a,b,c){if("number"==typeof a&&(b=a,a=void 0),a=a||"",null!=b)return Gc(a,b,c,"month");var d,e=[];for(d=0;d<12;d++)e[d]=Gc(a,d,c,"month");return e}function Ic(a,b,c,d){"boolean"==typeof a?("number"==typeof b&&(c=b,b=void 0),b=b||""):(b=a,c=b,a=!1,"number"==typeof b&&(c=b,b=void 0),b=b||"");var e=H(),f=a?e._week.dow:0;if(null!=c)return Gc(b,(c+f)%7,d,"day");var g,h=[];for(g=0;g<7;g++)h[g]=Gc(b,(g+f)%7,d,"day");return h}function Jc(a,b){return Hc(a,b,"months")}function Kc(a,b){return Hc(a,b,"monthsShort")}function Lc(a,b,c){return Ic(a,b,c,"weekdays")}function Mc(a,b,c){return Ic(a,b,c,"weekdaysShort")}function Nc(a,b,c){return Ic(a,b,c,"weekdaysMin")}function Oc(){var a=this._data;return this._milliseconds=Je(this._milliseconds),this._days=Je(this._days),this._months=Je(this._months),a.milliseconds=Je(a.milliseconds),a.seconds=Je(a.seconds),a.minutes=Je(a.minutes),a.hours=Je(a.hours),a.months=Je(a.months),a.years=Je(a.years),this}function Pc(a,b,c,d){var e=db(b,c);return a._milliseconds+=d*e._milliseconds,a._days+=d*e._days,a._months+=d*e._months,a._bubble()}function Qc(a,b){return Pc(this,a,b,1)}function Rc(a,b){return Pc(this,a,b,-1)}function Sc(a){return a<0?Math.floor(a):Math.ceil(a)}function Tc(){var a,b,c,d,e,f=this._milliseconds,g=this._days,h=this._months,i=this._data;return f>=0&&g>=0&&h>=0||f<=0&&g<=0&&h<=0||(f+=864e5*Sc(Vc(h)+g),g=0,h=0),i.milliseconds=f%1e3,a=q(f/1e3),i.seconds=a%60,b=q(a/60),i.minutes=b%60,c=q(b/60),i.hours=c%24,g+=q(c/24),e=q(Uc(g)),h+=e,g-=Sc(Vc(e)),d=q(h/12),h%=12,i.days=g,i.months=h,i.years=d,this}function Uc(a){return 4800*a/146097}function Vc(a){return 146097*a/4800}function Wc(a){var b,c,d=this._milliseconds;if("month"===(a=K(a))||"year"===a)return b=this._days+d/864e5,c=this._months+Uc(b),"month"===a?c:c/12;switch(b=this._days+Math.round(Vc(this._months)),a){case"week":return b/7+d/6048e5;case"day":return b+d/864e5;case"hour":return 24*b+d/36e5;case"minute":return 1440*b+d/6e4;case"second":return 86400*b+d/1e3;case"millisecond":return Math.floor(864e5*b)+d;default:throw new Error("Unknown unit "+a)}}function Xc(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*r(this._months/12)}function Yc(a){return function(){return this.as(a)}}function Zc(a){return a=K(a),this[a+"s"]()}function $c(a){return function(){return this._data[a]}}function _c(){return q(this.days()/7)}function ad(a,b,c,d,e){return e.relativeTime(b||1,!!c,a,d)}function bd(a,b,c){var d=db(a).abs(),e=Ze(d.as("s")),f=Ze(d.as("m")),g=Ze(d.as("h")),h=Ze(d.as("d")),i=Ze(d.as("M")),j=Ze(d.as("y")),k=e<$e.s&&["s",e]||f<=1&&["m"]||f<$e.m&&["mm",f]||g<=1&&["h"]||g<$e.h&&["hh",g]||h<=1&&["d"]||h<$e.d&&["dd",h]||i<=1&&["M"]||i<$e.M&&["MM",i]||j<=1&&["y"]||["yy",j];return k[2]=b,k[3]=+a>0,k[4]=c,ad.apply(null,k)}function cd(a,b){return void 0!==$e[a]&&(void 0===b?$e[a]:($e[a]=b,!0))}function dd(a){var b=this.localeData(),c=bd(this,!a,b);return a&&(c=b.pastFuture(+this,c)),b.postformat(c)}function ed(){var a,b,c,d=_e(this._milliseconds)/1e3,e=_e(this._days),f=_e(this._months);a=q(d/60),b=q(a/60),d%=60,a%=60,c=q(f/12),f%=12;var g=c,h=f,i=e,j=b,k=a,l=d,m=this.asSeconds();return m?(m<0?"-":"")+"P"+(g?g+"Y":"")+(h?h+"M":"")+(i?i+"D":"")+(j||k||l?"T":"")+(j?j+"H":"")+(k?k+"M":"")+(l?l+"S":""):"P0D"}var fd,gd;gd=Array.prototype.some?Array.prototype.some:function(a){for(var b=Object(this),c=b.length>>>0,d=0;d<c;d++)if(d in b&&a.call(this,b[d],d,b))return!0;return!1};var hd=a.momentProperties=[],id=!1,jd={};a.suppressDeprecationWarnings=!1,a.deprecationHandler=null;var kd;kd=Object.keys?Object.keys:function(a){var b,c=[];for(b in a)f(a,b)&&c.push(b);return c};var ld,md,nd={},od={},pd=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,qd=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,rd={},sd={},td=/\d/,ud=/\d\d/,vd=/\d{3}/,wd=/\d{4}/,xd=/[+-]?\d{6}/,yd=/\d\d?/,zd=/\d\d\d\d?/,Ad=/\d\d\d\d\d\d?/,Bd=/\d{1,3}/,Cd=/\d{1,4}/,Dd=/[+-]?\d{1,6}/,Ed=/\d+/,Fd=/[+-]?\d+/,Gd=/Z|[+-]\d\d:?\d\d/gi,Hd=/Z|[+-]\d\d(?::?\d\d)?/gi,Id=/[+-]?\d+(\.\d{1,3})?/,Jd=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Kd={},Ld={},Md=0,Nd=1,Od=2,Pd=3,Qd=4,Rd=5,Sd=6,Td=7,Ud=8;md=Array.prototype.indexOf?Array.prototype.indexOf:function(a){var b;for(b=0;b<this.length;++b)if(this[b]===a)return b;return-1},R("M",["MM",2],"Mo",function(){return this.month()+1}),R("MMM",0,0,function(a){return this.localeData().monthsShort(this,a)}),R("MMMM",0,0,function(a){return this.localeData().months(this,a)}),J("month","M"),W("M",yd),W("MM",yd,ud),W("MMM",function(a,b){return b.monthsShortRegex(a)}),W("MMMM",function(a,b){return b.monthsRegex(a)}),$(["M","MM"],function(a,b){b[Nd]=r(a)-1}),$(["MMM","MMMM"],function(a,b,c,d){var e=c._locale.monthsParse(a,d,c._strict);null!=e?b[Nd]=e:j(c).invalidMonth=a});var Vd=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/,Wd="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Xd="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Yd=Jd,Zd=Jd,$d=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,_d=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,ae=/Z|[+-]\d\d(?::?\d\d)?/,be=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],ce=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],de=/^\/?Date\((\-?\d+)/i;a.createFromInputFallback=u("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(a){a._d=new Date(a._i+(a._useUTC?" UTC":""))}),R("Y",0,0,function(){var a=this.year();return a<=9999?""+a:"+"+a}),R(0,["YY",2],0,function(){return this.year()%100}),R(0,["YYYY",4],0,"year"),R(0,["YYYYY",5],0,"year"),R(0,["YYYYYY",6,!0],0,"year"),J("year","y"),W("Y",Fd),W("YY",yd,ud),W("YYYY",Cd,wd),W("YYYYY",Dd,xd),W("YYYYYY",Dd,xd),$(["YYYYY","YYYYYY"],Md),$("YYYY",function(b,c){c[Md]=2===b.length?a.parseTwoDigitYear(b):r(b)}),$("YY",function(b,c){c[Md]=a.parseTwoDigitYear(b)}),$("Y",function(a,b){b[Md]=parseInt(a,10)}),a.parseTwoDigitYear=function(a){return r(a)+(r(a)>68?1900:2e3)};var ee=M("FullYear",!0);a.ISO_8601=function(){};var fe=u("moment().min is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var a=Ka.apply(null,arguments);return this.isValid()&&a.isValid()?a<this?this:a:l()}),ge=u("moment().max is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var a=Ka.apply(null,arguments);return this.isValid()&&a.isValid()?a>this?this:a:l()}),he=function(){return Date.now?Date.now():+new Date};Qa("Z",":"),Qa("ZZ",""),W("Z",Hd),W("ZZ",Hd),$(["Z","ZZ"],function(a,b,c){c._useUTC=!0,c._tzm=Ra(Hd,a)});var ie=/([\+\-]|\d\d)/gi;a.updateOffset=function(){};var je=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?\d*)?$/,ke=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;db.fn=Oa.prototype;var le=ib(1,"add"),me=ib(-1,"subtract");a.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",a.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var ne=u("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(a){return void 0===a?this.localeData():this.locale(a)});R(0,["gg",2],0,function(){return this.weekYear()%100}),R(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Pb("gggg","weekYear"),Pb("ggggg","weekYear"),Pb("GGGG","isoWeekYear"),Pb("GGGGG","isoWeekYear"),J("weekYear","gg"),J("isoWeekYear","GG"),W("G",Fd),W("g",Fd),W("GG",yd,ud),W("gg",yd,ud),W("GGGG",Cd,wd),W("gggg",Cd,wd),W("GGGGG",Dd,xd),W("ggggg",Dd,xd),_(["gggg","ggggg","GGGG","GGGGG"],function(a,b,c,d){b[d.substr(0,2)]=r(a)}),_(["gg","GG"],function(b,c,d,e){c[e]=a.parseTwoDigitYear(b)}),R("Q",0,"Qo","quarter"),J("quarter","Q"),W("Q",td),$("Q",function(a,b){b[Nd]=3*(r(a)-1)}),R("w",["ww",2],"wo","week"),R("W",["WW",2],"Wo","isoWeek"),J("week","w"),J("isoWeek","W"),W("w",yd),W("ww",yd,ud),W("W",yd),W("WW",yd,ud),_(["w","ww","W","WW"],function(a,b,c,d){b[d.substr(0,1)]=r(a)});var oe={dow:0,doy:6};R("D",["DD",2],"Do","date"),J("date","D"),W("D",yd),W("DD",yd,ud),W("Do",function(a,b){return a?b._ordinalParse:b._ordinalParseLenient}),$(["D","DD"],Od),$("Do",function(a,b){b[Od]=r(a.match(yd)[0],10)});var pe=M("Date",!0);R("d",0,"do","day"),R("dd",0,0,function(a){return this.localeData().weekdaysMin(this,a)}),R("ddd",0,0,function(a){return this.localeData().weekdaysShort(this,a)}),R("dddd",0,0,function(a){return this.localeData().weekdays(this,a)}),R("e",0,0,"weekday"),R("E",0,0,"isoWeekday"),J("day","d"),J("weekday","e"),J("isoWeekday","E"),W("d",yd),W("e",yd),W("E",yd),W("dd",function(a,b){return b.weekdaysMinRegex(a)}),W("ddd",function(a,b){return b.weekdaysShortRegex(a)}),W("dddd",function(a,b){return b.weekdaysRegex(a)}),_(["dd","ddd","dddd"],function(a,b,c,d){var e=c._locale.weekdaysParse(a,d,c._strict);null!=e?b.d=e:j(c).invalidWeekday=a}),_(["d","e","E"],function(a,b,c,d){b[d]=r(a)});var qe="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),re="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),se="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),te=Jd,ue=Jd,ve=Jd;R("DDD",["DDDD",3],"DDDo","dayOfYear"),J("dayOfYear","DDD"),W("DDD",Bd),W("DDDD",vd),$(["DDD","DDDD"],function(a,b,c){c._dayOfYear=r(a)}),R("H",["HH",2],0,"hour"),R("h",["hh",2],0,oc),R("k",["kk",2],0,pc),R("hmm",0,0,function(){return""+oc.apply(this)+Q(this.minutes(),2)}),R("hmmss",0,0,function(){return""+oc.apply(this)+Q(this.minutes(),2)+Q(this.seconds(),2)}),R("Hmm",0,0,function(){return""+this.hours()+Q(this.minutes(),2)}),R("Hmmss",0,0,function(){return""+this.hours()+Q(this.minutes(),2)+Q(this.seconds(),2)}),qc("a",!0),qc("A",!1),J("hour","h"),W("a",rc),W("A",rc),W("H",yd),W("h",yd),W("HH",yd,ud),W("hh",yd,ud),W("hmm",zd),W("hmmss",Ad),W("Hmm",zd),W("Hmmss",Ad),$(["H","HH"],Pd),$(["a","A"],function(a,b,c){c._isPm=c._locale.isPM(a),c._meridiem=a}),$(["h","hh"],function(a,b,c){b[Pd]=r(a),j(c).bigHour=!0}),$("hmm",function(a,b,c){var d=a.length-2;b[Pd]=r(a.substr(0,d)),b[Qd]=r(a.substr(d)),j(c).bigHour=!0}),$("hmmss",function(a,b,c){var d=a.length-4,e=a.length-2;b[Pd]=r(a.substr(0,d)),b[Qd]=r(a.substr(d,2)),b[Rd]=r(a.substr(e)),j(c).bigHour=!0}),$("Hmm",function(a,b,c){var d=a.length-2;b[Pd]=r(a.substr(0,d)),b[Qd]=r(a.substr(d))}),$("Hmmss",function(a,b,c){var d=a.length-4,e=a.length-2;b[Pd]=r(a.substr(0,d)),b[Qd]=r(a.substr(d,2)),b[Rd]=r(a.substr(e))});var we=/[ap]\.?m?\.?/i,xe=M("Hours",!0);R("m",["mm",2],0,"minute"),J("minute","m"),W("m",yd),W("mm",yd,ud),$(["m","mm"],Qd);var ye=M("Minutes",!1);R("s",["ss",2],0,"second"),J("second","s"),W("s",yd),W("ss",yd,ud),$(["s","ss"],Rd);var ze=M("Seconds",!1);R("S",0,0,function(){return~~(this.millisecond()/100)}),R(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),R(0,["SSS",3],0,"millisecond"),R(0,["SSSS",4],0,function(){return 10*this.millisecond()}),R(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),R(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),R(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),R(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),R(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),J("millisecond","ms"),W("S",Bd,td),W("SS",Bd,ud),W("SSS",Bd,vd);var Ae;for(Ae="SSSS";Ae.length<=9;Ae+="S")W(Ae,Ed);for(Ae="S";Ae.length<=9;Ae+="S")$(Ae,uc);var Be=M("Milliseconds",!1);R("z",0,0,"zoneAbbr"),R("zz",0,0,"zoneName");var Ce=o.prototype;Ce.add=le,Ce.calendar=kb,Ce.clone=lb,Ce.diff=sb,Ce.endOf=Eb,Ce.format=wb,Ce.from=xb,Ce.fromNow=yb,Ce.to=zb,Ce.toNow=Ab,Ce.get=P,Ce.invalidAt=Nb,Ce.isAfter=mb,Ce.isBefore=nb,Ce.isBetween=ob,Ce.isSame=pb,Ce.isSameOrAfter=qb,Ce.isSameOrBefore=rb,Ce.isValid=Lb,Ce.lang=ne,Ce.locale=Bb,Ce.localeData=Cb,Ce.max=ge,Ce.min=fe,Ce.parsingFlags=Mb,Ce.set=P,Ce.startOf=Db,Ce.subtract=me,Ce.toArray=Ib,Ce.toObject=Jb,Ce.toDate=Hb,Ce.toISOString=vb,Ce.toJSON=Kb,Ce.toString=ub,Ce.unix=Gb,Ce.valueOf=Fb,Ce.creationData=Ob,Ce.year=ee,Ce.isLeapYear=ta,Ce.weekYear=Qb,Ce.isoWeekYear=Rb,Ce.quarter=Ce.quarters=Wb,Ce.month=ha,Ce.daysInMonth=ia,Ce.week=Ce.weeks=$b,Ce.isoWeek=Ce.isoWeeks=_b,Ce.weeksInYear=Tb,Ce.isoWeeksInYear=Sb,Ce.date=pe,Ce.day=Ce.days=gc,Ce.weekday=hc,Ce.isoWeekday=ic,Ce.dayOfYear=nc,Ce.hour=Ce.hours=xe,Ce.minute=Ce.minutes=ye,Ce.second=Ce.seconds=ze,Ce.millisecond=Ce.milliseconds=Be,Ce.utcOffset=Ua,Ce.utc=Wa,Ce.local=Xa,Ce.parseZone=Ya,Ce.hasAlignedHourOffset=Za,Ce.isDST=$a,Ce.isDSTShifted=_a,Ce.isLocal=ab,Ce.isUtcOffset=bb,Ce.isUtc=cb,Ce.isUTC=cb,Ce.zoneAbbr=vc,Ce.zoneName=wc,Ce.dates=u("dates accessor is deprecated. Use date instead.",pe),Ce.months=u("months accessor is deprecated. Use month instead",ha),Ce.years=u("years accessor is deprecated. Use year instead",ee),Ce.zone=u("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",Va);var De=Ce,Ee={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Fe={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Ge=/\d{1,2}/,He={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Ie=A.prototype;Ie._calendar=Ee,Ie.calendar=zc,Ie._longDateFormat=Fe,Ie.longDateFormat=Ac,Ie._invalidDate="Invalid date",Ie.invalidDate=Bc,Ie._ordinal="%d",Ie.ordinal=Cc,Ie._ordinalParse=Ge,Ie.preparse=Dc,Ie.postformat=Dc,Ie._relativeTime=He,Ie.relativeTime=Ec,Ie.pastFuture=Fc,Ie.set=y,Ie.months=ca,Ie._months=Wd,Ie.monthsShort=da,Ie._monthsShort=Xd,Ie.monthsParse=fa,Ie._monthsRegex=Zd,Ie.monthsRegex=ka,Ie._monthsShortRegex=Yd,Ie.monthsShortRegex=ja,Ie.week=Xb,Ie._week=oe,Ie.firstDayOfYear=Zb,Ie.firstDayOfWeek=Yb,Ie.weekdays=bc,Ie._weekdays=qe,Ie.weekdaysMin=dc,Ie._weekdaysMin=se,Ie.weekdaysShort=cc,Ie._weekdaysShort=re,Ie.weekdaysParse=fc,Ie._weekdaysRegex=te,Ie.weekdaysRegex=jc,Ie._weekdaysShortRegex=ue,Ie.weekdaysShortRegex=kc,Ie._weekdaysMinRegex=ve,Ie.weekdaysMinRegex=lc,Ie.isPM=sc,Ie._meridiemParse=we,Ie.meridiem=tc,E("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(a){var b=a%10;return a+(1===r(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th")}}),a.lang=u("moment.lang is deprecated. Use moment.locale instead.",E),a.langData=u("moment.langData is deprecated. Use moment.localeData instead.",H);var Je=Math.abs,Ke=Yc("ms"),Le=Yc("s"),Me=Yc("m"),Ne=Yc("h"),Oe=Yc("d"),Pe=Yc("w"),Qe=Yc("M"),Re=Yc("y"),Se=$c("milliseconds"),Te=$c("seconds"),Ue=$c("minutes"),Ve=$c("hours"),We=$c("days"),Xe=$c("months"),Ye=$c("years"),Ze=Math.round,$e={s:45,m:45,h:22,d:26,M:11},_e=Math.abs,af=Oa.prototype;return af.abs=Oc,af.add=Qc,af.subtract=Rc,af.as=Wc,af.asMilliseconds=Ke,af.asSeconds=Le,af.asMinutes=Me,af.asHours=Ne,af.asDays=Oe,af.asWeeks=Pe,af.asMonths=Qe,af.asYears=Re,af.valueOf=Xc,af._bubble=Tc,af.get=Zc,af.milliseconds=Se,af.seconds=Te,af.minutes=Ue,af.hours=Ve,af.days=We,af.weeks=_c,af.months=Xe,af.years=Ye,af.humanize=dd,af.toISOString=ed,af.toString=ed,af.toJSON=ed,af.locale=Bb,af.localeData=Cb,af.toIsoString=u("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",ed),af.lang=ne,R("X",0,0,"unix"),R("x",0,0,"valueOf"),W("x",Fd),W("X",Id),$("X",function(a,b,c){c._d=new Date(1e3*parseFloat(a,10))}),$("x",function(a,b,c){c._d=new Date(r(a))}),a.version="2.13.0",b(Ka),a.fn=De,a.min=Ma,a.max=Na,a.now=he,a.utc=h,a.unix=xc,a.months=Jc,a.isDate=d,a.locale=E,a.invalid=l,a.duration=db,a.isMoment=p,a.weekdays=Lc,a.parseZone=yc,a.localeData=H,a.isDuration=Pa,a.monthsShort=Kc,a.weekdaysMin=Nc,a.defineLocale=F,a.updateLocale=G,a.locales=I,a.weekdaysShort=Mc,a.normalizeUnits=K,a.relativeTimeThreshold=cd,a.prototype=De,a}),function(a,b){"object"==typeof exports&&exports&&"string"!=typeof exports.nodeName?b(exports):"function"==typeof define&&define.amd?define(["exports"],b):(a.Mustache={},b(a.Mustache))}(this,function(a){function b(a){return"function"==typeof a}function c(a){return p(a)?"array":typeof a}function d(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function e(a,b){return null!=a&&"object"==typeof a&&b in a}function f(a,b){return q.call(a,b)}function g(a){return!f(r,a)}function h(a){return String(a).replace(/[&<>"'`=\/]/g,function(a){return s[a]})}function i(b,c){function e(){if(r&&!s)for(;q.length;)delete o[q.pop()];else q=[];r=!1,s=!1}function f(a){if("string"==typeof a&&(a=a.split(u,2)),!p(a)||2!==a.length)throw new Error("Invalid tags: "+a);h=new RegExp(d(a[0])+"\\s*"),i=new RegExp("\\s*"+d(a[1])),m=new RegExp("\\s*"+d("}"+a[1]))}if(!b)return[];var h,i,m,n=[],o=[],q=[],r=!1,s=!1;f(c||a.tags);for(var y,z,A,B,C,D,E=new l(b);!E.eos();){if(y=E.pos,A=E.scanUntil(h))for(var F=0,G=A.length;F<G;++F)B=A.charAt(F),g(B)?q.push(o.length):s=!0,o.push(["text",B,y,y+1]),y+=1,"\n"===B&&e();if(!E.scan(h))break;if(r=!0,z=E.scan(x)||"name",E.scan(t),"="===z?(A=E.scanUntil(v),E.scan(v),E.scanUntil(i)):"{"===z?(A=E.scanUntil(m),E.scan(w),E.scanUntil(i),z="&"):A=E.scanUntil(i),!E.scan(i))throw new Error("Unclosed tag at "+E.pos);if(C=[z,A,y,E.pos],o.push(C),"#"===z||"^"===z)n.push(C);else if("/"===z){if(!(D=n.pop()))throw new Error('Unopened section "'+A+'" at '+y);if(D[1]!==A)throw new Error('Unclosed section "'+D[1]+'" at '+y)}else"name"===z||"{"===z||"&"===z?s=!0:"="===z&&f(A)}if(D=n.pop())throw new Error('Unclosed section "'+D[1]+'" at '+E.pos);return k(j(o))}function j(a){for(var b,c,d=[],e=0,f=a.length;e<f;++e)(b=a[e])&&("text"===b[0]&&c&&"text"===c[0]?(c[1]+=b[1],c[3]=b[3]):(d.push(b),c=b));return d}function k(a){for(var b,c,d=[],e=d,f=[],g=0,h=a.length;g<h;++g)switch(b=a[g],b[0]){case"#":case"^":e.push(b),f.push(b),e=b[4]=[];break;case"/":c=f.pop(),c[5]=b[2],e=f.length>0?f[f.length-1][4]:d;break;default:e.push(b)}return d}function l(a){this.string=a,this.tail=a,this.pos=0}function m(a,b){this.view=a,this.cache={".":this.view},this.parent=b}function n(){this.cache={}}var o=Object.prototype.toString,p=Array.isArray||function(a){return"[object Array]"===o.call(a)},q=RegExp.prototype.test,r=/\S/,s={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},t=/\s*/,u=/\s+/,v=/\s*=/,w=/\s*\}/,x=/#|\^|\/|>|\{|&|=|!/;l.prototype.eos=function(){return""===this.tail},l.prototype.scan=function(a){var b=this.tail.match(a);if(!b||0!==b.index)return"";var c=b[0];return this.tail=this.tail.substring(c.length),this.pos+=c.length,c},l.prototype.scanUntil=function(a){var b,c=this.tail.search(a);switch(c){case-1:b=this.tail,this.tail="";break;case 0:b="";break;default:b=this.tail.substring(0,c),this.tail=this.tail.substring(c)}return this.pos+=b.length,b},m.prototype.push=function(a){return new m(a,this)},m.prototype.lookup=function(a){var c,d=this.cache;if(d.hasOwnProperty(a))c=d[a];else{for(var f,g,h=this,i=!1;h;){if(a.indexOf(".")>0)for(c=h.view,f=a.split("."),g=0;null!=c&&g<f.length;)g===f.length-1&&(i=e(c,f[g])),c=c[f[g++]];else c=h.view[a],i=e(h.view,a);if(i)break;h=h.parent}d[a]=c}return b(c)&&(c=c.call(this.view)),c},n.prototype.clearCache=function(){this.cache={}},n.prototype.parse=function(a,b){var c=this.cache,d=c[a];return null==d&&(d=c[a]=i(a,b)),d},n.prototype.render=function(a,b,c){var d=this.parse(a),e=b instanceof m?b:new m(b);return this.renderTokens(d,e,c,a)},n.prototype.renderTokens=function(a,b,c,d){for(var e,f,g,h="",i=0,j=a.length;i<j;++i)g=void 0,e=a[i],f=e[0],"#"===f?g=this.renderSection(e,b,c,d):"^"===f?g=this.renderInverted(e,b,c,d):">"===f?g=this.renderPartial(e,b,c,d):"&"===f?g=this.unescapedValue(e,b):"name"===f?g=this.escapedValue(e,b):"text"===f&&(g=this.rawValue(e)),void 0!==g&&(h+=g);return h},n.prototype.renderSection=function(a,c,d,e){function f(a){return g.render(a,c,d)}var g=this,h="",i=c.lookup(a[1]);if(i){if(p(i))for(var j=0,k=i.length;j<k;++j)h+=this.renderTokens(a[4],c.push(i[j]),d,e);else if("object"==typeof i||"string"==typeof i||"number"==typeof i)h+=this.renderTokens(a[4],c.push(i),d,e);else if(b(i)){if("string"!=typeof e)throw new Error("Cannot use higher-order sections without the original template");i=i.call(c.view,e.slice(a[3],a[5]),f),null!=i&&(h+=i)}else h+=this.renderTokens(a[4],c,d,e);return h}},n.prototype.renderInverted=function(a,b,c,d){var e=b.lookup(a[1]);if(!e||p(e)&&0===e.length)return this.renderTokens(a[4],b,c,d)},n.prototype.renderPartial=function(a,c,d){
if(d){var e=b(d)?d(a[1]):d[a[1]];return null!=e?this.renderTokens(this.parse(e),c,d,e):void 0}},n.prototype.unescapedValue=function(a,b){var c=b.lookup(a[1]);if(null!=c)return c},n.prototype.escapedValue=function(b,c){var d=c.lookup(b[1]);if(null!=d)return a.escape(d)},n.prototype.rawValue=function(a){return a[1]},a.name="mustache.js",a.version="2.3.0",a.tags=["{{","}}"];var y=new n;return a.clearCache=function(){return y.clearCache()},a.parse=function(a,b){return y.parse(a,b)},a.render=function(a,b,d){if("string"!=typeof a)throw new TypeError('Invalid template! Template should be a "string" but "'+c(a)+'" was given as the first argument for mustache#render(template, view, partials)');return y.render(a,b,d)},a.to_html=function(c,d,e,f){var g=a.render(c,d,e);if(!b(f))return g;f(g)},a.escape=h,a.Scanner=l,a.Context=m,a.Writer=n,a}),function(){var a,b,c,d,e,f={}.hasOwnProperty,g=function(a,b){function c(){this.constructor=a}for(var d in b)f.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d=function(){function a(){this.options_index=0,this.parsed=[]}return a.prototype.add_node=function(a){return"OPTGROUP"===a.nodeName.toUpperCase()?this.add_group(a):this.add_option(a)},a.prototype.add_group=function(a){var b,c,d,e,f,g;for(b=this.parsed.length,this.parsed.push({array_index:b,group:!0,label:this.escapeExpression(a.label),title:a.title?a.title:void 0,children:0,disabled:a.disabled,classes:a.className}),f=a.childNodes,g=[],d=0,e=f.length;d<e;d++)c=f[d],g.push(this.add_option(c,b,a.disabled));return g},a.prototype.add_option=function(a,b,c){if("OPTION"===a.nodeName.toUpperCase())return""!==a.text?(null!=b&&(this.parsed[b].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:a.value,text:a.text,html:a.innerHTML,title:a.title?a.title:void 0,selected:a.selected,disabled:!0===c?c:a.disabled,group_array_index:b,group_label:null!=b?this.parsed[b].label:null,classes:a.className,style:a.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1},a.prototype.escapeExpression=function(a){var b,c;return null==a||!1===a?"":/[\&\<\>\"\'\`]/.test(a)?(b={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},c=/&(?!\w+;)|[\<\>\"\'\`]/g,a.replace(c,function(a){return b[a]||"&amp;"})):a},a}(),d.select_to_array=function(a){var b,c,e,f,g;for(c=new d,g=a.childNodes,e=0,f=g.length;e<f;e++)b=g[e],c.add_node(b);return c.parsed},b=function(){function a(b,c){this.form_field=b,this.options=null!=c?c:{},a.browser_is_supported()&&(this.is_multiple=this.form_field.multiple,this.set_default_text(),this.set_default_values(),this.setup(),this.set_up_html(),this.register_observers(),this.on_ready())}return a.prototype.set_default_values=function(){var a=this;return this.click_test_action=function(b){return a.test_active_click(b)},this.activate_action=function(b){return a.activate_field(b)},this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text&&this.options.allow_single_deselect,this.disable_search_threshold=this.options.disable_search_threshold||0,this.disable_search=this.options.disable_search||!1,this.enable_split_word_search=null==this.options.enable_split_word_search||this.options.enable_split_word_search,this.group_search=null==this.options.group_search||this.options.group_search,this.search_contains=this.options.search_contains||!1,this.single_backstroke_delete=null==this.options.single_backstroke_delete||this.options.single_backstroke_delete,this.max_selected_options=this.options.max_selected_options||1/0,this.inherit_select_classes=this.options.inherit_select_classes||!1,this.display_selected_options=null==this.options.display_selected_options||this.options.display_selected_options,this.display_disabled_options=null==this.options.display_disabled_options||this.options.display_disabled_options,this.include_group_label_in_selected=this.options.include_group_label_in_selected||!1,this.max_shown_results=this.options.max_shown_results||Number.POSITIVE_INFINITY,this.case_sensitive_search=this.options.case_sensitive_search||!1},a.prototype.set_default_text=function(){return this.form_field.getAttribute("data-placeholder")?this.default_text=this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.default_text=this.options.placeholder_text_multiple||this.options.placeholder_text||a.default_multiple_text:this.default_text=this.options.placeholder_text_single||this.options.placeholder_text||a.default_single_text,this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||a.default_no_result_text},a.prototype.choice_label=function(a){return this.include_group_label_in_selected&&null!=a.group_label?"<b class='group-name'>"+a.group_label+"</b>"+a.html:a.html},a.prototype.mouse_enter=function(){return this.mouse_on_container=!0},a.prototype.mouse_leave=function(){return this.mouse_on_container=!1},a.prototype.input_focus=function(a){var b=this;if(this.is_multiple){if(!this.active_field)return setTimeout(function(){return b.container_mousedown()},50)}else if(!this.active_field)return this.activate_field()},a.prototype.input_blur=function(a){var b=this;if(!this.mouse_on_container)return this.active_field=!1,setTimeout(function(){return b.blur_test()},100)},a.prototype.results_option_build=function(a){var b,c,d,e,f,g,h;for(b="",e=0,h=this.results_data,f=0,g=h.length;f<g&&(c=h[f],d="",d=c.group?this.result_add_group(c):this.result_add_option(c),""!==d&&(e++,b+=d),(null!=a?a.first:void 0)&&(c.selected&&this.is_multiple?this.choice_build(c):c.selected&&!this.is_multiple&&this.single_set_selected_text(this.choice_label(c))),!(e>=this.max_shown_results));f++);return b},a.prototype.result_add_option=function(a){var b,c;return a.search_match&&this.include_option_in_results(a)?(b=[],a.disabled||a.selected&&this.is_multiple||b.push("active-result"),!a.disabled||a.selected&&this.is_multiple||b.push("disabled-result"),a.selected&&b.push("result-selected"),null!=a.group_array_index&&b.push("group-option"),""!==a.classes&&b.push(a.classes),c=document.createElement("li"),c.className=b.join(" "),c.style.cssText=a.style,c.setAttribute("data-option-array-index",a.array_index),c.innerHTML=a.search_text,a.title&&(c.title=a.title),this.outerHTML(c)):""},a.prototype.result_add_group=function(a){var b,c;return(a.search_match||a.group_match)&&a.active_options>0?(b=[],b.push("group-result"),a.classes&&b.push(a.classes),c=document.createElement("li"),c.className=b.join(" "),c.innerHTML=a.search_text,a.title&&(c.title=a.title),this.outerHTML(c)):""},a.prototype.results_update_field=function(){if(this.set_default_text(),this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.results_build(),this.results_showing)return this.winnow_results()},a.prototype.reset_single_select_options=function(){var a,b,c,d,e;for(d=this.results_data,e=[],b=0,c=d.length;b<c;b++)a=d[b],a.selected?e.push(a.selected=!1):e.push(void 0);return e},a.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},a.prototype.results_search=function(a){return this.results_showing?this.winnow_results():this.results_show()},a.prototype.winnow_results=function(){var a,b,c,d,e,f,g,h,i,j,k,l;for(this.no_results_clear(),d=0,f=this.get_search_text(),a=f.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),i=new RegExp(a,"i"),c=this.get_search_regex(a),l=this.results_data,j=0,k=l.length;j<k;j++)if(b=l[j],b.search_match=!1,e=null,this.include_option_in_results(b)&&(b.group&&(b.group_match=!1,b.active_options=0),null!=b.group_array_index&&this.results_data[b.group_array_index]&&(e=this.results_data[b.group_array_index],0===e.active_options&&e.search_match&&(d+=1),e.active_options+=1),b.search_text=b.group?b.label:b.html,!b.group||this.group_search))if(b.search_match=this.search_string_match(b.search_text,c),b.search_match&&!b.group&&(d+=1),b.search_match){if(f.length){var m=b.search_text;g=m.search(i),h=b.search_text.substr(0,g+f.length)+"</em>"+b.search_text.substr(g+f.length),b.search_text=h.substr(0,g)+"<em>"+h.substr(g)}null!=e&&(e.group_match=!0)}else null!=b.group_array_index&&this.results_data[b.group_array_index].search_match&&(b.search_match=!0);return this.result_clear_highlight(),d<1&&f.length?(this.update_results_content(""),this.no_results(f)):(this.update_results_content(this.results_option_build()),this.winnow_results_set_highlight())},a.prototype.get_search_regex=function(a){var b,c;return b=this.search_contains?"":"^",c=this.case_sensitive_search?"":"i",new RegExp(b+a,c)},a.prototype.search_string_match=function(a,b){var c,d,e,f;if(b.test(a))return!0;if(this.enable_split_word_search&&(a.indexOf(" ")>=0||0===a.indexOf("["))&&(d=a.replace(/\[|\]/g,"").split(" "),d.length))for(e=0,f=d.length;e<f;e++)if(c=d[e],b.test(c))return!0},a.prototype.choices_count=function(){var a,b,c,d;if(null!=this.selected_option_count)return this.selected_option_count;for(this.selected_option_count=0,d=this.form_field.options,b=0,c=d.length;b<c;b++)a=d[b],a.selected&&(this.selected_option_count+=1);return this.selected_option_count},a.prototype.choices_click=function(a){if(a.preventDefault(),!this.results_showing&&!this.is_disabled)return this.results_show()},a.prototype.keyup_checker=function(a){var b,c;switch(b=null!=(c=a.which)?c:a.keyCode,this.search_field_scale(),b){case 8:if(this.is_multiple&&this.backstroke_length<1&&this.choices_count()>0)return this.keydown_backstroke();if(!this.pending_backstroke)return this.result_clear_highlight(),this.results_search();break;case 13:if(a.preventDefault(),this.results_showing)return this.result_select(a);break;case 27:return this.results_showing&&this.results_hide(),!0;case 9:case 38:case 40:case 16:case 91:case 17:case 18:break;default:return this.results_search()}},a.prototype.clipboard_event_checker=function(a){var b=this;return setTimeout(function(){return b.results_search()},50)},a.prototype.container_width=function(){return null!=this.options.width?this.options.width:this.form_field.offsetWidth+"px"},a.prototype.include_option_in_results=function(a){return!(this.is_multiple&&!this.display_selected_options&&a.selected)&&(!(!this.display_disabled_options&&a.disabled)&&!a.empty)},a.prototype.search_results_touchstart=function(a){return this.touch_started=!0,this.search_results_mouseover(a)},a.prototype.search_results_touchmove=function(a){return this.touch_started=!1,this.search_results_mouseout(a)},a.prototype.search_results_touchend=function(a){if(this.touch_started)return this.search_results_mouseup(a)},a.prototype.outerHTML=function(a){var b;return a.outerHTML?a.outerHTML:(b=document.createElement("div"),b.appendChild(a),b.innerHTML)},a.browser_is_supported=function(){return!0},a.default_multiple_text="Select Some Options",a.default_single_text="Select an Option",a.default_no_result_text="No results match",a}(),a=jQuery,a.fn.extend({chosen:function(d){return b.browser_is_supported()?this.each(function(b){var e,f;if(e=a(this),f=e.data("chosen"),"destroy"===d)return void(f instanceof c&&f.destroy());f instanceof c||e.data("chosen",new c(this,d))}):this}}),c=function(b){function c(){return e=c.__super__.constructor.apply(this,arguments)}return g(c,b),c.prototype.setup=function(){return this.form_field_jq=a(this.form_field),this.current_selectedIndex=this.form_field.selectedIndex,this.is_rtl=this.form_field_jq.hasClass("chosen-rtl")},c.prototype.set_up_html=function(){var b,c;return b=["chosen-container"],b.push("chosen-container-"+(this.is_multiple?"multi":"single")),this.inherit_select_classes&&this.form_field.className&&b.push(this.form_field.className),this.is_rtl&&b.push("chosen-rtl"),c={class:b.join(" "),style:"width: "+this.container_width()+";",title:this.form_field.title},this.form_field.id.length&&(c.id=this.form_field.id.replace(/[^\w]/g,"_")+"_chosen"),this.container=a("<div />",c),this.is_multiple?this.container.html('<ul class="chosen-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chosen-drop"><ul class="chosen-results"></ul></div>'):this.container.html('<a class="chosen-single chosen-default"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chosen-drop"><div class="chosen-search"><input type="text" autocomplete="off" /></div><ul class="chosen-results"></ul></div>'),this.form_field_jq.hide().after(this.container),this.dropdown=this.container.find("div.chosen-drop").first(),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chosen-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chosen-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chosen-search").first(),this.selected_item=this.container.find(".chosen-single").first()),this.results_build(),this.set_tab_index(),this.set_label_behavior()},c.prototype.on_ready=function(){return this.form_field_jq.trigger("chosen:ready",{chosen:this})},c.prototype.register_observers=function(){var a=this;return this.container.bind("touchstart.chosen",function(b){return a.container_mousedown(b),b.preventDefault()}),this.container.bind("touchend.chosen",function(b){return a.container_mouseup(b),b.preventDefault()}),this.container.bind("mousedown.chosen",function(b){a.container_mousedown(b)}),this.container.bind("mouseup.chosen",function(b){a.container_mouseup(b)}),this.container.bind("mouseenter.chosen",function(b){a.mouse_enter(b)}),this.container.bind("mouseleave.chosen",function(b){a.mouse_leave(b)}),this.search_results.bind("mouseup.chosen",function(b){a.search_results_mouseup(b)}),this.search_results.bind("mouseover.chosen",function(b){a.search_results_mouseover(b)}),this.search_results.bind("mouseout.chosen",function(b){a.search_results_mouseout(b)}),this.search_results.bind("mousewheel.chosen DOMMouseScroll.chosen",function(b){a.search_results_mousewheel(b)}),this.search_results.bind("touchstart.chosen",function(b){a.search_results_touchstart(b)}),this.search_results.bind("touchmove.chosen",function(b){a.search_results_touchmove(b)}),this.search_results.bind("touchend.chosen",function(b){a.search_results_touchend(b)}),this.form_field_jq.bind("chosen:updated.chosen",function(b){a.results_update_field(b)}),this.form_field_jq.bind("chosen:activate.chosen",function(b){a.activate_field(b)}),this.form_field_jq.bind("chosen:open.chosen",function(b){a.container_mousedown(b)}),this.form_field_jq.bind("chosen:close.chosen",function(b){a.input_blur(b)}),this.search_field.bind("blur.chosen",function(b){a.input_blur(b)}),this.search_field.bind("keyup.chosen",function(b){a.keyup_checker(b)}),this.search_field.bind("keydown.chosen",function(b){a.keydown_checker(b)}),this.search_field.bind("focus.chosen",function(b){a.input_focus(b)}),this.search_field.bind("cut.chosen",function(b){a.clipboard_event_checker(b)}),this.search_field.bind("paste.chosen",function(b){a.clipboard_event_checker(b)}),this.is_multiple?this.search_choices.bind("click.chosen",function(b){a.choices_click(b)}):this.container.bind("click.chosen",function(a){a.preventDefault()})},c.prototype.destroy=function(){return a(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),this.search_field[0].tabIndex&&(this.form_field_jq[0].tabIndex=this.search_field[0].tabIndex),this.container.remove(),this.form_field_jq.removeData("chosen"),this.form_field_jq.show()},c.prototype.search_field_disabled=function(){return this.is_disabled=this.form_field_jq[0].disabled,this.is_disabled?(this.container.addClass("chosen-disabled"),this.search_field[0].disabled=!0,this.is_multiple||this.selected_item.unbind("focus.chosen",this.activate_action),this.close_field()):(this.container.removeClass("chosen-disabled"),this.search_field[0].disabled=!1,this.is_multiple?void 0:this.selected_item.bind("focus.chosen",this.activate_action))},c.prototype.container_mousedown=function(b){if(!this.is_disabled&&(b&&"mousedown"===b.type&&!this.results_showing&&b.preventDefault(),null==b||!a(b.target).hasClass("search-choice-close")))return this.active_field?this.is_multiple||!b||a(b.target)[0]!==this.selected_item[0]&&!a(b.target).parents("a.chosen-single").length||(b.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),a(this.container[0].ownerDocument).bind("click.chosen",this.click_test_action),this.results_show()),this.activate_field()},c.prototype.container_mouseup=function(a){if("ABBR"===a.target.nodeName&&!this.is_disabled)return this.results_reset(a)},c.prototype.search_results_mousewheel=function(a){var b;if(a.originalEvent&&(b=a.originalEvent.deltaY||-a.originalEvent.wheelDelta||a.originalEvent.detail),null!=b)return a.preventDefault(),"DOMMouseScroll"===a.type&&(b*=40),this.search_results.scrollTop(b+this.search_results.scrollTop())},c.prototype.blur_test=function(a){if(!this.active_field&&this.container.hasClass("chosen-container-active"))return this.close_field()},c.prototype.close_field=function(){return a(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),this.active_field=!1,this.results_hide(),this.container.removeClass("chosen-container-active"),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale()},c.prototype.activate_field=function(){return this.container.addClass("chosen-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},c.prototype.test_active_click=function(b){var c;return c=a(b.target).closest(".chosen-container"),c.length&&this.container[0]===c[0]?this.active_field=!0:this.close_field()},c.prototype.results_build=function(){return this.parsing=!0,this.selected_option_count=null,this.results_data=d.select_to_array(this.form_field),this.is_multiple?this.search_choices.find("li.search-choice").remove():this.is_multiple||(this.single_set_selected_text(),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?(this.search_field[0].readOnly=!0,this.container.addClass("chosen-container-single-nosearch")):(this.search_field[0].readOnly=!1,this.container.removeClass("chosen-container-single-nosearch"))),this.update_results_content(this.results_option_build({first:!0})),this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.parsing=!1},c.prototype.result_do_highlight=function(a){var b,c,d,e,f;if(a.length){if(this.result_clear_highlight(),this.result_highlight=a,this.result_highlight.addClass("highlighted"),d=parseInt(this.search_results.css("maxHeight"),10),f=this.search_results.scrollTop(),e=d+f,c=this.result_highlight.position().top+this.search_results.scrollTop(),(b=c+this.result_highlight.outerHeight())>=e)return this.search_results.scrollTop(b-d>0?b-d:0);if(c<f)return this.search_results.scrollTop(c)}},c.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},c.prototype.results_show=function(){return this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.container.addClass("chosen-with-drop"),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.search_field.val()),this.winnow_results(),this.form_field_jq.trigger("chosen:showing_dropdown",{chosen:this}))},c.prototype.update_results_content=function(a){return this.search_results.html(a)},c.prototype.results_hide=function(){return this.results_showing&&(this.result_clear_highlight(),this.container.removeClass("chosen-with-drop"),this.form_field_jq.trigger("chosen:hiding_dropdown",{chosen:this})),this.results_showing=!1},c.prototype.set_tab_index=function(a){var b;if(this.form_field.tabIndex)return b=this.form_field.tabIndex,this.form_field.tabIndex=-1,this.search_field[0].tabIndex=b},c.prototype.set_label_behavior=function(){var b=this;if(this.form_field_label=this.form_field_jq.parents("label"),!this.form_field_label.length&&this.form_field.id.length&&(this.form_field_label=a("label[for='"+this.form_field.id+"']")),this.form_field_label.length>0)return this.form_field_label.bind("click.chosen",function(a){return b.is_multiple?b.container_mousedown(a):b.activate_field()})},c.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices_count()<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},c.prototype.search_results_mouseup=function(b){var c;if(c=a(b.target).hasClass("active-result")?a(b.target):a(b.target).parents(".active-result").first(),c.length)return this.result_highlight=c,this.result_select(b),this.search_field.focus()},c.prototype.search_results_mouseover=function(b){var c;if(c=a(b.target).hasClass("active-result")?a(b.target):a(b.target).parents(".active-result").first())return this.result_do_highlight(c)},c.prototype.search_results_mouseout=function(b){if(a(b.target).hasClass("active-result"))return this.result_clear_highlight()},c.prototype.choice_build=function(b){var c,d,e=this;return c=a("<li />",{class:"search-choice"}).html("<span>"+this.choice_label(b)+"</span>"),b.disabled?c.addClass("search-choice-disabled"):(d=a("<a />",{class:"search-choice-close","data-option-array-index":b.array_index}),d.bind("click.chosen",function(a){return e.choice_destroy_link_click(a)}),c.append(d)),this.search_container.before(c)},c.prototype.choice_destroy_link_click=function(b){if(b.preventDefault(),b.stopPropagation(),!this.is_disabled)return this.choice_destroy(a(b.target))},c.prototype.choice_destroy=function(a){if(a.parents("li").first().remove(),this.result_deselect(a[0].getAttribute("data-option-array-index")))return this.show_search_field_default(),this.is_multiple&&this.choices_count()>0&&this.search_field.val().length<1&&this.results_hide(),this.search_field_scale()},c.prototype.results_reset=function(){if(this.reset_single_select_options(),this.form_field.options[0].selected=!0,this.single_set_selected_text(),this.show_search_field_default(),this.results_reset_cleanup(),this.form_field_jq.trigger("change"),this.active_field)return this.results_hide()},c.prototype.results_reset_cleanup=function(){return this.current_selectedIndex=this.form_field.selectedIndex,this.selected_item.find("abbr").remove()},c.prototype.result_select=function(a){var b,c;if(this.result_highlight)return b=this.result_highlight,this.result_clear_highlight(),this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.is_multiple?b.removeClass("active-result"):this.reset_single_select_options(),b.addClass("result-selected"),c=this.results_data[b[0].getAttribute("data-option-array-index")],c.selected=!0,this.form_field.options[c.options_index].selected=!0,this.selected_option_count=null,this.is_multiple?this.choice_build(c):this.single_set_selected_text(this.choice_label(c)),(a.metaKey||a.ctrlKey)&&this.is_multiple||this.results_hide(),this.show_search_field_default(),(this.is_multiple||this.form_field.selectedIndex!==this.current_selectedIndex)&&this.form_field_jq.trigger("change",{selected:this.form_field.options[c.options_index].value}),this.current_selectedIndex=this.form_field.selectedIndex,a.preventDefault(),this.search_field_scale())},c.prototype.single_set_selected_text=function(a){return null==a&&(a=this.default_text),a===this.default_text?this.selected_item.addClass("chosen-default"):(this.single_deselect_control_build(),this.selected_item.removeClass("chosen-default")),this.selected_item.find("span").html(a)},c.prototype.result_deselect=function(a){var b;return b=this.results_data[a],!this.form_field.options[b.options_index].disabled&&(b.selected=!1,this.form_field.options[b.options_index].selected=!1,this.selected_option_count=null,this.result_clear_highlight(),this.results_showing&&this.winnow_results(),this.form_field_jq.trigger("change",{deselected:this.form_field.options[b.options_index].value}),this.search_field_scale(),!0)},c.prototype.single_deselect_control_build=function(){if(this.allow_single_deselect)return this.selected_item.find("abbr").length||this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>'),this.selected_item.addClass("chosen-single-with-deselect")},c.prototype.get_search_text=function(){return a("<div/>").text(a.trim(this.search_field.val())).html()},c.prototype.stringToSlug=function(a){for(var b="àáãảạăằắẳẵặâầấẩẫậèéẻẽẹêềếểễệđùúủũụưừứửữựòóỏõọôồốổỗộơờớởỡợìíỉĩịäëïîöüûñçýỳỹỵỷ",c="aaaaaaaaaaaaaaaaaeeeeeeeeeeeduuuuuuuuuuuoooooooooooooooooiiiiiaeiiouuncyyyyy",d=0,e=b.length;d<e;d++)a=a.replace(RegExp(b[d],"gi"),c[d]);return a=a.toLowerCase().trim().replace(/[^a-z0-9\-]/g,"-").replace(/-+/g,"-")},c.prototype.winnow_results_set_highlight=function(){var a,b;if(b=this.is_multiple?[]:this.search_results.find(".result-selected.active-result"),null!=(a=b.length?b.first():this.search_results.find(".active-result").first()))return this.result_do_highlight(a)},c.prototype.no_results=function(b){var c;return c=a('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>'),c.find("span").first().html(b),this.search_results.append(c),this.form_field_jq.trigger("chosen:no_results",{chosen:this})},c.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},c.prototype.keydown_arrow=function(){var a;return this.results_showing&&this.result_highlight?(a=this.result_highlight.nextAll("li.active-result").first())?this.result_do_highlight(a):void 0:this.results_show()},c.prototype.keyup_arrow=function(){var a;return this.results_showing||this.is_multiple?this.result_highlight?(a=this.result_highlight.prevAll("li.active-result"),a.length?this.result_do_highlight(a.first()):(this.choices_count()>0&&this.results_hide(),this.result_clear_highlight())):void 0:this.results_show()},c.prototype.keydown_backstroke=function(){var a;return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()):(a=this.search_container.siblings("li.search-choice").last(),a.length&&!a.hasClass("search-choice-disabled")?(this.pending_backstroke=a,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")):void 0)},c.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},c.prototype.keydown_checker=function(a){var b,c;switch(b=null!=(c=a.which)?c:a.keyCode,this.search_field_scale(),8!==b&&this.pending_backstroke&&this.clear_backstroke(),b){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(a),this.mouse_on_container=!1;break;case 13:this.results_showing&&a.preventDefault();break;case 32:this.disable_search&&a.preventDefault();break;case 38:a.preventDefault(),this.keyup_arrow();break;case 40:a.preventDefault(),this.keydown_arrow()}},c.prototype.search_field_scale=function(){var b,c,d,e,f,g,h,i;if(this.is_multiple){for(0,g=0,e="position:absolute; left: -1000px; top: -1000px; display:none;",f=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"],h=0,i=f.length;h<i;h++)d=f[h],e+=d+":"+this.search_field.css(d)+";";return b=a("<div />",{style:e}),b.text(this.search_field.val()),a("body").append(b),g=b.width()+25,b.remove(),c=this.container.outerWidth(),g>c-10&&(g=c-10),this.search_field.css({width:g+"px"})}},c}(b)}.call(this),function(a,b){if("function"==typeof define&&define.amd)define(["jquery","jquery-ui"],b);else if("undefined"!=typeof exports){var c,d;try{c=require("jquery"),d=require("jquery-ui")}catch(e){}module.exports=b(c,d)}else b(a.jQuery,a.jQuery.ui,!0)}(this,function(a,b,c){c=c||!1;var d=function(b,c,e){var f,g,h,i,j,k,l,m=this,n=[],o=["button","tooltip"],p=a(b),q=a.extend(!0,{},a._data(p.get(0),"events")),r=a("<div></div>").append(p.contents()).attr("class",p.attr("class")||"").attr("style",p.attr("style")||""),s=p.attr("id")||p.attr("id","elfauto"+a(".elfinder").length).attr("id"),t="elfinder-"+s,u="mousedown."+t,v="keydown."+t,w="keypress."+t,x="keyup."+t,y=!1,z=!1,A=["enable","disable","load","open","reload","select","add","remove","change","dblclick","getfile","lockfiles","unlockfiles","selectfiles","unselectfiles","dragstart","dragstop","search","searchend","viewchange"],B="",C={path:"",url:"",tmbUrl:"",disabled:[],separator:"/",archives:[],extract:[],copyOverwrite:!0,uploadOverwrite:!0,uploadMaxSize:0,jpgQuality:100,tmbCrop:!1,tmbReqCustomData:!1,tmb:!1},D={},E={},F={},G={},H=[],I={},J={},K=[],L={},M=[],N=[],O=new m.command(m),P="auto",Q=400,R=null,S="sounds/",T="",U=!1,V=a(document.createElement("audio")).hide().appendTo("body")[0],W=0,X="",Y=null,Z=function(b){var c,d,e,f,g,h,i,j={},k={};m.api>=2.1?(m.commandMap=b.options.uiCmdMap&&Object.keys(b.options.uiCmdMap).length?b.options.uiCmdMap:{},X!==JSON.stringify(m.commandMap)&&(X=JSON.stringify(m.commandMap))):m.options.sync=0,b.init?(E={},G={}):(g=B,c="elfinder-subtree-loaded "+m.res("class","navexpand"),m.res("class","navcollapse"),d=Object.keys(E),e=function(a){if(!E[a])return!0;var b="directory"===E[a].mime,d=E[a].phash;!(!b||j[d]||!k[d]&&m.navHash2Elm(E[a].hash).is(":hidden")&&m.navHash2Elm(d).next(".elfinder-navbar-subtree").children().length>100)||!b&&d===B||L[a]?b&&(k[d]=!0):(b&&!j[d]&&(j[d]=!0,m.navHash2Elm(d).removeClass(c).next(".elfinder-navbar-subtree").empty()),aa(E[a]))},f=function(){d.length&&(Y&&Y._abort(),Y=m.asyncJob(e,d,{interval:20,numPerOnce:100}).done(function(){var b=m.storage("hide")||{items:{}};Object.keys(F).length&&a.each(F,function(a){b.items[a]||delete F[a]})}))},m.trigger("filesgc").one("filesgc",function(){d=[]}),m.one("opendone",function(){g!==B&&(p.data("lazycnt")?m.one("lazydone",f):f())})),m.sorters={},B=b.cwd.hash,$(b.files),E[B]?(i=m.diff([b.cwd],!0),i.changed.length&&($(i.changed,"change"),m.change({changed:i.changed}))):$([b.cwd]),b.changed&&b.changed.length&&$(b.changed,"change"),h=JSON.stringify(m.sorters),T!==h&&(m.trigger("sorterupdate"),T=h),m.lastDir(B),m.autoSync()},$=function(b,c){var d,e,f,g,h,c=c||"files",i=["sizeInfo","encoding"],j={name:!0,perm:!0,date:!0,size:!0,kind:!0},k=!m.sorters._checked&&"files"===c,l=b.length,n=function(b){var c=b||{},d=[];a.each(m.sortRules,function(a){(j[a]||void 0!==c[a]||"mode"===a&&void 0!==c.perm)&&d.push(a)}),m.sorters=m.arrayFlip(d,!0),m.sorters._checked=!0},o={},p=m.storage("hide")||{},q=p.items||{};for(e=0;e<l;e++)if(d=Object.assign({},b[e]),h=!(p.show||!q[d.hash]),d.name&&d.hash&&d.mime){if(h||(k&&d.phash===B&&(n(d),k=!1),!d.phash||"add"!==c&&("change"!==c||E[d.hash]&&d.size===E[d.hash])||(g=m.parents(d.phash))&&a.each(g,function(){o[this]=!0})),E[d.hash]){for(f=0;f<i.length;f++)E[d.hash][i[f]]&&!d[i[f]]&&(d[i[f]]=E[d.hash][i[f]]);d.sizeInfo&&!d.size&&(d.size=d.sizeInfo.size),aa(E[d.hash],!0)}q[d.hash]&&(F[d.hash]=d),h?(l--,b.splice(e--,1)):(E[d.hash]=d,"directory"!==d.mime||G[d.hash]||(G[d.hash]={}),d.phash&&(G[d.phash]||(G[d.phash]={}),G[d.phash][d.hash]=!0))}a.each(Object.keys(o),function(){var a=E[this];a&&a.sizeInfo&&delete a.sizeInfo}),k&&n()},_=function(b){var c,d=b.length,e={},f=function(b){var d=E[b];d&&("directory"===d.mime&&(e[b]&&delete m.roots[e[b]],a.each(m.leafRoots,function(c,d){var e,f
;-1!==(e=a.inArray(b,d))&&(1===d.length?((f=Object.assign({},E[c]))&&f._realStats&&(a.each(f._realStats,function(a,b){f[a]=b}),_(E[c]._realStats),m.change({changed:[f]})),delete m.leafRoots[c]):m.leafRoots[c].splice(e,1))}),m.searchStatus.state<2&&a.each(E,function(a,c){c.phash==b&&f(a)})),d.phash&&(c=m.parents(d.phash))&&a.each(c,function(){g[this]=!0}),aa(E[b]))},g={};for(a.each(m.roots,function(a,b){e[b]=a});d--;)f(b[d]);a.each(Object.keys(g),function(){var a=E[this];a&&a.sizeInfo&&delete a.sizeInfo})},aa=function(a,b){var c=a.hash,d=a.phash;d&&G[d]&&delete G[d][c],b||(G[c]&&delete G[c],m.optionsByHashes[c]&&delete m.optionsByHashes[c]),delete E[c]},ba=0,ca=[],da=null,ea=function(b){var c,d=b.keyCode,e=!(!b.ctrlKey&&!b.metaKey),f="mousedown"===b.type;if(!f&&(m.keyState.keyCode=d),m.keyState.ctrlKey=e,m.keyState.shiftKey=b.shiftKey,m.keyState.metaKey=b.metaKey,m.keyState.altKey=b.altKey,!f)return"keyup"===b.type?void(m.keyState.keyCode=null):void(y&&(a.each(J,function(a,c){c.type==b.type&&c.keyCode==d&&c.shiftKey==b.shiftKey&&c.ctrlKey==e&&c.altKey==b.altKey&&(b.preventDefault(),b.stopPropagation(),c.callback(b,m),m.debug("shortcut-exec",a+" : "+c.description))}),d!=a.ui.keyCode.TAB||a(b.target).is(":input")||b.preventDefault(),"keydown"===b.type&&d==a.ui.keyCode.ESCAPE&&(p.find(".ui-widget:visible").length||m.clipboard().length&&m.clipboard([]),a.ui.ddmanager&&(c=a.ui.ddmanager.current)&&c.helper&&c.cancel(),m.toHide(p.find(".ui-widget.elfinder-button-menu.elfinder-frontmost:visible")),m.trigger("keydownEsc",b))))},fa=new Date,ga=window.parent!==window,ha=function(){var b,c;if(ga)try{c=a("iframe",window.parent.document),c.length&&a.each(c,function(c,d){if(d.contentWindow===window)return b=a(d),!1})}catch(d){}return b}();c||(c={}),m.UA.Mobile&&a(window).on("orientationchange."+t,function(){var a=(screen&&screen.orientation&&screen.orientation.angle||window.orientation||0)+0;-90===a&&(a=270),m.UA.Angle=a,m.UA.Rotated=a%180!=0}).trigger("orientationchange."+t),c.bootCallback&&"function"==typeof c.bootCallback&&function(){var a=e,b=c.bootCallback;e=function(c,d){a&&"function"==typeof a&&a.call(this,c,d),b.call(this,c,d)}}(),delete c.bootCallback,this.api=null,this.newAPI=!1,this.oldAPI=!1,this.netDrivers=[],this.baseUrl="",this.i18nBaseUrl="",this.cssloaded=!1,this.theme=null,this.mimesCanMakeEmpty={},this.bootCallback,this.reloadCallback,this.id=s,this.storage=function(){try{return"localStorage"in window&&null!==window.localStorage?(m.UA.Safari&&(window.localStorage.setItem("elfstoragecheck",1),window.localStorage.removeItem("elfstoragecheck")),m.localStorage):m.cookie}catch(a){return m.cookie}}(),this.pauseUnloadCheck=function(a,b){return void 0===a?U:(U=!!a,void(a&&!b&&requestAnimationFrame(function(){U=!1})))},this.options=Object.assign({},this._options),c.uiOptions&&c.uiOptions.toolbar&&Array.isArray(c.uiOptions.toolbar)&&a.isPlainObject(c.uiOptions.toolbar[c.uiOptions.toolbar.length-1])&&(m.options.uiOptions.toolbarExtra=Object.assign(m.options.uiOptions.toolbarExtra||{},c.uiOptions.toolbar.pop())),function(){var b=function(c,d){a.isPlainObject(c)&&a.each(c,function(c,e){a.isPlainObject(e)?(d[c]||(d[c]={}),b(e,d[c])):d[c]=e})};b(c,m.options)}(),this.options.uiOptions.toolbar.push(this.options.uiOptions.toolbarExtra),delete this.options.uiOptions.toolbarExtra,this.toUnbindEvents={},this.bind=function(a,b,c){var d,e;if(b&&("function"==typeof b||"function"==typeof b.done))for(a=(""+a).toLowerCase().replace(/^\s+|\s+$/g,"").split(/\s+/),e=a.length,d=0;d<e;d++)void 0===I[a[d]]&&(I[a[d]]=[]),I[a[d]][c?"unshift":"push"](b);return this},this.unbind=function(b,c){var d,e,f,g;for(b=(""+b).toLowerCase().split(/\s+/),e=b.length,d=0;d<e;d++)(f=I[b[d]])&&(g=a.inArray(c,f))>-1&&f.splice(g,1);return c=null,this},this.trigger=function(b,c,d){var e,f,g,h,i=b.toLowerCase(),j="object"==typeof c,k=I[i]||[],l=[];if(this.debug("event-"+i,c),j&&void 0!==d||(d=!0),f=k.length){for(h=a.Event(i),c&&(c._getEvent=function(){return h}),d&&(h.data=c),e=0;e<f;e++)if(k[e])if(k[e].done)l.push(k[e].done);else{if(k[e].length&&!d){if(void 0===g)try{g=JSON.stringify(c)}catch(n){g=!1}h.data=g?JSON.parse(g):c}try{if(!1===k[e].call(h,h,this)||h.isDefaultPrevented()){this.debug("event-stoped",h.type);break}}catch(o){window.console&&window.console.log&&window.console.log(o)}}if(f=l.length)for(e=0;e<f;e++)try{if(!1===l[e].call(h,h,this)||h.isDefaultPrevented()){this.debug("event-stoped",h.type+"(done)");break}}catch(o){window.console&&window.console.log&&window.console.log(o)}this.toUnbindEvents[i]&&this.toUnbindEvents[i].length&&(a.each(this.toUnbindEvents[i],function(a,b){m.unbind(b.type,b.callback)}),delete this.toUnbindEvents[i])}return this},this.getListeners=function(a){return a?I[a.toLowerCase()]:I},this.baseUrl=function(){var b,c,d;return m.options.baseUrl?m.options.baseUrl:(d="",b=null,a("head > script").each(function(){if(this.src&&this.src.match(/js\/elfinder(?:-[a-z0-9_-]+)?\.(?:min|full)\.js$/i))return b=a(this),!1}),b&&(d=b.attr("src").replace(/js\/[^\/]+$/,""),d.match(/^(https?\/\/|\/)/)||(c=a("head > base[href]").attr("href"))&&(d=c.replace(/\/$/,"")+"/"+d)),""!==d?m.options.baseUrl=d:(m.options.baseUrl||(m.options.baseUrl="./"),d=m.options.baseUrl),d)}(),this.i18nBaseUrl=(this.options.i18nBaseUrl||this.baseUrl+"js/i18n").replace(/\/$/,"")+"/",this.options.maxErrorDialogs=Math.max(1,parseInt(this.options.maxErrorDialogs||5)),C.dispInlineRegex=this.options.dispInlineRegex,this.options.cssAutoLoad&&function(){var b=m.baseUrl,c=a('head > link[href$="css/elfinder.min.css"],link[href$="css/elfinder.full.css"]:first').length,d=function(){p.data("cssautoloadHide")&&(p.data("cssautoloadHide").remove(),p.removeData("cssautoloadHide"))},e=function(){m.cssloaded||(d(),m.cssloaded=!0,m.trigger("cssloaded"))};c||(m.cssloaded=null),Array.isArray(m.options.cssAutoLoad)&&(m.options.themes.default?!0===m.cssloaded?m.loadCss(m.options.cssAutoLoad):m.bind("cssloaded",function(){m.loadCss(m.options.cssAutoLoad)}):(m.options.themes=Object.assign({default:{name:"default",cssurls:m.options.cssAutoLoad}},m.options.themes),m.options.theme||(m.options.theme="default"))),null===m.cssloaded&&(p.addClass("elfinder").data("cssautoloadHide",a("<style>.elfinder{visibility:hidden;overflow:hidden}</style>")),a("head").append(p.data("cssautoloadHide")),m.options.themes.default||(m.options.themes=Object.assign({default:{name:"default",cssurls:"css/theme.css",author:"elFinder Project",license:"3-clauses BSD"}},m.options.themes),m.options.theme||(m.options.theme="default")),requestAnimationFrame(function(){"hidden"===p.css("visibility")?m.loadCss([b+"css/elfinder.min.css"],{dfd:a.Deferred().done(function(){e()}).fail(function(){d(),m.cssloaded||(m.cssloaded=!1,m.bind("init",function(){m.cssloaded||m.error(["errRead","CSS (elfinder.min)"])}))})}):e()}))}(),function(){var a,b=m.options.themes,c=Object.keys(b||{});c.length&&(a=m.storage("theme")||m.options.theme,b[a]||(a=c[0]),m.cssloaded?m.changeTheme(a):m.bind("cssloaded",function(){m.changeTheme(a)}))}(),this.optionProperties={icon:void 0,csscls:void 0,tmbUrl:void 0,uiCmdMap:{},netkey:void 0,disabled:[]},ga||this.options.enableAlways||2!==a("body").children().length||(this.options.enableAlways=!0),!0===this.options.debug?this.options.debug="all":Array.isArray(this.options.debug)?function(){var b={};a.each(m.options.debug,function(){b[this]=!0}),m.options.debug=b}():this.options.debug=!1,this.noConflicts={},this.noConflict=function(){a.each(o,function(b,c){a.fn[c]&&"function"==typeof a.fn[c].noConflict&&(m.noConflicts[c]=a.fn[c].noConflict())})},this.noConflict(),this.isCORS=!1,function(){if(void 0!==m.options.cors&&null!==m.options.cors)m.isCORS=!!m.options.cors;else{var b,d=document.createElement("a"),e=window.location.protocol,f=function(a){return a=a&&":"!==a?a:e,"https:"===a?/\:443$/:/\:80$/},g=window.location.host.replace(f(e),"");d.href=c.url,c.urlUpload&&c.urlUpload!==c.url&&(b=document.createElement("a"),b.href=c.urlUpload),(g!==d.host.replace(f(d.protocol),"")||":"!==d.protocol&&""!==d.protocol&&e!==d.protocol||b&&(g!==b.host.replace(f(b.protocol),"")||":"!==b.protocol&&""!==b.protocol&&e!==b.protocol))&&(m.isCORS=!0)}m.isCORS&&(a.isPlainObject(m.options.customHeaders)||(m.options.customHeaders={}),a.isPlainObject(m.options.xhrFields)||(m.options.xhrFields={}),m.options.requestType="post",m.options.customHeaders["X-Requested-With"]="XMLHttpRequest",m.options.xhrFields.withCredentials=!0)}(),this.requestType=/^(get|post)$/i.test(this.options.requestType)?this.options.requestType.toLowerCase():"get",h=Math.max(parseInt(this.options.requestMaxConn),1),this.optsCustomData=a.isPlainObject(this.options.customData)?this.options.customData:{},this.customData=Object.assign({},this.optsCustomData),this.prevCustomData=null,this.customHeaders=a.isPlainObject(this.options.customHeaders)?this.options.customHeaders:{},this.xhrFields=a.isPlainObject(this.options.xhrFields)?this.options.xhrFields:{},this.replaceXhrSend=function(){l||(l=XMLHttpRequest.prototype.send),XMLHttpRequest.prototype.send=function(){var b=this;return m.customHeaders&&a.each(m.customHeaders,function(a){b.setRequestHeader(a,this)}),m.xhrFields&&a.each(m.xhrFields,function(a){a in b&&(b[a]=this)}),l.apply(this,arguments)}},this.restoreXhrSend=function(){l&&(XMLHttpRequest.prototype.send=l)},this.abortCmdsOnOpen=this.options.abortCmdsOnOpen||["tmb","parents"],this.navPrefix="nav"+(d.prototype.uniqueid?d.prototype.uniqueid:"")+"-",this.cwdPrefix=d.prototype.uniqueid?"cwd"+d.prototype.uniqueid+"-":"",++d.prototype.uniqueid,this.uploadURL=c.urlUpload||c.url,this.namespace=t,this.today=new Date(fa.getFullYear(),fa.getMonth(),fa.getDate()).getTime()/1e3,this.yesterday=this.today-86400,i=this.options.UTCDate?"UTC":"",this.getHours="get"+i+"Hours",this.getMinutes="get"+i+"Minutes",this.getSeconds="get"+i+"Seconds",this.getDate="get"+i+"Date",this.getDay="get"+i+"Day",this.getMonth="get"+i+"Month",this.getFullYear="get"+i+"FullYear",this.zIndex,this.searchStatus={state:0,query:"",target:"",mime:"",mixed:!1,ininc:!1},this.lang=this.storage("lang")||this.options.lang,"jp"===this.lang&&(this.lang=this.options.lang="ja"),this.viewType=this.storage("view")||this.options.defaultView||"icons",this.sortType=this.storage("sortType")||this.options.sortType||"name",this.sortOrder=this.storage("sortOrder")||this.options.sortOrder||"asc",this.sortStickFolders=this.storage("sortStickFolders"),null===this.sortStickFolders?this.sortStickFolders=!!this.options.sortStickFolders:this.sortStickFolders=!!this.sortStickFolders,this.sortAlsoTreeview=this.storage("sortAlsoTreeview"),null===this.sortAlsoTreeview||null===this.options.sortAlsoTreeview?this.sortAlsoTreeview=!!this.options.sortAlsoTreeview:this.sortAlsoTreeview=!!this.sortAlsoTreeview,this.sortRules=a.extend(!0,{},this._sortRules,this.options.sortRules),a.each(this.sortRules,function(a,b){"function"!=typeof b&&delete m.sortRules[a]}),this.compare=a.proxy(this.compare,this),this.notifyDelay=this.options.notifyDelay>0?parseInt(this.options.notifyDelay):500,this.draggingUiHelper=null,this.droppable={greedy:!0,tolerance:"pointer",accept:".elfinder-cwd-file-wrapper,.elfinder-navbar-dir,.elfinder-cwd-file,.elfinder-cwd-filename",hoverClass:this.res("class","adroppable"),classes:{"ui-droppable-hover":this.res("class","adroppable")},autoDisable:!0,drop:function(b,c){var d,e,f,g=a(this),h=a.grep(c.helper.data("files")||[],function(a){return!!a}),i=[],j=[],k=[],l=c.helper.hasClass("elfinder-drag-helper-plus"),n="class";if(void 0===b.button||c.helper.data("namespace")!==t||!m.insideWorkzone(b.pageX,b.pageY))return!1;for(e=g.hasClass(m.res(n,"cwdfile"))?m.cwdId2Hash(g.attr("id")):g.hasClass(m.res(n,"navdir"))?m.navId2Hash(g.attr("id")):B,d=h.length;d--;)f=h[d],f!=e&&E[f].phash!=e?i.push(f):(l&&f!==e&&E[e].write?j:k).push(f);return!k.length&&(c.helper.data("droped",!0),j.length&&(c.helper.hide(),m.exec("duplicate",j,{_userAction:!0})),void(i.length&&(c.helper.hide(),m.clipboard(i,!l),m.exec("paste",e,{_userAction:!0},e).always(function(){m.clipboard([]),m.trigger("unlockfiles",{files:h})}),m.trigger("drop",{files:h}))))}},this.enabled=function(){return y&&this.visible()},this.visible=function(){return p[0].elfinder&&p.is(":visible")},this.isRoot=function(a){return!(!a.isroot&&a.phash)},this.root=function(b,c){b=b||B;var d,e;if(!c&&(a.each(m.roots,function(a,c){if(0===b.indexOf(a))return d=c,!1}),d))return d;for(d=E[b];d&&d.phash&&(c||!d.isroot);)d=E[d.phash];if(d)return d.hash;for(;e in E&&E.hasOwnProperty(e);)if(d=E[e],"directory"===d.mime&&!d.phash&&d.read)return d.hash;return""},this.cwd=function(){return E[B]||{}},this.option=function(b,c){var d,e;return c=c||B,m.optionsByHashes[c]&&void 0!==m.optionsByHashes[c][b]?m.optionsByHashes[c][b]:!m.hasVolOptions||B===c||(e=m.file(c))&&e.phash===B?D[b]||"":(d="",a.each(m.volOptions,function(a,e){if(0===c.indexOf(a))return d=e[b]||"",!1}),d)},this.getDisabledCmds=function(b,c){var d={hidden:!0};return Array.isArray(b)||(b=[b]),a.each(b,function(a,b){var c=m.option("disabledFlip",b);c&&Object.assign(d,c)}),c?d:Object.keys(d)},this.file=function(a,b){return a?E[a]||(b?F[a]:void 0):void 0},this.files=function(b){var c={};return b?G[b]?(a.each(G[b],function(a){E[a]?c[a]=E[a]:delete G[b][a]}),Object.assign({},c)):{}:Object.assign({},E)},this.parents=function(a){for(var b,c=[];a&&(b=this.file(a));)c.unshift(b.hash),a=b.phash;return c},this.path2array=function(a,b){for(var c,d=[];a;){if(!(c=E[a])||!c.hash){d=[];break}d.unshift(b&&c.i18?c.i18:c.name),a=c.isroot?null:c.phash}return d},this.path=function(b,c,d){var e=E[b]&&E[b].path?E[b].path:this.path2array(b,c).join(D.separator);if(d&&E[b]){d=Object.assign({notify:{type:"parents",cnt:1,hideCnt:!0}},d);var f,g=a.Deferred(),h=d.notify,i=!1,j=function(){m.request({data:{cmd:"parents",target:E[b].phash},notify:h,preventFail:!0}).done(k).fail(function(){g.reject()})},k=function(){m.one("parentsdone",function(){e=m.path(b,c),""===e&&i?(i=!1,j()):(h&&(clearTimeout(f),h.cnt=-parseInt(h.cnt||0),m.notify(h)),g.resolve(e))})};return e?g.resolve(e):(m.ui.tree?(h&&(f=setTimeout(function(){m.notify(h)},m.notifyDelay)),i=!0,k(!0)):j(),g)}return e},this.url=function(b,c){var d,e=E[b],f=c||{},g=f.async||!1,h=f.temporary||!1,i=f.onetime&&m.option("onetimeUrl",b)||!1,j=f.absurl||!1,k=g||i?a.Deferred():null,l=function(a){return a&&j&&(a=m.convAbsUrl(a)),a},n=function(c){if(c)return l(c);if(e.url)return l(e.url);if(void 0===d&&(d=o()),d)return l(d+a.map(m.path2array(b),function(a){return encodeURIComponent(a)}).slice(1).join("/"));var f=Object.assign({},m.customData,{cmd:"file",target:e.hash});return m.oldAPI&&(f.cmd="open",f.current=e.phash),l(m.options.url+(-1===m.options.url.indexOf("?")?"?":"&")+a.param(f,!0))},o=function(){return m.option("url",!m.isRoot(e)&&e.phash||e.hash)};if(!e||!e.read)return g?k.resolve(""):"";if(!i||e.url&&"1"!=e.url||(d=o()))if("1"==e.url||h&&!e.url&&!(d=o()))this.request({data:{cmd:"url",target:b,options:{temporary:h?1:0}},preventDefault:!0,options:{async:g},notify:g?{type:h?"file":"url",cnt:1,hideCnt:!0}:{},progressBar:f.progressBar}).done(function(a){e.url=a.url||""}).fail(function(){e.url=""}).always(function(){var a;return e.url&&h&&(a=e.url,e.url="1"),g?void k.resolve(n(a)):n(a)});else{if(!g)return n();k.resolve(n())}else g=!0,this.request({data:{cmd:"url",target:b,options:{onetime:1}},preventDefault:!0,options:{async:g},notify:{type:"file",cnt:1,hideCnt:!0},progressBar:f.progressBar}).done(function(a){k.resolve(l(a.url||""))}).fail(function(){k.resolve("")});return g?k:void 0},this.forExternalUrl=function(a,b){var c=m.option("onetimeUrl",a),d={async:!0,absurl:!0};return d[c?"onetime":"temporary"]=!0,m.url(a,Object.assign({},b,d))},this.openUrl=function(b,c,d,e){var f=E[b],g="",h=(e||{}).onetimeSize||5242880;return f&&f.read?c&&"sameorigin"!==c||(f.url?1!=f.url&&(g=f.url):D.url&&0===f.hash.indexOf(m.cwd().volumeid)&&(g=D.url+a.map(this.path2array(b),function(a){return encodeURIComponent(a)}).slice(1).join("/")),c&&!this.isSameOrigin(g)||!g)?d&&this.hasParrotHeaders()?(e?delete e.onetimeSize:e={},!e.onetime&&!e.temporary&&f.size>h&&(f.mime.match(/^video|audio/)?e.temporary=!0:e.onetime=!0),e.onetime||e.temporary?this.url(f.hash,Object.assign({async:!0},e)).done(function(a){d(a)}).fail(function(){d("")}):this.getContents(b,"blob",e).done(function(a){g=(window.URL||window.webkitURL).createObjectURL(a),d(g)}).fail(function(){d("")})):(g=this.options.url,g=g+(-1===g.indexOf("?")?"?":"&")+(this.oldAPI?"cmd=open&current="+f.phash:"cmd=file")+"&target="+f.hash+"&_t="+(f.ts||parseInt(+new Date/1e3)),!0===c&&(g+="&download=1"),a.each(this.customData,function(a,b){g+="&"+encodeURIComponent(a)+"="+encodeURIComponent(b)}),d?void d(g):g):(g+=(g.match(/\?/)?"&":"?")+"_".repeat((g.match(/[\?&](_+)t=/g)||["&t="]).sort().shift().match(/[\?&](_*)t=/)[1].length+1)+"t="+(f.ts||parseInt(+new Date/1e3)),d?void d(g):g):""},this.tmb=function(b){var c,d,e="elfinder-cwd-bgurl",f="",g={},h=0;return!(!a.isPlainObject(b)||(m.searchStatus.state&&0!==b.hash.indexOf(m.cwd().volumeid)?(c=m.option("tmbUrl",b.hash),d=m.option("tmbCrop",b.hash)):(c=D.tmbUrl,d=D.tmbCrop),d&&(e+=" elfinder-cwd-bgurl-crop"),"self"===c&&0===b.mime.indexOf("image/")?(f=m.openUrl(b.hash),e+=" elfinder-cwd-bgself"):(m.oldAPI||c)&&b&&b.tmb&&1!=b.tmb?f=c+b.tmb:m.newAPI&&b&&b.tmb&&1!=b.tmb&&(f=b.tmb),!f))&&("self"!==c&&(b.ts&&(g._t=b.ts),D.tmbReqCustomData&&Object.keys(this.customData).length&&(g=Object.assign(g,this.customData)),Object.keys(g).length&&(f+=f.match(/\?/)?"&":"?",a.each(g,function(a,b){f+=(0==h++?"":"&")+encodeURIComponent(a)+"="+encodeURIComponent(b)}))),{url:f,className:e})},this.selected=function(){return H.slice(0)},this.selectedFiles=function(){return a.map(H,function(a){return E[a]?Object.assign({},E[a]):null})},this.fileByName=function(a,b){var c;for(c in E)if(E.hasOwnProperty(c)&&E[c].phash==b&&E[c].name==a)return E[c]},this.validResponse=function(a,b){return b.error||this.rules[this.rules[a]?a:"defaults"](b)},this.returnBytes=function(a){var b;return isNaN(a)?(a||(a=""),a=a.replace(/b$/i,""),b=a.charAt(a.length-1).toLowerCase(),a=a.replace(/[tgmk]$/i,""),"t"==b?a=1024*a*1024*1024*1024:"g"==b?a=1024*a*1024*1024:"m"==b?a=1024*a*1024:"k"==b&&(a*=1024),a=isNaN(a)?0:parseInt(a)):(a=parseInt(a))<1&&(a=0),a},this.request=function(b){var c,d,e,f,g=this,i=this.options,j=a.Deferred(),k=(+new Date).toString(16)+Math.floor(1e3*Math.random()).toString(16),l=Object.assign({},g.customData,{mimes:i.onlyMimes},b.data||b),m=l.cmd,n="binary"===(b.options||{}).dataType,o=!b.asNotOpen&&"open"===m,p=!(n||b.preventDefault||b.preventFail),q=!(n||b.preventDefault||b.preventDone),r=b.progressVal||20,s=null,t=!1,u=b.progressBar?{}:b.notify?Object.assign({progress:r*b.notify.cnt},b.notify):{},v=!!b.cancel,w=n||!!b.raw,x=b.syncOnFail,y=!!b.lazy,z=b.prepare,A=b.navigate,E=(b.options||{}).cache,F=Object.assign({url:i.url,async:!0,type:this.requestType,dataType:"json",cache:g.api>=2.1029,data:l,headers:this.customHeaders,xhrFields:this.xhrFields,progress:function(a){var c=a.loaded/a.total*100;if(s&&clearTimeout(s),b.progressBar)try{b.progressBar.width(c+"%")}catch(a){}else t&&u.type&&(c*=u.cnt,r<c&&(g.notify({type:u.type,progress:c-r,cnt:0,hideCnt:u.hideCnt}),r=c));if(b.progress)try{b.progress(a)}catch(a){}}},b.options||{}),G=function(b){b.warning&&g.error(b.warning),o?Z(b):g.updateCache(b),g.lazy(function(){b.removed&&b.removed.length&&g.remove(b),b.added&&b.added.length&&g.add(b),b.changed&&b.changed.length&&g.change(b)}).then(function(){return g.lazy(function(){g.trigger(m,b,!1)})}).then(function(){return g.lazy(function(){g.trigger(m+"done")})}).then(function(){b.toasts&&Array.isArray(b.toasts)&&a.each(b.toasts,function(){this.msg&&g.toast(this)}),b.sync&&g.sync()})},H=function(a,b){var c,d,e=g.options.debug;switch(b){case"abort":c=a.quiet?"":["errConnect","errAbort"];break;case"timeout":c=["errConnect","errTimeout"];break;case"parsererror":c=["errResponse","errDataNotJSON"],a.responseText&&(!B||e&&("all"===e||e["backend-error"]))&&c.push(a.responseText);break;default:if(a.responseText)try{(d=JSON.parse(a.responseText))&&d.error&&(c=d.error)}catch(f){}if(!c)if(403==a.status)c=["errConnect","errAccess","HTTP error "+a.status];else if(404==a.status)c=["errConnect","errNotFound","HTTP error "+a.status];else if(a.status>=500)c=["errResponse","errServerError","HTTP error "+a.status];else{if(414==a.status&&"get"===F.type)return F.type="post",g.abortXHR(a),void(j.xhr=a=g.transport.send(F).fail(c).done(I));c=a.quiet?"":["errConnect","HTTP error "+a.status]}}g.trigger(m+"done"),j.reject({error:c},a,b)},I=function(b){if(g.currentReqCmd=m,b.debug&&g.responseDebug(b),g.setCustomHeaderByXhr(d),w)return g.abortXHR(d),b&&b.debug&&g.debug("backend-debug",b),j.resolve(b);if(!b)return j.reject({error:["errResponse","errDataEmpty"]},d,b);if(!a.isPlainObject(b))return j.reject({error:["errResponse","errDataNotJSON"]},d,b);if(b.error)return o&&a.each(g.leafRoots,function(b,c){g.leafRoots[b]=a.grep(c,function(a){return a!==l.target})}),j.reject({error:b.error},d,b);var c=function(){var c,e=function(c){g.leafRoots[l.target]&&b[c]&&a.each(g.leafRoots[l.target],function(a,d){var e;(e=g.file(d))&&b[c].push(e)})},f=function(){g.textMimes={},a.each(g.res("mimes","text"),function(){g.textMimes[this.toLowerCase()]=!0})};return o?e("files"):"tree"===m&&e("tree"),b=g.normalize(b),g.validResponse(m,b)?(o&&(g.api||(g.api=b.api||1,"2.0"==g.api&&void 0!==b.options.uploadMaxSize&&(g.api="2.1"),g.newAPI=g.api>=2,g.oldAPI=!g.newAPI),b.textMimes&&Array.isArray(b.textMimes)&&(g.resources.mimes.text=b.textMimes,f()),!g.textMimes&&f(),b.options&&(D=Object.assign({},C,b.options)),b.netDrivers&&(g.netDrivers=b.netDrivers),b.maxTargets&&(g.maxTargets=b.maxTargets),l.init&&(g.uplMaxSize=g.returnBytes(b.uplMaxSize),g.uplMaxFile=b.uplMaxFile?Math.min(parseInt(b.uplMaxFile),50):20)),"function"==typeof z&&z(b),A&&(c=A.target||"added",b[c]&&b[c].length&&g.one(m+"done",function(){var d=b[c],e=g.findCwdNodes(d),f=function(){var b=g.cwd().hash;return a.map(d,function(a){return a.phash&&b===a.phash?a.hash:null})},h=f(),i=function(b){var c,d,e,i=void 0,j=b.action?b.action.data:void 0;return(j||h.length)&&b.action&&(d=b.action.msg)&&(c=b.action.cmd)&&(!b.action.cwdNot||b.action.cwdNot!==g.cwd().hash)&&(e=b.action.done,j=b.action.data,i=a("<div></div>").append(a('<button type="button" class="ui-button ui-widget ui-state-default ui-corner-all elfinder-tabstop"><span class="ui-button-text">'+g.i18n(d)+"</span></button>").on("mouseenter mouseleave",function(b){a(this).toggleClass("ui-state-hover","mouseenter"==b.type)}).on("click",function(){g.exec(c,j||h,{_userAction:!0,_currentType:"toast",_currentNode:a(this)}),e&&g.one(c+"done",function(){"function"==typeof e?e():"select"===e&&g.trigger("selectfiles",{files:f()})})}))),delete b.action,b.extNode=i,b};A.toast||(A.toast={}),!A.noselect&&g.trigger("selectfiles",{files:g.searchStatus.state>1?a.map(d,function(a){return a.hash}):h}),e.length?(A.noscroll||(e.first().trigger("scrolltoview",{blink:!1}),g.resources.blink(e,"lookme")),a.isPlainObject(A.toast.incwd)&&g.toast(i(A.toast.incwd))):a.isPlainObject(A.toast.inbuffer)&&g.toast(i(A.toast.inbuffer))})),j.resolve(b),void(b.debug&&g.debug("backend-debug",b))):j.reject({error:b.norError||"errResponse"},d,b)};g.abortXHR(d),y?g.lazy(c):c()},J=function(a){d&&"pending"===d.state()&&(g.abortXHR(d,{quiet:!0,abort:!0}),(!a||"unload"!==a.type&&"destroy"!==a.type)&&g.autoSync())},K=function(a){if(g.trigger(m+"done"),"autosync"==a.type){if("stop"!=a.data.action)return}else if(!("unload"==a.type||"destroy"==a.type||"openxhrabort"==a.type||a.data.added&&a.data.added.length))return;J(a)},L=function(b){var c=function(){x=!1,j.reject()};if(b&&"cmd"===b)return m;if(o){if(da&&"pending"===da.state()){if(da._target===l.target)return j.reject("openabort");da.xhr?da.xhr.queueAbort():da.reject("openabort")}da=j,da._target=l.target}if(j.always(function(){delete F.headers["X-elFinderReqid"],o&&(da=null)}).fail(function(b,c,d){var e,h;o&&"openabort"===b&&(b="",x=!1),e={cmd:m,err:b,xhr:c,rc:d},0===b&&ca.length&&(ca=a.grep(ca,function(a){return a("cmd")!==m})),g.trigger("requestError",e),e._getEvent&&e._getEvent().isDefaultPrevented()&&(p=!1,x=!1,b&&(b.error="")),J(),o&&(f=g.file(l.target))&&f.volumeid&&g.isRoot(f)&&delete g.volumeExpires[f.volumeid],g.trigger(m+"fail",d),h="object"==typeof b?b.error:b,h&&(p?g.error(h):g.debug("error",g.i18n(h))),x&&g.sync()}),!m)return x=!1,j.reject({error:"errCmdReq"});if(g.maxTargets&&l.targets&&l.targets.length>g.maxTargets)return x=!1,j.reject({error:["errMaxTargets",g.maxTargets]});if(q&&j.done(G),o){for(;e=M.pop();)e.queueAbort();if(B!==l.target)for(;e=N.pop();)e.queueAbort()}return-1!==a.inArray(m,(g.cmdsToAdd+" autosync").split(" "))&&("autosync"!==m&&(g.autoSync("stop"),j.always(function(){g.autoSync()})),g.trigger("openxhrabort")),delete F.preventFail,g.api>=2.1029&&(E?F.headers["X-elFinderReqid"]=k:Object.assign(F.data,{reqid:k})),j.syncOnFail=function(a){x=!!a},ba++,j.xhr=d=g.transport.send(F).always(function(){F._xhr&&void 0!==F._xhr.responseURL&&(d.responseURL=F._xhr.responseURL||""),--ba,ca.length&&ca.shift()()}).fail(H).done(I),g.api>=2.1029&&(d._requestId=k),o||l.compare&&"info"===m?(d.queueAbort=c,M.unshift(d),l.compare&&g.bind(g.cmdsToAdd+" autosync openxhrabort",K),j.always(function(){var b=a.inArray(d,M);l.compare&&g.unbind(g.cmdsToAdd+" autosync openxhrabort",K),-1!==b&&M.splice(b,1)})):-1!==a.inArray(m,g.abortCmdsOnOpen)&&(d.queueAbort=c,N.unshift(d),j.always(function(){var b=a.inArray(d,N);-1!==b&&N.splice(b,1)})),g.bind("unload destroy",K),j.always(function(){g.unbind("unload destroy",K)}),j},O=function(){return u.type&&u.cnt&&(v&&(u.cancel=j,b.eachCancel&&(u.id=+new Date)),c=setTimeout(function(){s=setTimeout(P,1e3),g.notify(u),t=!0,j.always(function(){u.cnt=-(parseInt(u.cnt)||0),g.notify(u),t=!1})},g.notifyDelay),j.always(function(){clearTimeout(c)})),ba<h?L():(o?ca.unshift(L):ca.push(L),j)},P=function(){var a;t&&s&&(a=1*u.cnt,s=null,g.notify({type:u.type,progress:a,cnt:0,hideCnt:u.hideCnt}),(r+=a)/u.cnt<80&&(s=setTimeout(P,500)))},Q={opts:b,result:!0};return g.api||l.init?(g.trigger("request."+m,Q,!0),Q.result?"object"==typeof Q.result&&Q.result.promise?(Q.result.done(O).fail(function(){g.trigger(m+"done"),j.reject()}),j):O():(g.trigger(m+"done"),j.reject())):(x=!1,j.reject())},this.cache=function(a,b){Array.isArray(a)||(a=[a]),$(a,b)},this.updateCache=function(b){a.isPlainObject(b)&&(b.files&&b.files.length&&$(b.files,"files"),b.tree&&b.tree.length&&$(b.tree,"tree"),b.removed&&b.removed.length&&_(b.removed),b.added&&b.added.length&&$(b.added,"add"),b.changed&&b.changed.length&&$(b.changed,"change"))},this.diff=function(b,c,d){var e={},f=[],g=[],h=[],i=null,j=function(a){for(var b=h.length;b--;)if(h[b].hash==a)return!0};return a.each(b,function(a,b){e[b.hash]=b}),d&&d.length&&(i={},a.each(d,function(){i[this]=!0})),a.each(E,function(a,b){e[a]||c&&b.phash!==c||g.push(a)}),a.each(e,function(b,c){var d,e=E[b],g={};e?(a.each(Object.keys(e),function(){g[this]=!0}),a.each(c,function(a){if(delete g[a],!(i&&i[a]||c[a]===e[a]))return h.push(c),g={},!1}),0!==(d=Object.keys(g).length)&&(i&&a.each(g,function(a){i[a]&&--d}),0!==d&&h.push(c))):f.push(c)}),a.each(g,function(b,c){var d=E[c],f=d.phash;f&&"directory"==d.mime&&-1===a.inArray(f,g)&&e[f]&&!j(f)&&h.push(e[f])}),{added:f,removed:g,changed:h}},this.sync=function(b,c){this.autoSync("stop");var d,e=this,f=function(){var d="",e=0,f=0;return b&&c&&a.each(E,function(a,c){c.phash&&c.phash===b&&(++e,f=Math.max(f,c.ts)),d=e+":"+f}),d},g=f(),h=a.Deferred().always(function(){!d&&e.trigger("sync")}),i=[this.request({data:{cmd:"open",reload:1,target:B,tree:!b&&this.ui.tree?1:0,compare:g},preventDefault:!0})],j=function(){for(var a,b=[],c=e.file(e.root(B)),d=c?c.volumeid:null,f=e.cwd().phash;f;)(a=e.file(f))?(0!==f.indexOf(d)&&(b.push({target:f,cmd:"tree"}),e.isRoot(a)||b.push({target:f,cmd:"parents"}),c=e.file(e.root(f)),d=c?c.volumeid:null),f=a.phash):f=null;return b};return!b&&e.api>=2&&(B!==this.root()&&i.push(this.request({data:{cmd:"parents",target:B},preventDefault:!0})),a.each(j(),function(a,b){i.push(e.request({data:{cmd:b.cmd,target:b.target},preventDefault:!0}))})),a.when.apply(a,i).fail(function(b,f){d=f&&200!=f.status,c&&-1===a.inArray("errOpen",b)?h.reject(b&&0!=f.status?b:void 0):(h.reject(b),e.parseError(b)&&e.request({data:{cmd:"open",target:e.lastDir("")||e.root(),tree:1,init:1},notify:{type:"open",cnt:1,hideCnt:!0}}))}).done(function(a){var c,d,f;if(a.cwd.compare&&g===a.cwd.compare)return h.reject();if(c={tree:[]},(d=arguments.length)>1)for(f=1;f<d;f++)arguments[f].tree&&arguments[f].tree.length&&c.tree.push.apply(c.tree,arguments[f].tree);if(e.api<2.1&&(c.tree||(c.tree=[]),c.tree.push(a.cwd)),a=e.normalize(a),!e.validResponse("open",a))return h.reject(a.norError||"errResponse");if(c=e.normalize(c),!e.validResponse("tree",c))return h.reject(c.norError||"errResponse");var i=e.diff(a.files.concat(c&&c.tree?c.tree:[]),b);return i.added.push(a.cwd),e.updateCache(i),i.removed.length&&e.remove(i),i.added.length&&e.add(i),i.changed.length&&e.change(i),h.resolve(i)}).always(function(){e.autoSync()}),h},this.upload=function(a){return this.transport.upload(a,this)},this.shortcut=function(b){var c,d,e,f,g;if(this.options.allowShortcuts&&b.pattern&&a.isFunction(b.callback))for(c=b.pattern.toUpperCase().split(/\s+/),f=0;f<c.length;f++)d=c[f],g=d.split("+"),(e=1==(e=g.pop()).length?e>0?e:e.charCodeAt(0):e>0?e:a.ui.keyCode[e])&&!J[d]&&(J[d]={keyCode:e,altKey:-1!=a.inArray("ALT",g),ctrlKey:-1!=a.inArray("CTRL",g),shiftKey:-1!=a.inArray("SHIFT",g),type:b.type||"keydown",callback:b.callback,description:b.description,pattern:d});return this},this.shortcuts=function(){var b=[];return a.each(J,function(a,c){b.push([c.pattern,m.i18n(c.description)])}),b},this.clipboard=function(b,c){var d=function(){return a.map(K,function(a){return a.hash})};return void 0!==b&&(K.length&&this.trigger("unlockfiles",{files:d()}),L={},K=a.map(b||[],function(a){var b=E[a];return b?(L[a]=!0,{hash:a,phash:b.phash,name:b.name,mime:b.mime,read:b.read,locked:b.locked,cut:!!c}):null}),this.trigger("changeclipboard",{clipboard:K.slice(0,K.length)}),c&&this.trigger("lockfiles",{files:d()})),K.slice(0,K.length)},this.isCommandEnabled=function(a,b){var c,d,e=m.cwd().volumeid||"";return!b&&m.searchStatus.state>1&&m.selected().length&&(b=m.selected()[0]),c=!b||e&&0===b.indexOf(e)?D.disabledFlip:m.option("disabledFlip",b),!!(d=this._commands[a])&&(d.alwaysEnabled||!c[a])},this.exec=function(b,c,d,e){var f,g;return!e&&this.commandMap[b]&&"hidden"!==this.commandMap[b]&&(b=this.commandMap[b]),"open"===b&&((this.searchStatus.state||this.searchStatus.ininc)&&this.trigger("searchend",{noupdate:!0}),this.autoSync("stop")),!e&&c&&(a.isArray(c)?c.length&&(e=c[0]):e=c),f=this._commands[b]&&this.isCommandEnabled(b,e)?this._commands[b].exec(c,d):a.Deferred().reject("errUnknownCmd"),g=typeof f,"object"===g&&f.promise||(m.debug("warning",'"cmd.exec()" should be returned "$.Deferred" but cmd "'+b+'" returned "'+g+'"'),f=a.Deferred().resolve()),this.trigger("exec",{dfrd:f,cmd:b,files:c,opts:d,dstHash:e}),f},this.dialog=function(b,c){var d=a("<div></div>").append(b).appendTo(p).elfinderdialog(c,m),e=d.closest(".ui-dialog"),f=function(){!d.data("draged")&&d.is(":visible")&&d.elfinderdialog("posInit")};return e.length&&(m.bind("resize",f),e.on("remove",function(){m.unbind("resize",f)})),d},this.toast=function(b){return a('<div class="ui-front"></div>').appendTo(this.ui.toast).elfindertoast(b||{},this)},this.getUI=function(b){return b?this.ui[b]||a():p},this.getCommand=function(a){return void 0===a?this._commands:this._commands[a]},this.resize=function(b,c){var d,e=function(){for(var a=p.outerHeight(!0)-p.innerHeight(),b=p;b.get(0)!==R.get(0)&&(b=b.parent(),a+=b.outerHeight(!0)-b.innerHeight(),b.parent().length););return a},f=!p.hasClass("ui-resizable"),g=p.data("resizeSize")||{w:0,h:0},h={}
;R&&R.data("resizeTm")&&clearTimeout(R.data("resizeTm")),"string"==typeof c&&(d=c.match(/^([0-9.]+)%$/))&&(R&&R.length||(R=a(window)),R.data("marginToMyNode")||R.data("marginToMyNode",e()),R.data("fitToBaseFunc")||R.data("fitToBaseFunc",function(a){var b=R.data("resizeTm");a.preventDefault(),a.stopPropagation(),b&&cancelAnimationFrame(b),p.hasClass("elfinder-fullscreen")||m.UA.Mobile&&R.data("rotated")===m.UA.Rotated||(R.data("rotated",m.UA.Rotated),R.data("resizeTm",requestAnimationFrame(function(){m.restoreSize()})))}),void 0===R.data("rotated")&&R.data("rotated",m.UA.Rotated),c=R.height()*(d[1]/100)-R.data("marginToMyNode"),R.off("resize."+m.namespace,R.data("fitToBaseFunc")),f&&R.on("resize."+m.namespace,R.data("fitToBaseFunc"))),p.css({width:b,height:parseInt(c)}),h.w=Math.round(p.width()),h.h=Math.round(p.height()),p.data("resizeSize",h),h.w===g.w&&h.h===g.h||(p.trigger("resize"),this.trigger("resize",{width:h.w,height:h.h}))},this.restoreSize=function(){this.resize(P,Q)},this.show=function(){p.show(),this.enable().trigger("show")},this.hide=function(){this.options.enableAlways&&(z=y,y=!1),this.disable(),this.trigger("hide"),p.hide()},this.lazy=function(b,c,d){var e=function(a){var b,c=p.data("lazycnt");a?(b=!p.data("lazyrepaint")&&d.repaint,c?p.data("lazycnt",++c):p.data("lazycnt",1).addClass("elfinder-processing"),b&&p.data("lazyrepaint",!0).css("display")):c&&c>1?p.data("lazycnt",--c):(b=p.data("lazyrepaint"),p.data("lazycnt",0).removeData("lazyrepaint").removeClass("elfinder-processing"),b&&p.css("display"),m.trigger("lazydone"))},f=a.Deferred(),g=function(){f.resolve(b.call(f)),e(!1)};return c=c||0,d=d||{},e(!0),c?setTimeout(g,c):requestAnimationFrame(g),f},this.destroy=function(){p&&p[0].elfinder&&(p.hasClass("elfinder-fullscreen")&&m.toggleFullscreen(p),this.options.syncStart=!1,this.autoSync("forcestop"),this.trigger("destroy").disable(),K=[],H=[],I={},J={},a(window).off("."+t),a(document).off("."+t),m.trigger=function(){},a(V).remove(),p.off().removeData().empty().append(r.contents()).attr("class",r.attr("class")).attr("style",r.attr("style")),delete p[0].elfinder,a.each(q,function(b,c){a.each(c,function(a,b){p.on(b.type+(b.namespace?"."+b.namespace:""),b.selector,b.handler)})}))},this.autoSync=function(b){var c;if(m.options.sync>=1e3){if(g&&(clearTimeout(g),g=null,m.trigger("autosync",{action:"stop"})),"stop"===b?++W:W=Math.max(0,--W),W||"forcestop"===b||!m.options.syncStart)return;(c=function(b){var d;D.syncMinMs&&(b||g)&&(b&&m.trigger("autosync",{action:"start"}),d=Math.max(m.options.sync,D.syncMinMs),g&&clearTimeout(g),g=setTimeout(function(){var b,e=!0,f=B;D.syncChkAsTs&&E[f]&&(b=E[f].ts)?m.request({data:{cmd:"info",targets:[f],compare:b,reload:1},preventDefault:!0}).done(function(a){var d;e=!0,a.compare&&(d=a.compare)==b&&(e=!1),e?m.sync(f).always(function(){d&&(E[f].ts=d),c()}):c()}).fail(function(b,e){var f=m.parseError(b);f&&0!=e.status?(m.error(f),Array.isArray(f)&&-1!==a.inArray("errOpen",f)&&m.request({data:{cmd:"open",target:m.lastDir("")||m.root(),tree:1,init:1},notify:{type:"open",cnt:1,hideCnt:!0}})):g=setTimeout(function(){c()},d)}):m.sync(B,!0).always(function(){c()})},d))})(!0)}},this.insideWorkzone=function(a,b,c){var d=this.getUI("workzone").data("rectangle");return c=c||1,!(a<d.left+c||a>d.left+d.width+c||b<d.top+c||b>d.top+d.height+c)},this.toFront=function(b){var c=p.children(".ui-front").removeClass("elfinder-frontmost"),d=c.last();c.css("z-index",""),a(b).addClass("ui-front elfinder-frontmost").css("z-index",d.css("z-index")+1)},this.toHide=function(b,c){var d,e=a(b);!c&&e.hide(),e.hasClass("elfinder-frontmost")&&(e.removeClass("elfinder-frontmost"),d=p.children(".ui-front:visible:not(.elfinder-frontmost)").last(),d.length&&requestAnimationFrame(function(){p.children(".elfinder-frontmost:visible").length||(m.toFront(d),d.trigger("frontmost"))}))},this.getMaximizeCss=function(){return{width:"100%",height:"100%",margin:0,top:0,left:0,display:"block",position:"fixed",zIndex:Math.max(m.zIndex?m.zIndex+1:0,1e3),maxWidth:"",maxHeight:""}},function(){ga&&m.UA.Fullscreen&&(m.UA.Fullscreen=!1,ha&&void 0!==ha.attr("allowfullscreen")&&(m.UA.Fullscreen=!0));var b,c,d,e,f="elfinder-fullscreen",g="elfinder-fullscreen-native",h=function(){var b=0,c=0;a.each(p.children(".ui-dialog,.ui-draggable"),function(d,e){var f=a(e),g=f.position();g.top<0&&(f.css("top",b),b+=20),g.left<0&&(f.css("left",c),c+=20)})},i=function(){var d=m.storage("useFullscreen");e=m.UA.Fullscreen&&(d?d>0:"screen"===m.options.commandsOptions.fullscreen.mode)?{fullElm:function(){return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||null},exitFull:function(){return document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen?document.msExitFullscreen():void 0},toFull:function(a){return a.requestFullscreen?a.requestFullscreen():a.webkitRequestFullscreen?a.webkitRequestFullscreen():a.mozRequestFullScreen?a.mozRequestFullScreen():!!a.msRequestFullscreen&&a.msRequestFullscreen()}}:{fullElm:function(){var a;return p.hasClass(f)?p.get(0):(a=p.find("."+f),a.length?a.get(0):null)},exitFull:function(){var d;a(window).off("resize."+t,k),void 0!==c&&a("body").css("overflow",c),c=void 0,b&&(d=b.elm,j(d),a(d).trigger("resize",{fullscreen:"off"})),a(window).trigger("resize")},toFull:function(b){return c=a("body").css("overflow")||"",a("body").css("overflow","hidden"),a(b).css(m.getMaximizeCss()).addClass(f).trigger("resize",{fullscreen:"on"}),h(),a(window).on("resize."+t,k).trigger("resize"),!0}}},j=function(c){b&&b.elm==c&&(a(c).removeClass(f+" "+g).attr("style",b.style),b=null)},k=function(b){var c;b.target===window&&(d&&cancelAnimationFrame(d),d=requestAnimationFrame(function(){(c=e.fullElm())&&a(c).trigger("resize",{fullscreen:"on"})}))};i(),a(document).on("fullscreenchange."+t+" webkitfullscreenchange."+t+" mozfullscreenchange."+t+" MSFullscreenChange."+t,function(c){if(m.UA.Fullscreen){var i=e.fullElm(),l=a(window);d&&cancelAnimationFrame(d),null===i?(l.off("resize."+t,k),b&&(i=b.elm,j(i),a(i).trigger("resize",{fullscreen:"off"}))):(a(i).addClass(f+" "+g).attr("style","width:100%; height:100%; margin:0; padding:0;").trigger("resize",{fullscreen:"on"}),l.on("resize."+t,k),h()),l.trigger("resize")}}),m.toggleFullscreen=function(c,d){var f=a(c).get(0),g=null;if(g=e.fullElm()){if(g==f){if(!0===d)return g}else if(!1===d)return g;return e.exitFull(),null}return!1===d?null:(i(),b={elm:f,style:a(f).attr("style")},!1!==e.toFull(f)?f:(b=null,null))}}(),function(){var b,c="elfinder-maximized",d=function(a){if(a.target===window&&a.data&&a.data.elm){var c=a.data.elm;b&&cancelAnimationFrame(b),b=requestAnimationFrame(function(){c.trigger("resize",{maximize:"on"})})}},e=function(b){a(window).off("resize."+t,d),a("body").css("overflow",b.data("bodyOvf")),b.removeClass(c).attr("style",b.data("orgStyle")).removeData("bodyOvf").removeData("orgStyle"),b.trigger("resize",{maximize:"off"})},f=function(b){b.data("bodyOvf",a("body").css("overflow")||"").data("orgStyle",b.attr("style")).addClass(c).css(m.getMaximizeCss()),a("body").css("overflow","hidden"),a(window).on("resize."+t,{elm:b},d),b.trigger("resize",{maximize:"on"})};m.toggleMaximize=function(b,d){var g=a(b);if(g.hasClass(c)){if(!0===d)return;e(g)}else{if(!1===d)return;f(g)}}}(),Object.assign(a.ui.keyCode,{F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,DIG0:48,DIG1:49,DIG2:50,DIG3:51,DIG4:52,DIG5:53,DIG6:54,DIG7:55,DIG8:56,DIG9:57,NUM0:96,NUM1:97,NUM2:98,NUM3:99,NUM4:100,NUM5:101,NUM6:102,NUM7:103,NUM8:104,NUM9:105,CONTEXTMENU:93,DOT:190}),this.dragUpload=!1,this.xhrUpload=("undefined"!=typeof XMLHttpRequestUpload||"undefined"!=typeof XMLHttpRequestEventTarget)&&"undefined"!=typeof File&&"undefined"!=typeof FormData,this.transport={},"object"==typeof this.options.transport&&(this.transport=this.options.transport,"function"==typeof this.transport.init&&this.transport.init(this)),"function"!=typeof this.transport.send&&(this.transport.send=function(b){return m.UA.IE||(b._xhr=new XMLHttpRequest,b.xhr=function(){return b.progress&&b._xhr.addEventListener("progress",b.progress),b._xhr}),a.ajax(b)}),"iframe"==this.transport.upload?this.transport.upload=a.proxy(this.uploads.iframe,this):"function"==typeof this.transport.upload?this.dragUpload=!!this.options.dragUploadAllow:this.xhrUpload&&this.options.dragUploadAllow?(this.transport.upload=a.proxy(this.uploads.xhr,this),this.dragUpload=!0):this.transport.upload=a.proxy(this.uploads.iframe,this),this.decodeRawString=function(a){var b=function(a){var b,c,d;for(b=0,c=a.length,d=[];b<c;b++)d.push(a.charCodeAt(b));return d},c=function(a){var c,d,e,f=[];for("string"==typeof a&&(a=b(a)),c=0,d=a.length;e=a[c],c<d;c++)e>=55296&&e<=56319?f.push(64+(1023&e)<<10|1023&a[++c]):f.push(e);return f};return function(a){var b,c,d,e,f=String.fromCharCode;for(b=0,c=a.length,e="";d=a[b],b<c;b++)e+=d<=127?f(d):d<=223&&d>=194?f((31&d)<<6|63&a[++b]):d<=239&&d>=224?f((15&d)<<12|(63&a[++b])<<6|63&a[++b]):d<=247&&d>=240?f(55296|((7&d)<<8|(63&a[++b])<<2|a[++b]>>>4&3)-64,56320|(15&a[b++])<<6|63&a[b]):f(65533);return e}(c(a))},this.getContents=function(b,c,d){var e,f,g=this,h=a.Deferred(),i=c||"arraybuffer";return h.fail(function(){f&&"pending"===f.state()&&f.reject()}),e=g.openUrl(b),g.isSameOrigin(e)||(e=g.openUrl(b,!0)),f=g.request(Object.assign({data:{cmd:"get"},options:{url:e,type:"get",cache:!0,dataType:"binary",responseType:i,processData:!1},notify:{type:"file",cnt:1,hideCnt:!0},cancel:!0},d||{})).fail(function(){h.reject()}).done(function(a){h.resolve(a)}),h},this.getBinaryByUrl=function(b,c,d){var e,f=this,g=a.Deferred();return g.fail(function(){e&&"pending"===e.state()&&e.reject()}),e=f.request(Object.assign({data:{cmd:"get"},options:Object.assign({type:"get",cache:!0,dataType:"binary",responseType:"blob",processData:!1},b)},d||{})).fail(function(){g.reject()}).done(function(a){c&&c(a),g.resolve(a)}),g},this.getMimetype=function(a,b){var c,d,e=b;return d=(a+"").match(/\.([^.]+)$/),d&&(c=d[1])&&(f||(f=m.arrayFlip(m.mimeTypes)),(e=f[c.toLowerCase()])||(e=b)),e},m.hashCheckers=[],function(b){var c={};window.Worker&&window.ArrayBuffer&&(b.options.cdns.sparkmd5&&(c.SparkMD5=!0,b.hashCheckers.push("md5")),b.options.cdns.jssha&&(c.jsSHA=!0,b.hashCheckers=b.hashCheckers.concat(["sha1","sha224","sha256","sha384","sha512","sha3-224","sha3-256","sha3-384","sha3-512","shake128","shake256"]))),b.getContentsHashes=function(d,e,f,g){var h,i=a.Deferred(),j=b.arrayFlip(e||["md5"],!0),k=[],l={},m=f||{shake128len:256,shake256len:512};return i.fail(function(){h&&h.reject()}),Object.keys(c).length?h=b.getContents(d,"arraybuffer",g).done(function(e){j.md5&&c.SparkMD5&&k.push(function(){var f=a.Deferred();try{var g=b.getWorker();f.fail(function(){g&&g.terminate()}),g.onmessage=function(a){if(g&&g.terminate(),a.data.hash){var c;l.md5=a.data.hash,(c=b.file(d))&&(c.md5=l.md5)}else a.data.error&&(l.md5=a.data.error);i.notify(l),f.resolve()},g.onerror=function(a){f.reject()},g.postMessage({scripts:[b.options.cdns.sparkmd5,b.getWorkerUrl("calcfilehash.js")],data:{type:"md5",bin:e}}),i.fail(function(){f.reject()})}catch(h){f.reject(),delete c.SparkMD5}return f}()),c.jsSHA&&a.each(["1","224","256","384","512","3-224","3-256","3-384","3-512","ke128","ke256"],function(f,g){j["sha"+g]&&k.push(function(){var f=a.Deferred();try{var h=b.getWorker();f.fail(function(){h&&h.terminate()}),h.onmessage=function(a){if(h&&h.terminate(),a.data.hash){var c;l["sha"+g]=a.data.hash,(c=b.file(d))&&(c["sha"+g]=l["sha"+g])}else a.data.error&&(l["sha"+g]=a.data.error);i.notify(l),f.resolve()},h.onerror=function(a){f.reject()},h.postMessage({scripts:[b.options.cdns.jssha,b.getWorkerUrl("calcfilehash.js")],data:{type:g,bin:e,hashOpts:m}}),i.fail(function(){f.reject()})}catch(j){f.reject(),delete c.jsSHA}return f}())}),k.length?a.when.apply(null,k).always(function(){i.resolve(l)}):i.reject()}).fail(function(){i.reject()}):i.reject(),i}}(this),this.parseError=function(b){var c=b;return a.isPlainObject(c)&&(c=c.error),c},this.error=function(){var a,b=arguments[0],c=arguments[1]||null;return 1==arguments.length&&"function"==typeof b?m.bind("error",b):(a=this.parseError(b),!0!==a&&a?m.trigger("error",{error:a,opts:c}):this)},a.each(A,function(b,c){m[c]=function(){var b=arguments[0];return 1==arguments.length&&"function"==typeof b?m.bind(c,b):m.trigger(c,a.isPlainObject(b)?b:{})}}),this.enable(function(){!y&&m.api&&m.visible()&&m.ui.overlay.is(":hidden")&&!p.children(".elfinder-dialog."+m.res("class","editing")+":visible").length&&(y=!0,document.activeElement&&document.activeElement.blur(),p.removeClass("elfinder-disabled"))}).disable(function(){z=y,y=!1,p.addClass("elfinder-disabled")}).open(function(){H=[]}).select(function(b){var c=0,d=[];H=a.grep(b.data.selected||b.data.value||[],function(a){return d.length||m.maxTargets&&++c>m.maxTargets?(d.push(a),!1):!!E[a]}),d.length&&(m.trigger("unselectfiles",{files:d,inselect:!0}),m.toast({mode:"warning",msg:m.i18n(["errMaxTargets",m.maxTargets])}))}).error(function(b){var c,d,e={cssClass:"elfinder-dialog-error",title:m.i18n("error"),resizable:!1,destroyOnClose:!0,buttons:{}},f=m.getUI();f.children(".elfinder-dialog-error").length<m.options.maxErrorDialogs?(e.buttons[m.i18n(m.i18n("btnClose"))]=function(){a(this).elfinderdialog("close")},b.data.opts&&a.isPlainObject(b.data.opts)&&Object.assign(e,b.data.opts),m.dialog('<span class="elfinder-dialog-icon elfinder-dialog-icon-error"></span>'+m.i18n(b.data.error),e)):(c=f.children(".elfinder-dialog-error:last").children(".ui-dialog-content:first"),d=c.children(".elfinder-error-counter"),d.length?d.data("cnt",parseInt(d.data("cnt"))+1).html(m.i18n(["moreErrors",d.data("cnt")])):(d=a('<span class="elfinder-error-counter">'+m.i18n(["moreErrors",1])+"</span>").data("cnt",1),c.append("<br/>",d)))}).bind("tmb",function(b){a.each(b.data.images||[],function(a,b){E[a]&&(E[a].tmb=b)})}).bind("searchstart",function(a){Object.assign(m.searchStatus,a.data),m.searchStatus.state=1}).bind("search",function(a){m.searchStatus.state=2}).bind("searchend",function(){m.searchStatus.state=0,m.searchStatus.ininc=!1,m.searchStatus.mixed=!1}).bind("canMakeEmptyFile",function(b){var c=b.data,d={};c&&Array.isArray(c.mimes)&&(c.unshift||(d=m.mimesCanMakeEmpty),a.each(c.mimes,function(){d[this]||(d[this]=m.mimeTypes[this])}),c.unshift&&(m.mimesCanMakeEmpty=Object.assign(d,m.mimesCanMakeEmpty)))}).bind("themechange",function(){requestAnimationFrame(function(){m.trigger("uiresize")})}),!0===this.options.sound&&this.bind("playsound",function(b){var c=V.canPlayType&&V.canPlayType('audio/wav; codecs="1"'),d=b.data&&b.data.soundFile;c&&d&&""!=c&&"no"!=c&&a(V).html('<source src="'+S+d+'" type="audio/wav">')[0].play()}),a.each(this.options.handlers,function(a,b){m.bind(a,b)}),this.history=new this.history(this),this.roots={},this.leafRoots={},this.volumeExpires={},this._commands={},Array.isArray(this.options.commands)||(this.options.commands=[]),-1!==a.inArray("*",this.options.commands)&&(this.options.commands=Object.keys(this.commands)),this.commandMap={},this.volOptions={},this.hasVolOptions=!1,this.trashes={},this.optionsByHashes={},this.uiAutoHide=[],this.one("open",function(){m.uiAutoHide.length&&setTimeout(function(){m.trigger("uiautohide")},500)}),this.bind("uiautohide",function(){m.uiAutoHide.length&&m.uiAutoHide.shift()()}),this.options.width&&(P=this.options.width),this.options.height&&(Q=this.options.height),this.options.heightBase&&(R=a(this.options.heightBase)),S=this.options.soundPath?this.options.soundPath.replace(/\/+$/,"")+"/":this.baseUrl+S,this.options.parrotHeaders&&Array.isArray(this.options.parrotHeaders)&&this.options.parrotHeaders.length?(this.parrotHeaders=this.options.parrotHeaders,a.each(this.parrotHeaders,function(a,b){var c=m.sessionStorage("core-ph:"+b);c&&(m.customHeaders[b]=c)})):this.parrotHeaders=[],m.one("opendone",function(){var b;a(document).on("click."+t,function(b){y&&!m.options.enableAlways&&!a(b.target).closest(p).length&&m.disable()}).on(v+" "+w+" "+x+" "+u,ea),m.options.useBrowserHistory&&a(window).on("popstate."+t,function(b){var c,d,e=b.originalEvent.state||{},f=!!e.thash,g=p.find(".elfinder-frontmost:visible"),h=p.find(".elfinder-navbar-dir,.elfinder-cwd-filename").find("input,textarea");f||(e={thash:m.cwd().hash},a("html,body").animate({scrollTop:p.offset().top})),g.length||h.length?(history.pushState(e,null,location.pathname+location.search+"#elf_"+e.thash),g.length?g.hasClass(m.res("class","preventback"))||(g.hasClass("elfinder-contextmenu")?a(document).trigger(a.Event("keydown",{keyCode:a.ui.keyCode.ESCAPE,ctrlKey:!1,shiftKey:!1,altKey:!1,metaKey:!1})):g.hasClass("elfinder-dialog")?g.elfinderdialog("close"):g.trigger("close")):h.trigger(a.Event("keydown",{keyCode:a.ui.keyCode.ESCAPE,ctrlKey:!1,shiftKey:!1,altKey:!1,metaKey:!1}))):f?!a.isEmptyObject(m.files())&&m.request({data:{cmd:"open",target:e.thash,onhistory:1},notify:{type:"open",cnt:1,hideCnt:!0},syncOnFail:!0}):(c=function(){d.trigger("click")},m.one("open",c,!0),d=m.toast({msg:m.i18n("pressAgainToExit"),onHidden:function(){m.unbind("open",c),history.pushState(e,null,location.pathname+location.search+"#elf_"+e.thash)}}))}),a(window).on("resize."+t,function(a){a.target===this&&(b&&cancelAnimationFrame(b),b=requestAnimationFrame(function(){var a=p.data("resizeSize")||{w:0,h:0},b={w:Math.round(p.width()),h:Math.round(p.height())};p.data("resizeSize",b),b.w===a.w&&b.h===a.h||(p.trigger("resize"),m.trigger("resize",{width:b.w,height:b.h}))}))}).on("beforeunload."+t,function(b){var c,d;if(!m.pauseUnloadCheck()){if(p.is(":visible")&&(m.ui.notify.children().length&&-1!==a.inArray("hasNotifyDialog",m.options.windowCloseConfirm)?c=m.i18n("ntfsmth"):p.find("."+m.res("class","editing")).length&&-1!==a.inArray("editingFile",m.options.windowCloseConfirm)?c=m.i18n("editingFile"):(d=Object.keys(m.selected()).length)&&-1!==a.inArray("hasSelectedItem",m.options.windowCloseConfirm)?c=m.i18n("hasSelected",""+d):(d=Object.keys(m.clipboard()).length)&&-1!==a.inArray("hasClipboardData",m.options.windowCloseConfirm)&&(c=m.i18n("hasClipboard",""+d)),c))return b.returnValue=c,c;m.trigger("unload")}}),a(window).on("message."+t,function(a){var b,c,d=a.originalEvent||null;if(d&&(0===m.convAbsUrl(m.options.url).indexOf(d.origin)||0===m.convAbsUrl(m.uploadURL).indexOf(d.origin)))try{b=JSON.parse(d.data),(c=b.data||null)&&(c.error?(b.bind&&m.trigger(b.bind+"fail",c),m.error(c.error)):(c.warning&&m.error(c.warning),m.updateCache(c),c.removed&&c.removed.length&&m.remove(c),c.added&&c.added.length&&m.add(c),c.changed&&c.changed.length&&m.change(c),b.bind&&(m.trigger(b.bind,c),m.trigger(b.bind+"done")),c.sync&&m.sync()))}catch(a){m.sync()}}),m.options.enableAlways?(a(window).on("focus."+t,function(a){a.target===this&&m.enable()}),ga&&a(window.top).on("focus."+t,function(){!m.enable()||ha&&!ha.is(":visible")||requestAnimationFrame(function(){a(window).trigger("focus")})})):ga&&a(window).on("blur."+t,function(a){y&&a.target===this&&m.disable()}),ga&&p.on("click",function(b){a(window).trigger("focus")}),m.options.enableByMouseOver&&p.on("mouseenter touchstart",function(b){ga&&a(window).trigger("focus"),!m.enabled()&&m.enable()}),a(window).on("visibilitychange."+t,function(a){var b=document.hidden||document.webkitHidden||document.msHidden;m.options.syncStart&&m.autoSync(b?"stop":void 0)})}),p[0].elfinder=this,n.push(function(){var b=m.lang,c=m.i18nBaseUrl+"elfinder."+b+".js",d=a.Deferred().done(function(){m.i18[b]&&(m.lang=b),m.trigger("i18load"),j="en"===m.lang?m.i18.en:a.extend(!0,{},m.i18.en,m.i18[m.lang])});return m.i18[b]?d.resolve():(m.lang="en",m.hasRequire?require([c],function(){d.resolve()},function(){d.resolve()}):m.loadScript([c],function(){d.resolve()},{loadType:"tag",error:function(){d.resolve()}})),d}()),k=function(){var b;return m.messages=j.messages,a.fn.selectable&&a.fn.draggable&&a.fn.droppable&&a.fn.resizable&&a.fn.button&&a.fn.slider?p.length?m.options.url?(b=Object.assign({name:m.i18n("name"),perm:m.i18n("perms"),date:m.i18n("modify"),size:m.i18n("size"),kind:m.i18n("kind"),modestr:m.i18n("mode"),modeoct:m.i18n("mode"),modeboth:m.i18n("mode")},m.options.uiOptions.cwd.listView.columnsCustomName),m.getColumnName=function(a){return b[a]||m.i18n(a)},m.direction=j.direction,m.dateFormat=m.options.dateFormat||j.dateFormat,m.fancyFormat=m.options.fancyDateFormat||j.fancyDateFormat,m.nonameDateFormat=(m.options.nonameDateFormat||j.nonameDateFormat).replace(/[\/\\]/g,"_"),m.cssClass="ui-helper-reset ui-helper-clearfix ui-widget ui-widget-content ui-corner-all elfinder elfinder-"+("rtl"==m.direction?"rtl":"ltr")+(m.UA.Touch?" elfinder-touch"+(m.options.resizable?" touch-punch":""):"")+(m.UA.Mobile?" elfinder-mobile":"")+(m.UA.iOS?" elfinder-ios":"")+" "+m.options.cssClass,p.addClass(m.cssClass).on(u,function(){!y&&m.enable()}),function(){var b,c,d,e,f,g=v+"draggable keyup."+t+"draggable";m.draggable={appendTo:p,addClasses:!1,distance:4,revert:!0,refreshPositions:!1,cursor:"crosshair",cursorAt:{left:50,top:47},scroll:!1,start:function(g,h){var i,j,k=h.helper,l=a.grep(k.data("files")||[],function(a){return!!a&&(L[a]=!0,!0)}),n=!1;for(f=p.attr("style"),p.width(p.width()).height(p.height()),b="ltr"===m.direction,c=m.getUI("workzone").data("rectangle"),d=c.top+c.height,e=d-m.getUI("navdock").outerHeight(!0),m.draggingUiHelper=k,i=l.length;i--;)if(j=l[i],E[j].locked){n=!0,k.data("locked",!0);break}!n&&m.trigger("lockfiles",{files:l}),k.data("autoScrTm",setInterval(function(){k.data("autoScr")&&m.autoScroll[k.data("autoScr")](k.data("autoScrVal"))},50))},drag:function(f,g){var h,i,j,k=g.helper;((i=c.top>f.pageY)||e<f.pageY)&&(h=c.cwdEdge>f.pageX?(b?"navbar":"cwd")+(i?"Up":"Down"):(b?"cwd":"navbar")+(i?"Up":"Down"),i||("cwd"===h.substr(0,3)?d<f.pageY?j=d:h=null:j=e),h&&(k.data("autoScr",h),k.data("autoScrVal",Math.pow(i?c.top-f.pageY:f.pageY-j,1.3)))),h||k.data("autoScr")&&k.data("refreshPositions",1).data("autoScr",null),k.data("refreshPositions")&&a(this).elfUiWidgetInstance("draggable")&&(k.data("refreshPositions")>0?(a(this).draggable("option",{refreshPositions:!0,elfRefresh:!0}),k.data("refreshPositions",-1)):(a(this).draggable("option",{refreshPositions:!1,elfRefresh:!1}),k.data("refreshPositions",null)))},stop:function(b,c){var d,e=c.helper;a(document).off(g),a(this).elfUiWidgetInstance("draggable")&&a(this).draggable("option",{refreshPositions:!1}),m.draggingUiHelper=null,m.trigger("focus").trigger("dragstop"),e.data("droped")||(d=a.grep(e.data("files")||[],function(a){return!!a}),m.trigger("unlockfiles",{files:d}),m.trigger("selectfiles",{files:m.selected()})),m.enable(),p.attr("style",f),e.data("autoScrTm")&&clearInterval(e.data("autoScrTm"))},helper:function(b,c){var d,e,f,h=this.id?a(this):a(this).parents("[id]:first"),i=a('<div class="elfinder-drag-helper"><span class="elfinder-drag-helper-icon-status"></span></div>'),j=function(b){var c,d=b.mime,e=m.tmb(b);return c='<div class="elfinder-cwd-icon elfinder-cwd-icon-drag '+m.mime2class(d)+' ui-corner-all"></div>',e?c=a(c).addClass(e.className).css("background-image","url('"+e.url+"')").get(0).outerHTML:b.icon&&(c=a(c).css(m.getIconStyle(b,!0)).get(0).outerHTML),b.csscls&&(c='<div class="'+b.csscls+'">'+c+"</div>"),c};return m.draggingUiHelper&&m.draggingUiHelper.stop(!0,!0),m.trigger("dragstart",{target:h[0],originalEvent:b},!0),d=h.hasClass(m.res("class","cwdfile"))?m.selected():[m.navId2Hash(h.attr("id"))],i.append(j(E[d[0]])).data("files",d).data("locked",!1).data("droped",!1).data("namespace",t).data("dropover",0),(e=d.length)>1&&i.append(j(E[d[e-1]])+'<span class="elfinder-drag-num">'+e+"</span>"),a(document).on(g,function(a){var b=a.shiftKey||a.ctrlKey||a.metaKey;f!==b&&(f=b,i.is(":visible")&&i.data("dropover")&&!i.data("droped")&&(i.toggleClass("elfinder-drag-helper-plus",!!i.data("locked")||f),m.trigger(f?"unlockfiles":"lockfiles",{files:d,helper:i})))}),i}}}(),m.commands.getfile&&("function"==typeof m.options.getFileCallback?(m.bind("dblclick",function(a){a.preventDefault(),m.exec("getfile").fail(function(){m.exec("open",a.data&&a.data.file?[a.data.file]:void 0)})}),m.shortcut({pattern:"enter",description:m.i18n("cmdgetfile"),callback:function(){m.exec("getfile").fail(function(){m.exec("mac"==m.OS?"rename":"open")})}}).shortcut({pattern:"ctrl+enter",description:m.i18n("mac"==m.OS?"cmdrename":"cmdopen"),callback:function(){m.exec("mac"==m.OS?"rename":"open")}})):m.options.getFileCallback=null),a.each(m.commands,function(b,c){var d,e,f=Object.assign({},c.prototype);if(a.isFunction(c)&&!m._commands[b]&&(c.prototype.forceLoad||-1!==a.inArray(b,m.options.commands))){if(d=c.prototype.extendsCmd||""){if(!a.isFunction(m.commands[d]))return!0;c.prototype=Object.assign({},O,new m.commands[d],c.prototype)}else c.prototype=Object.assign({},O,c.prototype);m._commands[b]=new c,c.prototype=f,e=m.options.commandsOptions[b]||{},d&&m.options.commandsOptions[d]&&(e=a.extend(!0,{},m.options.commandsOptions[d],e)),m._commands[b].setup(b,e),m._commands[b].linkedCmds.length&&a.each(m._commands[b].linkedCmds,function(b,c){var d=m.commands[c];a.isFunction(d)&&!m._commands[c]&&(d.prototype=O,m._commands[c]=new d,m._commands[c].setup(c,m.options.commandsOptions[c]||{}))})}}),m.ui={workzone:a("<div></div>").appendTo(p).elfinderworkzone(m),navbar:a("<div></div>").appendTo(p).elfindernavbar(m,m.options.uiOptions.navbar||{}),navdock:a("<div></div>").appendTo(p).elfindernavdock(m,m.options.uiOptions.navdock||{}),contextmenu:a("<div></div>").appendTo(p).elfindercontextmenu(m),overlay:a("<div></div>").appendTo(p).elfinderoverlay({show:function(){m.disable()},hide:function(){z&&m.enable()}}),cwd:a("<div></div>").appendTo(p).elfindercwd(m,m.options.uiOptions.cwd||{}),notify:m.dialog("",{cssClass:"elfinder-dialog-notify"+(m.options.notifyDialog.canClose?"":" elfinder-titlebar-button-hide"),position:m.options.notifyDialog.position,absolute:!0,resizable:!1,autoOpen:!1,allowMinimize:!0,closeOnEscape:!!m.options.notifyDialog.canClose,title:"&nbsp;",width:m.options.notifyDialog.width?parseInt(m.options.notifyDialog.width):null,minHeight:null,minimize:function(){m.ui.notify.trigger("minimize")}}),statusbar:a('<div class="ui-widget-header ui-helper-clearfix ui-corner-bottom elfinder-statusbar"></div>').hide().appendTo(p),toast:a('<div class="elfinder-toast"></div>').appendTo(p),bottomtray:a('<div class="elfinder-bottomtray">').appendTo(p),progressbar:a('<div class="elfinder-ui-progressbar">').appendTo(p)},m.trigger("uiready"),a.each(m.options.ui||[],function(b,c){var d="elfinder"+c,e=m.options.uiOptions[c]||{};!m.ui[c]&&a.fn[d]&&(m.ui[c]=a("<"+(e.tag||"div")+"/>").appendTo(p),m.ui[c][d](m,e))}),m.ui.progressbar.appendTo(m.ui.workzone),m.ui.notify.prev(".ui-dialog-titlebar").append('<div class="elfinder-ui-progressbar"></div>'),m.resize(P,Q),m.options.resizable&&(p.resizable({resize:function(a,b){m.resize(b.size.width,b.size.height)},handles:"se",minWidth:300,minHeight:200}),m.UA.Touch&&p.addClass("touch-punch")),function(){var a=m.getUI("navbar"),b=m.getUI("cwd").parent();m.autoScroll={navbarUp:function(b){a.scrollTop(Math.max(0,a.scrollTop()-b))},navbarDown:function(b){a.scrollTop(a.scrollTop()+b)},cwdUp:function(a){b.scrollTop(Math.max(0,b.scrollTop()-a))},cwdDown:function(a){b.scrollTop(b.scrollTop()+a)}}}(),m.UA.Touch&&function(){var a,b,c,d,e,f,g,h,i,j=m.getUI("navbar"),k=m.getUI("toolbar"),l="touchmove.stopscroll",n=function(a){var c=a.originalEvent.touches||[{}],d=c[0].pageY||null;(!b||d<b)&&(a.preventDefault(),h&&clearTimeout(h))},o=function(a){a.preventDefault(),h&&clearTimeout(h)},q=function(){h=setTimeout(function(){p.off(l)},100)},r=50;j=j.children().length?j:null,k=k.length?k:null,p.on("touchstart touchmove touchend",function(h){if("touchend"===h.type)return a=!1,b=!1,void q();var s,t,u,v,w,x=h.originalEvent.touches||[{}],y=x[0].pageX||null,z=x[0].pageY||null,A="ltr"===m.direction;null===y||null===z||"touchstart"===h.type&&x.length>1||("touchstart"===h.type?(c=p.offset(),d=p.width(),j&&(a=!1,j.is(":hidden")?(i||(i=Math.max(50,d/10)),(A?y-c.left:d+c.left-y)<i&&(a=y)):h.originalEvent._preventSwipeX||(f=j.width(),t=A?y<c.left+f:y>c.left+d-f,t?(i=Math.max(50,d/10),a=y):a=!1)),k&&(b=!1,h.originalEvent._preventSwipeY||(g=k.height(),e=c.top,z-e<(k.is(":hidden")?r:g+30)&&(b=z,p.on(l,k.is(":hidden")?o:n))))):(j&&!1!==a&&(s=(A?a>y:a<y)?"navhide":"navshow",u=Math.abs(a-y),("navhide"===s&&u>.6*f||u>("navhide"===s?f/3:45)&&("navshow"===s||(A?y<c.left+20:y>c.left+d-20)))&&(m.getUI("navbar").trigger(s,{handleW:i}),a=!1)),k&&!1!==b&&(v=k.offset().top,Math.abs(b-z)>Math.min(45,g/3)&&("slideDown"===(w=b>z?"slideUp":"slideDown")||v+20>z)&&(k.is("slideDown"===w?":hidden":":visible")&&k.stop(!0,!0).trigger("toggle",{duration:100,handleH:r}),b=!1))))})}(),m.dragUpload&&function(){var b,c,d=function(b){return"TEXTAREA"!==b.target.nodeName&&"INPUT"!==b.target.nodeName&&0===a(b.target).closest("div.ui-dialog-content").length},e="native-drag-enter",f="native-drag-disable",g="class",h=m.res(g,"navdir"),i=(m.res(g,"droppable"),m.res(g,"adroppable"),m.res(g,"navarrow"),m.res(g,"adroppable")),j=m.getUI("workzone"),k="ltr"===m.direction,l=function(){c&&cancelAnimationFrame(c),c=null};p.on("dragenter",function(a){l(),d(a)&&(a.preventDefault(),a.stopPropagation(),b=j.data("rectangle"))}).on("dragleave",function(a){l(),d(a)&&(a.preventDefault(),a.stopPropagation())}).on("dragover",function(a){var e;d(a)?(a.preventDefault(),a.stopPropagation(),a.originalEvent.dataTransfer.dropEffect="none",c||(c=requestAnimationFrame(function(){var d,f=b.top+b.height,g=f-m.getUI("navdock").outerHeight(!0);((e=a.pageY<b.top)||a.pageY>g)&&(d=b.cwdEdge>a.pageX?(k?"navbar":"cwd")+(e?"Up":"Down"):(k?"cwd":"navbar")+(e?"Up":"Down"),e||"cwd"===d.substr(0,3)&&(f<a.pageY?g=f:d=""),d&&m.autoScroll[d](Math.pow(e?b.top-a.pageY:a.pageY-g,1.3))),c=null}))):l()}).on("drop",function(a){l(),d(a)&&(a.stopPropagation(),a.preventDefault())}),p.on("dragenter",".native-droppable",function(b){if(b.originalEvent.dataTransfer){var c,d=a(b.currentTarget),g=b.currentTarget.id||null,h=null;if(!g){h=m.cwd(),d.data(f,!1);try{a.each(b.originalEvent.dataTransfer.types,function(a,b){"elfinderfrom:"===b.substr(0,13)&&(c=b.substr(13).toLowerCase())})}catch(b){}}h&&(!h.write||c&&c===(window.location.href+h.hash).toLowerCase())?d.data(f,!0):(b.preventDefault(),b.stopPropagation(),d.data(e,!0),d.addClass(i))}}).on("dragleave",".native-droppable",function(b){if(b.originalEvent.dataTransfer){var c=a(b.currentTarget);b.preventDefault(),b.stopPropagation(),c.data(e)?c.data(e,!1):c.removeClass(i)}}).on("dragover",".native-droppable",function(b){if(b.originalEvent.dataTransfer){var c=a(b.currentTarget);b.preventDefault(),b.stopPropagation(),b.originalEvent.dataTransfer.dropEffect=c.data(f)?"none":"copy",c.data(e,!1)}}).on("drop",".native-droppable",function(b){if(b.originalEvent&&b.originalEvent.dataTransfer){var c,d=a(b.currentTarget);b.preventDefault(),b.stopPropagation(),d.removeClass(i),c=b.currentTarget.id?d.hasClass(h)?m.navId2Hash(b.currentTarget.id):m.cwdId2Hash(b.currentTarget.id):m.cwd().hash,b.originalEvent._target=c,m.exec("upload",{dropEvt:b.originalEvent,target:c},void 0,c)}})}(),!1===m.cssloaded&&(m.cssloaded=!0,m.trigger("cssloaded")),m.zIndexCalc(),void m.trigger("init").request({data:{cmd:"open",target:m.startDir(),init:1,tree:1},preventDone:!0,notify:{type:"open",cnt:1,hideCnt:!0},freeze:!0}).fail(function(){m.trigger("fail").disable().lastDir(""),I={},J={},a(document).add(p).off("."+t),m.trigger=function(){}}).done(function(b){var c=function(a){var b=m.file(m.trashes[a]);m.options.debug,b&&b.volumeid&&delete m.volOptions[b.volumeid].trashHash,m.trashes[a]=!1,m.debug("backend-error",'Trash hash "'+a+'" was not found or not writable.')},d={};m.options.rawStringDecoder&&m.registRawStringDecoder(m.options.rawStringDecoder),m.zIndexCalc(),m.load().debug("api",m.api),
p.trigger("resize"),Z(b),m.trigger("open",b,!1),m.trigger("opendone"),ga&&m.options.enableAlways&&a(window).trigger("focus"),a.each(m.trashes,function(a){var b=m.file(a);b?"directory"===b.mime&&b.write||c(a):d[a]=!0}),Object.keys(d).length&&m.request({data:{cmd:"info",targets:Object.keys(d)},preventDefault:!0}).done(function(b){b&&b.files&&a.each(b.files,function(a,b){"directory"===b.mime&&b.write&&delete d[b.hash]})}).always(function(){a.each(d,c)}),m[m.options.enableAlways?"enable":"disable"]()})):alert(m.i18n("errURL")):alert(m.i18n("errNode")):alert(m.i18n("errJqui"))},e&&"function"==typeof e&&(m.bootCallback=e,e.call(p.get(0),m,{dfrdsBeforeBootup:n})),a.when.apply(null,n).done(function(){k()}).fail(function(a){m.error(a)})};return(void 0===c||c)&&(window.elFinder=d),d.prototype={uniqueid:0,res:function(a,b){return this.resources[a]&&this.resources[a][b]},OS:-1!==navigator.userAgent.indexOf("Mac")?"mac":-1!==navigator.userAgent.indexOf("Win")?"win":"other",UA:function(){var a=!document.unqueID&&!window.opera&&!window.sidebar&&"localStorage"in window&&"WebkitAppearance"in document.documentElement.style,b=a&&window.chrome;return{ltIE6:void 0===window.addEventListener&&void 0===document.documentElement.style.maxHeight,ltIE7:void 0===window.addEventListener&&void 0===document.querySelectorAll,ltIE8:void 0===window.addEventListener&&void 0===document.getElementsByClassName,ltIE9:document.uniqueID&&document.documentMode<=9,ltIE10:document.uniqueID&&document.documentMode<=10,gtIE11:document.uniqueID&&document.documentMode>=11,IE:document.uniqueID,Firefox:window.sidebar,Opera:window.opera,Webkit:a,Chrome:b,Edge:!(!b||!window.msCredentials),Safari:a&&!window.chrome,Mobile:void 0!==window.orientation,Touch:void 0!==window.ontouchstart,iOS:navigator.platform.match(/^iP(?:[ao]d|hone)/),Mac:navigator.platform.match(/^Mac/),Fullscreen:void 0!==(document.exitFullscreen||document.webkitExitFullscreen||document.mozCancelFullScreen||document.msExitFullscreen),Angle:0,Rotated:!1,CSS:function(){var a,b=document.createElement("a").style,c=document.createElement("p").style;return a="position:sticky;position:-webkit-sticky;",a+="width:-webkit-max-content;width:-moz-max-content;width:-ms-max-content;width:max-content;",b.cssText=a,{positionSticky:-1!==b.position.indexOf("sticky"),widthMaxContent:-1!==b.width.indexOf("max-content"),flex:void 0!==c.flex}}()}}(),cookieEnabled:function(){var a=!1,b="elftest=";return document.cookie=b+"1",a=2===document.cookie.split(b).length,document.cookie=b+";max-age=0",a}(),hasRequire:"function"==typeof define&&define.amd,currentReqCmd:"",keyState:{},i18:{en:{translator:"",language:"English",direction:"ltr",dateFormat:"d.m.Y H:i",fancyDateFormat:"$1 H:i",nonameDateFormat:"ymd-His",messages:{}},months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["msJan","msFeb","msMar","msApr","msMay","msJun","msJul","msAug","msSep","msOct","msNov","msDec"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},kinds:{unknown:"Unknown",directory:"Folder",group:"Selects",symlink:"Alias","symlink-broken":"AliasBroken","application/x-empty":"TextPlain","application/postscript":"Postscript","application/vnd.ms-office":"MsOffice","application/msword":"MsWord","application/vnd.ms-word":"MsWord","application/vnd.openxmlformats-officedocument.wordprocessingml.document":"MsWord","application/vnd.ms-word.document.macroEnabled.12":"MsWord","application/vnd.openxmlformats-officedocument.wordprocessingml.template":"MsWord","application/vnd.ms-word.template.macroEnabled.12":"MsWord","application/vnd.ms-excel":"MsExcel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":"MsExcel","application/vnd.ms-excel.sheet.macroEnabled.12":"MsExcel","application/vnd.openxmlformats-officedocument.spreadsheetml.template":"MsExcel","application/vnd.ms-excel.template.macroEnabled.12":"MsExcel","application/vnd.ms-excel.sheet.binary.macroEnabled.12":"MsExcel","application/vnd.ms-excel.addin.macroEnabled.12":"MsExcel","application/vnd.ms-powerpoint":"MsPP","application/vnd.openxmlformats-officedocument.presentationml.presentation":"MsPP","application/vnd.ms-powerpoint.presentation.macroEnabled.12":"MsPP","application/vnd.openxmlformats-officedocument.presentationml.slideshow":"MsPP","application/vnd.ms-powerpoint.slideshow.macroEnabled.12":"MsPP","application/vnd.openxmlformats-officedocument.presentationml.template":"MsPP","application/vnd.ms-powerpoint.template.macroEnabled.12":"MsPP","application/vnd.ms-powerpoint.addin.macroEnabled.12":"MsPP","application/vnd.openxmlformats-officedocument.presentationml.slide":"MsPP","application/vnd.ms-powerpoint.slide.macroEnabled.12":"MsPP","application/pdf":"PDF","application/xml":"XML","application/vnd.oasis.opendocument.text":"OO","application/vnd.oasis.opendocument.text-template":"OO","application/vnd.oasis.opendocument.text-web":"OO","application/vnd.oasis.opendocument.text-master":"OO","application/vnd.oasis.opendocument.graphics":"OO","application/vnd.oasis.opendocument.graphics-template":"OO","application/vnd.oasis.opendocument.presentation":"OO","application/vnd.oasis.opendocument.presentation-template":"OO","application/vnd.oasis.opendocument.spreadsheet":"OO","application/vnd.oasis.opendocument.spreadsheet-template":"OO","application/vnd.oasis.opendocument.chart":"OO","application/vnd.oasis.opendocument.formula":"OO","application/vnd.oasis.opendocument.database":"OO","application/vnd.oasis.opendocument.image":"OO","application/vnd.openofficeorg.extension":"OO","application/x-shockwave-flash":"AppFlash","application/flash-video":"Flash video","application/x-bittorrent":"Torrent","application/javascript":"JS","application/rtf":"RTF","application/rtfd":"RTF","application/x-font-ttf":"TTF","application/x-font-otf":"OTF","application/x-rpm":"RPM","application/x-web-config":"TextPlain","application/xhtml+xml":"HTML","application/docbook+xml":"DOCBOOK","application/x-awk":"AWK","application/x-gzip":"GZIP","application/x-bzip2":"BZIP","application/x-xz":"XZ","application/zip":"ZIP","application/x-zip":"ZIP","application/x-rar":"RAR","application/x-tar":"TAR","application/x-7z-compressed":"7z","application/x-jar":"JAR","text/plain":"TextPlain","text/x-php":"PHP","text/html":"HTML","text/javascript":"JS","text/css":"CSS","text/rtf":"RTF","text/rtfd":"RTF","text/x-c":"C","text/x-csrc":"C","text/x-chdr":"CHeader","text/x-c++":"CPP","text/x-c++src":"CPP","text/x-c++hdr":"CPPHeader","text/x-shellscript":"Shell","application/x-csh":"Shell","text/x-python":"Python","text/x-java":"Java","text/x-java-source":"Java","text/x-ruby":"Ruby","text/x-perl":"Perl","text/x-sql":"SQL","text/xml":"XML","text/x-comma-separated-values":"CSV","text/x-markdown":"Markdown","image/x-ms-bmp":"BMP","image/jpeg":"JPEG","image/gif":"GIF","image/png":"PNG","image/tiff":"TIFF","image/x-targa":"TGA","image/vnd.adobe.photoshop":"PSD","image/xbm":"XBITMAP","image/pxm":"PXM","audio/mpeg":"AudioMPEG","audio/midi":"AudioMIDI","audio/ogg":"AudioOGG","audio/mp4":"AudioMPEG4","audio/x-m4a":"AudioMPEG4","audio/wav":"AudioWAV","audio/x-mp3-playlist":"AudioPlaylist","video/x-dv":"VideoDV","video/mp4":"VideoMPEG4","video/mpeg":"VideoMPEG","video/x-msvideo":"VideoAVI","video/quicktime":"VideoMOV","video/x-ms-wmv":"VideoWM","video/x-flv":"VideoFlash","video/x-matroska":"VideoMKV","video/ogg":"VideoOGG"},mimeTypes:{},rules:{defaults:function(a){return!(!a||a.added&&!Array.isArray(a.added)||a.removed&&!Array.isArray(a.removed)||a.changed&&!Array.isArray(a.changed))},open:function(b){return b&&b.cwd&&b.files&&a.isPlainObject(b.cwd)&&Array.isArray(b.files)},tree:function(a){return a&&a.tree&&Array.isArray(a.tree)},parents:function(a){return a&&a.tree&&Array.isArray(a.tree)},tmb:function(b){return b&&b.images&&(a.isPlainObject(b.images)||Array.isArray(b.images))},upload:function(b){return b&&(a.isPlainObject(b.added)||Array.isArray(b.added))},search:function(a){return a&&a.files&&Array.isArray(a.files)}},commands:{},cmdsToAdd:"archive duplicate extract mkdir mkfile paste rm upload",parseUploadData:function(b){var c,d=this;if(!a.trim(b))return{error:["errResponse","errDataEmpty"]};try{c=JSON.parse(b)}catch(e){return{error:["errResponse","errDataNotJSON"]}}return c=d.normalize(c),d.validResponse("upload",c)?(c.removed=a.merge(c.removed||[],a.map(c.added||[],function(a){return d.file(a.hash)?a.hash:null})),c):{error:c.norError||["errResponse"]}},iframeCnt:0,uploads:{xhrUploading:!1,failSyncTm:null,chunkfailReq:{},checkExists:function(b,c,d,e){var f,g=a.Deferred(),h=[],i={},j=function(){for(var a=b.length;--a>-1;)b[a]._remove=!0},k=function(){g.resolve(h,i)},l=function(){var g=[],l=[],m=c!==d.cwd().hash?d.path(c,!0)+d.option("separator",c):"",n=function(a){var c=a==l.length-1,f={cssClass:"elfinder-confirm-upload",title:d.i18n("cmdupload"),text:["errExists",m+l[a].name,"confirmRepl"],all:!c,accept:{label:"btnYes",callback:function(b){c||b?k():n(++a)}},reject:{label:"btnNo",callback:function(d){var e;if(d)for(e=l.length;a<e--;)b[l[e].i]._remove=!0;else b[l[a].i]._remove=!0;c||d?k():n(++a)}},cancel:{label:"btnCancel",callback:function(){j(),k()}},buttons:[{label:"btnBackup",cssClass:"elfinder-confirm-btn-backup",callback:function(b){var d;if(b)for(d=l.length;a<d--;)h.push(l[d].name);else h.push(l[a].name);c||b?k():n(++a)}}]};e||f.buttons.push({label:"btnRename"+(c?"":"All"),cssClass:"elfinder-confirm-btn-rename",callback:function(){h=null,k()}}),d.iframeCnt>0&&delete f.reject,d.confirm(f)};return d.file(c).read?(f=a.map(b,function(a,b){return!a.name||d.UA.iOS&&"image.jpg"===a.name?null:{i:b,name:a.name}}),void d.request({data:{cmd:"ls",target:c,intersect:a.map(f,function(a){return a.name})},notify:{type:"preupload",cnt:1,hideCnt:!0},preventDefault:!0}).done(function(b){var e,h;b&&(b.error?j():d.options.overwriteUploadConfirm&&d.option("uploadOverwrite",c)&&b.list&&(Array.isArray(b.list)?g=b.list||[]:(e=[],g=a.map(b.list,function(a){return"string"==typeof a?a:(e=e.concat(a),!1)}),e.length&&(g=g.concat(e)),i=b.list),l=a.grep(f,function(b){return-1!==a.inArray(b.name,g)}),l.length&&g.length&&c==d.cwd().hash&&(h=a.map(d.files(c),function(a){return a.name}),a.grep(g,function(b){return-1===a.inArray(b,h)}).length&&d.sync()))),l.length>0?n(0):k()}).fail(function(a){j(),k(),a&&d.error(a)})):void k()};return d.api>=2.1&&"object"==typeof b[0]?l():k(),g},checkFile:function(b,c,d){if(b.checked||"files"==b.type)return b.files;if("data"==b.type){var e,f,g=a.Deferred(),h=a.Deferred(),i=[],j=[],k=0,l=[],m=!1,n=function(a){return Array.prototype.slice.call(a||[],0)},o=function(a){var b,d,e=c.options.folderUploadExclude[c.OS]||null,f=a.length,g=function(){--k<1&&"pending"===h.state()&&h.resolve()},p=function(a){e&&a.name.match(e)||(j.push(b.fullPath||""),i.push(a)),g()},d=function(a){var b=[],c=function(){a.readEntries(function(a){if(m||!a.length){for(var d=0;d<b.length;d++){if(m){h.reject();break}o([b[d]])}g()}else b=b.concat(n(a)),c()},g)};c()};k++;for(var q=0;q<f;q++){if(m){h.reject();break}(b=a[q])&&(b.isFile?(k++,b.file(p,g)):b.isDirectory&&c.api>=2.1&&(k++,l.push(b.fullPath),d(b.createReader())))}return g(),h};return e=a.map(b.files.items,function(a){return a.getAsEntry?a.getAsEntry():a.webkitGetAsEntry()}),a.each(e,function(a,b){if(b.isDirectory)return f=!0,!1}),e.length>0?(c.uploads.checkExists(e,d,c,f).done(function(f,h){var k=[];c.options.overwriteUploadConfirm&&c.option("uploadOverwrite",d)&&(null===f&&(b.overwrite=0,f=[]),e=a.grep(e,function(b){var e,g,i,j;return b.isDirectory&&f.length&&-1!==(e=a.inArray(b.name,f))&&(f.splice(e,1),g=c.uniqueName(b.name+c.options.backupSuffix,null,""),a.each(h,function(a,c){if(b.name==c)return i=a,!1}),i||(i=c.fileByName(b.name,d).hash),c.lockfiles({files:[i]}),j=c.request({data:{cmd:"rename",target:i,name:g},notify:{type:"rename",cnt:1}}).fail(function(){b._remove=!0,c.sync()}).always(function(){c.unlockfiles({files:[i]})}),k.push(j)),!b._remove})),a.when.apply(a,k).done(function(){var a,b,d=+new Date;e.length>0?(b=c.escape(e[0].name),e.length>1&&(b+=" ... "+e.length+c.i18n("items")),a=setTimeout(function(){c.notify({type:"readdir",id:d,cnt:1,hideCnt:!0,msg:c.i18n("ntfreaddir")+" ("+b+")",cancel:function(){m=!0}})},c.options.notifyDelay),o(e).done(function(){a&&clearTimeout(a),c.notify({type:"readdir",id:d,cnt:-1}),m?g.reject():g.resolve([i,j,f,h,l])}).fail(function(){g.reject()})):g.reject()})}),g.promise()):g.reject()}var p=[],q=[],r=b.files[0];if("html"==b.type){var s,t=a("<html></html>").append(a.parseHTML(r.replace(/ src=/gi," _elfsrc=")));a("img[_elfsrc]",t).each(function(){var c,d,e=a(this),f=e.closest("a");f&&f.attr("href")&&f.attr("href").match(/\.(?:jpe?g|gif|bmp|png)/i)&&(d=f.attr("href")),c=e.attr("_elfsrc"),c&&(d?(-1==a.inArray(d,p)&&p.push(d),-1==a.inArray(c,q)&&q.push(c)):-1==a.inArray(c,p)&&p.push(c)),1===p.length&&p[0].match(/^data:image\/png/)&&(b.clipdata=!0)}),s=a("a[href]",t),s.each(function(){var b,c,d=function(a){var b=document.createElement("a");return b.href=a,b};(b=a(this).text())&&(c=d(a(this).attr("href")),c.href&&c.href.match(/^(?:ht|f)tp/i)&&(1===s.length||!c.pathname.match(/(?:\.html?|\/[^\/.]*)$/i)||a.trim(b).match(/\.[a-z0-9-]{1,10}$/i))&&-1==a.inArray(c.href,p)&&-1==a.inArray(c.href,q)&&p.push(c.href))})}else{var u,v,w;for(u=/((?:ht|f)tps?:\/\/[-_.!~*\'()a-z0-9;\/?:\@&=+\$,%#\*\[\]]+)/gi;v=u.exec(r);)w=v[1].replace(/&amp;/g,"&"),-1==a.inArray(w,p)&&p.push(w)}return p},xhr:function(b,c){var d=c||this,e=d.getUI(),f=new XMLHttpRequest,g=null,h=null,i=null,j=b.checked,k=b.isDataType||"data"==b.type,l=b.target||d.cwd().hash,m=b.dropEvt||null,n=b.extraData||null,o=-1!=d.option("uploadMaxConn",l),p=Math.min(5,Math.max(1,d.option("uploadMaxConn",l))),q=1e4,r=30,s=0,t=function(b){var c=a.Deferred();return b.promise?b.always(function(a){c.resolve(Array.isArray(a)&&a.length?k?a[0][0]:a[0]:{})}):c.resolve(b.length?k?b[0][0]:b[0]:{}),c},u=a.Deferred().fail(function(a){var b,e=d.parseError(a);"userabort"===e&&(b=!0,e=void 0),w&&(d.uploads.xhrUploading||b)?t(w).done(function(a){b||N(e,a),a._cid?d.uploads.chunkfailReq[a._cid]||(d.uploads.chunkfailReq[a._cid]=!0,setTimeout(function(){c.request({data:{cmd:"upload",target:l,chunk:a._chunk,cid:a._cid,upload:["chunkfail"],mimes:"chunkfail"},options:{type:"post",url:d.uploadURL},preventDefault:!0}).always(function(){delete d.uploads.chunkfailReq[a._chunk]})},1e3)):(d.uploads.failSyncTm&&clearTimeout(d.uploads.failSyncTm),d.uploads.failSyncTm=setTimeout(function(){d.sync(l)},1e3))}):N(e),!b&&d.sync(),d.uploads.xhrUploading=!1,w=null}).done(function(b){d.uploads.xhrUploading=!1,w=null,b&&(d.currentReqCmd="upload",b.warning&&N(b.warning),d.updateCache(b),b.removed&&b.removed.length&&d.remove(b),b.added&&b.added.length&&d.add(b),b.changed&&b.changed.length&&d.change(b),d.trigger("upload",b,!1),d.trigger("uploaddone"),b.toasts&&Array.isArray(b.toasts)&&a.each(b.toasts,function(){this.msg&&d.toast(this)}),b.sync&&d.sync(),b.debug&&(d.responseDebug(b),c.debug("backend-debug",b)))}).always(function(){d.abortXHR(f),e.off("uploadabort",I),a(window).off("unload",I),g&&clearTimeout(g),h&&clearTimeout(h),i&&clearTimeout(i),j&&!b.multiupload&&H()&&d.notify({type:"upload",cnt:-x,progress:0,size:0}),h&&F&&d.notify({type:"chunkmerge",cnt:-x}),S&&D.children(".elfinder-notify-chunkmerge").length&&d.notify({type:"chunkmerge",cnt:-1})}),v=new FormData,w=b.input?b.input.files:d.uploads.checkFile(b,d,l),x=b.checked&&k?w[0].length:w.length,y=!1,z=0,A=0,B=0,C=!1,D=d.ui.notify,E=!0,F=!1,G=!1,H=function(){return!C&&(T=D.children(".elfinder-notify-upload")).length&&(C=!0),C},I=function(a,b){G=!0,d.abortXHR(f,{quiet:!0,abort:!0}),u.reject(b),H()&&d.notify({type:"upload",cnt:-1*T.data("cnt"),progress:0,size:0})},J=function(a,b){T.children(".elfinder-notify-cancel")[a?"show":"hide"](),E=a},K=function(a){return a||(a=B),setTimeout(function(){C=!0,d.notify({type:"upload",cnt:x,progress:z-A,size:a,cancel:function(){e.trigger("uploadabort","userabort")}}),T=D.children(".elfinder-notify-upload"),A=z,b.multiupload?E&&J(!0):J(E&&z<a)},d.options.notifyDelay)},L=function(){s++<=r?(H()&&A&&d.notify({type:"upload",cnt:0,progress:0,size:A}),d.abortXHR(f,{quiet:!0}),A=z=0,setTimeout(function(){var a;G||(f.open("POST",d.uploadURL,!0),d.api>=2.1029&&(a=(+new Date).toString(16)+Math.floor(1e3*Math.random()).toString(16),"function"==typeof v.delete&&v.delete("reqid"),v.append("reqid",a),f._requestId=a),f.send(v))},q)):e.trigger("uploadabort",["errAbort","errTimeout"])},M=function(){C&&u.notifyWith(T,[{cnt:T.data("cnt"),progress:T.data("progress"),total:T.data("total")}])},N=function(a,b,c){a&&d.trigger("xhruploadfail",{error:a,file:b}),c?a&&(P<d.options.maxErrorDialogs&&(Array.isArray(a)?O=O.concat(a):O.push(a)),P++):a?d.error(a):(O.length&&(P>=d.options.maxErrorDialogs&&(O=O.concat("moreErrors",P-d.options.maxErrorDialogs)),d.error(O)),O=[],P=0)},O=[],P=0,Q=b.renames||null,R=b.hashes||null,S=!1,T=a();if(e.one("uploadabort",I),a(window).one("unload."+c.namespace,I),!S&&(A=z),!k&&!x)return u.reject(["errUploadNoFiles"]);f.addEventListener("error",function(){0==f.status?G?u.reject():!k&&b.files&&a.grep(b.files,function(a){return!a.type&&a.size===(d.UA.Safari?1802:0)}).length?u.reject(["errAbort","errFolderUpload"]):b.input&&a.grep(b.input.files,function(a){return!a.type&&a.size===(d.UA.Safari?1802:0)}).length?u.reject(["errUploadNoFiles"]):L():e.trigger("uploadabort","errConnect")},!1),f.addEventListener("load",function(a){var c,h,j=f.status,l=0,m="";if(d.setCustomHeaderByXhr(f),j>=400?m=j>500?"errResponse":["errResponse","errServerError"]:f.responseText||(m=["errResponse","errDataEmpty"]),m&&(e.trigger("uploadabort"),t(w||{}).done(function(a){return u.reject(a._cid?null:m)})),z=B,H()&&(l=z-A)&&(d.notify({type:"upload",cnt:0,progress:l,size:0}),M()),c=d.parseUploadData(f.responseText),c._chunkmerged){v=new FormData;var n=[{_chunkmerged:c._chunkmerged,_name:c._name,_mtime:c._mtime}];return S=!0,e.off("uploadabort",I),i=setTimeout(function(){d.notify({type:"chunkmerge",cnt:1})},d.options.notifyDelay),void(k?U(n,w[1]):U(n))}c._multiupload=!!b.multiupload,c.error?(h={cmd:"upload",err:c,xhr:f,rc:f.status},d.trigger("uploadfail",c),d.trigger("requestError",h),h._getEvent&&h._getEvent().isDefaultPrevented()&&(c.error=""),c._chunkfailure||c._multiupload?(G=!0,d.uploads.xhrUploading=!1,g&&clearTimeout(g),T.length?(d.notify({type:"upload",cnt:-x,progress:0,size:0}),u.reject(c)):u.reject()):u.reject(c)):u.resolve(c)},!1),f.upload.addEventListener("loadstart",function(a){!S&&a.lengthComputable&&(z=a.loaded,s&&(z=0),B=a.total,z||(z=parseInt(.05*B)),H()&&(d.notify({type:"upload",cnt:0,progress:z-A,size:b.multiupload?0:B}),A=z,M()))},!1),f.upload.addEventListener("progress",function(a){var c;a.lengthComputable&&!S&&f.readyState<2&&(z=a.loaded,!b.checked&&z>0&&!g&&(g=K(f._totalSize-z)),B||(B=a.total,z||(z=parseInt(.05*B))),c=z-A,H()&&c/a.total>=.05&&(d.notify({type:"upload",cnt:0,progress:c,size:0}),A=z,M()),!F&&z>=B&&!y&&(F=!0,h=setTimeout(function(){d.notify({type:"chunkmerge",cnt:x})},d.options.notifyDelay)),E&&!b.multiupload&&z>=B&&H()&&J(!1))},!1);var U=function(e,h){var i,q,r,s,t,w,z,A,B,C,D,F,I,L,M,P=0,S=1,T=[],U=0,V=x,W=0,X=[],Y=(new Date).getTime().toString().substr(-9),Z=Math.min((c.uplMaxSize?c.uplMaxSize:2097152)-8190,c.options.uploadMaxChunkSize),$=!o&&"",_=function(e,f){var h,i,j,n=[],o=0;if(!G){for(;e.length&&n.length<f;)n.push(e.shift());if(o=n.length){i=o;for(var p=0;p<o&&!G;p++)h=k?n[p][0][0]._cid||null:n[p][0]._cid||null,j=!(!j&&!h),L[h]?I--:c.exec("upload",{type:b.type,isDataType:k,files:n[p],checked:!0,target:l,dropEvt:m,renames:Q,hashes:R,multiupload:!0,overwrite:0===b.overwrite?0:void 0,clipdata:b.clipdata},void 0,l).fail(function(a){a&&"No such command"===a&&(G=!0,c.error(["errUpload","errPerm"])),h&&(L[h]=!0)}).always(function(b){b&&b.added&&(D=a.merge(D,b.added)),I<=++F&&(c.trigger("multiupload",{added:D}),g&&clearTimeout(g),H()&&d.notify({type:"upload",cnt:-x,progress:0,size:0})),e.length?_(e,1):(--i<=1&&E&&J(!1,j),u.resolve())})}}(n.length<1||G)&&(G?(g&&clearTimeout(g),h&&(L[h]=!0),u.reject()):(u.resolve(),d.uploads.xhrUploading=!1))},aa=function(){d.uploads.xhrUploading?setTimeout(aa,100):(d.uploads.xhrUploading=!0,_(T,p))};if(!j&&(k||"files"==b.type)){for((i=c.option("uploadMaxSize",l))||(i=0),t=0;t<e.length;t++){try{B=e[t],q=B.size,!1===$&&($="",d.api>=2.1&&("slice"in B?$="slice":"mozSlice"in B?$="mozSlice":"webkitSlice"in B&&($="webkitSlice")))}catch(ba){x--,V--;continue}if(i&&q>i||!$&&c.uplMaxSize&&q>c.uplMaxSize)N(["errUploadFile",B.name,"errUploadFileSize"],B,!0),x--,V--;else if(!B.type||d.uploadMimeCheck(B.type,l))if($&&q>Z){for(w=0,z=Z,A=-1,V=Math.floor((q-1)/Z),r=B.lastModified?Math.round(B.lastModified/1e3):0,s=b.clipdata?c.date(c.nonameDateFormat)+".png":B.name,W+=q,X[Y]=0;w<q;)C=B[$](w,z),C._chunk=s+"."+ ++A+"_"+V+".part",C._cid=Y,C._range=w+","+C.size+","+q,C._mtime=r,X[Y]++,P&&U++,void 0===T[U]&&(T[U]=[],k&&(T[U][0]=[],T[U][1]=[])),P=Z,S=1,k?(T[U][0].push(C),T[U][1].push(h[t])):T[U].push(C),w=z,z=w+Z;null==C?(N(["errUploadFile",B.name,"errUploadFileSize"],B,!0),x--,V--):(V+=A,P=0,S=1,U++)}else(c.uplMaxSize&&P+q>c.uplMaxSize||S>c.uplMaxFile)&&(P=0,S=1,U++),void 0===T[U]&&(T[U]=[],k&&(T[U][0]=[],T[U][1]=[])),k?(T[U][0].push(B),T[U][1].push(h[t])):T[U].push(B),P+=q,W+=q,S++;else N(["errUploadFile",B.name,"errUploadMime","("+B.type+")"],B,!0),x--,V--}if(O.length&&N(),0==T.length)return b.checked=!0,!1;if(T.length>1)return g=K(W),D=[],F=0,I=T.length,L=[],aa(),!0;k?(e=T[0][0],h=T[0][1]):e=T[0]}return j||(c.UA.Safari&&b.files?f._totalSize=W:g=K(W)),j=!0,e.length||u.reject(["errUploadNoFiles"]),f.open("POST",d.uploadURL,!0),c.customHeaders&&a.each(c.customHeaders,function(a){f.setRequestHeader(a,this)}),c.xhrFields&&a.each(c.xhrFields,function(a){a in f&&(f[a]=this)}),d.api>=2.1029&&(M=(+new Date).toString(16)+Math.floor(1e3*Math.random()).toString(16),v.append("reqid",M),f._requestId=M),v.append("cmd","upload"),v.append(d.newAPI?"target":"current",l),Q&&Q.length&&(a.each(Q,function(a,b){v.append("renames[]",b)}),v.append("suffix",c.options.backupSuffix)),R&&a.each(R,function(a,b){v.append("hashes["+a+"]",b)}),a.each(d.customData,function(a,b){v.append(a,b)}),a.each(d.options.onlyMimes,function(a,b){v.append("mimes[]",b)}),a.each(e,function(a,d){var e,f;d._chunkmerged?(v.append("chunk",d._chunkmerged),v.append("upload[]",d._name),v.append("mtime[]",d._mtime),b.clipdata&&v.append("overwrite",0),y=!0):(d._chunkfail?(v.append("upload[]","chunkfail"),v.append("mimes","chunkfail")):(b.clipdata?d._chunk||(b.overwrite=0,e=c.date(c.nonameDateFormat)+".png"):d.name&&(e=d.name,c.UA.iOS&&(e.match(/^image\.jpe?g$/i)?(b.overwrite=0,e=c.date(c.nonameDateFormat)+".jpg"):e.match(/^capturedvideo\.mov$/i)&&(b.overwrite=0,e=c.date(c.nonameDateFormat)+".mov")),f=(d.webkitRelativePath||d.relativePath||d._relativePath||"").replace(/[^\/]+$/,""),e=f+e),e?v.append("upload[]",d,e):v.append("upload[]",d)),d._chunk?(v.append("chunk",d._chunk),v.append("cid",d._cid),v.append("range",d._range),v.append("mtime[]",d._mtime),y=!0):v.append("mtime[]",d.lastModified?Math.round(d.lastModified/1e3):0))}),k&&a.each(h,function(a,b){v.append("upload_path[]",b)}),0===b.overwrite&&v.append("overwrite",0),m&&v.append("dropWith",parseInt((m.altKey?"1":"0")+(m.ctrlKey?"1":"0")+(m.metaKey?"1":"0")+(m.shiftKey?"1":"0"),2)),n&&a.each(n,function(a,b){v.append(a,b)}),f.send(v),!0};if(k)j?U(w[0],w[1]):w.done(function(b){if(Q=[],x=b[0].length){if(b[4]&&b[4].length)return void c.request({data:{cmd:"mkdir",target:l,dirs:b[4]},notify:{type:"mkdir",cnt:b[4].length},preventFail:!0}).fail(function(a){a=a||["errUnknown"],"errCmdParams"===a[0]?p=1:(p=0,u.reject(a))}).done(function(c){var d=!1;c.hashes||(c.hashes={}),b[1]=a.map(b[1],function(a,e){return b[0][e]._relativePath=a.replace(/^\//,""),a=a.replace(/\/[^\/]*$/,""),""===a?l:c.hashes[a]?c.hashes[a]:(d=!0,b[0][e]._remove=!0,null)}),d&&(b[0]=a.grep(b[0],function(a){return!a._remove}))}).always(function(a){p&&(Q=b[2],R=b[3],U(b[0],b[1]))});b[1]=a.map(b[1],function(){return l}),Q=b[2],R=b[3],U(b[0],b[1])}else u.reject(["errUploadNoFiles"])}).fail(function(){u.reject()});else if(w.length>0)if(b.clipdata||null!=Q)U(w)||u.reject();else{var V=[],W=[],X=c.options.folderUploadExclude[c.OS]||null;a.each(w,function(b,c){var d,e,f=c.webkitRelativePath||c.relativePath||"";return!!f&&(X&&c.name.match(X)?(c._remove=!0,f=void 0):(f="/"+f.replace(/\/[^\/]*$/,"").replace(/^\//,""))&&-1===a.inArray(f,V)&&(V.push(f),-1!==(d=f.substr(1).indexOf("/"))&&(e=f.substr(0,d+1))&&-1===a.inArray(e,V)&&V.unshift(e)),void W.push(f))}),Q=[],R={},V.length?function(){var b=a.map(V,function(a){return-1===a.substr(1).indexOf("/")?{name:a.substr(1)}:null}),d=[];c.uploads.checkExists(b,l,c,!0).done(function(e,f){var g,h,i=[];c.options.overwriteUploadConfirm&&c.option("uploadOverwrite",l)&&(d=a.map(b,function(a){return a._remove?a.name:null}),b=a.grep(b,function(a){return!a._remove})),d.length&&a.each(W.concat(),function(b,c){0===a.inArray(c,d)&&(w[b]._remove=!0,W[b]=void 0)}),w=a.grep(w,function(a){return!a._remove}),W=a.grep(W,function(a){return void 0!==a}),b.length?(a.Deferred(),e.length?a.each(e,function(b,d){g=c.uniqueName(d+c.options.backupSuffix,null,""),a.each(f,function(a,b){if(e[0]==b)return h=a,!1}),h||(h=c.fileByName(e[0],l).hash),c.lockfiles({files:[h]}),i.push(c.request({data:{cmd:"rename",target:h,name:g},notify:{type:"rename",cnt:1}}).fail(function(a){u.reject(a),c.sync()}).always(function(){c.unlockfiles({files:[h]})}))}):i.push(null),a.when.apply(a,i).done(function(){c.request({data:{cmd:"mkdir",target:l,dirs:V},notify:{type:"mkdir",cnt:V.length},preventFail:!0}).fail(function(a){a=a||["errUnknown"],"errCmdParams"===a[0]?p=1:(p=0,u.reject(a))}).done(function(b){var c=!1;b.hashes||(b.hashes={}),W=a.map(W.concat(),function(a,d){return"/"===a?l:b.hashes[a]?b.hashes[a]:(c=!0,w[d]._remove=!0,null)}),c&&(w=a.grep(w,function(a){return!a._remove}))}).always(function(a){p&&(k=!0,U(w,W)||u.reject())})})):u.reject()})}():c.uploads.checkExists(w,l,c).done(function(d,e){c.options.overwriteUploadConfirm&&c.option("uploadOverwrite",l)&&(R=e,null===d?b.overwrite=0:Q=d,w=a.grep(w,function(a){return!a._remove})),x=w.length,x>0?U(w)||u.reject():u.reject()})}else u.reject();return u},iframe:function(b,c){var d,e,f,g,h=c||this,i=!!b.input&&b.input,j=!i&&h.uploads.checkFile(b,h),k=a.Deferred().fail(function(a){a&&h.error(a)}),l="iframe-"+c.namespace+ ++h.iframeCnt,m=a('<form action="'+h.uploadURL+'" method="post" enctype="multipart/form-data" encoding="multipart/form-data" target="'+l+'" style="display:none"><input type="hidden" name="cmd" value="upload" /></form>'),n=this.UA.IE,o=function(){g&&clearTimeout(g),f&&clearTimeout(f),e&&h.notify({type:"upload",cnt:-d}),setTimeout(function(){n&&a('<iframe src="javascript:false;"></iframe>').appendTo(m),m.remove(),p.remove()},100)},p=a('<iframe src="'+(n?"javascript:false;":"about:blank")+'" name="'+l+'" style="position:absolute;left:-1000px;top:-1000px" ></iframe>').on("load",function(){p.off("load").on("load",function(){o(),k.resolve()}),f=setTimeout(function(){e=!0,h.notify({type:"upload",cnt:d})},h.options.notifyDelay),h.options.iframeTimeout>0&&(g=setTimeout(function(){o(),k.reject(["errConnect","errTimeout"])},h.options.iframeTimeout)),m.submit()}),q=b.target||h.cwd().hash,r=[],s=[],t=[],u={};if(j&&j.length)a.each(j,function(a,b){m.append('<input type="hidden" name="upload[]" value="'+b+'"/>')}),d=1;else{if(!(i&&a(i).is(":file")&&a(i).val()))return k.reject();c.options.overwriteUploadConfirm&&c.option("uploadOverwrite",q)&&(r=i.files?i.files:[{name:a(i).val().replace(/^(?:.+[\\\/])?([^\\\/]+)$/,"$1")}],s.push(h.uploads.checkExists(r,q,h).done(function(c,e){u=e,null===c?b.overwrite=0:(t=c,(d=a.grep(r,function(a){return!a._remove}).length)!=r.length&&(d=0))}))),d=i.files?i.files.length:1,m.append(i)}return a.when.apply(a,s).done(function(){return d<1?k.reject():(m.append('<input type="hidden" name="'+(h.newAPI?"target":"current")+'" value="'+q+'"/>').append('<input type="hidden" name="html" value="1"/>').append('<input type="hidden" name="node" value="'+h.id+'"/>').append(a(i).attr("name","upload[]")),t.length>0&&(a.each(t,function(a,b){m.append('<input type="hidden" name="renames[]" value="'+h.escape(b)+'"/>')}),m.append('<input type="hidden" name="suffix" value="'+c.options.backupSuffix+'"/>')),u&&a.each(t,function(a,b){m.append('<input type="hidden" name="['+a+']" value="'+h.escape(b)+'"/>')}),0===b.overwrite&&m.append('<input type="hidden" name="overwrite" value="0"/>'),a.each(h.options.onlyMimes||[],function(a,b){m.append('<input type="hidden" name="mimes[]" value="'+h.escape(b)+'"/>')}),a.each(h.customData,function(a,b){m.append('<input type="hidden" name="'+a+'" value="'+h.escape(b)+'"/>')}),m.appendTo("body"),void p.appendTo("body"))}),k}},one:function(a,b,c){var d=this,e=a.toLowerCase(),f=function(a,c){return d.toUnbindEvents[e]||(d.toUnbindEvents[e]=[]),d.toUnbindEvents[e].push({type:e,callback:f}),(b.done?b.done:b).apply(this,arguments)};return b.done&&(f={done:f}),this.bind(e,f,c)},localStorage:function(b,c){var d,e,f,g,h,i=this,j=window.localStorage,k="elfinder-"+(b||"")+this.id,l=window.location.pathname+"-elfinder-",m=this.id,n=[];if(void 0===b)return g=l.length,h=-1*m.length,a.each(j,function(a){a.substr(0,g)===l&&a.substr(h)===m&&n.push(a)}),a.each(n,function(a,b){j.removeItem(b)}),!0;if(b=l+b+m,null===c)return j.removeItem(b);if(void 0===c&&!(d=j.getItem(b))&&(e=j.getItem(k))&&(c=e,j.removeItem(k)),void 0!==c){"string"!==(f=typeof c)&&"number"!==f&&(c=JSON.stringify(c));try{j.setItem(b,c)}catch(o){try{j.clear(),j.setItem(b,c)}catch(o){i.debug("error",o.toString())}}d=j.getItem(b)}if(d&&("{"===d.substr(0,1)||"["===d.substr(0,1)))try{return JSON.parse(d)}catch(o){}return d},sessionStorage:function(a,b){var c,d,e,f=this;try{c=window.sessionStorage}catch(g){}if(c){if(null===b)return c.removeItem(a);if(void 0!==b){"string"!==(e=typeof b)&&"number"!==e&&(b=JSON.stringify(b));try{c.setItem(a,b)}catch(g){try{c.clear(),c.setItem(a,b)}catch(g){f.debug("error",g.toString())}}}if((d=c.getItem(a))&&("{"===d.substr(0,1)||"["===d.substr(0,1)))try{return JSON.parse(d)}catch(g){}return d}},cookie:function(b,c){var d,e,f,g,h,i;if(b="elfinder-"+b+this.id,void 0===c){if(this.cookieEnabled&&document.cookie&&""!=document.cookie)for(f=document.cookie.split(";"),b+="=",g=0;g<f.length;g++)if(f[g]=a.trim(f[g]),f[g].substring(0,b.length)==b){if(h=decodeURIComponent(f[g].substring(b.length)),"{"===h.substr(0,1)||"["===h.substr(0,1))try{return JSON.parse(h)}catch(j){}return h}return null}if(!this.cookieEnabled)return"";if(e=Object.assign({},this.options.cookie),null===c?(c="",e.expires=-1):"string"!==(i=typeof c)&&"number"!==i&&(c=JSON.stringify(c)),"number"==typeof e.expires&&(d=new Date,d.setTime(d.getTime()+864e5*e.expires),e.expires=d),document.cookie=b+"="+encodeURIComponent(c)+"; expires="+e.expires.toUTCString()+(e.path?"; path="+e.path:"")+(e.domain?"; domain="+e.domain:"")+(e.secure?"; secure":""),c&&("{"===c.substr(0,1)||"["===c.substr(0,1)))try{return JSON.parse(c)}catch(j){}return c},startDir:function(){var a=window.location.hash;return a&&a.match(/^#elf_/)?a.replace(/^#elf_/,""):this.options.startPathHash?this.options.startPathHash:this.lastDir()},lastDir:function(a){return this.options.rememberLastDir?this.storage("lastdir",a):""},_node:a("<span></c.length;>"),escape:function(a){return this._node.text(a).html().replace(/"/g,"&quot;").replace(/'/g,"&#039;")},normalize:function(b){var c,d,e,f,g,h=this,i=function(){var a,b;return(b=h.options.fileFilter)&&("function"==typeof b?a=function(a){return b.call(h,a)}:b instanceof RegExp&&(a=function(a){return b.test(a.name)})),a||null}(),j=function(b){var c;b.uiCmdMap&&(a.isPlainObject(b.uiCmdMap)&&Object.keys(b.uiCmdMap).length?(b.disabledFlip||(b.disabledFlip={}),c=b.disabledFlip,a.each(b.uiCmdMap,function(a,d){"hidden"!==d||c[a]||(b.disabled.push(a),
b.disabledFlip[a]=!0)})):delete b.uiCmdMap)},k=function(b){var c=function(a){var b=typeof a;return"object"===b&&Array.isArray(a)&&(b="array"),b};return a.each(h.optionProperties,function(a,d){void 0!==d&&b[a]&&c(b[a])!==c(d)&&(b[a]=d)}),b.disabled?(b.disabledFlip=h.arrayFlip(b.disabled,!0),a.each(h.options.disabledCmdsRels,function(c,d){var e,f;b.disabledFlip[c]?f=!0:(e=c.match(/^([^&]+)&([^=]+)=(.*)$/))&&b.disabledFlip[e[1]]&&b[e[2]]==e[3]&&(f=!0),f&&a.each(d,function(a,c){b.disabledFlip[c]||(b.disabledFlip[c]=!0,b.disabled.push(c))})})):b.disabledFlip={},b},l=function(b,g,l){var m,n,p,q,r=!g||b,s=!!g&&null;if(b&&b.hash&&b.name&&b.mime){if("application/x-empty"===b.mime&&(b.mime="text/plain"),p=h.isRoot(b),p&&!b.volumeid&&h.debug("warning","The volume root statuses requires `volumeid` property."),p||"directory"===b.mime){if(b.phash){if(b.phash===b.hash)return o=o.concat(['Parent folder of "$1" is itself.',b.name]),s;if(p&&b.volumeid&&0===b.phash.indexOf(b.volumeid))return o=o.concat(['Parent folder of "$1" is inner itself.',b.name]),s}b.volumeid&&(m=b.volumeid,p&&(b.phash&&(h.leafRoots[b.phash]?-1===a.inArray(b.hash,h.leafRoots[b.phash])&&h.leafRoots[b.phash].push(b.hash):h.leafRoots[b.phash]=[b.hash]),h.hasVolOptions=!0,h.volOptions[m]||(h.volOptions[m]={dispInlineRegex:h.options.dispInlineRegex}),n=h.volOptions[m],b.options&&Object.assign(n,b.options),b.disabled&&(n.disabled=b.disabled,n.disabledFlip=h.arrayFlip(b.disabled,!0)),b.tmbUrl&&(n.tmbUrl=b.tmbUrl),n.url&&"/"!==n.url.substr(-1)&&(n.url+="/"),j(n),n.trashHash&&(!1===h.trashes[n.trashHash]?delete n.trashHash:h.trashes[n.trashHash]=b.hash),a.each(h.optionProperties,function(a){n[a]&&(b[a]=n[a])}),"cwd"!==l&&(h.roots[m]=b.hash),b.expires&&(h.volumeExpires[m]=b.expires)),f!==m&&(f=m,e=h.option("i18nFolderName",m))),p&&!b.i18&&(c="volume_"+b.name,d=h.i18n(!1,c),c!==d&&(b.i18=d)),e&&!b.i18&&(c="folder_"+b.name,d=h.i18n(!1,c),c!==d&&(b.i18=d)),p&&(q=h.storage("rootNames"))&&(q[b.hash]&&(b._name=b.name,b._i18=b.i18,b.name=q[b.hash]=q[b.hash],delete b.i18),h.storage("rootNames",q)),h.trashes[b.hash]&&(b.locked=!0)}else{if(i)try{if(!i(b))return s}catch(t){h.debug(t)}0==b.size&&(b.mime=h.getMimetype(b.name,b.mime))}return b.options&&(h.optionsByHashes[b.hash]=k(b.options)),delete b.options,r}return s},m=function(b){var c=[];return a.each(h.files(),function(d,e){a.each(h.parents(d),function(e,f){if(-1!==a.inArray(f,b)&&-1===a.inArray(d,b))return c.push(d),!1})}),c},n=function(c,d){a.each(c,function(c,e){var f,g;h.leafRoots[e.hash]&&h.applyLeafRootStats(e),"change"!==d&&e.phash&&h.isRoot(e)&&(f=h.file(e.phash))&&(h.applyLeafRootStats(f),b.changed?(a.each(b.changed,function(a,c){if(c.hash===f.hash)return b.changed[a]=f,g=!0,!1}),g||b.changed.push(f)):b.changed=[f])})},o=[];if(b.customData&&(!h.prevCustomData||JSON.stringify(b.customData)!==JSON.stringify(h.prevCustomData))){h.prevCustomData=b.customData;try{g=JSON.parse(b.customData),a.isPlainObject(g)&&(h.prevCustomData=g,a.each(Object.keys(g),function(a,b){null===g[b]&&(delete g[b],delete h.optsCustomData[b])}),h.customData=Object.assign({},h.optsCustomData,g))}catch(p){}}return b.options&&k(b.options),b.cwd&&(b.cwd.volumeid&&b.options&&Object.keys(b.options).length&&h.isRoot(b.cwd)&&(h.hasVolOptions=!0,h.volOptions[b.cwd.volumeid]=b.options),b.cwd=l(b.cwd,!0,"cwd")),b.files&&(b.files=a.grep(b.files,l)),b.tree&&(b.tree=a.grep(b.tree,l)),b.added&&(b.added=a.grep(b.added,l)),b.changed&&(b.changed=a.grep(b.changed,l)),b.removed&&b.removed.length&&2===h.searchStatus.state&&(b.removed=b.removed.concat(m(b.removed))),b.api&&(b.init=!0),Object.keys(h.leafRoots).length&&(b.files&&n(b.files),b.tree&&n(b.tree),b.added&&n(b.added),b.changed&&n(b.changed,"change")),b.cwd&&b.cwd.options&&b.options&&Object.assign(b.options,k(b.cwd.options)),b.options&&b.options.url&&"/"!==b.options.url.substr(-1)&&(b.options.url+="/"),o.length&&(b.norError=["errResponse"].concat(o)),b},setSort:function(a,b,c,d){this.storage("sortType",this.sortType=this.sortRules[a]?a:"name"),this.storage("sortOrder",this.sortOrder=/asc|desc/.test(b)?b:"asc"),this.storage("sortStickFolders",(this.sortStickFolders=!!c)?1:""),this.storage("sortAlsoTreeview",(this.sortAlsoTreeview=!!d)?1:""),this.trigger("sortchange")},_sortRules:{name:function(a,b){return d.prototype.naturalCompare(a.i18||a.name,b.i18||b.name)},size:function(a,b){var c=parseInt(a.size)||0,d=parseInt(b.size)||0;return c===d?0:c>d?1:-1},kind:function(a,b){return d.prototype.naturalCompare(a.mime,b.mime)},date:function(a,b){var c=a.ts||a.date||0,d=b.ts||b.date||0;return c===d?0:c>d?1:-1},perm:function(a,b){var c=function(a){return(a.write?2:0)+(a.read?1:0)},d=c(a),e=c(b);return d===e?0:d>e?1:-1},mode:function(a,b){var c=a.mode||a.perm||"",e=b.mode||b.perm||"";return d.prototype.naturalCompare(c,e)},owner:function(a,b){var c=a.owner||"",e=b.owner||"";return d.prototype.naturalCompare(c,e)},group:function(a,b){var c=a.group||"",e=b.group||"";return d.prototype.naturalCompare(c,e)}},sorters:{},naturalCompare:function(a,b){var c=d.prototype.naturalCompare;return void 0===c.loc&&(c.loc=navigator.userLanguage||navigator.browserLanguage||navigator.language||"en-US"),void 0===c.sort&&("11".localeCompare("2",c.loc,{numeric:!0})>0?window.Intl&&window.Intl.Collator?c.sort=new Intl.Collator(c.loc,{numeric:!0}).compare:c.sort=function(a,b){return a.localeCompare(b,c.loc,{numeric:!0})}:(c.sort=function(a,b){var d,e,f=/(^-?[0-9]+(\.?[0-9]*)[df]?e?[0-9]?$|^0x[0-9a-f]+$|[0-9]+)/gi,g=/(^[ ]*|[ ]*$)/g,h=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,i=/^0x[0-9a-f]+$/i,j=/^0/,k=/^[\x01\x21-\x2f\x3a-\x40\x5b-\x60\x7b-\x7e]/,l=function(a){return c.sort.insensitive&&(""+a).toLowerCase()||""+a},m=l(a).replace(g,"").replace(/^_/,"")||"",n=l(b).replace(g,"").replace(/^_/,"")||"",o=m.replace(f,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),p=n.replace(f,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),q=parseInt(m.match(i))||1!=o.length&&m.match(h)&&Date.parse(m),r=parseInt(n.match(i))||q&&n.match(h)&&Date.parse(n)||null,s=0;if(r){if(q<r)return-1;if(q>r)return 1}for(var t=0,u=Math.max(o.length,p.length);t<u;t++){if(d=!(o[t]||"").match(j)&&parseFloat(o[t])||o[t]||0,e=!(p[t]||"").match(j)&&parseFloat(p[t])||p[t]||0,isNaN(d)!==isNaN(e)){if(isNaN(d)&&("string"!=typeof d||!d.match(k)))return 1;if("string"!=typeof e||!e.match(k))return-1}if(0===parseInt(d,10)&&(d=0),0===parseInt(e,10)&&(e=0),typeof d!=typeof e&&(d+="",e+=""),c.sort.insensitive&&"string"==typeof d&&"string"==typeof e&&0!==(s=d.localeCompare(e,c.loc)))return s;if(d<e)return-1;if(d>e)return 1}return 0},c.sort.insensitive=!0)),c.sort(a,b)},compare:function(a,b){var c,d=this,e=d.sortType,f="asc"==d.sortOrder,g=d.sortStickFolders,h=d.sortRules,i=h[e],j="directory"==a.mime,k="directory"==b.mime;if(g){if(j&&!k)return-1;if(!j&&k)return 1}return c=f?i(a,b):i(b,a),"name"!==e&&0===c?c=f?h.name(a,b):h.name(b,a):c},sortFiles:function(a){return a.sort(this.compare)},notify:function(b){var c,d,e,f=this,g=b.type,h=b.id?"elfinder-notify-"+b.id:"",i=this.i18n(void 0!==b.msg?b.msg:this.messages["ntf"+g]?"ntf"+g:"ntfsmth"),j=this.arrayFlip(this.options.notifyDialog.hiddens||[]),k=this.ui.notify,l=k.closest(".ui-dialog"),m=k.children(".elfinder-notify-"+g+(h?"."+h:"")),n=m.children("div.elfinder-notify-cancel").children("button"),o='<div class="elfinder-notify elfinder-notify-{type}'+(h?" "+h:"")+'"><span class="elfinder-dialog-icon elfinder-dialog-icon-{type}"></span><span class="elfinder-notify-msg">{msg}</span> <span class="elfinder-notify-cnt"></span><div class="elfinder-notify-progressbar"><div class="elfinder-notify-progress"></div></div><div class="elfinder-notify-cancel"></div></div>',p=b.cnt+0,q=void 0!==b.size?parseInt(b.size):null,r=void 0!==b.progress&&b.progress>=0?b.progress:null,s=b.fakeinterval||200,t=b.cancel,u=function(){var b=m.find(".elfinder-notify-progress"),c=function(){m.remove(),k.children(l.data("minimized")?void 0:":visible").length||(l.data("minimized")?l.data("minimized").hide():k.elfinderdialog("close")),w()};m._esc&&a(document).off("keydown",m._esc),m.data("cur")<100?b.animate({width:"100%"},50,function(){requestAnimationFrame(function(){c()})}):c()},v=function(a){var b;m.length&&(b=m.data("cur")+1)<=98&&(m.find(".elfinder-notify-progress").width(b+"%"),m.data("cur",b),w(),setTimeout(function(){a*=1.05,v(a)},a))},w=function(){var b,c=0,d=0,e=k.children(".elfinder-notify");e.length?(e.each(function(){c++,d+=Math.min(a(this).data("cur"),100)}),b=c?Math.floor(d/(100*c)*100)+"%":0,f.ui.progressbar.width(b),l.data("minimized")&&(l.data("minimized").title(b),l.data("minimized").dialog().children(".ui-dialog-titlebar").children(".elfinder-ui-progressbar").width(b))):(f.ui.progressbar.width(0),l.data("minimized")&&l.data("minimized").hide())};return g?(m.length?void 0!==b.msg&&m.children("span.elfinder-notify-msg").html(i):(m=a(o.replace(/\{type\}/g,g).replace(/\{msg\}/g,i)),j[g]?m.hide():k.on("minimize",function(a){l.data("minimized")&&w()}),m.appendTo(k).data("cnt",0),null!=r?m.data({progress:0,total:0,cur:0}):(m.data({cur:0}),v(s)),t&&(n=a('<span class="elfinder-notify-button ui-icon ui-icon-close" title="'+this.i18n("btnCancel")+'"></span>').on("mouseenter mouseleave",function(b){a(this).toggleClass("ui-state-hover","mouseenter"===b.type)}),m.children("div.elfinder-notify-cancel").append(n)),k.trigger("resize")),c=p+parseInt(m.data("cnt")),c>0?(t&&n.length&&(a.isFunction(t)||"object"==typeof t&&t.promise)&&(m._esc=function(b){"keydown"==b.type&&b.keyCode!=a.ui.keyCode.ESCAPE||(b.preventDefault(),b.stopPropagation(),u(),t.promise?t.reject(0):t(b))},n.on("click",function(a){m._esc(a)}),a(document).on("keydown."+this.namespace,m._esc)),!b.hideCnt&&m.children(".elfinder-notify-cnt").text("("+c+")"),p>0&&k.is(":hidden")&&!j[g]&&(l.data("minimized")?l.data("minimized").show():k.elfinderdialog("open",this).height("auto")),m.data("cnt",c),null!=r&&(d=m.data("total"))>=0&&(e=m.data("progress"))>=0&&(d+=null!=q?q:p,e+=r,null==q&&p<0&&(e+=100*p),m.data({progress:e,total:d}),null!=q&&(e*=100,d=Math.max(1,d)),r=Math.min(parseInt(e/d),100),m.find(".elfinder-notify-progress").animate({width:(r<100?r:100)+"%"},20,function(){m.data("cur",r),w()}))):u(),this):this},confirm:function(b){var c,d,e=this,f=!1,g={cssClass:"elfinder-dialog-confirm",modal:!0,resizable:!1,title:this.i18n(b.title||"confirmReq"),buttons:{},close:function(){!f&&b.cancel.callback(),a(this).elfinderdialog("destroy")}},h=this.i18n("apllyAll");return b.cssClass&&(g.cssClass+=" "+b.cssClass),g.buttons[this.i18n(b.accept.label)]=function(){b.accept.callback(!(!c||!c.prop("checked"))),f=!0,a(this).elfinderdialog("close")},g.buttons[this.i18n(b.accept.label)]._cssClass="elfinder-confirm-accept",b.reject&&(g.buttons[this.i18n(b.reject.label)]=function(){b.reject.callback(!(!c||!c.prop("checked"))),f=!0,a(this).elfinderdialog("close")},g.buttons[this.i18n(b.reject.label)]._cssClass="elfinder-confirm-reject"),b.buttons&&b.buttons.length>0&&(d=1,a.each(b.buttons,function(b,h){g.buttons[e.i18n(h.label)]=function(){h.callback(!(!c||!c.prop("checked"))),f=!0,a(this).elfinderdialog("close")},g.buttons[e.i18n(h.label)]._cssClass="elfinder-confirm-extbtn"+d++,h.cssClass&&(g.buttons[e.i18n(h.label)]._cssClass+=" "+h.cssClass)})),g.buttons[this.i18n(b.cancel.label)]=function(){a(this).elfinderdialog("close")},g.buttons[this.i18n(b.cancel.label)]._cssClass="elfinder-confirm-cancel",b.all&&(g.create=function(){var b=a('<div class="elfinder-dialog-confirm-applyall"></div>');c=a('<input type="checkbox" />'),a(this).next().find(".ui-dialog-buttonset").prepend(b.append(a("<label>"+h+"</label>").prepend(c)))}),b.optionsCallback&&a.isFunction(b.optionsCallback)&&b.optionsCallback(g),this.dialog('<span class="elfinder-dialog-icon elfinder-dialog-icon-confirm"></span>'+this.i18n(b.text),g)},uniqueName:function(a,b,c){var d,e,f=0,g="";if(a=this.i18n(!1,a),b=b||this.cwd().hash,c=void 0===c?" ":c,(d=a.match(/^(.+)(\.[^.]+)$/))&&(g=d[2],a=d[1]),e=a+g,!this.fileByName(e,b))return e;for(;f<1e4;)if(e=a+c+ ++f+g,!this.fileByName(e,b))return e;return a+Math.random()+g},i18n:function(){var b,c,d,e,f,g=this,h=this.messages,i=[],j=[],k=function(a){var b;return 0===a.indexOf("#")&&(b=g.file(a.substr(1)))?b.name:a},l=0;for(arguments.length&&!1===arguments[0]&&(e=function(a){return a},l=1),b=l;b<arguments.length;b++)if(d=arguments[b],Array.isArray(d))for(c=0;c<d.length;c++)d[c]instanceof jQuery?i.push(d[c]):void 0!==d[c]&&i.push(k(""+d[c]));else d instanceof jQuery?i.push(d[c]):void 0!==d&&i.push(k(""+d));for(b=0;b<i.length;b++)-1===a.inArray(b,j)&&(d=i[b],"string"==typeof d?(f=!(!h[d]||!d.match(/^err/)),d=h[d]||(e?e(d):g.escape(d)),d=d.replace(/\$(\d+)/g,function(a,c){var d;return c=b+parseInt(c),c>0&&i[c]&&j.push(c),d=e?e(i[c]):g.escape(i[c]),f&&(d='<span class="elfinder-err-var elfinder-err-var'+c+'">'+d+"</span>"),d})):d=d.get(0).outerHTML,i[b]=d);return a.grep(i,function(b,c){return-1===a.inArray(c,j)}).join("<br>")},getIconStyle:function(b,c){var d=this,e={background:"url('{url}') 0 0 no-repeat","background-size":"contain"},f="",g={},h=0;return b.icon&&(f='style="',a.each(e,function(a,e){0==h++&&(e=e.replace("{url}",d.escape(b.icon))),c?g[a]=e:f+=a+":"+e+";"}),f+='"'),c?g:f},mime2class:function(a){var b="elfinder-cwd-icon-",c=a.toLowerCase(),d=this.textMimes[c];return c=c.split("/"),d?c[0]+=" "+b+"text":c[1]&&c[1].match(/\+xml$/)&&(c[0]+=" "+b+"xml"),b+c[0]+(c[1]?" "+b+c[1].replace(/(\.|\+)/g,"-"):"")},mime2kind:function(a){var b,c="object"==typeof a,d=c?a.mime:a;return c&&a.alias&&"symlink-broken"!=d?b="Alias":this.kinds[d]&&(b=!c||"directory"!==d||a.phash&&!a.isroot?this.kinds[d]:"Root"),b||(b=0===d.indexOf("text")?"Text":0===d.indexOf("image")?"Image":0===d.indexOf("audio")?"Audio":0===d.indexOf("video")?"Video":0===d.indexOf("application")?"App":d),this.messages["kind"+b]?this.i18n("kind"+b):d},mimeIsText:function(a){return!!(this.textMimes[a.toLowerCase()]||0===a.indexOf("text/")&&"rtf"!==a.substr(5,3)||a.match(/^application\/.+\+xml$/))},date:function(a,b){var c,d,e,f,g,h,i,j,k=this;return b||(b=new Date),g=b[k.getHours](),h=g>12?g-12:g,i=b[k.getMinutes](),j=b[k.getSeconds](),c=b[k.getDate](),d=b[k.getDay](),e=b[k.getMonth]()+1,f=b[k.getFullYear](),a.replace(/[a-z]/gi,function(a){switch(a){case"d":return c>9?c:"0"+c;case"j":return c;case"D":return k.i18n(k.i18.daysShort[d]);case"l":return k.i18n(k.i18.days[d]);case"m":return e>9?e:"0"+e;case"n":return e;case"M":return k.i18n(k.i18.monthsShort[e-1]);case"F":return k.i18n(k.i18.months[e-1]);case"Y":return f;case"y":return(""+f).substr(2);case"H":return g>9?g:"0"+g;case"G":return g;case"g":return h;case"h":return h>9?h:"0"+h;case"a":return g>=12?"pm":"am";case"A":return g>=12?"PM":"AM";case"i":return i>9?i:"0"+i;case"s":return j>9?j:"0"+j}return a})},formatDate:function(a,b){var c,d,e,f=this,g=b||a.ts;return f.i18,f.options.clientFormatDate&&g>0?(c=new Date(1e3*g),d=g>=this.yesterday?this.fancyFormat:this.dateFormat,e=f.date(d,c),g>=this.yesterday?e.replace("$1",this.i18n(g>=this.today?"Today":"Yesterday")):e):a.date?a.date.replace(/([a-z]+)\s/i,function(a,b){return f.i18n(b)+" "}):f.i18n("dateUnknown")},toLocaleString:function(a){var b=new Number(a);return b?b.toLocaleString?b.toLocaleString():String(a).replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,"):a},perms2class:function(a){var b="";return a.read||a.write?a.read?a.write||(b="elfinder-ro"):b="elfinder-wo":b="elfinder-na",a.type&&(b+=" elfinder-"+this.escape(a.type)),b},formatPermissions:function(a){var b=[];return a.read&&b.push(this.i18n("read")),a.write&&b.push(this.i18n("write")),b.length?b.join(" "+this.i18n("and")+" "):this.i18n("noaccess")},formatSize:function(a){var b=1,c="b";return"unknown"==a?this.i18n("unknown"):(a>1073741824?(b=1073741824,c="GB"):a>1048576?(b=1048576,c="MB"):a>1024&&(b=1024,c="KB"),a/=b,(a>0?b>=1048576?a.toFixed(2):Math.round(a):0)+" "+c)},formatFileMode:function(b,c){var d,e,f,g,h,i,j,k;if(c||(c=this.options.fileModeStyle.toLowerCase()),b=a.trim(b),b.match(/[rwxs-]{9}$/i)){if(j=b=b.substr(-9),"string"==c)return j;for(k="",f=0,d=0;d<7;d+=3)e=b.substr(d,3),g=0,e.match(/[r]/i)&&(g+=4),e.match(/[w]/i)&&(g+=2),e.match(/[xs]/i)&&(e.match(/[xs]/)&&(g+=1),e.match(/[s]/i)&&(0==d?f+=4:3==d&&(f+=2))),k+=g.toString(8);f&&(k=f.toString(8)+k)}else{if(b=parseInt(b,8),k=b?b.toString(8):"",!b||"octal"==c)return k;for(e=b.toString(8),f=0,e.length>3&&(e=e.substr(-4),f=parseInt(e.substr(0,1),8),e=e.substr(1)),1==(1&f),i=2==(2&f),h=4==(4&f),j="",d=0;d<3;d++)j+=4==(4&parseInt(e.substr(d,1),8))?"r":"-",j+=2==(2&parseInt(e.substr(d,1),8))?"w":"-",j+=1==(1&parseInt(e.substr(d,1),8))?0==d&&h||1==d&&i?"s":"x":"-"}return"both"==c?j+" ("+k+")":"string"==c?j:k},registRawStringDecoder:function(b){a.isFunction(b)&&(this.decodeRawString=this.options.rawStringDecoder=b)},uploadMimeCheck:function(b,c){c=c||this.cwd().hash;var d,e,f=!0,g=this.option("uploadMime",c),h=function(c){var d=!1;return"string"==typeof c&&"all"===c.toLowerCase()?d=!0:Array.isArray(c)&&c.length&&a.each(c,function(a,c){if("all"===(c=c.toLowerCase())||0===b.indexOf(c))return d=!0,!1}),d};return b&&a.isPlainObject(g)&&(b=b.toLowerCase(),d=h(g.allow),e=h(g.deny),"allow"===g.firstOrder?(f=!1,e||!0!==d||(f=!0)):(f=!0,!0!==e||d||(f=!1))),f},sequence:function(a){var b=a.length,c=function(b,d){return++d,a[d]?c(b.then(a[d]),d):b};return b>1?c(a[0](),0):a[0]()},reloadContents:function(b){var c,d=a.Deferred();try{c=a('<iframe width="1" height="1" scrolling="no" frameborder="no" style="position:absolute; top:-1px; left:-1px" crossorigin="use-credentials">').attr("src",b).one("load",function(){var c=a(this);try{this.contentDocument.location.reload(!0),c.one("load",function(){c.remove(),d.resolve()})}catch(e){c.attr("src","").attr("src",b).one("load",function(){c.remove(),d.resolve()})}}).appendTo("body")}catch(e){c&&c.remove(),d.reject()}return d},makeNetmountOptionOauth:function(b,c,d,e){var f,g="boolean"==typeof e?e:null,h=Object.assign({noOffline:!1,root:"root",pathI18n:"folderId",folders:!0},null===g?e||{}:{noOffline:g}),i=function(c,e,g){var k,l=this,m=Object.keys(a.isPlainObject(g)?g:{}).length;e.next().remove(),m&&(k=a('<select class="ui-corner-all elfinder-tabstop" style="max-width:200px;">').append(a(a.map(g,function(a,b){return'<option value="'+c.escape((b+"").trim())+'">'+c.escape(a)+"</option>"}).join(""))).on("change click",function(e){var g,k=a(this),m=k.val();l.inputs.path.val(m),!h.folders||"change"!==e.type&&k.data("current")===m||(k.next().remove(),k.data("current",m),m!=h.root&&(g=j(),f&&"pending"===f.state()&&c.abortXHR(f,{quiet:!0,abort:!0}),k.after(g),f=c.request({data:{cmd:"netmount",protocol:b,host:d,user:"init",path:m,pass:"folders"},preventDefault:!0}).done(function(a){i.call(l,c,k,a.folders)}).always(function(){c.abortXHR(f,{quiet:!0}),g.remove()}).xhr))}),e.after(a("<div></div>").append(k)).closest(".ui-dialog").trigger("tabstopsInit"),k.trigger("focus"))},j=function(){return a('<div class="elfinder-netmount-spinner"></div>').append('<span class="elfinder-spinner"></span>')};return{vars:{},name:c,inputs:{offline:a('<input type="checkbox"/>').on("change",function(){a(this).parents("table.elfinder-netmount-tb").find("select:first").trigger("change","reset")}),host:a('<span><span class="elfinder-spinner"></span></span><input type="hidden"/>'),path:a('<input type="text" value="'+h.root+'"/>'),user:a('<input type="hidden"/>'),pass:a('<input type="hidden"/>'),mnt2res:a('<input type="hidden"/>')},select:function(c,e,f){var g=this.inputs,i=g.offline,j=a(g.host[0]),k=f||null;this.vars.mbtn=g.host.closest(".ui-dialog").children(".ui-dialog-buttonpane:first").find("button.elfinder-btncnt-0"),j.data("inrequest")||!j.find("span.elfinder-spinner").length&&"reset"!==k&&("winfocus"!==k||j.siblings("span.elfinder-button-icon-reload").length)?(i.closest("tr")[h.noOffline||g.user.val()?"hide":"show"](),j.data("funcexpup")&&j.data("funcexpup")()):(1===i.parent().children().length&&(g.path.parent().prev().html(c.i18n(h.pathI18n)),i.attr("title",c.i18n("offlineAccess")),i.uniqueId().after(a("<label></label>").attr("for",i.attr("id")).html(" "+c.i18n("offlineAccess")))),j.data("inrequest",!0).empty().addClass("elfinder-spinner").parent().find("span.elfinder-button-icon").remove(),c.request({data:{cmd:"netmount",protocol:b,host:d,user:"init",options:{id:c.id,offline:i.prop("checked")?1:0,pass:g.host[1].value}},preventDefault:!0}).done(function(a){j.removeClass("elfinder-spinner").html(a.body.replace(/\{msg:([^}]+)\}/g,function(a,b){return c.i18n(b,d)}))}),h.noOffline&&i.closest("tr").hide()),this.vars.mbtn[a(g.host[1]).val()?"show":"hide"]()},done:function(c,e){var f,g=this.inputs,j=this.protocol,k=a(g.host[0]),l=a(g.host[1]),m="&nbsp;",n=this.vars,o=function(){n.oauthW&&!document.hasFocus()&&--n.chkCnt&&(j.trigger("change","winfocus"),n.tm=setTimeout(o,3e3))};if(h.noOffline&&g.offline.closest("tr").hide(),"makebtn"==e.mode)k.removeClass("elfinder-spinner").removeData("expires").removeData("funcexpup"),f=g.host.find("input").on("mouseenter mouseleave",function(){a(this).toggleClass("ui-state-hover")}),e.url&&f.on("click",function(){n.tm&&clearTimeout(n.tm),n.oauthW=window.open(e.url),(c.UA.iOS||c.UA.Mac)&&c.isCORS&&!n.chkdone&&(n.chkCnt=60,n.tm=setTimeout(o,5e3))}),l.val(""),g.path.val(h.root).next().remove(),g.user.val(""),g.pass.val(""),!h.noOffline&&g.offline.closest("tr").show(),n.mbtn.hide();else if("folders"==e.mode)e.folders&&i.call(this,c,g.path.nextAll(":last"),e.folders);else{if(n.oauthW&&(n.tm&&clearTimeout(n.tm),n.oauthW.close(),delete n.oauthW,n.chkdone=!0),e.expires&&(m="()",k.data("expires",e.expires)),k.html(d+m).removeClass("elfinder-spinner"),e.expires&&(k.data("funcexpup",function(){var a=Math.floor((k.data("expires")-+new Date/1e3)/60);a<3?k.parent().children(".elfinder-button-icon-reload").click():(k.text(k.text().replace(/\(.*\)/,"("+c.i18n(["minsLeft",a])+")")),setTimeout(function(){k.is(":visible")&&k.data("funcexpup")()},6e4))}),k.data("funcexpup")()),e.reset)return void j.trigger("change","reset");k.parent().append(a('<span class="elfinder-button-icon elfinder-button-icon-reload" title="'+c.i18n("reAuth")+'">').on("click",function(){l.val("reauth"),j.trigger("change","reset")})),l.val(b),n.mbtn.show(),e.folders&&i.call(this,c,g.path,e.folders),e.mnt2res&&g.mnt2res.val("1"),g.user.val("done"),g.pass.val("done"),g.offline.closest("tr").hide()}k.removeData("inrequest")},fail:function(b,c){a(this.inputs.host[0]).removeData("inrequest"),this.protocol.trigger("change","reset")},integrateInfo:h.integrate}},findCwdNodes:function(b,c){var d=this,e=(this.getUI("cwd"),this.cwd().hash),f=a();return c=c||{},a.each(b,function(a,b){if((b.phash===e||d.searchStatus.state>1)&&(f=f.add(d.cwdHash2Elm(b.hash)),c.firstOnly))return!1}),f},convAbsUrl:function(a){if(a.match(/^http/i))return a;if("//"===a.substr(0,2))return window.location.protocol+a;var b,c=window.location.protocol+"//"+window.location.host,d=/[^\/]+\/\.\.\//;for(b="/"===a.substr(0,1)?c+a:c+window.location.pathname.replace(/\/[^\/]+$/,"/")+a,b=b.replace("/./","/");d.test(b);)b=b.replace(d,"");return b},isSameOrigin:function(a){var b;if(a=this.convAbsUrl(a),location.origin&&window.URL)try{return b=new URL(a),location.origin===b.origin}catch(c){}return b=document.createElement("a"),b.href=a,location.protocol===b.protocol&&location.host===b.host&&location.port&&b.port},navHash2Id:function(a){return this.navPrefix+a},navId2Hash:function(a){return"string"==typeof a&&a.substr(this.navPrefix.length)},cwdHash2Id:function(a){return this.cwdPrefix+a},cwdId2Hash:function(a){return"string"==typeof a&&a.substr(this.cwdPrefix.length)},navHash2Elm:function(b){return a(document.getElementById(this.navHash2Id(b)))},cwdHash2Elm:function(b){return a(document.getElementById(this.cwdHash2Id(b)))},isInWindow:function(a,b){var c,d;return!(!(c=a.get(0))||!b&&null===c.offsetParent||(d=c.getBoundingClientRect(),!document.elementFromPoint(d.left,d.top)))},zIndexCalc:function(){var b=this,c=this.getUI(),d=c.css("z-index");d&&"auto"!==d&&"inherit"!==d?b.zIndex=d:c.parents().each(function(c,d){var e=a(d).css("z-index");if("auto"!==e&&"inherit"!==e&&(e=parseInt(e)))return b.zIndex=e,!1})},loadScript:function(b,c,d,e){var f,g,h={dataType:"script",cache:!0},i={},j={};return d=d||{},d.tryRequire&&this.hasRequire?require(b,c,d.error):(f=function(){var b,f,g;a.each(j,function(a,b){if("success"!==b&&"notmodified"!==b)return g=!0,!1}),g?d.error&&a.isFunction(d.error)&&d.error({loadResults:j}):a.isFunction(c)&&(e&&void 0===e.obj[e.name]?(b=e.timeout?e.timeout/10:1,f=setInterval(function(){(--b<0||void 0!==e.obj[e.name])&&(clearInterval(f),c())},10)):c())},"tag"===d.loadType?(a("head > script").each(function(){i[this.src]=this}),g=b.length,a.each(b,function(b,c){var e,h=!1;i[c]?(j[b]=i[c]._error||"success",--g<1&&f()):(e=document.createElement("script"),e.charset=d.charset||"UTF-8",a("head").append(e),e.onload=e.onreadystatechange=function(){h||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(h=!0,j[b]="success",--g<1&&f())},e.onerror=function(a){j[b]=e._error=a&&a.type?a.type:"error",--g<1&&f()},e.src=c)})):(d=a.isPlainObject(d)?Object.assign(h,d):h,g=0,function c(e,h){void 0!==e&&(j[g++]=h),b.length?a.ajax(Object.assign({},d,{url:b.shift(),success:c,error:c})):f()}())),this},loadCss:function(b,c){var d,e,f=this;return"string"==typeof b&&(b=[b]),c&&(c.className&&(d=c.className),c.dfd&&c.dfd.promise&&(e=[])),a.each(b,function(b,c){var g;c=f.convAbsUrl(c).replace(/^https?:/i,""),e&&(e[b]=a.Deferred()),a('head > link[href="'+f.escape(c)+'"]').length?e&&e[b].resolve():(g=document.createElement("link"),g.type="text/css",g.rel="stylesheet",g.href=c,d&&(g.className=d),e&&(g.onload=function(){e[b].resolve()},g.onerror=function(){e[b].reject()}),a("head").append(g))}),e&&a.when.apply(null,e).done(function(){c.dfd.resolve()}).fail(function(){c.dfd.reject()}),this},asyncJob:function(b,c,d){var e,f,g=a.Deferred(),h=!1,i=Object.assign({interval:0,numPerOnce:1},d||{}),j=[],k=[],l=[];return g._abort=function(a){f&&clearTimeout(f),k=[],h=!0,"pending"===g.state()&&g[a?"resolve":"reject"](j)},g.fail(function(){g._abort()}).always(function(){g._abort=function(){}}),"function"==typeof b&&Array.isArray(c)?(k=c.concat(),e=function(){var a,c,d;if(!h){for(l=k.splice(0,i.numPerOnce),c=l.length,a=0;a<c&&!h;a++)null!==(d=b(l[a]))&&j.push(d);h||(k.length?f=setTimeout(e,i.interval):g.resolve(j))}},k.length?f=setTimeout(e,0):g.resolve(j)):g.reject(),g},getSize:function(b){var c=this,d=[],e=b.length,f=a.Deferred().fail(function(){a.each(d,function(a,b){b&&(b.syncOnFail&&b.syncOnFail(!1),b.reject())})}),g=function(b){var d=[];return"directory"===b.mime&&a.each(c.leafRoots,function(a,e){var f;if(a===b.hash)d.push.apply(d,e);else for(f=(c.file(a)||{}).phash;f;)f===b.hash&&d.push.apply(d,e),f=(c.file(f)||{}).phash}),d},h=function(b){var d=a.Deferred(),e=c.file(b),f=e?e.phash:b;return f&&!c.file(f)?c.request({data:{cmd:"parents",target:f},preventFail:!0}).done(function(){c.one("parentsdone",function(){d.resolve()})}).fail(function(){d.resolve()}):d.resolve(),d},i=function(){var b=a.Deferred(),d=Object.keys(c.leafRoots).length;return d>0?a.each(c.leafRoots,function(a){h(a).done(function(){--d<1&&b.resolve()})}):b.resolve(),b};return c.autoSync("stop"),i().done(function(){var h=[],i={},j=[],k=[],l={};a.each(b,function(){h.push.apply(h,g(c.file(this)))}),b.push.apply(b,h),a.each(b,function(){var b=c.root(this),d=c.file(this);d&&(d.sizeInfo||"directory"!==d.mime)?k.push(a.Deferred().resolve(d.sizeInfo?d.sizeInfo:{size:d.size,dirCnt:0,fileCnt:1})):i[b]?i[b].push(this.toString()):i[b]=[this.toString()]}),a.each(i,function(){var a=j.length;1===this.length&&(l[a]=this[0]),j.push(c.request({data:{cmd:"size",targets:this},preventDefault:!0}))}),d.push.apply(d,j),j.push.apply(j,k),a.when.apply(a,j).fail(function(){f.reject()}).done(function(){var b,d,g=function(b,d){var e;(e=c.file(b))&&(e.sizeInfo={isCache:!0},a.each(["size","dirCnt","fileCnt"],function(){e.sizeInfo[this]=d[this]||0}),e.size=parseInt(e.sizeInfo.size),o.push(e))},h=0,i=0,j=0,k=arguments.length,m=[],n="",o=[];for(b=0;b<k;b++)d=arguments[b],null,d.isCache||(l[b]&&c.file(l[b])?g(l[b],d):d.sizes&&a.isPlainObject(d.sizes)&&a.each(d.sizes,function(a,b){g(a,b)})),h+=parseInt(d.size),!1!==i&&(void 0===d.fileCnt?i=!1:i+=parseInt(d.fileCnt||0)),!1!==j&&(void 0===d.dirCnt?j=!1:j+=parseInt(d.dirCnt||0));o.length&&c.change({changed:o}),!1!==j&&m.push(c.i18n("folders")+": "+(j-(e>1?0:1))),!1!==i&&m.push(c.i18n("files")+": "+i),m.length&&(n="<br>"+m.join(", ")),f.resolve({size:h,fileCnt:i,dirCnt:j,formated:(h>=0?c.formatSize(h):c.i18n("unknown"))+n})}),c.autoSync()}),f},wkObjUrl:null,getWorker:function(a){function b(){self.onmessage=function(a){var b=a.data;try{if(self.data=b.data,b.scripts)for(var c=0;c<b.scripts.length;c++)importScripts(b.scripts[c]);self.postMessage(self.res)}catch(a){self.postMessage({error:a.toString()})}}}var c;try{this.wkObjUrl||(this.wkObjUrl=(window.URL||window.webkitURL).createObjectURL(new Blob([b.toString().replace(/\s+/g," ").replace(/ *([^\w]) */g,"$1").replace(/^function\b.+?\{|\}$/g,"")],{type:"text/javascript"}))),c=new Worker(this.wkObjUrl,a)}catch(d){this.debug("error",d.toString())}return c},getWorkerUrl:function(a){return this.convAbsUrl(this.baseUrl+"js/worker/"+a)},getTheme:function(b){var c,d,e=this,f=a.Deferred(),g=function(b,c){return c||(c=e.convAbsUrl(e.baseUrl)),Array.isArray(b)?a.map(b,function(a){return g(a,c)}):b.match(/^(?:http|\/\/)/i)?b:c+b.replace(/^(?:\.\/|\/)/,"")};return b&&(c=e.options.themes[b])?"string"==typeof c?(url=g(c),(d=url.match(/^(.+\/)[^\/]+\.json$/i))?a.getJSON(url).done(function(a){c=a,c.id=b,c.cssurls&&(c.cssurls=g(c.cssurls,d[1])),f.resolve(c)}).fail(function(){f.reject()}):f.resolve({id:b,name:b,cssurls:[url]})):a.isPlainObject(c)&&c.cssurls?(c.id=b,c.cssurls=g(c.cssurls),Array.isArray(c.cssurls)||(c.cssurls=[c.cssurls]),c.name||(c.name=b),f.resolve(c)):f.reject():f.reject(),f},changeTheme:function(b){var c=this;return b&&(!c.options.themes[b]||c.theme&&c.theme.id===b?"default"===b&&c.theme&&"default"!==c.theme.id&&(a("head>link.elfinder-theme-ext").remove(),c.theme=null,c.trigger&&c.trigger("themechange")):c.getTheme(b).done(function(b){b.cssurls&&(a("head>link.elfinder-theme-ext").remove(),c.loadCss(b.cssurls,{className:"elfinder-theme-ext",dfd:a.Deferred().done(function(){c.theme=b,c.trigger&&c.trigger("themechange")})}))})),this},applyLeafRootStats:function(b,c){var d=this,e=c?b:d.file(b.hash)||b,f=e.ts,g=!1;return!c&&b._realStats||(b._realStats={locked:b.locked||0,dirs:b.dirs||0,ts:b.ts}),b.locked=1,e.locked||(g=!0),b.dirs=1,e.dirs||(g=!0),a.each(d.leafRoots[b.hash],function(){var a=d.file(this);a&&a.ts&&(b.ts||0)<a.ts&&(b.ts=a.ts)}),f!==b.ts&&(g=!0),g},abortXHR:function(a,b){var c=b||{};a&&(c.quiet&&(a.quiet=!0),c.abort&&a._requestId&&this.request({data:{cmd:"abort",id:a._requestId},preventDefault:!0}),a.abort(),a=void 0)},setCustomHeaderByXhr:function(b){var c=this;b.getResponseHeader&&c.parrotHeaders&&c.parrotHeaders.length&&a.each(c.parrotHeaders,function(a,d){var e=b.getResponseHeader(d);e?(c.customHeaders[d]=e,c.sessionStorage("core-ph:"+d,e)):"string"==typeof e&&(delete c.customHeaders[d],c.sessionStorage("core-ph:"+d,null))})},hasParrotHeaders:function(){var a=!1,b=this.parrotHeaders;if(Object.keys(this.customHeaders).length)for(var c=0;c<b.length;c++)if(this.customHeaders[b[c]]){a=!0;break}return a},getRequestId:function(){return(+new Date).toString(16)+Math.floor(1e3*Math.random()).toString(16)},arrayFlip:function(b,c){var d,e={},f=a.isArray(b);for(d in b)(f||b.hasOwnProperty(d))&&(e[b[d]]=c||d);return e},splitFileExtention:function(a){var b;return(b=a.match(/^(.+?)?\.((?:tar\.(?:gz|bz|bz2|z|lzo))|cpio\.gz|ps\.gz|xcf\.(?:gz|bz2)|[a-z0-9]{1,10})$/i))?(void 0===b[1]&&(b[1]=""),[b[1],b[2]]):[a,""]},sliceArrayBuffer:function(a,b){for(var c=[],d=0;d*b<a.byteLength;)c.push(a.slice(d*b,(d+1)*b)),d++;return c},
arrayBufferToBase64:function(a){if(!window.btoa)return"";var b=new Uint8Array(a),c=Array.prototype.slice.call(b),d=c.map(function(a){return String.fromCharCode(a)});return window.btoa(d.join(""))},log:function(a){return window.console&&window.console.log&&window.console.log(a),this},debug:function(b,c){var d,e,f=this,g=this.options.debug,h=this.options.toastBackendWarn;return"backend-error"===b?(!this.cwd().hash||g&&("all"===g||g["backend-error"]))&&(c=Array.isArray(c)?c:[c],this.error(c)):"backend-warning"===b?(e=!0,h&&(d=a.isPlainObject(h)?h:{},a.each(Array.isArray(c)?c:[c],function(a,b){f.toast(Object.assign({mode:"warning",msg:b},d))}))):"backend-debug"===b&&this.trigger("backenddebug",c),(e||g&&("all"===g||g[b]))&&window.console&&window.console.log&&window.console.log("elfinder debug: ["+b+"] ["+this.id+"]",c),this},responseDebug:function(a){var b,c=a.debug;c&&(b=this.options.debug,b&&"all"===b||(b||(b=this.options.debug={}),b["backend-error"]=!0,b.warning=!0),c.mountErrors&&("string"==typeof c.mountErrors||Array.isArray(c.mountErrors)&&c.mountErrors.length)&&this.debug("backend-error",c.mountErrors),c.backendErrors&&("string"==typeof c.backendErrors||Array.isArray(c.backendErrors)&&c.backendErrors.length)&&this.debug("backend-warning",c.backendErrors))},time:function(a){window.console&&window.console.time&&window.console.time(a)},timeEnd:function(a){window.console&&window.console.timeEnd&&window.console.timeEnd(a)}},Object.keys||(Object.keys=function(){var a=Object.prototype.hasOwnProperty,b=!{toString:null}.propertyIsEnumerable("toString"),c=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],d=c.length;return function(e){if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError("Object.keys called on non-object");var f=[];for(var g in e)a.call(e,g)&&f.push(g);if(b)for(var h=0;h<d;h++)a.call(e,c[h])&&f.push(c[h]);return f}}()),Array.isArray||(Array.isArray=function(a){return jQuery.isArray(a)}),Object.assign||(Object.assign=function(){return jQuery.extend.apply(null,arguments)}),String.prototype.repeat||(String.prototype.repeat=function(a){"use strict";if(null==this)throw new TypeError("can't convert "+this+" to object");var b=""+this;if(a=+a,a!=a&&(a=0),a<0)throw new RangeError("repeat count must be non-negative");if(a==1/0)throw new RangeError("repeat count must be less than infinity");if(a=Math.floor(a),0==b.length||0==a)return"";if(b.length*a>=1<<28)throw new RangeError("repeat count must not overflow maximum string size");for(var c="",d=0;d<a;d++)c+=b;return c}),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),function(){try{return void Array.apply(null,{})}catch(a){}var a=Object.prototype.toString,b=Function.prototype.apply,c=Array.prototype.slice;Function.prototype.apply=function(d,e){return b.call(this,d,"[object Array]"===a.call(e)?e:c.call(e))}}(),Array.from||(Array.from=function(a){return 1===a.length?[a[0]]:Array.apply(null,a)}),window.cancelAnimationFrame||function(){for(var a=0,b=["ms","moz","webkit","o"],c=0;c<b.length&&!window.requestAnimationFrame;++c)window.requestAnimationFrame=window[b[c]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[b[c]+"CancelAnimationFrame"]||window[b[c]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(b,c){var d=(new Date).getTime(),e=Math.max(0,16-(d-a)),f=window.setTimeout(function(){b(d+e)},e);return a=d+e,f}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)})}(),d.prototype.version="2.1.57",function(){if(a.ui&&a.ui.ddmanager){var b=a.ui.ddmanager.prepareOffsets;a.ui.ddmanager.prepareOffsets=function(c,d){var e=function(a){if(a.is(":hidden"))return!0;var b=a[0].getBoundingClientRect();return!document.elementFromPoint(b.left,b.top)&&!document.elementFromPoint(b.left+b.width,b.top+b.height)};if("mousedown"===d.type||c.options.elfRefresh){var f,g,h=a.ui.ddmanager.droppables[c.options.scope]||[],i=h.length;for(f=0;f<i;f++)g=h[f],g.options.autoDisable&&(!g.options.disabled||g.options.autoDisable>1)&&(g.options.disabled=e(g.element),g.options.autoDisable=g.options.disabled?2:1)}return b(c,d)}}}(),function(a,b){a.ajaxTransport("+binary",function(a,b,c){if(window.FormData&&(a.dataType&&"binary"==a.dataType||a.data&&(window.ArrayBuffer&&a.data instanceof ArrayBuffer||window.Blob&&a.data instanceof Blob))){var d;return{send:function(b,c){var e,f=a.responseType||"blob",g=a.xhr();if(g.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(e in a.xhrFields)g[e]=a.xhrFields[e];a.mimeType&&g.overrideMimeType&&g.overrideMimeType(a.mimeType),a.crossDomain||b["X-Requested-With"]||(b["X-Requested-With"]="XMLHttpRequest");for(e in b)g.setRequestHeader(e,b[e]);d=function(b){return function(){if(d)if(d=g.onload=g.onerror=g.onabort=g.ontimeout=null,"abort"===b)g.abort();else if("error"===b)c(g.status,g.statusText);else{var e={};e[a.dataType]=g.response,c(g.status,g.statusText,e,g.getAllResponseHeaders())}}},g.onload=d(),g.onabort=g.onerror=g.ontimeout=d("error"),d=d("abort");try{g.responseType=f,g.send(a.data||null)}catch(h){if(d)throw h}},abort:function(){d&&d()}}}})}(window.jQuery),function(a){function b(b,c){if(!(b.originalEvent.touches.length>1)){a(b.currentTarget).hasClass("touch-punch-keep-default")||b.preventDefault();var d=b.originalEvent.changedTouches[0],e=document.createEvent("MouseEvents");e.initMouseEvent(c,!0,!0,window,1,d.screenX,d.screenY,d.clientX,d.clientY,!1,!1,!1,!1,0,null),b.target.dispatchEvent(e)}}if(a.support.touch="ontouchend"in document,a.support.touch){var c,d,e,f=a.ui.mouse.prototype,g=f._mouseInit,h=f._mouseDestroy;f._touchStart=function(a){var f=this;!c&&f._mouseCapture(a.originalEvent.changedTouches[0])&&(d=a.originalEvent.changedTouches[0].screenX.toFixed(0),e=a.originalEvent.changedTouches[0].screenY.toFixed(0),c=!0,f._touchMoved=!1,b(a,"mouseover"),b(a,"mousemove"),b(a,"mousedown"))},f._touchMove=function(a){if(c){var f=a.originalEvent.changedTouches[0].screenX.toFixed(0),g=a.originalEvent.changedTouches[0].screenY.toFixed(0);Math.abs(d-f)<=4&&Math.abs(e-g)<=4||(this._touchMoved=!0,b(a,"mousemove"))}},f._touchEnd=function(a){c&&(b(a,"mouseup"),b(a,"mouseout"),this._touchMoved||b(a,"click"),c=!1,this._touchMoved=!1)},f._mouseInit=function(){var b=this;b.element.hasClass("touch-punch")&&b.element.on({touchstart:a.proxy(b,"_touchStart"),touchmove:a.proxy(b,"_touchMove"),touchend:a.proxy(b,"_touchEnd")}),g.call(b)},f._mouseDestroy=function(){var b=this;b.element.hasClass("touch-punch")&&b.element.off({touchstart:a.proxy(b,"_touchStart"),touchmove:a.proxy(b,"_touchMove"),touchend:a.proxy(b,"_touchEnd")}),h.call(b)}}}(jQuery),a.fn.elfinder=function(b,c){return"instance"===b?this.getElFinder():this.each(function(){var e,f="string"==typeof b?b:"",g="function"==typeof c?c:void 0,h=this.elfinder;if(h)switch(f){case"close":case"hide":h.hide();break;case"open":case"show":h.show();break;case"destroy":h.destroy();break;case"reload":case"restart":h&&(e=a.extend(!0,h.options,a.isPlainObject(c)?c:{}),g=h.bootCallback,h.reloadCallback&&a.isFunction(h.reloadCallback)?h.reloadCallback(e,g):(h.destroy(),new d(this,e,g)))}else a.isPlainObject(b)&&new d(this,b,g)})},a.fn.getElFinder=function(){var a;return this.each(function(){if(this.elfinder)return a=this.elfinder,!1}),a},a.fn.elfUiWidgetInstance=function(a){try{return this[a]("instance")}catch(b){var b=this.data("ui-"+a);return b&&"object"==typeof b&&b.widgetFullName==="ui-"+a?b:null}},a.fn.scrollRight||a.fn.extend({scrollRight:function(a){var b=this.get(0);return void 0===a?Math.max(0,b.scrollWidth-(b.scrollLeft+b.clientWidth)):this.scrollLeft(b.scrollWidth-b.clientWidth-a)}}),a.fn.scrollBottom||a.fn.extend({scrollBottom:function(a){var b=this.get(0);return void 0===a?Math.max(0,b.scrollHeight-(b.scrollTop+b.clientHeight)):this.scrollTop(b.scrollHeight-b.clientHeight-a)}}),d.prototype.mimeTypes={"application/x-executable":"exe","application/x-jar":"jar","application/x-gzip":"gz","application/x-bzip2":"tbz","application/x-rar":"rar","text/x-php":"php","text/javascript":"js","application/rtfd":"rtfd","text/x-python":"py","text/x-ruby":"rb","text/x-shellscript":"sh","text/x-perl":"pl","text/xml":"xml","text/x-csrc":"c","text/x-chdr":"h","text/x-c++src":"cpp","text/x-c++hdr":"hh","text/x-markdown":"md","text/x-yaml":"yml","image/x-ms-bmp":"bmp","image/x-targa":"tga","image/xbm":"xbm","image/pxm":"pxm","audio/wav":"wav","video/x-dv":"dv","video/x-ms-wmv":"wm","video/ogg":"ogm","video/MP2T":"m2ts","application/x-mpegURL":"m3u8","application/dash+xml":"mpd","application/andrew-inset":"ez","application/applixware":"aw","application/atom+xml":"atom","application/atomcat+xml":"atomcat","application/atomsvc+xml":"atomsvc","application/ccxml+xml":"ccxml","application/cdmi-capability":"cdmia","application/cdmi-container":"cdmic","application/cdmi-domain":"cdmid","application/cdmi-object":"cdmio","application/cdmi-queue":"cdmiq","application/cu-seeme":"cu","application/davmount+xml":"davmount","application/docbook+xml":"dbk","application/dssc+der":"dssc","application/dssc+xml":"xdssc","application/ecmascript":"ecma","application/emma+xml":"emma","application/epub+zip":"epub","application/exi":"exi","application/font-tdpfr":"pfr","application/gml+xml":"gml","application/gpx+xml":"gpx","application/gxf":"gxf","application/hyperstudio":"stk","application/inkml+xml":"ink","application/ipfix":"ipfix","application/java-serialized-object":"ser","application/java-vm":"class","application/json":"json","application/jsonml+json":"jsonml","application/lost+xml":"lostxml","application/mac-binhex40":"hqx","application/mac-compactpro":"cpt","application/mads+xml":"mads","application/marc":"mrc","application/marcxml+xml":"mrcx","application/mathematica":"ma","application/mathml+xml":"mathml","application/mbox":"mbox","application/mediaservercontrol+xml":"mscml","application/metalink+xml":"metalink","application/metalink4+xml":"meta4","application/mets+xml":"mets","application/mods+xml":"mods","application/mp21":"m21","application/mp4":"mp4s","application/msword":"doc","application/mxf":"mxf","application/octet-stream":"bin","application/oda":"oda","application/oebps-package+xml":"opf","application/ogg":"ogx","application/omdoc+xml":"omdoc","application/onenote":"onetoc","application/oxps":"oxps","application/patch-ops-error+xml":"xer","application/pdf":"pdf","application/pgp-encrypted":"pgp","application/pgp-signature":"asc","application/pics-rules":"prf","application/pkcs10":"p10","application/pkcs7-mime":"p7m","application/pkcs7-signature":"p7s","application/pkcs8":"p8","application/pkix-attr-cert":"ac","application/pkix-cert":"cer","application/pkix-crl":"crl","application/pkix-pkipath":"pkipath","application/pkixcmp":"pki","application/pls+xml":"pls","application/postscript":"ai","application/prs.cww":"cww","application/pskc+xml":"pskcxml","application/rdf+xml":"rdf","application/reginfo+xml":"rif","application/relax-ng-compact-syntax":"rnc","application/resource-lists+xml":"rl","application/resource-lists-diff+xml":"rld","application/rls-services+xml":"rs","application/rpki-ghostbusters":"gbr","application/rpki-manifest":"mft","application/rpki-roa":"roa","application/rsd+xml":"rsd","application/rss+xml":"rss","application/rtf":"rtf","application/sbml+xml":"sbml","application/scvp-cv-request":"scq","application/scvp-cv-response":"scs","application/scvp-vp-request":"spq","application/scvp-vp-response":"spp","application/sdp":"sdp","application/set-payment-initiation":"setpay","application/set-registration-initiation":"setreg","application/shf+xml":"shf","application/smil+xml":"smi","application/sparql-query":"rq","application/sparql-results+xml":"srx","application/srgs":"gram","application/srgs+xml":"grxml","application/sru+xml":"sru","application/ssdl+xml":"ssdl","application/ssml+xml":"ssml","application/tei+xml":"tei","application/thraud+xml":"tfi","application/timestamped-data":"tsd","application/vnd.3gpp.pic-bw-large":"plb","application/vnd.3gpp.pic-bw-small":"psb","application/vnd.3gpp.pic-bw-var":"pvb","application/vnd.3gpp2.tcap":"tcap","application/vnd.3m.post-it-notes":"pwn","application/vnd.accpac.simply.aso":"aso","application/vnd.accpac.simply.imp":"imp","application/vnd.acucobol":"acu","application/vnd.acucorp":"atc","application/vnd.adobe.air-application-installer-package+zip":"air","application/vnd.adobe.formscentral.fcdt":"fcdt","application/vnd.adobe.fxp":"fxp","application/vnd.adobe.xdp+xml":"xdp","application/vnd.adobe.xfdf":"xfdf","application/vnd.ahead.space":"ahead","application/vnd.airzip.filesecure.azf":"azf","application/vnd.airzip.filesecure.azs":"azs","application/vnd.amazon.ebook":"azw","application/vnd.americandynamics.acc":"acc","application/vnd.amiga.ami":"ami","application/vnd.android.package-archive":"apk","application/vnd.anser-web-certificate-issue-initiation":"cii","application/vnd.anser-web-funds-transfer-initiation":"fti","application/vnd.antix.game-component":"atx","application/vnd.apple.installer+xml":"mpkg","application/vnd.aristanetworks.swi":"swi","application/vnd.astraea-software.iota":"iota","application/vnd.audiograph":"aep","application/vnd.blueice.multipass":"mpm","application/vnd.bmi":"bmi","application/vnd.businessobjects":"rep","application/vnd.chemdraw+xml":"cdxml","application/vnd.chipnuts.karaoke-mmd":"mmd","application/vnd.cinderella":"cdy","application/vnd.claymore":"cla","application/vnd.cloanto.rp9":"rp9","application/vnd.clonk.c4group":"c4g","application/vnd.cluetrust.cartomobile-config":"c11amc","application/vnd.cluetrust.cartomobile-config-pkg":"c11amz","application/vnd.commonspace":"csp","application/vnd.contact.cmsg":"cdbcmsg","application/vnd.cosmocaller":"cmc","application/vnd.crick.clicker":"clkx","application/vnd.crick.clicker.keyboard":"clkk","application/vnd.crick.clicker.palette":"clkp","application/vnd.crick.clicker.template":"clkt","application/vnd.crick.clicker.wordbank":"clkw","application/vnd.criticaltools.wbs+xml":"wbs","application/vnd.ctc-posml":"pml","application/vnd.cups-ppd":"ppd","application/vnd.curl.car":"car","application/vnd.curl.pcurl":"pcurl","application/vnd.dart":"dart","application/vnd.data-vision.rdz":"rdz","application/vnd.dece.data":"uvf","application/vnd.dece.ttml+xml":"uvt","application/vnd.dece.unspecified":"uvx","application/vnd.dece.zip":"uvz","application/vnd.denovo.fcselayout-link":"fe_launch","application/vnd.dna":"dna","application/vnd.dolby.mlp":"mlp","application/vnd.dpgraph":"dpg","application/vnd.dreamfactory":"dfac","application/vnd.ds-keypoint":"kpxx","application/vnd.dvb.ait":"ait","application/vnd.dvb.service":"svc","application/vnd.dynageo":"geo","application/vnd.ecowin.chart":"mag","application/vnd.enliven":"nml","application/vnd.epson.esf":"esf","application/vnd.epson.msf":"msf","application/vnd.epson.quickanime":"qam","application/vnd.epson.salt":"slt","application/vnd.epson.ssf":"ssf","application/vnd.eszigno3+xml":"es3","application/vnd.ezpix-album":"ez2","application/vnd.ezpix-package":"ez3","application/vnd.fdf":"fdf","application/vnd.fdsn.mseed":"mseed","application/vnd.fdsn.seed":"seed","application/vnd.flographit":"gph","application/vnd.fluxtime.clip":"ftc","application/vnd.framemaker":"fm","application/vnd.frogans.fnc":"fnc","application/vnd.frogans.ltf":"ltf","application/vnd.fsc.weblaunch":"fsc","application/vnd.fujitsu.oasys":"oas","application/vnd.fujitsu.oasys2":"oa2","application/vnd.fujitsu.oasys3":"oa3","application/vnd.fujitsu.oasysgp":"fg5","application/vnd.fujitsu.oasysprs":"bh2","application/vnd.fujixerox.ddd":"ddd","application/vnd.fujixerox.docuworks":"xdw","application/vnd.fujixerox.docuworks.binder":"xbd","application/vnd.fuzzysheet":"fzs","application/vnd.genomatix.tuxedo":"txd","application/vnd.geogebra.file":"ggb","application/vnd.geogebra.tool":"ggt","application/vnd.geometry-explorer":"gex","application/vnd.geonext":"gxt","application/vnd.geoplan":"g2w","application/vnd.geospace":"g3w","application/vnd.gmx":"gmx","application/vnd.google-earth.kml+xml":"kml","application/vnd.google-earth.kmz":"kmz","application/vnd.grafeq":"gqf","application/vnd.groove-account":"gac","application/vnd.groove-help":"ghf","application/vnd.groove-identity-message":"gim","application/vnd.groove-injector":"grv","application/vnd.groove-tool-message":"gtm","application/vnd.groove-tool-template":"tpl","application/vnd.groove-vcard":"vcg","application/vnd.hal+xml":"hal","application/vnd.handheld-entertainment+xml":"zmm","application/vnd.hbci":"hbci","application/vnd.hhe.lesson-player":"les","application/vnd.hp-hpgl":"hpgl","application/vnd.hp-hpid":"hpid","application/vnd.hp-hps":"hps","application/vnd.hp-jlyt":"jlt","application/vnd.hp-pcl":"pcl","application/vnd.hp-pclxl":"pclxl","application/vnd.hydrostatix.sof-data":"sfd-hdstx","application/vnd.ibm.minipay":"mpy","application/vnd.ibm.modcap":"afp","application/vnd.ibm.rights-management":"irm","application/vnd.ibm.secure-container":"sc","application/vnd.iccprofile":"icc","application/vnd.igloader":"igl","application/vnd.immervision-ivp":"ivp","application/vnd.immervision-ivu":"ivu","application/vnd.insors.igm":"igm","application/vnd.intercon.formnet":"xpw","application/vnd.intergeo":"i2g","application/vnd.intu.qbo":"qbo","application/vnd.intu.qfx":"qfx","application/vnd.ipunplugged.rcprofile":"rcprofile","application/vnd.irepository.package+xml":"irp","application/vnd.is-xpr":"xpr","application/vnd.isac.fcs":"fcs","application/vnd.jam":"jam","application/vnd.jcp.javame.midlet-rms":"rms","application/vnd.jisp":"jisp","application/vnd.joost.joda-archive":"joda","application/vnd.kahootz":"ktz","application/vnd.kde.karbon":"karbon","application/vnd.kde.kchart":"chrt","application/vnd.kde.kformula":"kfo","application/vnd.kde.kivio":"flw","application/vnd.kde.kontour":"kon","application/vnd.kde.kpresenter":"kpr","application/vnd.kde.kspread":"ksp","application/vnd.kde.kword":"kwd","application/vnd.kenameaapp":"htke","application/vnd.kidspiration":"kia","application/vnd.kinar":"kne","application/vnd.koan":"skp","application/vnd.kodak-descriptor":"sse","application/vnd.las.las+xml":"lasxml","application/vnd.llamagraphics.life-balance.desktop":"lbd","application/vnd.llamagraphics.life-balance.exchange+xml":"lbe","application/vnd.lotus-1-2-3":123,"application/vnd.lotus-approach":"apr","application/vnd.lotus-freelance":"pre","application/vnd.lotus-notes":"nsf","application/vnd.lotus-organizer":"org","application/vnd.lotus-screencam":"scm","application/vnd.lotus-wordpro":"lwp","application/vnd.macports.portpkg":"portpkg","application/vnd.mcd":"mcd","application/vnd.medcalcdata":"mc1","application/vnd.mediastation.cdkey":"cdkey","application/vnd.mfer":"mwf","application/vnd.mfmp":"mfm","application/vnd.micrografx.flo":"flo","application/vnd.micrografx.igx":"igx","application/vnd.mif":"mif","application/vnd.mobius.daf":"daf","application/vnd.mobius.dis":"dis","application/vnd.mobius.mbk":"mbk","application/vnd.mobius.mqy":"mqy","application/vnd.mobius.msl":"msl","application/vnd.mobius.plc":"plc","application/vnd.mobius.txf":"txf","application/vnd.mophun.application":"mpn","application/vnd.mophun.certificate":"mpc","application/vnd.mozilla.xul+xml":"xul","application/vnd.ms-artgalry":"cil","application/vnd.ms-cab-compressed":"cab","application/vnd.ms-excel":"xls","application/vnd.ms-excel.addin.macroenabled.12":"xlam","application/vnd.ms-excel.sheet.binary.macroenabled.12":"xlsb","application/vnd.ms-excel.sheet.macroenabled.12":"xlsm","application/vnd.ms-excel.template.macroenabled.12":"xltm","application/vnd.ms-fontobject":"eot","application/vnd.ms-htmlhelp":"chm","application/vnd.ms-ims":"ims","application/vnd.ms-lrm":"lrm","application/vnd.ms-officetheme":"thmx","application/vnd.ms-pki.seccat":"cat","application/vnd.ms-pki.stl":"stl","application/vnd.ms-powerpoint":"ppt","application/vnd.ms-powerpoint.addin.macroenabled.12":"ppam","application/vnd.ms-powerpoint.presentation.macroenabled.12":"pptm","application/vnd.ms-powerpoint.slide.macroenabled.12":"sldm","application/vnd.ms-powerpoint.slideshow.macroenabled.12":"ppsm","application/vnd.ms-powerpoint.template.macroenabled.12":"potm","application/vnd.ms-project":"mpp","application/vnd.ms-word.document.macroenabled.12":"docm","application/vnd.ms-word.template.macroenabled.12":"dotm","application/vnd.ms-works":"wps","application/vnd.ms-wpl":"wpl","application/vnd.ms-xpsdocument":"xps","application/vnd.mseq":"mseq","application/vnd.musician":"mus","application/vnd.muvee.style":"msty","application/vnd.mynfc":"taglet","application/vnd.neurolanguage.nlu":"nlu","application/vnd.nitf":"ntf","application/vnd.noblenet-directory":"nnd","application/vnd.noblenet-sealer":"nns","application/vnd.noblenet-web":"nnw","application/vnd.nokia.n-gage.data":"ngdat","application/vnd.nokia.n-gage.symbian.install":"n-gage","application/vnd.nokia.radio-preset":"rpst","application/vnd.nokia.radio-presets":"rpss","application/vnd.novadigm.edm":"edm","application/vnd.novadigm.edx":"edx","application/vnd.novadigm.ext":"ext","application/vnd.oasis.opendocument.chart":"odc","application/vnd.oasis.opendocument.chart-template":"otc","application/vnd.oasis.opendocument.database":"odb","application/vnd.oasis.opendocument.formula":"odf","application/vnd.oasis.opendocument.formula-template":"odft","application/vnd.oasis.opendocument.graphics":"odg","application/vnd.oasis.opendocument.graphics-template":"otg","application/vnd.oasis.opendocument.image":"odi","application/vnd.oasis.opendocument.image-template":"oti","application/vnd.oasis.opendocument.presentation":"odp","application/vnd.oasis.opendocument.presentation-template":"otp","application/vnd.oasis.opendocument.spreadsheet":"ods","application/vnd.oasis.opendocument.spreadsheet-template":"ots","application/vnd.oasis.opendocument.text":"odt","application/vnd.oasis.opendocument.text-master":"odm","application/vnd.oasis.opendocument.text-template":"ott","application/vnd.oasis.opendocument.text-web":"oth","application/vnd.olpc-sugar":"xo","application/vnd.oma.dd2+xml":"dd2","application/vnd.openofficeorg.extension":"oxt","application/vnd.openxmlformats-officedocument.presentationml.presentation":"pptx","application/vnd.openxmlformats-officedocument.presentationml.slide":"sldx","application/vnd.openxmlformats-officedocument.presentationml.slideshow":"ppsx","application/vnd.openxmlformats-officedocument.presentationml.template":"potx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":"xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.template":"xltx","application/vnd.openxmlformats-officedocument.wordprocessingml.document":"docx","application/vnd.openxmlformats-officedocument.wordprocessingml.template":"dotx","application/vnd.osgeo.mapguide.package":"mgp","application/vnd.osgi.dp":"dp","application/vnd.osgi.subsystem":"esa","application/vnd.palm":"pdb","application/vnd.pawaafile":"paw","application/vnd.pg.format":"str","application/vnd.pg.osasli":"ei6","application/vnd.picsel":"efif","application/vnd.pmi.widget":"wg","application/vnd.pocketlearn":"plf","application/vnd.powerbuilder6":"pbd","application/vnd.previewsystems.box":"box","application/vnd.proteus.magazine":"mgz","application/vnd.publishare-delta-tree":"qps","application/vnd.pvi.ptid1":"ptid","application/vnd.quark.quarkxpress":"qxd","application/vnd.realvnc.bed":"bed","application/vnd.recordare.musicxml":"mxl","application/vnd.recordare.musicxml+xml":"musicxml","application/vnd.rig.cryptonote":"cryptonote","application/vnd.rim.cod":"cod","application/vnd.rn-realmedia":"rm","application/vnd.rn-realmedia-vbr":"rmvb","application/vnd.route66.link66+xml":"link66","application/vnd.sailingtracker.track":"st","application/vnd.seemail":"see","application/vnd.sema":"sema","application/vnd.semd":"semd","application/vnd.semf":"semf","application/vnd.shana.informed.formdata":"ifm","application/vnd.shana.informed.formtemplate":"itp","application/vnd.shana.informed.interchange":"iif","application/vnd.shana.informed.package":"ipk","application/vnd.simtech-mindmapper":"twd","application/vnd.smaf":"mmf","application/vnd.smart.teacher":"teacher","application/vnd.solent.sdkm+xml":"sdkm","application/vnd.spotfire.dxp":"dxp","application/vnd.spotfire.sfs":"sfs","application/vnd.stardivision.calc":"sdc","application/vnd.stardivision.draw":"sda","application/vnd.stardivision.impress":"sdd","application/vnd.stardivision.math":"smf","application/vnd.stardivision.writer":"sdw","application/vnd.stardivision.writer-global":"sgl","application/vnd.stepmania.package":"smzip","application/vnd.stepmania.stepchart":"sm","application/vnd.sun.xml.calc":"sxc","application/vnd.sun.xml.calc.template":"stc","application/vnd.sun.xml.draw":"sxd","application/vnd.sun.xml.draw.template":"std","application/vnd.sun.xml.impress":"sxi","application/vnd.sun.xml.impress.template":"sti","application/vnd.sun.xml.math":"sxm","application/vnd.sun.xml.writer":"sxw","application/vnd.sun.xml.writer.global":"sxg","application/vnd.sun.xml.writer.template":"stw","application/vnd.sus-calendar":"sus","application/vnd.svd":"svd","application/vnd.symbian.install":"sis","application/vnd.syncml+xml":"xsm","application/vnd.syncml.dm+wbxml":"bdm","application/vnd.syncml.dm+xml":"xdm","application/vnd.tao.intent-module-archive":"tao","application/vnd.tcpdump.pcap":"pcap","application/vnd.tmobile-livetv":"tmo","application/vnd.trid.tpt":"tpt","application/vnd.triscape.mxs":"mxs","application/vnd.trueapp":"tra","application/vnd.ufdl":"ufd","application/vnd.uiq.theme":"utz","application/vnd.umajin":"umj","application/vnd.unity":"unityweb","application/vnd.uoml+xml":"uoml","application/vnd.vcx":"vcx","application/vnd.visio":"vsd","application/vnd.visionary":"vis","application/vnd.vsf":"vsf","application/vnd.wap.wbxml":"wbxml","application/vnd.wap.wmlc":"wmlc","application/vnd.wap.wmlscriptc":"wmlsc","application/vnd.webturbo":"wtb","application/vnd.wolfram.player":"nbp","application/vnd.wordperfect":"wpd","application/vnd.wqd":"wqd","application/vnd.wt.stf":"stf","application/vnd.xara":"xar","application/vnd.xfdl":"xfdl","application/vnd.yamaha.hv-dic":"hvd","application/vnd.yamaha.hv-script":"hvs","application/vnd.yamaha.hv-voice":"hvp","application/vnd.yamaha.openscoreformat":"osf","application/vnd.yamaha.openscoreformat.osfpvg+xml":"osfpvg","application/vnd.yamaha.smaf-audio":"saf","application/vnd.yamaha.smaf-phrase":"spf","application/vnd.yellowriver-custom-menu":"cmp","application/vnd.zul":"zir","application/vnd.zzazz.deck+xml":"zaz","application/voicexml+xml":"vxml","application/widget":"wgt","application/winhlp":"hlp","application/wsdl+xml":"wsdl","application/wspolicy+xml":"wspolicy","application/x-7z-compressed":"7z","application/x-abiword":"abw","application/x-ace-compressed":"ace","application/x-apple-diskimage":"dmg","application/x-authorware-bin":"aab","application/x-authorware-map":"aam","application/x-authorware-seg":"aas","application/x-bcpio":"bcpio","application/x-bittorrent":"torrent","application/x-blorb":"blb","application/x-bzip":"bz","application/x-cbr":"cbr","application/x-cdlink":"vcd","application/x-cfs-compressed":"cfs","application/x-chat":"chat","application/x-chess-pgn":"pgn","application/x-conference":"nsc","application/x-cpio":"cpio","application/x-csh":"csh","application/x-debian-package":"deb","application/x-dgc-compressed":"dgc","application/x-director":"dir","application/x-doom":"wad","application/x-dtbncx+xml":"ncx","application/x-dtbook+xml":"dtb","application/x-dtbresource+xml":"res","application/x-dvi":"dvi","application/x-envoy":"evy","application/x-eva":"eva","application/x-font-bdf":"bdf","application/x-font-ghostscript":"gsf","application/x-font-linux-psf":"psf","application/x-font-pcf":"pcf","application/x-font-snf":"snf","application/x-font-type1":"pfa","application/x-freearc":"arc","application/x-futuresplash":"spl","application/x-gca-compressed":"gca","application/x-glulx":"ulx","application/x-gnumeric":"gnumeric","application/x-gramps-xml":"gramps","application/x-gtar":"gtar","application/x-hdf":"hdf","application/x-install-instructions":"install","application/x-iso9660-image":"iso","application/x-java-jnlp-file":"jnlp","application/x-latex":"latex","application/x-lzh-compressed":"lzh","application/x-mie":"mie","application/x-mobipocket-ebook":"prc","application/x-ms-application":"application","application/x-ms-shortcut":"lnk","application/x-ms-wmd":"wmd","application/x-ms-wmz":"wmz","application/x-ms-xbap":"xbap","application/x-msaccess":"mdb","application/x-msbinder":"obd","application/x-mscardfile":"crd","application/x-msclip":"clp","application/x-msdownload":"dll","application/x-msmediaview":"mvb","application/x-msmetafile":"wmf","application/x-msmoney":"mny","application/x-mspublisher":"pub","application/x-msschedule":"scd","application/x-msterminal":"trm","application/x-mswrite":"wri","application/x-netcdf":"nc","application/x-nzb":"nzb","application/x-pkcs12":"p12","application/x-pkcs7-certificates":"p7b","application/x-pkcs7-certreqresp":"p7r","application/x-research-info-systems":"ris","application/x-shar":"shar","application/x-shockwave-flash":"swf","application/x-silverlight-app":"xap","application/x-sql":"sql","application/x-stuffit":"sit","application/x-stuffitx":"sitx","application/x-subrip":"srt","application/x-sv4cpio":"sv4cpio","application/x-sv4crc":"sv4crc","application/x-t3vm-image":"t3","application/x-tads":"gam","application/x-tar":"tar","application/x-tcl":"tcl","application/x-tex":"tex","application/x-tex-tfm":"tfm","application/x-texinfo":"texinfo","application/x-tgif":"obj","application/x-ustar":"ustar","application/x-wais-source":"src","application/x-x509-ca-cert":"der","application/x-xfig":"fig","application/x-xliff+xml":"xlf","application/x-xpinstall":"xpi","application/x-xz":"xz","application/x-zmachine":"z1","application/xaml+xml":"xaml","application/xcap-diff+xml":"xdf","application/xenc+xml":"xenc","application/xhtml+xml":"xhtml","application/xml":"xsl","application/xml-dtd":"dtd","application/xop+xml":"xop","application/xproc+xml":"xpl","application/xslt+xml":"xslt","application/xspf+xml":"xspf","application/xv+xml":"mxml","application/yang":"yang","application/yin+xml":"yin","application/zip":"zip","audio/adpcm":"adp","audio/basic":"au","audio/midi":"mid","audio/mp4":"m4a","audio/mpeg":"mpga","audio/ogg":"oga","audio/s3m":"s3m","audio/silk":"sil","audio/vnd.dece.audio":"uva","audio/vnd.digital-winds":"eol","audio/vnd.dra":"dra","audio/vnd.dts":"dts","audio/vnd.dts.hd":"dtshd","audio/vnd.lucent.voice":"lvp","audio/vnd.ms-playready.media.pya":"pya","audio/vnd.nuera.ecelp4800":"ecelp4800","audio/vnd.nuera.ecelp7470":"ecelp7470","audio/vnd.nuera.ecelp9600":"ecelp9600","audio/vnd.rip":"rip","audio/webm":"weba","audio/x-aac":"aac","audio/x-aiff":"aif","audio/x-caf":"caf","audio/x-flac":"flac","audio/x-matroska":"mka","audio/x-mpegurl":"m3u","audio/x-ms-wax":"wax","audio/x-ms-wma":"wma","audio/x-pn-realaudio":"ram","audio/x-pn-realaudio-plugin":"rmp","audio/xm":"xm","chemical/x-cdx":"cdx","chemical/x-cif":"cif","chemical/x-cmdf":"cmdf","chemical/x-cml":"cml","chemical/x-csml":"csml","chemical/x-xyz":"xyz","font/collection":"ttc","font/otf":"otf","font/ttf":"ttf","font/woff":"woff","font/woff2":"woff2","image/cgm":"cgm","image/g3fax":"g3","image/gif":"gif","image/ief":"ief","image/jpeg":"jpeg","image/ktx":"ktx","image/png":"png","image/prs.btif":"btif","image/sgi":"sgi","image/svg+xml":"svg","image/tiff":"tiff","image/vnd.adobe.photoshop":"psd","image/vnd.dece.graphic":"uvi","image/vnd.djvu":"djvu","image/vnd.dvb.subtitle":"sub","image/vnd.dwg":"dwg","image/vnd.dxf":"dxf","image/vnd.fastbidsheet":"fbs","image/vnd.fpx":"fpx","image/vnd.fst":"fst","image/vnd.fujixerox.edmics-mmr":"mmr","image/vnd.fujixerox.edmics-rlc":"rlc","image/vnd.ms-modi":"mdi","image/vnd.ms-photo":"wdp","image/vnd.net-fpx":"npx","image/vnd.wap.wbmp":"wbmp","image/vnd.xiff":"xif",
"image/webp":"webp","image/x-3ds":"3ds","image/x-cmu-raster":"ras","image/x-cmx":"cmx","image/x-freehand":"fh","image/x-icon":"ico","image/x-mrsid-image":"sid","image/x-pcx":"pcx","image/x-pict":"pic","image/x-portable-anymap":"pnm","image/x-portable-bitmap":"pbm","image/x-portable-graymap":"pgm","image/x-portable-pixmap":"ppm","image/x-rgb":"rgb","image/x-xpixmap":"xpm","image/x-xwindowdump":"xwd","message/rfc822":"eml","model/iges":"igs","model/mesh":"msh","model/vnd.collada+xml":"dae","model/vnd.dwf":"dwf","model/vnd.gdl":"gdl","model/vnd.gtw":"gtw","model/vnd.vtu":"vtu","model/vrml":"wrl","model/x3d+binary":"x3db","model/x3d+vrml":"x3dv","model/x3d+xml":"x3d","text/cache-manifest":"appcache","text/calendar":"ics","text/css":"css","text/csv":"csv","text/html":"html","text/n3":"n3","text/plain":"txt","text/prs.lines.tag":"dsc","text/richtext":"rtx","text/sgml":"sgml","text/tab-separated-values":"tsv","text/troff":"t","text/turtle":"ttl","text/uri-list":"uri","text/vcard":"vcard","text/vnd.curl":"curl","text/vnd.curl.dcurl":"dcurl","text/vnd.curl.mcurl":"mcurl","text/vnd.curl.scurl":"scurl","text/vnd.fly":"fly","text/vnd.fmi.flexstor":"flx","text/vnd.graphviz":"gv","text/vnd.in3d.3dml":"3dml","text/vnd.in3d.spot":"spot","text/vnd.sun.j2me.app-descriptor":"jad","text/vnd.wap.wml":"wml","text/vnd.wap.wmlscript":"wmls","text/x-asm":"s","text/x-c":"cc","text/x-fortran":"f","text/x-java-source":"java","text/x-nfo":"nfo","text/x-opml":"opml","text/x-pascal":"p","text/x-setext":"etx","text/x-sfv":"sfv","text/x-uuencode":"uu","text/x-vcalendar":"vcs","text/x-vcard":"vcf","video/3gpp":"3gp","video/3gpp2":"3g2","video/h261":"h261","video/h263":"h263","video/h264":"h264","video/jpeg":"jpgv","video/jpm":"jpm","video/mj2":"mj2","video/mp4":"mp4","video/mpeg":"mpeg","video/quicktime":"qt","video/vnd.dece.hd":"uvh","video/vnd.dece.mobile":"uvm","video/vnd.dece.pd":"uvp","video/vnd.dece.sd":"uvs","video/vnd.dece.video":"uvv","video/vnd.dvb.file":"dvb","video/vnd.fvt":"fvt","video/vnd.mpegurl":"mxu","video/vnd.ms-playready.media.pyv":"pyv","video/vnd.uvvu.mp4":"uvu","video/vnd.vivo":"viv","video/webm":"webm","video/x-f4v":"f4v","video/x-fli":"fli","video/x-flv":"flv","video/x-m4v":"m4v","video/x-matroska":"mkv","video/x-mng":"mng","video/x-ms-asf":"asf","video/x-ms-vob":"vob","video/x-ms-wmx":"wmx","video/x-ms-wvx":"wvx","video/x-msvideo":"avi","video/x-sgi-movie":"movie","video/x-smv":"smv","x-conference/x-cooltalk":"ice","text/x-sql":"sql","image/x-pixlr-data":"pxd","image/x-adobe-dng":"dng","image/x-sketch":"sketch","image/x-xcf":"xcf","audio/amr":"amr","image/vnd-ms.dds":"dds","application/plt":"plt","application/sat":"sat","application/step":"step","text/x-httpd-cgi":"cgi","text/x-asap":"asp","text/x-jsp":"jsp"},d.prototype._options={cdns:{ace:"https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.8",codemirror:"https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.52.2",ckeditor:"https://cdnjs.cloudflare.com/ajax/libs/ckeditor/4.12.1",ckeditor5:"https://cdn.ckeditor.com/ckeditor5/17.0.0",tinymce:"https://cdnjs.cloudflare.com/ajax/libs/tinymce/5.2.0",simplemde:"https://cdnjs.cloudflare.com/ajax/libs/simplemde/1.11.2",fabric:"https://cdnjs.cloudflare.com/ajax/libs/fabric.js/3.6.2",fabric16:"https://cdnjs.cloudflare.com/ajax/libs/fabric.js/1.6.7",tui:"https://uicdn.toast.com",hls:"https://cdnjs.cloudflare.com/ajax/libs/hls.js/0.13.2/hls.min.js",dash:"https://cdnjs.cloudflare.com/ajax/libs/dashjs/3.0.3/dash.all.min.js",flv:"https://cdnjs.cloudflare.com/ajax/libs/flv.js/1.5.0/flv.min.js",videojs:"https://cdnjs.cloudflare.com/ajax/libs/video.js/7.7.5",prettify:"https://cdn.jsdelivr.net/gh/google/code-prettify@f1c3473acd1e8ea8c8c1a60c56e89f5cdd06f915/loader/run_prettify.js",psd:"https://cdnjs.cloudflare.com/ajax/libs/psd.js/3.2.0/psd.min.js",rar:"https://cdn.jsdelivr.net/gh/nao-pon/rar.js@6cef13ec66dd67992fc7f3ea22f132d770ebaf8b/rar.min.js",zlibUnzip:"https://cdn.jsdelivr.net/gh/imaya/zlib.js@0.3.1/bin/unzip.min.js",zlibGunzip:"https://cdn.jsdelivr.net/gh/imaya/zlib.js@0.3.1/bin/gunzip.min.js",bzip2:"https://cdn.jsdelivr.net/gh/nao-pon/bzip2.js@0.8.0/bzip2.js",marked:"https://cdnjs.cloudflare.com/ajax/libs/marked/0.7.0/marked.min.js",sparkmd5:"https://cdnjs.cloudflare.com/ajax/libs/spark-md5/3.0.0/spark-md5.min.js",jssha:"https://cdnjs.cloudflare.com/ajax/libs/jsSHA/2.3.1/sha.js",amr:"https://cdn.jsdelivr.net/gh/yxl/opencore-amr-js@dcf3d2b5f384a1d9ded2a54e4c137a81747b222b/js/amrnb.js",tiff:"https://cdn.jsdelivr.net/gh/seikichi/tiff.js@545ede3ee46b5a5bc5f06d65954e775aa2a64017/tiff.min.js"},url:"",requestType:"get",cors:null,parrotHeaders:[],requestMaxConn:3,transport:{},urlUpload:"",dragUploadAllow:"auto",overwriteUploadConfirm:!0,uploadMaxChunkSize:10485760,folderUploadExclude:{win:/^(?:desktop\.ini|thumbs\.db)$/i,mac:/^\.ds_store$/i},iframeTimeout:0,customData:{},handlers:{},customHeaders:{},xhrFields:{},lang:"en",baseUrl:"",i18nBaseUrl:"",cssAutoLoad:!0,themes:{},theme:null,maxErrorDialogs:5,cssClass:"",commands:["*"],commandsOptions:{getfile:{onlyURL:!1,multiple:!1,folders:!1,oncomplete:"",onerror:"",getPath:!0,getImgSize:!1},open:{method:"post",into:"window",selectAction:"open"},opennew:{url:"",useOriginQuery:!0},upload:{ui:"button"},download:{maxRequests:10,minFilesZipdl:2},quicklook:{autoplay:!0,width:450,height:300,mediaControlsList:"",pdfToolbar:!0,textInitialLines:100,prettifyMaxLines:300,contain:!1,docked:0,dockHeight:"auto",dockAutoplay:!1,googleMapsApiKey:"",googleMapsOpts:{maps:{},kml:{suppressInfoWindows:!1,preserveViewport:!1}},viewerjs:{url:"",mimes:["application/pdf","application/vnd.oasis.opendocument.text","application/vnd.oasis.opendocument.spreadsheet","application/vnd.oasis.opendocument.presentation"],pdfNative:!0},sharecadMimes:[],googleDocsMimes:[],officeOnlineMimes:[],getDimThreshold:"200K",unzipMaxSize:"50M",mimeRegexNotEmptyCheck:/^application\/vnd\.google-apps\./},edit:{dialogWidth:void 0,dialogHeight:void 0,mimes:[],mkfileHideMimes:[],makeTextMimes:["text/plain","text/css","text/html"],useStoredEditor:!1,editorMaximized:!1,editors:[],encodings:["Big5","Big5-HKSCS","Cp437","Cp737","Cp775","Cp850","Cp852","Cp855","Cp857","Cp858","Cp862","Cp866","Cp874","EUC-CN","EUC-JP","EUC-KR","GB18030","ISO-2022-CN","ISO-2022-JP","ISO-2022-KR","ISO-8859-1","ISO-8859-2","ISO-8859-3","ISO-8859-4","ISO-8859-5","ISO-8859-6","ISO-8859-7","ISO-8859-8","ISO-8859-9","ISO-8859-13","ISO-8859-15","KOI8-R","KOI8-U","Shift-JIS","Windows-1250","Windows-1251","Windows-1252","Windows-1253","Windows-1254","Windows-1257"],extraOptions:{uploadOpts:{},tuiImgEditOpts:{iconsPath:void 0,theme:{}},pixo:{apikey:""},managerUrl:null,ckeditor:{},ckeditor5:{mode:"decoupled-document"},tinymce:{},onlineConvert:{maxSize:100,showLink:!0}}},fullscreen:{mode:"screen"},search:{incsearch:{enable:!0,minlen:1,wait:500},searchTypes:{SearchMime:{name:"btnMime",title:"searchMime",incsearch:"mime"}}},info:{nullUrlDirLinkSelf:!0,hideItems:[],showHashMaxsize:104857600,showHashAlgorisms:["md5","sha256"],showHashOpts:{shake128len:256,shake256len:512},custom:{}},mkdir:{intoNewFolderToolbtn:!1},resize:{grid8px:"disable",presetSize:[[320,240],[400,400],[640,480],[800,600]],getDimThreshold:204800,dimSubImgSize:307200},rm:{quickTrash:!0,infoCheckWait:10,toTrashMaxItems:1e3},paste:{moveConfirm:!1},help:{view:["about","shortcuts","help","integrations","debug"],helpSource:""},preference:{width:600,height:400,categories:null,prefs:null,langs:null,selectActions:["open","edit/download","resize/edit/download","download","quicklook"]}},disabledCmdsRels:{get:["edit"],rm:["cut","empty"],"file&url=":["download","zipdl"]},bootCallback:null,getFileCallback:null,defaultView:"icons",startPathHash:"",sound:!0,ui:["toolbar","places","tree","path","stat"],uiOptions:{toolbar:[["home","back","forward","up","reload"],["netmount"],["mkdir","mkfile","upload"],["open","download","getfile"],["undo","redo"],["copy","cut","paste","rm","empty","hide"],["duplicate","rename","edit","resize","chmod"],["selectall","selectnone","selectinvert"],["quicklook","info"],["extract","archive"],["search"],["view","sort"],["preference","help"],["fullscreen"]],toolbarExtra:{displayTextLabel:!1,labelExcludeUA:["Mobile"],autoHideUA:["Mobile"],defaultHides:["home","reload"],showPreferenceButton:"none",preferenceInContextmenu:!0},tree:{attrTitle:!0,openRootOnLoad:!0,openCwdOnOpen:!0,syncTree:!0,subTreeMax:100,subdirsMaxConn:2,subdirsAtOnce:5,durations:{slideUpDown:"fast",autoScroll:"fast"}},navbar:{minWidth:150,maxWidth:500,autoHideUA:[]},navdock:{disabled:!1,initMaxHeight:"50%",maxHeight:"90%"},cwd:{oldSchool:!1,showSelectCheckboxUA:["Touch"],metakeyDragout:!0,listView:{columns:["perm","date","size","kind"],columnsCustomName:{},fixedHeader:!0},iconsView:{size:0,sizeMax:3,sizeNames:{0:"viewSmall",1:"viewMedium",2:"viewLarge",3:"viewExtraLarge"}}},path:{toWorkzoneWithoutNavbar:!0},dialog:{focusOnMouseOver:!0},toast:{animate:{showMethod:"fadeIn",showDuration:300,showEasing:"swing",timeOut:3e3,hideMethod:"fadeOut",hideDuration:1500,hideEasing:"swing"}}},dispInlineRegex:"^(?:(?:image|video|audio)|application/(?:x-mpegURL|dash+xml)|(?:text/plain|application/pdf)$)",onlyMimes:[],sortRules:{},sortType:"name",sortOrder:"asc",sortStickFolders:!0,sortAlsoTreeview:!1,clientFormatDate:!0,UTCDate:!1,dateFormat:"",fancyDateFormat:"",fileModeStyle:"both",width:"auto",height:400,heightBase:null,resizable:!0,notifyDelay:500,notifyDialog:{position:{},width:null,canClose:!1,hiddens:["open"]},dialogContained:!1,allowShortcuts:!0,rememberLastDir:!0,reloadClearHistory:!1,useBrowserHistory:!0,showFiles:50,showThreshold:50,validName:!1,fileFilter:!1,backupSuffix:"~",sync:0,syncStart:!0,loadTmbs:5,cookie:{expires:30,domain:"",path:"/",secure:!1},contextmenu:{navbar:["open","opennew","download","|","upload","mkdir","|","copy","cut","paste","duplicate","|","rm","empty","hide","|","rename","|","archive","|","places","info","chmod","netunmount"],cwd:["undo","redo","|","back","up","reload","|","upload","mkdir","mkfile","paste","|","empty","hide","|","view","sort","selectall","colwidth","|","places","info","chmod","netunmount","|","fullscreen","|","preference"],files:["getfile","|","open","opennew","download","opendir","quicklook","|","upload","mkdir","|","copy","cut","paste","duplicate","|","rm","empty","hide","|","rename","edit","resize","|","archive","extract","|","selectall","selectinvert","|","places","info","chmod","netunmount"]},enableAlways:!1,enableByMouseOver:!0,windowCloseConfirm:["hasNotifyDialog","editingFile"],rawStringDecoder:"object"==typeof Encoding&&a.isFunction(Encoding.convert)?function(a){return Encoding.convert(a,{to:"UNICODE",type:"string"})}:null,debug:["error","warning","event-destroy"],toastBackendWarn:!0},d.prototype._options.commandsOptions.netmount={ftp:{name:"FTP",inputs:{host:a('<input type="text"/>'),port:a('<input type="number" placeholder="21" class="elfinder-input-optional"/>'),path:a('<input type="text" value="/"/>'),user:a('<input type="text"/>'),pass:a('<input type="password" autocomplete="new-password"/>'),FTPS:a('<input type="checkbox" value="1" title="File Transfer Protocol over SSL/TLS"/>'),encoding:a('<input type="text" placeholder="Optional" class="elfinder-input-optional"/>'),locale:a('<input type="text" placeholder="Optional" class="elfinder-input-optional"/>')}},dropbox2:d.prototype.makeNetmountOptionOauth("dropbox2","Dropbox","Dropbox",{noOffline:!0,root:"/",pathI18n:"path",integrate:{title:"Dropbox.com",link:"https://www.dropbox.com"}}),googledrive:d.prototype.makeNetmountOptionOauth("googledrive","Google Drive","Google",{integrate:{title:"Google Drive",link:"https://www.google.com/drive/"}}),onedrive:d.prototype.makeNetmountOptionOauth("onedrive","One Drive","OneDrive",{integrate:{title:"Microsoft OneDrive",link:"https://onedrive.live.com"}}),box:d.prototype.makeNetmountOptionOauth("box","Box","Box",{noOffline:!0,integrate:{title:"Box.com",link:"https://www.box.com"}})},d.prototype.history=function(b){var c,d=this,e=!0,f=[],g=function(){f=[b.cwd().hash],c=0,e=!0},h=b.options.useBrowserHistory&&window.history&&window.history.pushState?window.history:null,i=function(h){return h&&d.canForward()||!h&&d.canBack()?(e=!1,b.exec("open",f[h?++c:--c]).fail(g)):a.Deferred().reject()},j=function(a){!h||h.state&&h.state.thash===a||h.pushState({thash:a},null,location.pathname+location.search+(a?"#elf_"+a:""))};this.canBack=function(){return c>0},this.canForward=function(){return c<f.length-1},this.back=i,this.forward=function(){return i(!0)},b.bind("init",function(){h&&!h.state&&j(b.startDir())}).open(function(){var a=f.length,d=b.cwd().hash;e&&(c>=0&&a>c+1&&f.splice(c+1),f[f.length-1]!=d&&f.push(d),c=f.length-1),e=!0,j(d)}).reload(b.options.reloadClearHistory&&g)},d.prototype.command=function(b){this.fm=b,this.name="",this.dialogClass="",this.className="",this.title="",this.linkedCmds=[],this.state=-1,this.alwaysEnabled=!1,this.noChangeDirOnRemovedCwd=!1,this._disabled=!1,this.disableOnSearch=!1,this.updateOnSelect=!0,this.syncTitleOnChange=!1,this.keepContextmenu=!1,this._handlers={enable:function(){this.update(void 0,this.value)},disable:function(){this.update(-1,this.value)},"open reload load sync":function(){this._disabled=!(this.alwaysEnabled||this.fm.isCommandEnabled(this.name)),this.update(void 0,this.value),this.change()}},this.handlers={},this.shortcuts=[],this.options={ui:"button"},this.listeners=[],this.setup=function(b,c){var d,e,f,g=this,h=this.fm,i=function(b){var c=b.callback||function(a){h.exec(g.name,void 0,{_userAction:!0,_currentType:"shortcut"})};b.callback=function(b){var d,e={};g.enabled()&&(h.searchStatus.state<2?d=h.isCommandEnabled(g.name):(a.each(h.selected(),function(b,c){h.optionsByHashes[c]?e[c]=!0:a.each(h.volOptions,function(a){if(!e[a]&&0===c.indexOf(a))return e[a]=!0,!1})}),a.each(e,function(a){if(!(d=h.isCommandEnabled(g.name,a)))return!1})),d&&(g.event=b,c.call(g),delete g.event))}};for(this.name=b,this.title=h.messages["cmd"+b]?h.i18n("cmd"+b):this.extendsCmd&&h.messages["cmd"+this.extendsCmd]?h.i18n("cmd"+this.extendsCmd):b,this.options=Object.assign({},this.options,c),this.listeners=[],this.dialogClass="elfinder-dialog-"+b,c.shortcuts&&("function"==typeof c.shortcuts?f=c.shortcuts(this.fm,this.shortcuts):Array.isArray(c.shortcuts)&&(f=c.shortcuts),this.shortcuts=f||[]),this.updateOnSelect&&(this._handlers.select=function(){this.update(void 0,this.value)}),a.each(Object.assign({},g._handlers,g.handlers),function(b,c){h.bind(b,a.proxy(c,g))}),d=0;d<this.shortcuts.length;d++)e=this.shortcuts[d],i(e),!e.description&&(e.description=this.title),h.shortcut(e);this.disableOnSearch&&h.bind("search searchend",function(){g._disabled="search"===this.type||!(this.alwaysEnabled||h.isCommandEnabled(b)),g.update(void 0,g.value)}),this.init()},this.init=function(){},this.exec=function(b,c){return a.Deferred().reject()},this.getUndo=function(a,b){return!1},this.disabled=function(){return this.state<0},this.enabled=function(){return this.state>-1},this.active=function(){return this.state>0},this.getstate=function(){return-1},this.update=function(a,b){var c=this.state,d=this.value;this._disabled&&0===this.fm.searchStatus?this.state=-1:this.state=void 0!==a?a:this.getstate(),this.value=b,c==this.state&&d==this.value||this.change()},this.change=function(a){var b,c;if("function"==typeof a)this.listeners.push(a);else for(c=0;c<this.listeners.length;c++){b=this.listeners[c];try{b(this.state,this.value)}catch(d){this.fm.debug("error",d)}}return this},this.hashes=function(c){return c?a.grep(Array.isArray(c)?c:[c],function(a){return!!b.file(a)}):b.selected()},this.files=function(b){var c=this.fm;return b?a.map(Array.isArray(b)?b:[b],function(a){return c.file(a)||null}):c.selectedFiles()},this.fmDialog=function(a,b){return b.cssClass?b.cssClass+=" "+this.dialogClass:b.cssClass=this.dialogClass,this.fm.dialog(a,b)}},d.prototype.resources={class:{hover:"ui-state-hover",active:"ui-state-active",disabled:"ui-state-disabled",draggable:"ui-draggable",droppable:"ui-droppable",adroppable:"elfinder-droppable-active",cwdfile:"elfinder-cwd-file",cwd:"elfinder-cwd",tree:"elfinder-tree",treeroot:"elfinder-navbar-root",navdir:"elfinder-navbar-dir",navdirwrap:"elfinder-navbar-dir-wrapper",navarrow:"elfinder-navbar-arrow",navsubtree:"elfinder-navbar-subtree",navcollapse:"elfinder-navbar-collapsed",navexpand:"elfinder-navbar-expanded",treedir:"elfinder-tree-dir",placedir:"elfinder-place-dir",searchbtn:"elfinder-button-search",editing:"elfinder-to-editing",preventback:"elfinder-prevent-back",tabstab:"ui-state-default ui-tabs-tab ui-corner-top ui-tab",tabsactive:"ui-tabs-active ui-state-active"},tpl:{perms:'<span class="elfinder-perms"></span>',lock:'<span class="elfinder-lock"></span>',symlink:'<span class="elfinder-symlink"></span>',navicon:'<span class="elfinder-nav-icon"></span>',navspinner:'<span class="elfinder-spinner elfinder-navbar-spinner"></span>',navdir:'<div class="elfinder-navbar-wrapper{root}"><span id="{id}" class="ui-corner-all elfinder-navbar-dir {cssclass}"{title}><span class="elfinder-navbar-arrow"></span><span class="elfinder-navbar-icon" {style}></span>{symlink}{permissions}{name}</span><div class="elfinder-navbar-subtree" style="display:none"></div></div>',placedir:'<div class="elfinder-navbar-wrapper"><span id="{id}" class="ui-corner-all elfinder-navbar-dir {cssclass}"{title}><span class="elfinder-navbar-arrow"></span><span class="elfinder-navbar-icon" {style}></span>{symlink}{permissions}{name}</span><div class="elfinder-navbar-subtree" style="display:none"></div></div>'},mimes:{text:["application/dash+xml","application/docbook+xml","application/javascript","application/json","application/plt","application/sat","application/sql","application/step","application/vnd.hp-hpgl","application/x-awk","application/x-config","application/x-csh","application/x-empty","application/x-mpegurl","application/x-perl","application/x-php","application/x-web-config","application/xhtml+xml","application/xml","audio/x-mp3-playlist","image/cgm","image/svg+xml","image/vnd.dxf","model/iges"]},mixin:{make:function(){var b,c,d,e,f,g,h,i,j,k,l=this,m=this.fm,n=this.name,o=this.requestCmd||n,p=m.getUI("workzone"),q=this.origin&&"navbar"===this.origin?"tree":"cwd",r="tree"===q,s=r?"navHash2Elm":"cwdHash2Elm",t=!r&&"list"!=m.storage("view"),u=m.selected(),v=this.move||!1,w=p.hasClass("elfinder-cwd-wrapper-empty"),x=function(){requestAnimationFrame(function(){J&&J.trigger("blur")})},y=function(){G.is(":hidden")||G.elfinderoverlay("hide").off("click close",I),c&&(d.removeClass("ui-front").css("position","").off("unselect."+m.namespace,x),t?c&&c.css("max-height",""):r||d.css("width","").parent("td").css("overflow",""))},z=a.Deferred().fail(function(a){g&&f.attr("class",g),w&&p.addClass("elfinder-cwd-wrapper-empty"),u&&(v&&m.trigger("unlockfiles",{files:u}),m.clipboard([]),m.trigger("selectfiles",{files:u})),a&&m.error(a)}).always(function(){y(),H(),m.enable().unbind("open",M).trigger("resMixinMake")}),A="tmp_"+parseInt(1e5*Math.random()),B=this.data&&this.data.target?this.data.target:r?m.file(u[0]).hash:m.cwd().hash,C=new Date,D={hash:A,phash:B,name:m.uniqueName(this.prefix,B),mime:this.mime,read:!0,write:!0,date:"Today "+C.getHours()+":"+C.getMinutes(),move:v},E=(m.getUI(q).trigger("create."+m.namespace,D),this.data||{}),F=m[s](A),G=m.getUI("overlay"),H=function(){F&&F.length&&(J.off(),F.hide(),m.unselectfiles({files:[A]}).unbind("resize",L),requestAnimationFrame(function(){r?F.closest(".elfinder-navbar-wrapper").remove():F.remove()}))},I=function(a){G.is(":hidden")||d.css("z-index",""),N||(H(),z.reject(),a&&(a.stopPropagation(),a.preventDefault()))},J=a(t?"<textarea></textarea>":'<input type="text"/>').on("keyup text",function(){t?(this.style.height="1px",this.style.height=this.scrollHeight+"px"):b&&(this.style.width=b+"px",this.scrollWidth>b&&(this.style.width=this.scrollWidth+10+"px"))}).on("keydown",function(b){b.stopImmediatePropagation(),b.keyCode==a.ui.keyCode.ESCAPE?z.reject():b.keyCode==a.ui.keyCode.ENTER&&(b.preventDefault(),J.trigger("blur"))}).on("mousedown click dblclick",function(a){a.stopPropagation(),"dblclick"===a.type&&a.preventDefault()}).on("blur",function(){var b,c=a.trim(J.val()),f=J.parent(),g=!0;if(G.is(":hidden")||d.css("z-index",""),""===c)return I();if(!N&&f.length){if(m.options.validName&&m.options.validName.test)try{g=m.options.validName.test(c)}catch(h){g=!1}if(!c||"."===c||".."===c||!g)return N=!0,m.error("directory"===D.mime?"errInvDirname":"errInvName",{modal:!0,close:function(){setTimeout(K,120)}}),!1;if(m.fileByName(c,B))return N=!0,m.error(["errExists",c],{modal:!0,close:function(){setTimeout(K,120)}}),!1;b=u&&v?m.exec("cut",u):null,a.when(b).done(function(){var b={},d={};y(),J.hide().before(a("<span>").text(c)),m.lockfiles({files:[A]}),m.request({data:Object.assign({cmd:o,name:c,target:B},E||{}),notify:{type:o,cnt:1},preventFail:!0,syncOnFail:!0,navigate:{toast:b}}).fail(function(b){m.unlockfiles({files:[A]}),N=!0,J.show().prev().remove(),m.error(b,{modal:!0,close:function(){Array.isArray(b)&&-1!==a.inArray("errUploadMime",b)?z.notify("errUploadMime").reject():setTimeout(K,120)}})}).done(function(c){if(c&&c.added&&c.added[0]){var f,g=c.added[0],h=g.hash,i=(m[s](h),{directory:{cmd:"open",msg:"cmdopendir"},text:{cmd:"edit",msg:"cmdedit"},default:{cmd:"open",msg:"cmdopen"}});u&&v&&m.one(o+"done",function(){m.exec("paste",h)}),v||(m.mimeIsText(g.mime)&&!m.mimesCanMakeEmpty[g.mime]&&m.mimeTypes[g.mime]&&(m.trigger("canMakeEmptyFile",{mimes:[g.mime],unshift:!0}),f={},f[g.mime]=m.mimeTypes[g.mime],m.storage("mkfileTextMimes",Object.assign(f,m.storage("mkfileTextMimes")||{}))),Object.assign(d,e||i[g.mime]||i[g.mime.split("/")[0]]||i[m.mimesCanMakeEmpty[g.mime]||-1!==a.inArray(g.mime,m.resources.mimes.text)?"text":"none"]||i.default),Object.assign(b,d.cmd?{incwd:{msg:m.i18n(["complete",m.i18n("cmd"+n)]),action:d},inbuffer:{msg:m.i18n(["complete",m.i18n("cmd"+n)]),action:d}}:{inbuffer:{msg:m.i18n(["complete",m.i18n("cmd"+n)])}}))}z.resolve(c)})}).fail(function(){z.reject()})}}).on("dragenter dragleave dragover drop",function(a){a.stopPropagation()}),K=function(){var a=m.splitFileExtention(J.val())[0];N||!m.UA.Mobile||m.UA.iOS||(G.on("click close",I).elfinderoverlay("show"),d.css("z-index",G.css("z-index")+1)),N=!1,!m.enabled()&&m.enable(),J.trigger("focus").trigger("select"),J[0].setSelectionRange&&J[0].setSelectionRange(0,a.length)},L=function(){F.trigger("scrolltoview",{blink:!1})},M=function(){z&&"pending"===z.state()&&z.reject()},N=!1;return m.isCommandEnabled(o,B)&&F.length?(a.isPlainObject(l.nextAction)&&(e=Object.assign({},l.nextAction)),r?(f=m[s](B),h=m.res("class","navcollapse"),i=m.res("class","navexpand"),j=m.res("class","navarrow"),k=m.res("class","navsubtree"),F.closest("."+k).show(),f.hasClass(h)||(g=f.attr("class"),f.addClass(h+" "+i+" elfinder-subtree-loaded")),f.is("."+h+":not(."+i+")")&&f.children("."+j).trigger("click").data("dfrd").done(function(){J.val()===D.name&&J.val(m.uniqueName(l.prefix,B)).trigger("select").trigger("focus")}),c=F.contents().filter(function(){return 3==this.nodeType&&a(this).parent().attr("id")===m.navHash2Id(D.hash)}),d=c.parent(),c.replaceWith(J.val(D.name))):(w&&p.removeClass("elfinder-cwd-wrapper-empty"),c=F.find(".elfinder-cwd-filename"),d=c.parent(),t?c.css("max-height","none"):(b=d.width(),d.width(b-15).parent("td").css("overflow","visible")),c.empty().append(J.val(D.name))),d.addClass("ui-front").css("position","relative").on("unselect."+m.namespace,x),m.bind("resize",L).one("open",M),J.trigger("keyup"),K(),z):z.reject()}},blink:function(a,b){var c,d={slowonce:function(){a.hide().delay(250).fadeIn(750).delay(500).fadeOut(3500)},lookme:function(){a.show().fadeOut(500).fadeIn(750)}};b=b||"slowonce",c=d[b]||d.lookme,a.stop(!0,!0),c()}},a.fn.dialogelfinder=function(b,c){var d,e,f="elfinderPosition",g="elfinderDestroyOnClose";if(a.isPlainObject(b))this.not(".elfinder").each(function(){b.handlers=b.handlers||{};var d,e=a(this),h=(a(document),a('<div class="ui-widget-header dialogelfinder-drag ui-corner-top">'+(b.title||"Files")+"</div>")),i=(a('<a href="#" class="dialogelfinder-drag-close ui-corner-all"><span class="ui-icon ui-icon-closethick"> </span></a>').appendTo(h).on("click",function(a){a.preventDefault(),e.dialogelfinder("close")}),b.handlers.init);b.handlers.init=function(a,b){e.prepend(h),i&&i(a,b)},d=e.addClass("elfinder dialogelfinder touch-punch").css("position","absolute").hide().appendTo("body").draggable({handle:".dialogelfinder-drag",containment:"window",stop:function(){e.trigger("resize"),d.trigger("resize")}}).elfinder(b,c).elfinder("instance"),d.reloadCallback=function(a,b){d.destroy(),a.handlers.init=i,e.dialogelfinder(a,b).dialogelfinder("open")},e.width(parseInt(e.width())||840).data(g,!!b.destroyOnClose).find(".elfinder-toolbar").removeClass("ui-corner-top"),b.position&&e.data(f,b.position),!1!==b.autoOpen&&a(this).dialogelfinder("open")});else if("open"===b)d=a(this),e=d.data(f)||{top:parseInt(a(document).scrollTop()+(a(window).height()<d.height()?2:(a(window).height()-d.height())/2)),left:parseInt(a(document).scrollLeft()+(a(window).width()<d.width()?2:(a(window).width()-d.width())/2))},d.is(":hidden")&&(d.addClass("ui-front").css(e).show().trigger("resize"),setTimeout(function(){d.trigger("resize").trigger("mousedown")},200));else if("close"===b)d=a(this).removeClass("ui-front"),d.is(":visible")&&(d.data(g)?d.elfinder("destroy").remove():d.elfinder("close"));else if("instance"===b)return a(this).getElFinder();return this},"function"==typeof d&&d.prototype.i18&&(d.prototype.i18.en={translator:"Troex Nevelin &lt;troex@fury.scancode.ru&gt;, Naoki Sawada &lt;hypweb+elfinder@gmail.com&gt;",language:"English",direction:"ltr",dateFormat:"M d, Y h:i A",fancyDateFormat:"$1 h:i A",nonameDateFormat:"ymd-His",messages:{error:"Error",errUnknown:"Unknown error.",errUnknownCmd:"Unknown command.",errJqui:"Invalid jQuery UI configuration. Selectable, draggable and droppable components must be included.",errNode:"elFinder requires DOM Element to be created.",errURL:"Invalid elFinder configuration! URL option is not set.",errAccess:"Access denied.",errConnect:"Unable to connect to backend.",errAbort:"Connection aborted.",errTimeout:"Connection timeout.",errNotFound:"Backend not found.",errResponse:"Invalid backend response.",errConf:"Invalid backend configuration.",errJSON:"PHP JSON module not installed.",errNoVolumes:"Readable volumes not available.",errCmdParams:'Invalid parameters for command "$1".',errDataNotJSON:"Data is not JSON.",errDataEmpty:"Data is empty.",errCmdReq:"Backend request requires command name.",errOpen:'Unable to open "$1".',errNotFolder:"Object is not a folder.",errNotFile:"Object is not a file.",errRead:'Unable to read "$1".',errWrite:'Unable to write into "$1".',errPerm:"Permission denied.",errLocked:'"$1" is locked and can not be renamed, moved or removed.',errExists:'Item named "$1" already exists.',errInvName:"Invalid file name.",errInvDirname:"Invalid folder name.",errFolderNotFound:"Folder not found.",errFileNotFound:"File not found.",errTrgFolderNotFound:'Target folder "$1" not found.',errPopup:"Browser prevented opening popup window. To open file enable it in browser options.",errMkdir:'Unable to create folder "$1".',errMkfile:'Unable to create file "$1".',errRename:'Unable to rename "$1".',errCopyFrom:'Copying files from volume "$1" not allowed.',errCopyTo:'Copying files to volume "$1" not allowed.',errMkOutLink:"Unable to create a link to outside the volume root.",errUpload:"Upload error.",errUploadFile:'Unable to upload "$1".',errUploadNoFiles:"No files found for upload.",errUploadTotalSize:"Data exceeds the maximum allowed size.",errUploadFileSize:"File exceeds maximum allowed size.",errUploadMime:"File type not allowed.",errUploadTransfer:'"$1" transfer error.',errUploadTemp:"Unable to make temporary file for upload.",errNotReplace:'Object "$1" already exists at this location and can not be replaced by object with another type.',errReplace:'Unable to replace "$1".',errSave:'Unable to save "$1".',errCopy:'Unable to copy "$1".',errMove:'Unable to move "$1".',errCopyInItself:'Unable to copy "$1" into itself.',errRm:'Unable to remove "$1".',errTrash:"Unable into trash.",errRmSrc:"Unable remove source file(s).",errExtract:'Unable to extract files from "$1".',errArchive:"Unable to create archive.",errArcType:"Unsupported archive type.",errNoArchive:"File is not archive or has unsupported archive type.",errCmdNoSupport:"Backend does not support this command.",errReplByChild:'The folder "$1" can\'t be replaced by an item it contains.',errArcSymlinks:"For security reason denied to unpack archives contains symlinks or files with not allowed names.",errArcMaxSize:"Archive files exceeds maximum allowed size.",errResize:'Unable to resize "$1".',errResizeDegree:"Invalid rotate degree.",errResizeRotate:"Unable to rotate image.",errResizeSize:"Invalid image size.",errResizeNoChange:"Image size not changed.",errUsupportType:"Unsupported file type.",errNotUTF8Content:'File "$1" is not in UTF-8 and cannot be edited.',errNetMount:'Unable to mount "$1".',errNetMountNoDriver:"Unsupported protocol.",errNetMountFailed:"Mount failed.",errNetMountHostReq:"Host required.",errSessionExpires:"Your session has expired due to inactivity.",errCreatingTempDir:'Unable to create temporary directory: "$1"',errFtpDownloadFile:'Unable to download file from FTP: "$1"',errFtpUploadFile:'Unable to upload file to FTP: "$1"',errFtpMkdir:'Unable to create remote directory on FTP: "$1"',errArchiveExec:'Error while archiving files: "$1"',errExtractExec:'Error while extracting files: "$1"',errNetUnMount:"Unable to unmount.",errConvUTF8:"Not convertible to UTF-8",errFolderUpload:"Try the modern browser, If you'd like to upload the folder.",errSearchTimeout:'Timed out while searching "$1". Search result is partial.',errReauthRequire:"Re-authorization is required.",errMaxTargets:"Max number of selectable items is $1.",errRestore:"Unable to restore from the trash. Can't identify the restore destination.",errEditorNotFound:"Editor not found to this file type.",errServerError:"Error occurred on the server side.",errEmpty:'Unable to empty folder "$1".',moreErrors:"There are $1 more errors.",cmdarchive:"Create archive",cmdback:"Back",cmdcopy:"Copy",cmdcut:"Cut",cmddownload:"Download",cmdduplicate:"Duplicate",cmdedit:"Edit file",cmdextract:"Extract files from archive",cmdforward:"Forward",cmdgetfile:"Select files",cmdhelp:"About this software",cmdhome:"Root",cmdinfo:"Get info",cmdmkdir:"New folder",cmdmkdirin:"Into New Folder",cmdmkfile:"New file",cmdopen:"Open",cmdpaste:"Paste",cmdquicklook:"Preview",cmdreload:"Reload",cmdrename:"Rename",cmdrm:"Delete",cmdtrash:"Into trash",cmdrestore:"Restore",cmdsearch:"Find files",cmdup:"Go to parent folder",cmdupload:"Upload files",cmdview:"View",cmdresize:"Resize & Rotate",cmdsort:"Sort",cmdnetmount:"Mount network volume",cmdnetunmount:"Unmount",cmdplaces:"To Places",cmdchmod:"Change mode",cmdopendir:"Open a folder",cmdcolwidth:"Reset column width",cmdfullscreen:"Full Screen",cmdmove:"Move",cmdempty:"Empty the folder",cmdundo:"Undo",cmdredo:"Redo",cmdpreference:"Preferences",cmdselectall:"Select all",cmdselectnone:"Select none",cmdselectinvert:"Invert selection",cmdopennew:"Open in new window",cmdhide:"Hide (Preference)",btnClose:"Close",btnSave:"Save",btnRm:"Remove",btnApply:"Apply",btnCancel:"Cancel",btnNo:"No",btnYes:"Yes",btnMount:"Mount",btnApprove:"Goto $1 & approve",btnUnmount:"Unmount",btnConv:"Convert",btnCwd:"Here",btnVolume:"Volume",btnAll:"All",btnMime:"MIME Type",btnFileName:"Filename",btnSaveClose:"Save & Close",btnBackup:"Backup",btnRename:"Rename",btnRenameAll:"Rename(All)",btnPrevious:"Prev ($1/$2)",btnNext:"Next ($1/$2)",btnSaveAs:"Save As",ntfopen:"Open folder",ntffile:"Open file",ntfreload:"Reload folder content",ntfmkdir:"Creating folder",ntfmkfile:"Creating files",ntfrm:"Delete items",ntfcopy:"Copy items",ntfmove:"Move items",ntfprepare:"Checking existing items",
ntfrename:"Rename files",ntfupload:"Uploading files",ntfdownload:"Downloading files",ntfsave:"Save files",ntfarchive:"Creating archive",ntfextract:"Extracting files from archive",ntfsearch:"Searching files",ntfresize:"Resizing images",ntfsmth:"Doing something",ntfloadimg:"Loading image",ntfnetmount:"Mounting network volume",ntfnetunmount:"Unmounting network volume",ntfdim:"Acquiring image dimension",ntfreaddir:"Reading folder infomation",ntfurl:"Getting URL of link",ntfchmod:"Changing file mode",ntfpreupload:"Verifying upload file name",ntfzipdl:"Creating a file for download",ntfparents:"Getting path infomation",ntfchunkmerge:"Processing the uploaded file",ntftrash:"Doing throw in the trash",ntfrestore:"Doing restore from the trash",ntfchkdir:"Checking destination folder",ntfundo:"Undoing previous operation",ntfredo:"Redoing previous undone",ntfchkcontent:"Checking contents",volume_Trash:"Trash",dateUnknown:"unknown",Today:"Today",Yesterday:"Yesterday",msJan:"Jan",msFeb:"Feb",msMar:"Mar",msApr:"Apr",msMay:"May",msJun:"Jun",msJul:"Jul",msAug:"Aug",msSep:"Sep",msOct:"Oct",msNov:"Nov",msDec:"Dec",January:"January",February:"February",March:"March",April:"April",May:"May",June:"June",July:"July",August:"August",September:"September",October:"October",November:"November",December:"December",Sunday:"Sunday",Monday:"Monday",Tuesday:"Tuesday",Wednesday:"Wednesday",Thursday:"Thursday",Friday:"Friday",Saturday:"Saturday",Sun:"Sun",Mon:"Mon",Tue:"Tue",Wed:"Wed",Thu:"Thu",Fri:"Fri",Sat:"Sat",sortname:"by name",sortkind:"by kind",sortsize:"by size",sortdate:"by date",sortFoldersFirst:"Folders first",sortperm:"by permission",sortmode:"by mode",sortowner:"by owner",sortgroup:"by group",sortAlsoTreeview:"Also Treeview","untitled file.txt":"NewFile.txt","untitled folder":"NewFolder",Archive:"NewArchive","untitled file":"NewFile.$1",extentionfile:"$1: File",extentiontype:"$1: $2",confirmReq:"Confirmation required",confirmRm:"Are you sure you want to permanently remove items?<br/>This cannot be undone!",confirmRepl:"Replace old file with new one? (If it contains folders, it will be merged. To backup and replace, select Backup.)",confirmRest:"Replace existing item with the item in trash?",confirmConvUTF8:"Not in UTF-8<br/>Convert to UTF-8?<br/>Contents become UTF-8 by saving after conversion.",confirmNonUTF8:"Character encoding of this file couldn't be detected. It need to temporarily convert to UTF-8 for editting.<br/>Please select character encoding of this file.",confirmNotSave:"It has been modified.<br/>Losing work if you do not save changes.",confirmTrash:"Are you sure you want to move items to trash bin?",confirmMove:'Are you sure you want to move items to "$1"?',apllyAll:"Apply to all",name:"Name",size:"Size",perms:"Permissions",modify:"Modified",kind:"Kind",read:"read",write:"write",noaccess:"no access",and:"and",unknown:"unknown",selectall:"Select all items",selectfiles:"Select item(s)",selectffile:"Select first item",selectlfile:"Select last item",viewlist:"List view",viewicons:"Icons view",viewSmall:"Small icons",viewMedium:"Medium icons",viewLarge:"Large icons",viewExtraLarge:"Extra large icons",places:"Places",calc:"Calculate",path:"Path",aliasfor:"Alias for",locked:"Locked",dim:"Dimensions",files:"Files",folders:"Folders",items:"Items",yes:"yes",no:"no",link:"Link",searcresult:"Search results",selected:"selected items",about:"About",shortcuts:"Shortcuts",help:"Help",webfm:"Web file manager",ver:"Version",protocolver:"protocol version",homepage:"Project home",docs:"Documentation",github:"Fork us on GitHub",twitter:"Follow us on Twitter",facebook:"Join us on Facebook",team:"Team",chiefdev:"chief developer",developer:"developer",contributor:"contributor",maintainer:"maintainer",translator:"translator",icons:"Icons",dontforget:"and don't forget to take your towel",shortcutsof:"Shortcuts disabled",dropFiles:"Drop files here",or:"or",selectForUpload:"Select files",moveFiles:"Move items",copyFiles:"Copy items",restoreFiles:"Restore items",rmFromPlaces:"Remove from places",aspectRatio:"Aspect ratio",scale:"Scale",width:"Width",height:"Height",resize:"Resize",crop:"Crop",rotate:"Rotate","rotate-cw":"Rotate 90 degrees CW","rotate-ccw":"Rotate 90 degrees CCW",degree:"°",netMountDialogTitle:"Mount network volume",protocol:"Protocol",host:"Host",port:"Port",user:"User",pass:"Password",confirmUnmount:"Are you sure to unmount $1?",dropFilesBrowser:"Drop or Paste files from browser",dropPasteFiles:"Drop files, Paste URLs or images(clipboard) here",encoding:"Encoding",locale:"Locale",searchTarget:"Target: $1",searchMime:"Search by input MIME Type",owner:"Owner",group:"Group",other:"Other",execute:"Execute",perm:"Permission",mode:"Mode",emptyFolder:"Folder is empty",emptyFolderDrop:"Folder is empty\\A Drop to add items",emptyFolderLTap:"Folder is empty\\A Long tap to add items",quality:"Quality",autoSync:"Auto sync",moveUp:"Move up",getLink:"Get URL link",selectedItems:"Selected items ($1)",folderId:"Folder ID",offlineAccess:"Allow offline access",reAuth:"To re-authenticate",nowLoading:"Now loading...",openMulti:"Open multiple files",openMultiConfirm:"You are trying to open the $1 files. Are you sure you want to open in browser?",emptySearch:"Search results is empty in search target.",editingFile:"It is editing a file.",hasSelected:"You have selected $1 items.",hasClipboard:"You have $1 items in the clipboard.",incSearchOnly:"Incremental search is only from the current view.",reinstate:"Reinstate",complete:"$1 complete",contextmenu:"Context menu",pageTurning:"Page turning",volumeRoots:"Volume roots",reset:"Reset",bgcolor:"Background color",colorPicker:"Color picker","8pxgrid":"8px Grid",enabled:"Enabled",disabled:"Disabled",emptyIncSearch:"Search results is empty in current view.\\A Press [Enter] to expand search target.",emptyLetSearch:"First letter search results is empty in current view.",textLabel:"Text label",minsLeft:"$1 mins left",openAsEncoding:"Reopen with selected encoding",saveAsEncoding:"Save with the selected encoding",selectFolder:"Select folder",firstLetterSearch:"First letter search",presets:"Presets",tooManyToTrash:"It's too many items so it can't into trash.",TextArea:"TextArea",folderToEmpty:'Empty the folder "$1".',filderIsEmpty:'There are no items in a folder "$1".',preference:"Preference",language:"Language",clearBrowserData:"Initialize the settings saved in this browser",toolbarPref:"Toolbar settings",charsLeft:"... $1 chars left.",linesLeft:"... $1 lines left.",sum:"Sum",roughFileSize:"Rough file size",autoFocusDialog:"Focus on the element of dialog with mouseover",select:"Select",selectAction:"Action when select file",useStoredEditor:"Open with the editor used last time",selectinvert:"Invert selection",renameMultiple:"Are you sure you want to rename $1 selected items like $2?<br/>This cannot be undone!",batchRename:"Batch rename",plusNumber:"+ Number",asPrefix:"Add prefix",asSuffix:"Add suffix",changeExtention:"Change extention",columnPref:"Columns settings (List view)",reflectOnImmediate:"All changes will reflect immediately to the archive.",reflectOnUnmount:"Any changes will not reflect until un-mount this volume.",unmountChildren:"The following volume(s) mounted on this volume also unmounted. Are you sure to unmount it?",selectionInfo:"Selection Info",hashChecker:"Algorithms to show the file hash",infoItems:"Info Items (Selection Info Panel)",pressAgainToExit:"Press again to exit.",toolbar:"Toolbar",workspace:"Work Space",dialog:"Dialog",all:"All",iconSize:"Icon Size (Icons view)",editorMaximized:"Open the maximized editor window",editorConvNoApi:"Because conversion by API is not currently available, please convert on the website.",editorConvNeedUpload:"After conversion, you must be upload with the item URL or a downloaded file to save the converted file.",convertOn:"Convert on the site of $1",integrations:"Integrations",integrationWith:"This elFinder has the following external services integrated. Please check the terms of use, privacy policy, etc. before using it.",showHidden:"Show hidden items",hideHidden:"Hide hidden items",toggleHidden:"Show/Hide hidden items",makefileTypes:'File types to enable with "New file"',typeOfTextfile:"Type of the Text file",add:"Add",theme:"Theme",default:"Default",description:"Description",website:"Website",author:"Author",email:"Email",license:"License",exportToSave:"This item can't be saved. To avoid losing the edits you need to export to your PC.",dblclickToSelect:"Double click on the file to select it.",useFullscreen:"Use fullscreen mode",kindUnknown:"Unknown",kindRoot:"Volume Root",kindFolder:"Folder",kindSelects:"Selections",kindAlias:"Alias",kindAliasBroken:"Broken alias",kindApp:"Application",kindPostscript:"Postscript document",kindMsOffice:"Microsoft Office document",kindMsWord:"Microsoft Word document",kindMsExcel:"Microsoft Excel document",kindMsPP:"Microsoft Powerpoint presentation",kindOO:"Open Office document",kindAppFlash:"Flash application",kindPDF:"Portable Document Format (PDF)",kindTorrent:"Bittorrent file",kind7z:"7z archive",kindTAR:"TAR archive",kindGZIP:"GZIP archive",kindBZIP:"BZIP archive",kindXZ:"XZ archive",kindZIP:"ZIP archive",kindRAR:"RAR archive",kindJAR:"Java JAR file",kindTTF:"True Type font",kindOTF:"Open Type font",kindRPM:"RPM package",kindText:"Text document",kindTextPlain:"Plain text",kindPHP:"PHP source",kindCSS:"Cascading style sheet",kindHTML:"HTML document",kindJS:"Javascript source",kindRTF:"Rich Text Format",kindC:"C source",kindCHeader:"C header source",kindCPP:"C++ source",kindCPPHeader:"C++ header source",kindShell:"Unix shell script",kindPython:"Python source",kindJava:"Java source",kindRuby:"Ruby source",kindPerl:"Perl script",kindSQL:"SQL source",kindXML:"XML document",kindAWK:"AWK source",kindCSV:"Comma separated values",kindDOCBOOK:"Docbook XML document",kindMarkdown:"Markdown text",kindImage:"Image",kindBMP:"BMP image",kindJPEG:"JPEG image",kindGIF:"GIF Image",kindPNG:"PNG Image",kindTIFF:"TIFF image",kindTGA:"TGA image",kindPSD:"Adobe Photoshop image",kindXBITMAP:"X bitmap image",kindPXM:"Pixelmator image",kindAudio:"Audio media",kindAudioMPEG:"MPEG audio",kindAudioMPEG4:"MPEG-4 audio",kindAudioMIDI:"MIDI audio",kindAudioOGG:"Ogg Vorbis audio",kindAudioWAV:"WAV audio",AudioPlaylist:"MP3 playlist",kindVideo:"Video media",kindVideoDV:"DV movie",kindVideoMPEG:"MPEG movie",kindVideoMPEG4:"MPEG-4 movie",kindVideoAVI:"AVI movie",kindVideoMOV:"Quick Time movie",kindVideoWM:"Windows Media movie",kindVideoFlash:"Flash movie",kindVideoMKV:"Matroska movie",kindVideoOGG:"Ogg movie"}}),a.fn.elfinderbutton=function(b){return this.each(function(){var c,d,e="class",f=b.fm,g=f.res(e,"disabled"),h=f.res(e,"active"),i=f.res(e,"hover"),j="elfinder-button-menu-item",k=a('<span class="elfinder-button-text">'+b.title+"</span>"),l=b.className?b.className:b.name,m=a(this).addClass("ui-state-default elfinder-button").attr("title",b.title).append('<span class="elfinder-button-icon elfinder-button-icon-'+l+'"></span>',k).on("mouseenter mouseleave",function(a){!m.hasClass(g)&&m["mouseleave"==a.type?"removeClass":"addClass"](i)}).on("click",function(a){m.hasClass(g)||(c&&b.variants.length>=1?(c.is(":hidden")&&f.getUI().click(),a.stopPropagation(),c.css(o()).slideToggle({duration:100,done:function(a){f[c.is(":visible")?"toFront":"toHide"](c)}})):f.exec(b.name,p(),{_userAction:!0,_currentType:"toolbar",_currentNode:m}))}),n=function(){f.toHide(c)},o=function(){var a=f.getUI(),b=a.offset(),c=m.offset();return{top:c.top-b.top,left:c.left-b.left,maxHeight:a.height()-40}},p=function(){var a=f.selected();return a.length||(a=f.cwd()?[f.cwd().hash]:void 0),a};k.hide(),b.button=m,Array.isArray(b.variants)&&(m.addClass("elfinder-menubutton"),c=a('<div class="ui-front ui-widget ui-widget-content elfinder-button-menu elfinder-button-'+l+'-menu ui-corner-all"></div>').hide().appendTo(f.getUI()).on("mouseenter mouseleave","."+j,function(){a(this).toggleClass(i)}).on("click","."+j,function(d){var e=a(this).data("value");d.preventDefault(),d.stopPropagation(),m.removeClass(i),f.toHide(c),void 0===e&&(e={}),"object"==typeof e&&(e._userAction=!0),f.exec(b.name,p(),e)}).on("close",n),f.bind("disable select",n).getUI().on("click",n),b.change(function(){c.html(""),a.each(b.variants,function(d,e){c.append(a('<div class="'+j+'">'+e[1]+"</div>").data("value",e[0]).addClass(e[0]==b.value?"elfinder-button-menu-item-selected":""))})})),b.change(function(){var a;d&&cancelAnimationFrame(d),d=requestAnimationFrame(function(){b.disabled()?m.removeClass(h+" "+i).addClass(g):(m.removeClass(g),m[b.active()?"addClass":"removeClass"](h)),b.syncTitleOnChange&&(a=b.className?b.className:b.name,l!==a&&(m.children(".elfinder-button-icon").removeClass("elfinder-button-icon-"+l).addClass("elfinder-button-icon-"+a),c&&c.removeClass("elfinder-button-"+l+"-menu").addClass("elfinder-button-"+a+"-menu"),l=a),k.html(b.title),m.attr("title",b.title))})}).change()})},a.fn.elfindercontextmenu=function(b){return this.each(function(){var c,d,e,f,g,h,i,j=(a(this),"elfinder-contextmenu-item"),k="elfinder-contextsubmenu-item",l="elfinder-contextmenu-extra-icon",m=b.res("class","hover"),n={distance:8,start:function(){o.data("drag",!0).data("touching")&&o.find("."+m).removeClass(m)},stop:function(){o.data("draged",!0).removeData("drag")}},o=a(this).addClass("touch-punch ui-helper-reset ui-front ui-widget ui-state-default ui-corner-all elfinder-contextmenu elfinder-contextmenu-"+b.direction).hide().on("touchstart",function(a){o.data("touching",!0).children().removeClass(m)}).on("touchend",function(a){o.removeData("touching")}).on("mouseenter mouseleave","."+j,function(b){a(this).toggleClass(m,!("mouseenter"!==b.type&&(o.data("draged")||!o.data("submenuKeep")))),o.data("draged")&&o.data("submenuKeep")&&o.find(".elfinder-contextmenu-sub:visible").parent().addClass(m)}).on("mouseenter mouseleave","."+l,function(b){a(this).parent().toggleClass(m,"mouseleave"===b.type)}).on("mouseenter mouseleave","."+j+",."+k,function(b){var c=function(b,c){a.each(c?g:e,function(a,d){if(b[0]===d)return(c?g:e)._cur=a,c?h=b:f=b,!1})};if(b.originalEvent){var d=a(this),i=function(){f&&!f.children("div.elfinder-contextmenu-sub:visible").length&&f.removeClass(m)};"mouseenter"===b.type?d.hasClass(k)?(h&&h.removeClass(m),f&&(g=f.find("div."+k)),c(d,!0)):(i(),c(d)):d.hasClass(k)?(h=null,g=null):(i(),function(a){setTimeout(function(){a===f&&(f=null)},250)}(f))}}).on("contextmenu",function(){return!1}).on("mouseup",function(){setTimeout(function(){o.removeData("draged")},100)}).draggable(n),p="ltr"===b.direction,q=p?"left":"right",r=Object.assign({},b.options.contextmenu),s='<div class="'+j+'{className}"><span class="elfinder-button-icon {icon} elfinder-contextmenu-icon"{style}></span><span>{label}</span></div>',t=function(c,d,e,f){var g,h,i="",j="",k="";return f&&(f.className&&(i=" "+f.className),f.iconClass&&(k=f.iconClass,d=""),f.iconImg&&(g=f.iconImg.split(/ +/),h=g[1]&&g[2]?b.escape(g[1]+"px "+g[2]+"px"):"",j=" style=\"background:url('"+b.escape(g[0])+"') "+(h||"0 0")+" no-repeat;"+(h?"":"posbackground-size:contain;")+'"')),a(s.replace("{icon}",d?"elfinder-button-icon-"+d:k||"").replace("{label}",c).replace("{style}",j).replace("{className}",i)).on("click",function(a){a.stopPropagation(),a.preventDefault(),e()})},u=function(a){var b=a.split(/ +/),c=b[1]&&b[2]?b[1]+"px "+b[2]+"px":"";return{backgroundImage:'url("'+b[0]+'")',backgroundRepeat:"no-repeat",backgroundPosition:c||"",backgroundSize:c?"":"contain"}},v=function(){var c="touchstart.contextmenuAutoToggle";o.data("hideTm")&&clearTimeout(o.data("hideTm")),o.is(":visible")&&o.on("touchstart",function(a){a.originalEvent.touches.length>1||(o.stop(),b.toFront(o),o.data("hideTm")&&clearTimeout(o.data("hideTm")))}).data("hideTm",setTimeout(function(){o.is(":visible")&&(d.find(".elfinder-cwd-file").off(c),d.find(".elfinder-cwd-file.ui-selected").one(c,function(b){if(!(b.originalEvent.touches.length>1)){var e=a(b.target);return!o.first().length||e.is("input:checkbox")||e.hasClass("elfinder-cwd-select")?void d.find(".elfinder-cwd-file").off(c):(b.stopPropagation(),x(b.originalEvent.touches[0].pageX,b.originalEvent.touches[0].pageY),d.data("longtap",!0),void e.one("touchend",function(){setTimeout(function(){d.removeData("longtap")},80)}))}}).one("unselect."+b.namespace,function(){d.find(".elfinder-cwd-file").off(c)}),o.fadeOut({duration:300,fail:function(){o.css("opacity","1").show()},done:function(){b.toHide(o)}}))},4500))},w=function(c){var d=c.keyCode,i=a.ui.keyCode.ESCAPE,j=a.ui.keyCode.ENTER,l=a.ui.keyCode.LEFT,n=a.ui.keyCode.RIGHT,o=a.ui.keyCode.UP,p=a.ui.keyCode.DOWN,q="ltr"===b.direction?n:l,r=q===n?l:n;-1!==a.inArray(d,[i,j,l,n,o,p])&&(c.preventDefault(),c.stopPropagation(),c.stopImmediatePropagation(),d==i||d===r?f&&g&&h?(h.trigger("mouseleave").trigger("submenuclose"),f.addClass(m),g=null,h=null):d==i&&y():d==o||d==p?g?(h&&h.trigger("mouseleave"),d==p&&(!h||g.length<=++g._cur)?g._cur=0:d==o&&(!h||--g._cur<0)&&(g._cur=g.length-1),h=g.eq(g._cur).trigger("mouseenter")):(g=null,f&&f.trigger("mouseleave"),d==p&&(!f||e.length<=++e._cur)?e._cur=0:d==o&&(!f||--e._cur<0)&&(e._cur=e.length-1),f=e.eq(e._cur).addClass(m)):!f||d!=j&&d!==q||(f.hasClass("elfinder-contextmenu-group")?h?d==j&&h.click():(f.trigger("mouseenter"),g=f.find("div."+k),g._cur=0,h=g.first().addClass(m)):d==j&&f.click()))},x=function(d,e,j){var k,l=o.outerWidth(),m=o.outerHeight(),n=c.attr("style"),p=c.offset(),r=c.width(),s=c.height(),t=b.UA.Mobile?40:2,u=b.UA.Mobile?20:2,d=d-(p?p.left:0),e=e-(p?p.top:0),j=Object.assign(j||{},{top:Math.max(0,e+u+m<s?e+u:e-(e+m-s)),left:Math.max(0,d<l+t||d+t+l<r?d+t:d-t-l),opacity:"1"});i=!0,b.autoSync("stop"),c.width(r),o.stop().removeAttr("style").css(j),b.toFront(o),o.show(),c.attr("style",n),j[q]=parseInt(o.width()),o.find(".elfinder-contextmenu-sub").css(j),b.UA.iOS&&a("div.elfinder div.overflow-scrolling-touch").css("-webkit-overflow-scrolling","auto"),f=null,g=null,h=null,a(document).on("keydown."+b.namespace,w),k=a._data(document).events,k&&k.keydown&&k.keydown.unshift(k.keydown.pop()),b.UA.Mobile&&v(),requestAnimationFrame(function(){b.getUI().one("click."+b.namespace,y)})},y=function(){if(b.getUI().off("click."+b.namespace,y),a(document).off("keydown."+b.namespace,w),B=C=null,o.is(":visible")||o.children().length){b.toHide(o.removeAttr("style").empty().removeData("submenuKeep"));try{o.draggable("instance")||o.draggable(n)}catch(c){o.hasClass("ui-draggable")||o.draggable(n)}o.data("prevNode")&&(o.data("prevNode").after(o),o.removeData("prevNode")),b.trigger("closecontextmenu"),b.UA.iOS&&a("div.elfinder div.overflow-scrolling-touch").css("-webkit-overflow-scrolling","touch")}i&&b.searchStatus.state<1&&!b.searchStatus.ininc&&b.autoSync(),i=!1},z=function(d,f){var g,h=!1,i=!1,n=[],q="cwd"===d,s=0;B=d,C=f,(g=b.option("uiCmdMap",q?void 0:f[0]))||(g={}),q||(n=b.getDisabledCmds(f)),s=b.selected().length,s>1&&o.append('<div class="ui-corner-top ui-widget-header elfinder-contextmenu-header"><span>'+b.i18n("selectedItems",""+s)+"</span></div>"),e=a(),a.each(r[d]||[],function(r,s){var v,w,x,z,A,B;if("|"===s)return void(h&&(i=!0));if(g[s]?(w=g[s],x=!0):w=s,v=b.getCommand(w),!v||q||b.searchStatus.state&&v.disableOnSearch||(v.__disabled=v._disabled,v._disabled=!(v.alwaysEnabled||b._commands[w]&&!(-1!==a.inArray(s,n)||x&&n[w])),a.each(v.linkedCmds,function(a,c){var d;(d=b.getCommand(c))&&(d.__disabled=d._disabled,d._disabled=!(d.alwaysEnabled||b._commands[c]&&!n[c]))})),v&&!v._disabled&&-1!=v.getstate(f)){if(v.variants){if(!v.variants.length)return;z=t(v.title,v.className?v.className:v.name,function(){},v.contextmenuOpts),A=a('<div class="ui-front ui-corner-all elfinder-contextmenu-sub"></div>').hide().css("max-height",b.getUI().height()-30).appendTo(z.append('<span class="elfinder-contextmenu-arrow"></span>')),B=function(a){if(a){var d=c.attr("style");c.width(c.width()),A.css({top:"-1000px",left:"auto",right:"auto"});var e,f,g=z.offset(),h=g.left,i=g.top,j=z.outerWidth(),k=A.outerWidth(!0),l=A.outerHeight(!0),m=c.offset(),n=m.left+c.width(),q=m.top+c.height(),r=p,s=j;p?(f=h+j+k-n)>10&&(h>k-5?(s-=5,r=!1):b.UA.Mobile||(s=j-f)):(f=k-h)>0&&(h+j+k-15<n?(s-=5,r=!0):b.UA.Mobile||(s=j-f)),f=i+5+l-q,e=f>0&&i<q?5-f:f>0?30-l:5,o.find(".elfinder-contextmenu-sub:visible").hide(),A.css({top:e,left:r?s:"auto",right:r?"auto":s,overflowY:"auto"}).show(),c.attr("style",d)}else A.hide()},z.addClass("elfinder-contextmenu-group").on("mouseleave",".elfinder-contextmenu-sub",function(a){o.data("draged")||o.removeData("submenuKeep")}).on("submenuclose",".elfinder-contextmenu-sub",function(a){B(!1)}).on("click","."+k,function(c){var e,g;c.stopPropagation(),o.data("draged")||(g=a(this),v.keepContextmenu?(g.removeClass(m),z.addClass(m)):o.hide(),e=g.data("exec"),void 0===e&&(e={}),"object"==typeof e&&(e._userAction=!0,e._currentType=d,e._currentNode=g),!v.keepContextmenu&&y(),b.exec(v.name,f,e))}).on("touchend",function(a){o.data("drag")||(B(!0),o.data("submenuKeep",!0))}).on("mouseenter mouseleave",function(b){o.data("touching")||(z.data("timer")&&(clearTimeout(z.data("timer")),z.removeData("timer")),a(b.target).closest(".elfinder-contextmenu-sub",o).length||("mouseleave"===b.type?o.data("submenuKeep")||z.data("timer",setTimeout(function(){z.removeData("timer"),B(!1)},250)):z.data("timer",setTimeout(function(){z.removeData("timer"),B(!0)},e.find("div.elfinder-contextmenu-sub:visible").length?250:0))))}),a.each(v.variants,function(b,c){var d,e="|"===c?'<div class="elfinder-contextmenu-separator"></div>':a('<div class="'+j+" "+k+'"><span>'+c[1]+"</span></div>").data("exec",c[0]);void 0!==c[2]&&(d=a("<span></span>").addClass("elfinder-button-icon elfinder-contextmenu-icon"),/\//.test(c[2])?d.css(u(c[2])):d.addClass("elfinder-button-icon-"+c[2]),e.prepend(d).addClass(k+"-icon")),A.append(e)})}else z=t(v.title,v.className?v.className:v.name,function(){o.data("draged")||(!v.keepContextmenu&&y(),b.exec(v.name,f,{_userAction:!0,_currentType:d,_currentNode:z}))},v.contextmenuOpts),v.extra&&v.extra.node?(a('<span class="elfinder-button-icon elfinder-button-icon-'+(v.extra.icon||"")+" "+l+'"></span>').append(v.extra.node).appendTo(z),a(v.extra.node).trigger("ready",{targets:f})):z.remove("."+l);v.extendsCmd&&z.children("span.elfinder-button-icon").addClass("elfinder-button-icon-"+v.extendsCmd),i&&o.append('<div class="elfinder-contextmenu-separator"></div>'),o.append(z),h=!0,i=!1}v&&void 0!==v.__disabled&&(v._disabled=v.__disabled,delete v.__disabled,a.each(v.linkedCmds,function(a,c){var d;(d=b.getCommand(c))&&(d._disabled=d.__disabled,delete d.__disabled)}))}),e=o.children("div."+j)},A=function(b){B="raw",a.each(b,function(a,b){var c;"|"===b?o.append('<div class="elfinder-contextmenu-separator"></div>'):b.label&&"function"==typeof b.callback&&(c=t(b.label,b.icon,function(){o.data("draged")||(!b.remain&&y(),b.callback())},b.options||null),o.append(c))}),e=o.children("div."+j)},B=null,C=null;b.one("load",function(){c=b.getUI(),d=b.getUI("cwd"),b.bind("contextmenu",function(c){var e,f=c.data,g={};f.type&&"files"!==f.type&&d.trigger("unselectall"),y(),f.type&&f.targets?(b.trigger("contextmenucreate",f),z(f.type,f.targets),b.trigger("contextmenucreatedone",f)):f.raw&&A(f.raw),o.children().length&&(e=f.prevNode||null,e&&(o.data("prevNode",o.prev()),e.after(o)),f.fitHeight&&(g={maxHeight:Math.min(b.getUI().height(),a(window).height()),overflowY:"auto"},o.draggable("destroy").removeClass("ui-draggable")),x(f.x,f.y,g),f.opened&&"function"==typeof f.opened&&f.opened.call(o))}).one("destroy",function(){o.remove()}).bind("disable",y).bind("select",function(a){"files"===B&&(!a.data||a.data.selected.toString()!==C.toString())&&y()})}).shortcut({pattern:"mac"===b.OS?"ctrl+m":"contextmenu shift+f10",description:"contextmenu",callback:function(c){c.stopPropagation(),c.preventDefault(),a(document).one("contextmenu."+b.namespace,function(a){a.preventDefault(),a.stopPropagation()});var d,e,f,g,h=b.selected();h.length?(d="files",e=h,g=b.cwdHash2Elm(h[0])):(d="cwd",e=[b.cwd().hash],f=b.getUI("workzone").offset()),g&&g.length||(g=b.getUI("workzone")),f=g.offset(),f.top+=g.height()/2,f.left+=g.width()/2,b.trigger("contextmenu",{type:d,targets:e,x:f.left,y:f.top})}})})},a.fn.elfindercwd=function(b,c){return this.not(".elfinder-cwd").each(function(){var d,e,f,g,h,i,j,k=b.UA.Mobile,l="list"==b.viewType,m="select."+b.namespace,n="unselect."+b.namespace,o="disable."+b.namespace,p="enable."+b.namespace,q="class",r=b.res(q,"cwdfile"),s="."+r,t="ui-selected",u=b.res(q,"disabled"),v=b.res(q,"draggable"),w=b.res(q,"droppable"),x=b.res(q,"hover"),y=b.res(q,"active"),z=b.res(q,"adroppable"),A=r+"-tmp",B="elfinder-cwd-selectchk",C=b.options.loadTmbs>0?b.options.loadTmbs:5,D="",E={},F=[],G=[],H=void 0,I=[],J="",K=function(){for(var a="",b=0;b<I.length;b++)a+='<td class="elfinder-col-'+I[b]+'">{'+I[b]+"}</td>";return a},L=function(){return'<tr id="{id}" class="'+r+' {permsclass} {dirclass}" title="{tooltip}"{css}><td class="elfinder-col-name"><div class="elfinder-cwd-file-wrapper"><span class="elfinder-cwd-icon {mime}"{style}></span>{marker}<span class="elfinder-cwd-filename">{name}</span></div>'+M+"</td>"+K()+"</tr>"},M=a.map(c.showSelectCheckboxUA,function(a){return!(!b.UA[a]&&!a.match(/^all$/i))||null}).length?'<div class="elfinder-cwd-select"><input type="checkbox" class="'+B+'"></div>':"",N=!1,O=null,P={icon:'<div id="{id}" class="'+r+' {permsclass} {dirclass} ui-corner-all" title="{tooltip}"><div class="elfinder-cwd-file-wrapper ui-corner-all"><div class="elfinder-cwd-icon {mime} ui-corner-all" unselectable="on"{style}></div>{marker}</div><div class="elfinder-cwd-filename" title="{nametitle}">{name}</div>'+M+"</div>",row:""},Q=b.res("tpl","perms"),R=b.res("tpl","lock"),S=b.res("tpl","symlink"),T={id:function(a){return b.cwdHash2Id(a.hash)},name:function(a){var c=b.escape(a.i18||a.name);return!l&&(c=c.replace(/([_.])/g,"&#8203;$1")),c},nametitle:function(a){return b.escape(a.i18||a.name)},permsclass:function(a){return b.perms2class(a)},perm:function(a){return b.formatPermissions(a)},dirclass:function(a){var d="directory"==a.mime?"directory":"";return a.isroot&&(d+=" isroot"),a.csscls&&(d+=" "+b.escape(a.csscls)),c.getClass&&(d+=" "+c.getClass(a)),d},style:function(a){return a.icon?b.getIconStyle(a):""},mime:function(a){var c=b.mime2class(a.mime);return a.icon&&(c+=" elfinder-cwd-bgurl"),c},size:function(a){return"directory"!==a.mime||a.size?b.formatSize(a.size):"-"},date:function(a){return b.formatDate(a)},kind:function(a){return b.mime2kind(a)},mode:function(a){return a.perm?b.formatFileMode(a.perm):""},modestr:function(a){return a.perm?b.formatFileMode(a.perm,"string"):""},modeoct:function(a){return a.perm?b.formatFileMode(a.perm,"octal"):""},modeboth:function(a){return a.perm?b.formatFileMode(a.perm,"both"):""},marker:function(a){return(a.alias||"symlink-broken"==a.mime?S:"")+(a.read&&a.write?"":Q)+(a.locked?R:"")},tooltip:function(a){var c=b.formatDate(a)+(a.size>0?" ("+b.formatSize(a.size)+")":""),d="";return d=D&&a.path?b.escape(a.path.replace(/\/[^\/]*$/,"")):a.tooltip?b.escape(a.tooltip).replace(/\r/g,"&#13;"):"",l&&(d+=(d?"&#13;":"")+b.escape(a.i18||a.name)),d?d+"&#13;"+c:c}},U={},V=function(c,d){var f,g,h;if(c&&!U[c]&&(void 0===e&&(a("#elfinderAddBadgeStyle"+b.namespace).length&&a("#elfinderAddBadgeStyle"+b.namespace).remove(),e=a('<style id="addBadgeStyle'+b.namespace+'"></style>').insertBefore(a("head").children(":first")).get(0).sheet||null),e)){if(c=c.toLowerCase(),h=c.split("/"),g=b.escape(b.mimeTypes[c]||(d.replace(/.bac?k$/i,"").match(/\.([^.]+)$/)||["",""])[1])){f=".elfinder-cwd-icon-"+h[0].replace(/(\.|\+)/g,"-"),void 0!==h[1]&&(f+=".elfinder-cwd-icon-"+h[1].replace(/(\.|\+)/g,"-"));try{e.insertRule(f+':before{content:"'+g.toLowerCase()+'"}',0)}catch(i){}}U[c]=!0}},W=function(a){return a.mime&&"directory"!==a.mime&&!U[a.mime]&&V(a.mime,a.name),P[l?"row":"icon"].replace(/\{([a-z0-9_]+)\}/g,function(c,d){return T[d]?T[d](a,b):a[d]?a[d]:""})},X=a(),Y=!1,Z=function(b,c){function d(a,b){return a[b+"All"]("[id]:not(."+u+"):not(.elfinder-cwd-parent):first")}var e,f,g,h,i,j=a.ui.keyCode,k=b==j.LEFT||b==j.UP,o=Ja.find("[id]."+t);if(o.length)if(e=o.filter(k?":first":":last"),g=d(e,k?"prev":"next"),g.length)if(l||b==j.LEFT||b==j.RIGHT)f=g;else if(h=e.position().top,i=e.position().left,f=e,k){do{f=f.prev("[id]")}while(f.length&&!(f.position().top<h&&f.position().left<=i));f.hasClass(u)&&(f=d(f,"next"))}else{do{f=f.next("[id]")}while(f.length&&!(f.position().top>h&&f.position().left>=i));f.hasClass(u)&&(f=d(f,"prev")),f.length||(g=Ja.find("[id]:not(."+u+"):last"),g.position().top>h&&(f=g))}else f=e;else f=X.length?k?X.prev():X:Ja.find("[id]:not(."+u+"):not(.elfinder-cwd-parent):"+(k?"last":"first"));f&&f.length&&!f.hasClass("elfinder-cwd-parent")&&(e&&c?f=e.add(e[k?"prevUntil":"nextUntil"]("#"+f.attr("id"))).add(f):o.trigger(n),f.trigger(m),ga(f.filter(k?":first":":last")),fa())},$={},_=function(a){b.cwdHash2Elm(a).trigger(m)},aa=!1,ba=function(){b.cwd().hash,M&&Ma.find("input").prop("checked",!0),b.lazy(function(){var c;b.maxTargets&&(H||G).length>b.maxTargets?(ca({notrigger:!0}),c=a.map(H||G,function(a){return b.file(a)||null}),c=c.slice(0,b.maxTargets),$={},a.each(c,function(a,c){$[c.hash]=!0,b.cwdHash2Elm(c.hash).trigger(m)}),b.toast({mode:"warning",msg:b.i18n(["errMaxTargets",b.maxTargets])})):(Ja.find("[id]:not(."+t+"):not(.elfinder-cwd-parent)").trigger(m),$=b.arrayFlip(H||G,!0)),fa(),M&&Ma.data("pending",!1)},0,{repaint:!0})},ca=function(a){var b=a||{};M&&Ma.find("input").prop("checked",!1),Object.keys($).length&&(Y=!1,$={},Ja.find("[id]."+t).trigger(n),M&&Ja.find("input:checkbox."+B).prop("checked",!1)),!b.notrigger&&fa(),M&&Ma.data("pending",!1),Ja.removeClass("elfinder-cwd-allselected")},da=function(){var c={};aa?ca():Object.keys($).length?(a.each(H||G,function(a,d){var e=b.cwdHash2Elm(d);$[d]?e.length&&e.trigger(n):(c[d]=!0,e.length&&e.trigger(m))}),$=c,fa()):ba()},ea=void 0,fa=function(){var a=Object.keys($),c={selected:a,origin:"cwd"};qa&&(a.length>1||a[0]!==b.cwdId2Hash(qa.attr("id")))&&qa.hasClass(t)&&qa.trigger(n),aa=a.length&&a.length===(H||G).length&&(!b.maxTargets||a.length<=b.maxTargets),M&&(Ma.find("input").prop("checked",aa),Ja[aa?"addClass":"removeClass"]("elfinder-cwd-allselected")),aa?c.selectall=!0:a.length||(c.unselectall=!0),b.trigger("select",c)},ga=function(a,c){if(a.length){var d=a.position().top,e=a.outerHeight(!0),f=Ka.scrollTop(),g=Ka.get(0).clientHeight,h=ua?ua.outerHeight(!0):0;d+h+e>f+g?Ka.scrollTop(parseInt(d+h+e-g)):d<f&&Ka.scrollTop(d),l&&Ka.scrollLeft(0),!!c&&b.resources.blink(a,"lookme")}},ha=[],ia={},ja=function(a){for(var b=ha.length;b--;)if(ha[b].hash==a)return b;return-1},ka="elfscrstart",la="elfscrstop",ma=!1,na={disabled:!0,filter:"[id]:first",stop:fa,delay:250,appendTo:"body",autoRefresh:!1,selected:function(b,c){a(c.selected).trigger(m)},unselected:function(b,c){a(c.unselected).trigger(n)}},oa={},pa=function(e,f){if(ia.renderd){var g=(l?Ja.find("tbody:first"):Ja).children("[id]"+(c.oldSchool?":not(.elfinder-cwd-parent)":"")+":first");if(g.length){var h,i,j=Ja.data("selectable"),k=function(){var c=Ka.offset(),e=Ka.width(),f=a(window),h=g.width()/2,i=Math.min(c.left-f.scrollLeft()+("ltr"===b.direction?h:e-h),c.left+e-10),j=c.top-f.scrollTop()+10+(l?d:0);return{left:Math.max(0,Math.round(i)),top:Math.max(0,Math.round(j))}}(),m=e?g:a(document.elementFromPoint(k.left,k.top)),n={},o={},p=5,q=Math.ceil((ia.hpi?Math.ceil(Qa.data("rectangle").height/ia.hpi*1.5):sa)/p),t=function(){var a,c,d;for(d=0;d<p&&(a=m.attr("id"),a&&(ia.getTmbs=[],c=b.cwdId2Hash(a),oa[c]=a,ia.attachTmbs[c]&&(o[c]=ia.attachTmbs[c]),j&&(n[a]=!0)),m=m.next(),m.length);d++);},u=function(){var a;Ja.data("selectable")&&(Object.assign(n,$),a=Object.keys(n),a.length&&(na.filter="#"+a.join(", #"),Ja.selectable("enable").selectable("option",{filter:na.filter}).selectable("refresh"))),Object.keys(o).length&&(ia.getTmbs=[],Aa(o))},v=function(){m.hasClass(r)||(m=m.closest(s))};if(oa={},j&&Ja.selectable("option","disabled"),
m.length&&(m.hasClass(r)||m.closest(s).length||(i=b.getUI().find(".ui-dialog:visible,.ui-widget:visible"),i.length?(i.hide(),m=a(document.elementFromPoint(k.left,k.top)),i.show()):i=null),v(),m.length||(i&&i.hide(),m=a(document.elementFromPoint(k.left,k.top+5)),i&&i.show(),v())),m.length){if(m.attr("id"))if(e){for(var w=0;w<q&&(t(),m.length);w++);u()}else ia.repaintJob&&"pending"===ia.repaintJob.state()&&ia.repaintJob.reject(),h=new Array(q),ia.repaintJob=b.asyncJob(function(){t(),m.length||(u(),ia.repaintJob&&"pending"===ia.repaintJob.state()&&ia.repaintJob.reject())},h).done(u)}else e&&ia.renderd&&(f=f||0)<10&&requestAnimationFrame(function(){pa(e,++f)})}}},qa=null,ra=function(c){var d=b.cwd().phash,e=b.file(d)||null,f=function(c){c&&(qa=a(W(a.extend(!0,{},c,{name:"..",i18:"..",mime:"directory"}))).addClass("elfinder-cwd-parent").on("dblclick",function(){b.trigger("select",{selected:[d]}).exec("open",d)}),(l?qa.children("td:first"):qa).children(".elfinder-cwd-select").remove(),b.cwdHash2Elm(d).length?b.cwdHash2Elm(d).replaceWith(qa):(l?Ja.find("tbody"):Ja).prepend(qa),b.draggingUiHelper&&b.draggingUiHelper.data("refreshPositions",1))};e?f(e):(f({hash:d,read:!0,write:!0}),b.getUI("tree").length?b.one("parents",function(){f(b.file(d)||null),Ka.trigger(la)}):b.request({data:{cmd:"parents",target:b.cwd().hash},preventFail:!0}).done(function(a){f(b.file(d)||null),Ka.trigger(la)}))},sa=b.options.showFiles,ta=function(){if(!(ia.rendering||ia.renderd&&!ha.length)){var d,e,f=l?Ja.children("table").children("tbody"):Ja,g=!!a.htmlPrefilter,h=a(g?document.createDocumentFragment():"<div></div>"),i=function(c){var d,e,i,j=c||null,n=[],o=!1,p={},q="self"===b.option("tmbUrl"),r=!ia.renderd;d=ha.splice(0,sa+(j||0)/(ia.hpi||1)),ia.renderd+=d.length,ha.length||(La.hide(),Ka.off(la,ta)),e=[],n=a.map(d,function(a){return a.hash&&a.name?("directory"==a.mime&&(o=!0),(a.tmb&&(1!=a.tmb||a.size>0)||q&&0===a.mime.indexOf("image/"))&&(p[a.hash]=a.tmb||"self"),E[a.hash]&&e.push(a.hash),W(a)):null}),h.empty().append(n.join("")),o&&!k&&za(h),i=[],Object.keys($).length&&h.find("[id]:not(."+t+"):not(.elfinder-cwd-parent)").each(function(){$[b.cwdId2Hash(this.id)]&&i.push(a(this))}),f.append(g?h:h.children()),i.length&&(a.each(i,function(a,b){b.trigger(m)}),fa()),e.length&&b.trigger("lockfiles",{files:e}),!ia.hpi&&Ga(f,d.length),l&&(Ja.find("thead").show(),wa({fitWidth:!O})),Object.keys(p).length&&Object.assign(ia.attachTmbs,p),r&&(k||Ja.data("selectable")||Ja.selectable(na).data("selectable",!0)),!ma&&Ka.trigger(la)};ia.renderd||(ia.rendering=!0,Ka.scrollTop(0),d=b.cwd().phash,i(),c.oldSchool&&(d&&!D?ra(d):qa=a()),l&&(O&&xa(),wa({fitWidth:!0})),ia.itemH=(l?f.find("tr:first"):f.find("[id]:first")).outerHeight(!0),b.trigger("cwdrender"),ia.rendering=!1,pa(!0)),!ia.rendering&&ha.length?(e=Ka.height()+Ka.scrollTop()+b.options.showThreshold+ia.row-ia.renderd*ia.hpi)>0?(ia.rendering=!0,b.lazy(function(){i(e),ia.rendering=!1})):!b.enabled()&&Oa():Oa()}},ua=null,va=b.UA.CSS.positionSticky&&b.UA.CSS.widthMaxContent,wa=function(e){if(d=0,c.listView.fixedHeader){var f,g,h,i,j,k,l,m,n,o,p,q,r,s=function(){var a,c;c="ltr"===b.direction?"left":"right",a=-1*("ltr"===b.direction?Ka.scrollLeft():h.outerWidth(!0)-Ka.width()-Ka.scrollLeft()),g.css(c)!==a&&g.css(c,a)},t=e||{};if(j=Ja.find("tbody"),m=j.children("tr:first"),m.length&&m.is(":visible")){if(h=j.parent(),ua?(i=a("#"+b.namespace+"-cwd-thead"),l=i.children("tr:first")):(r=!0,j.addClass("elfinder-cwd-fixheader"),i=Ja.find("thead").attr("id",b.namespace+"-cwd-thead"),l=i.children("tr:first"),k=l.outerHeight(!0),Ja.css("margin-top",k-parseInt(h.css("padding-top"))),va?(ua=a('<div class="elfinder-table-header-sticky"></div>').addClass(Ja.attr("class")).append(a("<table></table>").append(i)),Ja.after(ua),Ka.on("resize.fixheader",function(a){a.stopPropagation(),wa({fitWidth:!0})})):(g=a("<div></div>").addClass(Ja.attr("class")).append(a("<table></table>").append(i)),ua=a("<div></div>").addClass(Ka.attr("class")+" elfinder-cwd-fixheader").removeClass("ui-droppable native-droppable").css(Ka.position()).css({height:k,width:Ja.outerWidth()}).append(g),"rtl"===b.direction&&ua.css("left",Ka.data("width")-Ka.width()+"px"),s(),Ka.after(ua).on("scroll.fixheader resize.fixheader",function(a){s(),"resize"===a.type&&(a.stopPropagation(),ua.css(Ka.position()),Ka.data("width",Ka.css("overflow","hidden").width()),Ka.css("overflow","auto"),wa())}))),r||t.fitWidth||Math.abs(m.outerWidth()-l.outerWidth())>2){f=I.length+1;for(var u=0;u<f&&(n=l.children("td:eq("+u+")"),o=m.children("td:eq("+u+")"),p=n.width(),q=o.width(),void 0===n.data("delta")&&n.data("delta",n.outerWidth()-p-(o.outerWidth()-q)),q-=n.data("delta"),r||t.fitWidth||p!==q);u++)n.css("width",q+"px")}va||(ua.data("widthTimer")&&cancelAnimationFrame(ua.data("widthTimer")),ua.data("widthTimer",requestAnimationFrame(function(){ua&&(ua.css("width",Ra.width()+"px"),"rtl"===b.direction&&ua.css("left",Ka.data("width")-Ka.width()+"px"))}))),d=i.height()}}},xa=function(){if(l&&O){var b,c="elfinder-cwd-colwidth",d=Ja.find("tr[id]:first");d.hasClass(c)||(b=Ja.find("tr."+c),b.removeClass(c).find("td").css("width",""),d.addClass(c),Ja.find("table:first").css("table-layout","fixed"),a.each(a.merge(["name"],I),function(a,b){var c=O[b]||d.find("td.elfinder-col-"+b).width();d.find("td.elfinder-col-"+b).width(c)}))}},ya=Object.assign({},b.droppable,{over:function(c,d){var e,f,g,h=a(this),i=d.helper,j=c.shiftKey||c.ctrlKey||c.metaKey;return c.stopPropagation(),i.data("dropover",i.data("dropover")+1),h.data("dropover",!0),i.removeClass("elfinder-drag-helper-move elfinder-drag-helper-plus"),i.data("namespace")===b.namespace&&b.insideWorkzone(c.pageX,c.pageY)?(h.hasClass(b.res(q,"cwdfile"))?(e=b.cwdId2Hash(h.attr("id")),h.data("dropover",e)):(e=b.cwd().hash,b.cwd().write&&h.data("dropover",e)),g=b.file(i.data("files")[0]).phash===e,h.data("dropover")===e?a.each(i.data("files"),function(a,b){if(b===e||g&&!j&&!i.hasClass("elfinder-drag-helper-plus"))return h.removeClass(z),!1}):h.removeClass(z),i.data("locked")||g?f="elfinder-drag-helper-plus":(f="elfinder-drag-helper-move",j&&(f+=" elfinder-drag-helper-plus")),h.hasClass(z)&&i.addClass(f),void requestAnimationFrame(function(){h.hasClass(z)&&i.addClass(f)})):void h.removeClass(z)},out:function(b,c){var d=c.helper;b.stopPropagation(),d.removeClass("elfinder-drag-helper-move elfinder-drag-helper-plus").data("dropover",Math.max(d.data("dropover")-1,0)),a(this).removeData("dropover").removeClass(z)},deactivate:function(){a(this).removeData("dropover").removeClass(z)},drop:function(a,c){ca({notrigger:!0}),b.droppable.drop.call(this,a,c)}}),za=function(c){c=c||(l?Ja.find("tbody"):Ja);var d=c.children(".directory:not(."+w+",.elfinder-na,.elfinder-ro)");b.isCommandEnabled("paste")&&d.droppable(ya),b.isCommandEnabled("upload")&&d.addClass("native-droppable"),c.children(".isroot").each(function(c,d){var e=a(d),f=b.cwdId2Hash(d.id);b.isCommandEnabled("paste",f)?e.hasClass(w+",elfinder-na,elfinder-ro")||e.droppable(ya):e.hasClass(w)&&e.droppable("destroy"),b.isCommandEnabled("upload",f)?e.hasClass("native-droppable,elfinder-na,elfinder-ro")||e.addClass("native-droppable"):e.hasClass("native-droppable")&&e.removeClass("native-droppable")})},Aa=function(c,d){var e=function(b,c){a("<img/>").on("load",function(){b.find(".elfinder-cwd-icon").addClass(c.className).css("background-image","url('"+c.url+"')")}).attr("src",c.url)},f=function(a,c){var f,g,h=b.cwdHash2Elm(a);h.length&&("1"!=c?(f=b.file(a),f.tmb!==c&&(f.tmb=c),g=b.tmb(f),d?h.find(".elfinder-cwd-icon").addClass(g.className).css("background-image","url('"+g.url+"')"):e(h,g),delete ia.attachTmbs[a]):d?Ba([a]):ia.tmbLoading[a]||ia.getTmbs.push(a))};a.isPlainObject(c)&&Object.keys(c).length&&(Object.assign(ia.attachTmbs,c),a.each(c,f),d||!ia.getTmbs.length||Object.keys(ia.tmbLoading).length||Ba())},Ba=function(c){var d=[],e=!1;return b.oldAPI?void b.request({data:{cmd:"tmb",current:b.cwd().hash},preventFail:!0}).done(function(a){a.images&&Object.keys(a.images).length&&Aa(a.images),a.tmb&&Ba()}):(c?(e=!0,d=c.splice(0,C)):d=ia.getTmbs.splice(0,C),void(d.length&&(e||oa[d[0]]||oa[d[d.length-1]])&&(a.each(d,function(a,b){ia.tmbLoading[b]=!0}),b.request({data:{cmd:"tmb",targets:d},preventFail:!0}).done(function(b){var f,g=[];b.images&&((f=Object.keys(b.images).length)?(f<d.length&&a.each(d,function(a,c){b.images[c]||g.push(c)}),Aa(b.images,e)):g=d,g.length&&a.each(g,function(a,b){delete ia.attachTmbs[b]})),e&&c.length&&Ba(c)}).always(function(){ia.tmbLoading={},!e&&ia.getTmbs.length&&Ba()}))))},Ca=function(c,d){var e,f,g,h,i,j,m=l?Ja.find("tbody"):Ja,n=c.length,o={},p=function(a){for(var c,d=Ja.find("[id]:first");d.length;){if(c=b.file(b.cwdId2Hash(d.attr("id"))),!d.hasClass("elfinder-cwd-parent")&&c&&b.compare(a,c)<0)return d;d=d.next("[id]")}},q=function(a){var c,d=ha.length;for(c=0;c<d;c++)if(b.compare(a,ha[c])<0)return c;return d||-1},r=!!a.htmlPrefilter,s=a(r?document.createDocumentFragment():"<div></div>");if(n>sa)Ia(),$=b.arrayFlip(a.map(c,function(a){return a.hash}),!0),fa();else{for(n&&Qa.removeClass("elfinder-cwd-wrapper-empty"),j="self"===b.option("tmbUrl");n--;)e=c[n],f=e.hash,b.cwdHash2Elm(f).length||((g=p(e))&&!g.length&&(g=null),!g&&(i=q(e))>=0?ha.splice(i,0,e):(s.empty().append(W(e)),"directory"===e.mime&&!k&&za(s),h=r?s:s.children(),g?g.before(h):m.append(h),++ia.renderd),b.cwdHash2Elm(f).length&&(e.tmb&&(1!=e.tmb||e.size>0)||j&&0===e.mime.indexOf("image/"))&&(o[f]=e.tmb||"self"));l&&(xa(),wa({fitWidth:!O})),Ga(m),Object.keys(o).length&&(Object.assign(ia.attachTmbs,o),ha.length<1&&Ba())}},Da=function(c){var d,e,f,g,h=c.length,i=b.searchStatus.state>1,j=b.getCommand(b.currentReqCmd)||{};if(!b.cwd().hash&&!j.noChangeDirOnRemovedCwd)return a.each(F.reverse(),function(a,c){if(b.file(c))return g=!0,b.one(b.currentReqCmd+"done",function(){!b.cwd().hash&&b.exec("open",c)}),!1}),void(!g&&!b.cwd().hash&&b.exec("open",b.roots[Object.keys(b.roots)[0]]));for(;h--;){if(d=c[h],(e=b.cwdHash2Elm(d)).length)try{e.remove(),--ia.renderd}catch(k){b.debug("error",k)}else-1!==(f=ja(d))&&ha.splice(f,1);$[d]&&delete $[d],i&&-1!==(f=a.inArray(d,G))&&G.splice(f,1)}i&&b.trigger("cwdhasheschange",G),l&&(xa(),wa({fitWidth:!O}))},Ea=function(){for(var a="",c="",d=0;d<I.length;d++)a=b.getColumnName(I[d]),c+='<td class="elfinder-cwd-view-th-'+I[d]+' sortable-item">'+a+"</td>";return c},Fa=function(a){var b,c;a.height||(b=l?Ja.find("tbody"):Ja,c=b.find(l?"tr:first":"[id]:first"),a.height=c.outerHeight(!0),l||(a.width=c.outerWidth(!0)))},Ga=function(a,c){var d,e=a||(l?Ja.find("tbody"):Ja),f=Ua[b.viewType],g=1;ha.length>0&&(ia.hpi?l||(g=Math.floor(e.width()/f.width)):(Fa(f),l?ia.row=ia.hpi=f.height:(g=Math.floor(e.width()/f.width),ia.row=f.height,ia.hpi=ia.row/g)),d=Math.ceil((ha.length+(c||0))/g),l&&ua&&++d,La.css({top:ia.row*d+"px"}).show())},Ha={contextmenu:function(a){return a.preventDefault(),void 0!==Ja.data("longtap")?void a.stopPropagation():void b.trigger("contextmenu",{type:"cwd",targets:[b.cwd().hash],x:a.pageX,y:a.pageY})},touchstart:function(a){a.originalEvent.touches.length>1||(!1!==Ja.data("longtap")&&(Ka.data("touching",{x:a.originalEvent.touches[0].pageX,y:a.originalEvent.touches[0].pageY}),Ja.data("tmlongtap",setTimeout(function(){Ja.data("longtap",!0),b.trigger("contextmenu",{type:"cwd",targets:[b.cwd().hash],x:Ka.data("touching").x,y:Ka.data("touching").y})},500))),Ja.data("longtap",null))},touchend:function(a){"touchmove"===a.type?(!Ka.data("touching")||Math.abs(Ka.data("touching").x-a.originalEvent.touches[0].pageX)+Math.abs(Ka.data("touching").y-a.originalEvent.touches[0].pageY)>4)&&Ka.data("touching",null):setTimeout(function(){Ja.removeData("longtap")},80),clearTimeout(Ja.data("tmlongtap"))},click:function(a){Ja.data("longtap")&&(a.preventDefault(),a.stopPropagation())}},Ia=function(){b.lazy(function(){var c;Qa.append(Ma).removeClass("elfinder-cwd-wrapper-empty elfinder-search-result elfinder-incsearch-result elfinder-letsearch-result"),(b.searchStatus.state>1||b.searchStatus.ininc)&&Qa.addClass("elfinder-search-result"+(b.searchStatus.ininc?" elfinder-"+("/"===D.substr(0,1)?"let":"inc")+"search-result":"")),ia.attachThumbJob&&ia.attachThumbJob._abort(),Ja.data("selectable")&&Ja.selectable("disable").selectable("destroy").removeData("selectable"),b.trigger("cwdinit"),X=a();try{Ja.empty()}catch(d){Ja.html("")}ua&&(Ka.off("scroll.fixheader resize.fixheader"),ua.remove(),ua=null),Ja.removeClass("elfinder-cwd-view-icons elfinder-cwd-view-list").addClass("elfinder-cwd-view-"+(l?"list":"icons")).attr("style","").css("height","auto"),La.hide(),Ka[l?"addClass":"removeClass"]("elfinder-cwd-wrapper-list")._padding=parseInt(Ka.css("padding-top"))+parseInt(Ka.css("padding-bottom")),b.UA.iOS&&Ka.removeClass("overflow-scrolling-touch").addClass("overflow-scrolling-touch"),l&&(Ja.html("<table><thead></thead><tbody></tbody></table>"),c=a('<tr class="ui-state-default"><td class="elfinder-cwd-view-th-name">'+b.getColumnName("name")+"</td>"+Ea()+"</tr>"),Ja.find("thead").hide().append(c).find("td:first").append(Ma),a.fn.sortable&&c.addClass("touch-punch touch-punch-keep-default").sortable({axis:"x",distance:8,items:"> .sortable-item",start:function(b,c){a(c.item[0]).data("dragging",!0),c.placeholder.width(c.helper.removeClass("ui-state-hover").width()).removeClass("ui-state-active").addClass("ui-state-hover").css("visibility","visible")},update:function(c,d){var e,f,g=a(d.item[0]).attr("class").split(" ")[0].replace("elfinder-cwd-view-th-","");I=a.map(a(this).children(),function(b){var c=a(b).attr("class").split(" ")[0].replace("elfinder-cwd-view-th-","");return f||(g===c?f=!0:e=c),"name"===c?null:c}),P.row=L(),b.storage("cwdCols",I),e=".elfinder-col-"+e+":first",g=".elfinder-col-"+g+":first",b.lazy(function(){Ja.find("tbody tr").each(function(){var b=a(this);b.children(e).after(b.children(g))})})},stop:function(b,c){setTimeout(function(){a(c.item[0]).removeData("dragging")},100)}}),c.find("td").addClass("touch-punch").resizable({handles:"ltr"===b.direction?"e":"w",start:function(b,c){var d=Ja.find("td.elfinder-col-"+c.element.attr("class").split(" ")[0].replace("elfinder-cwd-view-th-","")+":first");c.element.data("dragging",!0).data("resizeTarget",d).data("targetWidth",d.width()),N=!0,"fixed"!==Ja.find("table").css("table-layout")&&(Ja.find("tbody tr:first td").each(function(){a(this).width(a(this).width())}),Ja.find("table").css("table-layout","fixed"))},resize:function(a,b){b.element.data("resizeTarget").width(b.element.data("targetWidth")-(b.originalSize.width-b.size.width))},stop:function(c,d){N=!1,wa({fitWidth:!0}),O={},Ja.find("tbody tr:first td").each(function(){var b=a(this).attr("class").split(" ")[0].replace("elfinder-col-","");O[b]=a(this).width()}),b.storage("cwdColWidth",O),setTimeout(function(){d.element.removeData("dragging")},100)}}).find(".ui-resizable-handle").addClass("ui-icon ui-icon-grip-dotted-vertical")),ha=a.map(H||G,function(a){return b.file(a)||null}),ha=b.sortFiles(ha),H?H=a.map(ha,function(a){return a.hash}):G=a.map(ha,function(a){return a.hash}),ia={renderd:0,attachTmbs:{},getTmbs:[],tmbLoading:{},lazyOpts:{tm:0}},Qa[ha.length<1?"addClass":"removeClass"]("elfinder-cwd-wrapper-empty"),Ka.off(la,ta).on(la,ta).trigger(la),b.cwd().write?(Ka[b.isCommandEnabled("upload")?"addClass":"removeClass"]("native-droppable"),Ka.droppable(b.isCommandEnabled("paste")?"enable":"disable")):Ka.removeClass("native-droppable").droppable("disable").removeClass("ui-state-disabled")})},Ja=a(this).addClass("ui-helper-clearfix elfinder-cwd").attr("unselectable","on").on("click."+b.namespace,s,function(c){var d,e,f,g,h,i=this.id?a(this):a(this).parents("[id]:first"),j=a(c.target);if(M&&(j.is("input:checkbox."+B)||j.hasClass("elfinder-cwd-select")))return c.stopPropagation(),c.preventDefault(),i.trigger(i.hasClass(t)?n:m),fa(),void requestAnimationFrame(function(){j.prop("checked",i.hasClass(t))});if(Ja.data("longtap")||j.hasClass("elfinder-cwd-nonselect"))return void c.stopPropagation();if(J||(J=i.attr("id"),setTimeout(function(){J=""},500)),c.shiftKey&&(d=i.prevAll(ea||"."+t+":first"),e=i.nextAll(ea||"."+t+":first"),f=d.length,g=e.length),c.shiftKey&&(f||g))h=f?i.prevUntil("#"+d.attr("id")):i.nextUntil("#"+e.attr("id")),h=h.add(i),f||(h=a(h.get().reverse())),h.trigger(m);else if(c.ctrlKey||c.metaKey)i.trigger(i.hasClass(t)?n:m);else{if(Ka.data("touching")&&i.hasClass(t))return Ka.data("touching",null),void b.dblclick({file:b.cwdId2Hash(this.id)});ca({notrigger:!0}),i.trigger(m)}fa()}).on("dblclick."+b.namespace,s,function(c){if(J){var d=b.cwdId2Hash(J);c.stopPropagation(),this.id!==J&&(a(this).trigger(n),a("#"+J).trigger(m),fa()),b.dblclick({file:d})}}).on("touchstart."+b.namespace,s,function(c){if(!(c.originalEvent.touches.length>1)){var d=this.id?a(this):a(this).parents("[id]:first"),e=a(c.target),f=c.target.nodeName;if("INPUT"===f&&"text"===c.target.type||"TEXTAREA"===f||e.hasClass("elfinder-cwd-nonselect"))return void c.stopPropagation();if(d.find("input:text,textarea").length)return c.stopPropagation(),void c.preventDefault();Ka.data("touching",{x:c.originalEvent.touches[0].pageX,y:c.originalEvent.touches[0].pageY}),M&&(e.is("input:checkbox."+B)||e.hasClass("elfinder-cwd-select"))||(d.prevAll("."+t+":first").length+d.nextAll("."+t+":first").length,Ja.data("longtap",null),(Object.keys($).length||l&&"TD"!==c.target.nodeName||!l&&this!==c.target)&&(Ja.data("longtap",!1),d.addClass(x),d.data("tmlongtap",setTimeout(function(){Ja.data("longtap",!0),d.trigger(m),fa(),b.trigger("contextmenu",{type:"files",targets:b.selected(),x:c.originalEvent.touches[0].pageX,y:c.originalEvent.touches[0].pageY})},500))))}}).on("touchmove."+b.namespace+" touchend."+b.namespace,s,function(c){var d,e=a(c.target);if(!M||!e.is("input:checkbox."+B)&&!e.hasClass("elfinder-cwd-select")){if("INPUT"==c.target.nodeName||"TEXTAREA"==c.target.nodeName)return void c.stopPropagation();d=this.id?a(this):a(this).parents("[id]:first"),clearTimeout(d.data("tmlongtap")),"touchmove"===c.type?(Ka.data("touching",null),d.removeClass(x)):(Ka.data("touching")&&!Ja.data("longtap")&&d.hasClass(t)&&(c.preventDefault(),Ka.data("touching",null),b.dblclick({file:b.cwdId2Hash(this.id)})),setTimeout(function(){Ja.removeData("longtap")},80))}}).on("mouseenter."+b.namespace,s,function(d){if(!ma){var e=a(this),f=null;if(!(k||e.data("dragRegisted")||e.hasClass(A)||e.hasClass(v)||e.hasClass(u))){if(e.data("dragRegisted",!0),!b.isCommandEnabled("copy",b.searchStatus.state>1||e.hasClass("isroot")?b.cwdId2Hash(e.attr("id")):void 0))return;e.on("mousedown",function(d){var f=c.metakeyDragout&&!b.UA.IE&&(d.shiftKey||d.altKey),g=!1;f&&Ja.data("selectable")&&(Ja.selectable("disable").selectable("destroy").removeData("selectable"),requestAnimationFrame(function(){Ja.selectable(na).selectable("option",{disabled:!1}).selectable("refresh").data("selectable",!0)})),e.removeClass("ui-state-disabled"),f?e.draggable("option","disabled",!0).attr("draggable","true"):(e.hasClass(t)||(g=l?a(d.target).closest("span,tr").is("tr"):a(d.target).hasClass("elfinder-cwd-file")),g?e.draggable("option","disabled",!0).removeClass("ui-state-disabled"):e.draggable("option","disabled",!1).removeAttr("draggable").draggable("option","cursorAt",{left:50-parseInt(a(d.currentTarget).css("margin-left")),top:47}))}).on("dragstart",function(c){var d=c.dataTransfer||c.originalEvent.dataTransfer||null;if(f=null,d&&!b.UA.IE){var e,g=this.id?a(this):a(this).parents("[id]:first"),h=a("<span>"),i="",j=null,k=null,l=[],n=function(c){var d,e=c.mime,f=b.tmb(c);return d='<div class="elfinder-cwd-icon elfinder-cwd-icon-drag '+b.mime2class(e)+' ui-corner-all"></div>',f&&(d=a(d).addClass(f.className).css("background-image","url('"+f.url+"')").get(0).outerHTML),d},o=[];if(g.trigger(m),fa(),a.each($,function(c){var d=b.file(c),e=d.url;if(d&&"directory"!==d.mime){if(e){if("1"==e)return o.push(c),!0}else e=b.url(d.hash);e&&(e=b.convAbsUrl(e),l.push(c),a("<a>").attr("href",e).text(e).appendTo(h),i+=e+"\n",j||(j=d.mime+":"+d.name+":"+e),k||(k=e+"\n"+d.name))}}),o.length)return a.each(o,function(a,c){var d=b.file(c);d.url="",b.request({data:{cmd:"url",target:c},notify:{type:"url",cnt:1},preventDefault:!0}).always(function(a){d.url=a.url?a.url:"1"})}),!1;if(!i)return!1;d.setDragImage&&(f=a('<div class="elfinder-drag-helper html5-native"></div>').append(n(b.file(l[0]))).appendTo(a(document.body)),(e=l.length)>1&&f.append(n(b.file(l[e-1]))+'<span class="elfinder-drag-num">'+e+"</span>"),d.setDragImage(f.get(0),50,47)),d.effectAllowed="copyLink",d.setData("DownloadURL",j),d.setData("text/x-moz-url",k),d.setData("text/uri-list",i),d.setData("text/plain",i),d.setData("text/html",h.html()),d.setData("elfinderfrom",window.location.href+b.cwd().hash),d.setData("elfinderfrom:"+d.getData("elfinderfrom"),"")}}).on("dragend",function(a){ca({notrigger:!0}),f&&f.remove()}).draggable(b.draggable)}}}).on(m,s,function(c){var d=a(this),e=b.cwdId2Hash(d.attr("id"));Y||d.hasClass(u)||(ea="#"+this.id,d.addClass(t).children().addClass(x).find("input:checkbox."+B).prop("checked",!0),$[e]||($[e]=!0),X=Ja.find("[id]."+t+":last").next())}).on(n,s,function(c){var d=a(this),e=b.cwdId2Hash(d.attr("id"));Y||(d.removeClass(t).children().removeClass(x).find("input:checkbox."+B).prop("checked",!1),Ja.hasClass("elfinder-cwd-allselected")&&(M&&Ma.children("input").prop("checked",!1),Ja.removeClass("elfinder-cwd-allselected")),$[e]&&delete $[e])}).on(o,s,function(){var b=a(this).removeClass(x+" "+t).addClass(u),c=b.children(),d=l?b:c.find("div.elfinder-cwd-file-wrapper,div.elfinder-cwd-filename");c.removeClass(x+" "+t),b.hasClass(w)&&b.droppable("disable"),d.hasClass(v)&&d.draggable("disable")}).on(p,s,function(){var b=a(this).removeClass(u),c=l?b:b.children("div.elfinder-cwd-file-wrapper,div.elfinder-cwd-filename");b.hasClass(w)&&b.droppable("enable"),c.hasClass(v)&&c.draggable("enable")}).on("scrolltoview",s,function(b,c){ga(a(this),!c||void 0===c.blink||c.blink)}).on("mouseenter."+b.namespace+" mouseleave."+b.namespace,s,function(c){"mouseenter"===c.type&&(ma||b.UA.Mobile)||(b.trigger("hover",{hash:b.cwdId2Hash(a(this).attr("id")),type:c.type}),a(this).toggleClass(x,"mouseenter"==c.type))}).on("mouseenter."+b.namespace+" mouseleave."+b.namespace,".elfinder-cwd-file-wrapper,.elfinder-cwd-filename",function(b){"mouseenter"===b.type&&ma||a(this).closest(s).children(".elfinder-cwd-file-wrapper,.elfinder-cwd-filename").toggleClass(y,"mouseenter"==b.type)}).on("contextmenu."+b.namespace,function(c){var d=a(c.target).closest(s);if(d.get(0)!==c.target||$[b.cwdId2Hash(d.get(0).id)])return d.find("input:text,textarea").length?void c.stopPropagation():void(d.length&&("TD"!=c.target.nodeName||$[b.cwdId2Hash(d.get(0).id)])&&(c.stopPropagation(),c.preventDefault(),d.hasClass(u)||Ka.data("touching")||(d.hasClass(t)||(ca({notrigger:!0}),d.trigger(m),fa()),b.trigger("contextmenu",{type:"files",targets:b.selected(),x:c.pageX,y:c.pageY}))))}).on("click."+b.namespace,function(a){a.target!==this||Ja.data("longtap")||!a.shiftKey&&!a.ctrlKey&&!a.metaKey&&ca()}).on("create."+b.namespace,function(c,d){var e=l?Ja.find("tbody"):Ja,f=e.find(".elfinder-cwd-parent"),g=d.move||!1,h=a(W(d)).addClass(A),i=b.selected();i.length?g&&b.trigger("lockfiles",{files:i}):ca(),f.length?f.after(h):e.prepend(h),xa(),Ka.scrollTop(0).scrollLeft(0)}).on("unselectall",ca).on("selectfile",function(a,c){b.cwdHash2Elm(c).trigger(m),fa()}).on("colwidth",function(){l&&(Ja.find("table").css("table-layout","").find("td").css("width",""),wa({fitWidth:!0}),b.storage("cwdColWidth",O=null))}).on("iconpref",function(a,b){Ja.removeClass(function(a,b){return(b.match(/\belfinder-cwd-size\S+/g)||[]).join(" ")}),h=b?parseInt(b.size)||0:0,l||(h>0&&Ja.addClass("elfinder-cwd-size"+h),ia.renderd&&requestAnimationFrame(function(){Ua.icons={},ia.hpi=null,Ga(Ja,ia.renderd),pa()}))}).on("onwheel"in document?"wheel":"mousewheel",function(a){var d,e,f;!l&&(a.ctrlKey&&!a.metaKey||!a.ctrlKey&&a.metaKey)&&(a.stopPropagation(),a.preventDefault(),d=Ja.data("wheelTm"),void 0!==d?(clearTimeout(d),Ja.data("wheelTm",setTimeout(function(){Ja.removeData("wheelTm")},200))):(Ja.data("wheelTm",!1),e=h||0,f=a.originalEvent.deltaY?a.originalEvent.deltaY:-a.originalEvent.wheelDelta,f>0?h>0&&(e=h-1):h<c.iconsView.sizeMax&&(e=h+1),e!==h&&(b.storage("iconsize",e),Ja.trigger("iconpref",{size:e}))))}),Ka=a('<div class="elfinder-cwd-wrapper"></div>').droppable(Object.assign({},ya,{autoDisable:!1})).on("contextmenu."+b.namespace,Ha.contextmenu).on("touchstart."+b.namespace,Ha.touchstart).on("touchmove."+b.namespace+" touchend."+b.namespace,Ha.touchend).on("click."+b.namespace,Ha.click).on("scroll."+b.namespace,function(){ma||(Ja.data("selectable")&&Ja.selectable("disable"),Ka.trigger(ka)),ma=!0,ia.scrtm&&cancelAnimationFrame(ia.scrtm),ia.scrtm&&Math.abs((ia.scrolltop||0)-(ia.scrolltop=this.scrollTop||a(this).scrollTop()))<5&&(ia.scrtm=0,Ka.trigger(la)),ia.scrtm=requestAnimationFrame(function(){ia.scrtm=0,Ka.trigger(la)})}).on(la,function(){ma=!1,pa()}),La=a("<div>&nbsp;</div>").css({position:"absolute",width:"1px",height:"1px"}).hide(),Ma=M?a('<div class="elfinder-cwd-selectall"><input type="checkbox"/></div>').attr("title",b.i18n("selectall")).on("click",function(b){return b.stopPropagation(),b.preventDefault(),!a(this).data("pending")&&(Ma.data("pending",!0),void(Ja.hasClass("elfinder-cwd-allselected")?(Ma.find("input").prop("checked",!1),requestAnimationFrame(function(){ca()})):ba()))}):a(),Na=null,Oa=function(b){var c=function(){if(void 0!==ia.renderd){var b=0;Ka.siblings("div.elfinder-panel:visible").each(function(){b+=a(this).outerHeight(!0)}),Ka.height(Qa.height()-b-Ka._padding)}};b&&c(),Na&&cancelAnimationFrame(Na),Na=requestAnimationFrame(function(){!b&&c();var a;Ja.css("height","auto"),a=Ka[0].clientHeight-parseInt(Ka.css("padding-top"))-parseInt(Ka.css("padding-bottom"))-parseInt(Ja.css("margin-top")),Ja.outerHeight(!0)<a&&Ja.height(a)}),l&&!N&&(b?Ka.trigger("resize.fixheader"):wa()),pa()},Pa=a(this).parent().on("resize",Oa),Qa=Pa.children(".elfinder-workzone").append(Ka.append(this).append(La)),Ra=a('<div class="elfinder-cwd-message-board"></div>').insertAfter(Ja),Sa=a('<div class="elfinder-cwd-expires" ></div>'),Ta=function(){var a,c,d;f&&clearTimeout(f),i&&b.volumeExpires[i]&&(c=b.volumeExpires[i]-+new Date/1e3,d=c%60+.1,a=Math.floor(c/60),Sa.html(b.i18n(["minsLeft",a])).show(),a&&(f=setTimeout(Ta,1e3*d)))},Ua={icons:{},list:{}};b.UA.ltIE10||Ra.append(a('<div class="elfinder-cwd-trash" ></div>').html(b.i18n("volume_Trash"))).append(Sa),T=Object.assign(T,c.replacement||{});try{O=b.storage("cwdColWidth")?b.storage("cwdColWidth"):null}catch(Va){O=null}b.bind("columnpref",function(d){var e=d.data||{};(I=b.storage("cwdCols"))?(I=a.grep(I,function(a){return-1!==c.listView.columns.indexOf(a)}),c.listView.columns.length>I.length&&a.each(c.listView.columns,function(a,b){-1===I.indexOf(b)&&I.push(b)})):I=c.listView.columns;var f=b.storage("columnhides")||null;f&&Object.keys(f).length&&(I=a.grep(I,function(a){return!f[a]})),P.row=L(),l&&e.repaint&&Ia()}).trigger("columnpref"),k&&a("body").on("touchstart touchmove touchend",function(a){}),M&&Ja.addClass("elfinder-has-checkbox"),a(window).on("scroll."+b.namespace,function(){j&&cancelAnimationFrame(j),j=requestAnimationFrame(function(){Ka.trigger(la)})}),a(document).on("keydown."+b.namespace,function(c){c.keyCode==a.ui.keyCode.ESCAPE&&(b.getUI().find(".ui-widget:visible").length||ca())}),b.one("init",function(){var d,e,f,h,i=document.createElement("style"),j=0;document.head&&(document.head.appendChild(i),d=i.sheet,d.insertRule('.elfinder-cwd-wrapper-empty .elfinder-cwd:not(.elfinder-table-header-sticky):after{ content:"'+b.i18n("emptyFolder")+'" }',j++),d.insertRule('.elfinder-cwd-wrapper-empty .native-droppable .elfinder-cwd:not(.elfinder-table-header-sticky):after{ content:"'+b.i18n("emptyFolder"+(k?"LTap":"Drop"))+'" }',j++),d.insertRule('.elfinder-cwd-wrapper-empty .ui-droppable-disabled .elfinder-cwd:not(.elfinder-table-header-sticky):after{ content:"'+b.i18n("emptyFolder")+'" }',j++),d.insertRule('.elfinder-cwd-wrapper-empty.elfinder-search-result .elfinder-cwd:not(.elfinder-table-header-sticky):after{ content:"'+b.i18n("emptySearch")+'" }',j++),d.insertRule('.elfinder-cwd-wrapper-empty.elfinder-search-result.elfinder-incsearch-result .elfinder-cwd:not(.elfinder-table-header-sticky):after{ content:"'+b.i18n("emptyIncSearch")+'" }',j++),d.insertRule('.elfinder-cwd-wrapper-empty.elfinder-search-result.elfinder-letsearch-result .elfinder-cwd:not(.elfinder-table-header-sticky):after{ content:"'+b.i18n("emptyLetSearch")+'" }',j++)),(h=b.storage("iconsize")||c.iconsView.size||0)&&(h=Math.min(h,c.iconsView.sizeMax),Ja.trigger("iconpref",{size:h})),k||(b.one("open",function(){d&&b.zIndex&&d.insertRule(".ui-selectable-helper{z-index:"+b.zIndex+";}",j++)}),f=a('<div style="position:absolute"></div>'),e=b.getUI(),e.on("resize",function(a,b){var c;a.preventDefault(),a.stopPropagation(),b&&b.fullscreen&&(c=e.offset(),"on"===b.fullscreen?(f.css({top:-1*c.top,left:-1*c.left}).appendTo(e),na.appendTo=f):(f.detach(),na.appendTo="body"),Ja.data("selectable")&&Ja.selectable("option",{appendTo:na.appendTo}))})),g=b.getUI("tree").length}).bind("enable",function(){Oa()}).bind("request.open",function(){ia.getTmbs=[]}).one("open",function(){b.maxTargets&&(C=Math.min(b.maxTargets,C))}).bind("open add remove searchend",function(){var c=b.cwd().hash,d=this.type;if(("open"===d||"searchend"===d||b.searchStatus.state<2)&&(G=a.map(b.files(c),function(a){return a.hash}),b.trigger("cwdhasheschange",G)),"open"===d){var e=function(){var c=!1;return a.each(F,function(a,d){if(b.trashes[d])return c=!0,!1}),c},f=!c||b.file(c)&&!g?null:g?function(){var c=a.Deferred();return b.one("treesync",function(a){a.data.always(function(){c.resolve()})}),c}():b.request({data:{cmd:"parents",target:b.cwd().hash},preventFail:!0}),h=b.cwd();h.volumeid!==i&&(Sa.empty().hide(),i&&Ka.removeClass("elfinder-cwd-wrapper-"+i),i=h.volumeid,Ta(),Ka.addClass("elfinder-cwd-wrapper-"+i)),a.when(f).done(function(){F=b.parents(h.hash),Ka[e()?"addClass":"removeClass"]("elfinder-cwd-wrapper-trash")}),H=void 0,ca({notrigger:!0}),Ia()}}).bind("search",function(c){G=a.map(c.data.files,function(a){return a.hash}),b.trigger("cwdhasheschange",G),H=void 0,b.searchStatus.ininc=!1,Ia(),b.autoSync("stop")}).bind("searchend",function(a){(D||H)&&(D="",H?b.trigger("incsearchend",a.data):a.data&&a.data.noupdate||Ia()),b.autoSync()}).bind("searchstart",function(a){ca(),D=a.data.query}).bind("incsearchstart",function(c){var d=c.data.query||"",e=c.data.type||"SearchName",f=b.options.commandsOptions.search.searchTypes||{};(f[e]&&f[e].incsearch||"SearchName"===e)&&($={},b.lazy(function(){var c,g,h="";if(D=d,d){if("/"===d.substr(0,1)&&(d=d.substr(1),h="^"),c=new RegExp(h+d.replace(/([\\*\;\.\?\[\]\{\}\(\)\^\$\-\|])/g,"\\$1"),"i"),"SearchName"===e)H=a.grep(G,function(a){var d=b.file(a);return!(!d||!(d.name.match(c)||d.i18&&d.i18.match(c)))});else if("string"==typeof(g=f[e].incsearch))H=a.grep(G,function(a){var d=b.file(a);return!!(d&&d[g]&&(d[g]+"").match(c))});else if("function"==typeof g)try{H=a.grep(g({val:d,regex:c},G,b),function(a){return!!b.file(a)})}catch(i){H=[]}b.trigger("incsearch",{hashes:H,query:d}).searchStatus.ininc=!0,Ia(),b.autoSync("stop")}else b.trigger("incsearchend")}))}).bind("incsearchend",function(a){D="",b.searchStatus.ininc=!1,H=void 0,a.data&&a.data.noupdate||Ia(),b.autoSync()}).bind("sortchange",function(){var a=Ka.scrollLeft(),c=Ja.hasClass("elfinder-cwd-allselected");Ia(),b.one("cwdrender",function(){Ka.scrollLeft(a),c&&($=b.arrayFlip(H||G,!0)),(c||Object.keys($).length)&&fa()})}).bind("viewchange",function(){var a="list"!=b.viewType,c=Ja.hasClass("elfinder-cwd-allselected");a!=l&&(l=a,b.viewType=l?"list":"icons",h&&b.one("cwdinit",function(){Ja.trigger("iconpref",{size:h})}),Ia(),Oa(),c&&(Ja.addClass("elfinder-cwd-allselected"),Ma.find("input").prop("checked",!0)),Object.keys($).length&&fa())}).bind("wzresize",function(){
var a,c=l?Ja.find("tbody"):Ja;Oa(!0),ia.hpi&&Ga(c,c.find("[id]").length),a=Ja.offset(),Qa.data("rectangle",Object.assign({width:Qa.width(),height:Qa.height(),cwdEdge:"ltr"===b.direction?a.left:a.left+Ja.width()},Qa.offset())),ia.itemH=(l?c.find("tr:first"):c.find("[id]:first")).outerHeight(!0)}).bind("changeclipboard",function(b){E={},b.data&&b.data.clipboard&&b.data.clipboard.length&&a.each(b.data.clipboard,function(a,b){b.cut&&(E[b.hash]=!0)})}).bind("resMixinMake",function(){xa()}).bind("tmbreload",function(b){var c={},d=b.data&&b.data.files?b.data.files:null;a.each(d,function(a,b){b.tmb&&"1"!=b.tmb&&(c[b.hash]=b.tmb)}),Object.keys(c).length&&Aa(c,!0)}).add(function(c){var d=D?new RegExp(D.replace(/([\\*\;\.\?\[\]\{\}\(\)\^\$\-\|])/g,"\\$1"),"i"):null,e=b.searchStatus.mime,f=b.searchStatus.state>1,g=f&&b.searchStatus.target?b.searchStatus.target:b.cwd().hash,h=b.path(g),i=function(c){var i,j;return i=c.phash===g,!i&&f&&(j=c.path||b.path(c.hash),!(i=h&&0===j.indexOf(h))&&b.searchStatus.mixed&&(i=!!a.grep(b.searchStatus.mixed,function(a){return 0===c.hash.indexOf(a)}).length)),i&&f&&(i=e?0===c.mime.indexOf(e):!!(c.name.match(d)||c.i18&&c.i18.match(d))),i},j=a.grep(c.data.added||[],function(a){return!!i(a)});Ca(j),2===b.searchStatus.state&&(a.each(j,function(b,c){-1===a.inArray(c.hash,G)&&G.push(c.hash)}),b.trigger("cwdhasheschange",G)),l&&Oa(),Ka.trigger(la)}).change(function(c){var d,e=b.cwd().hash,f=b.selected();D?a.each(c.data.changed||[],function(c,e){b.cwdHash2Elm(e.hash).length&&(Da([e.hash]),Ca([e],"change"),-1!==a.inArray(e.hash,f)&&_(e.hash),d=!0)}):a.each(a.grep(c.data.changed||[],function(a){return a.phash==e}),function(c,e){b.cwdHash2Elm(e.hash).length&&(Da([e.hash]),Ca([e],"change"),-1!==a.inArray(e.hash,f)&&_(e.hash),d=!0)}),d&&(b.trigger("cwdhasheschange",G),l&&Oa(),Ka.trigger(la)),fa()}).remove(function(a){var b=l?Ja.find("tbody"):Ja;Da(a.data.removed||[]),fa(),ha.length<1&&b.children(s+(c.oldSchool?":not(.elfinder-cwd-parent)":"")).length<1?(Qa.addClass("elfinder-cwd-wrapper-empty"),M&&Ma.find("input").prop("checked",!1),La.hide(),Ka.off(la,ta),Oa()):(Ga(b),Ka.trigger(la))}).dragstart(function(b){var c=a(b.data.target),d=b.data.originalEvent;c.hasClass(r)&&(c.hasClass(t)||(!(d.ctrlKey||d.metaKey||d.shiftKey)&&ca({notrigger:!0}),c.trigger(m),fa())),Ja.removeClass(u).data("selectable")&&Ja.selectable("disable"),Y=!0}).dragstop(function(){Ja.data("selectable")&&Ja.selectable("enable"),Y=!1}).bind("lockfiles unlockfiles selectfiles unselectfiles",function(c){var d,e,f,g={lockfiles:o,unlockfiles:p,selectfiles:m,unselectfiles:n},h=g[c.type],i=c.data.files||[],j=i.length,k=c.data.helper||a();if(j>0&&(d=b.parents(i[0])),h!==m&&h!==n||(f=h===m,a.each(i,function(a,b){var c=Ja.hasClass("elfinder-cwd-allselected");$[b]?(c&&(M&&Ma.children("input").prop("checked",!1),Ja.removeClass("elfinder-cwd-allselected"),c=!1),!f&&delete $[b]):f&&($[b]=!0)})),!k.data("locked")){for(;j--;)try{b.cwdHash2Elm(i[j]).trigger(h)}catch(c){}!c.data.inselect&&fa()}Ka.data("dropover")&&-1!==d.indexOf(Ka.data("dropover"))&&(e="lockfiles"!==c.type,k.toggleClass("elfinder-drag-helper-plus",e),Ka.toggleClass(z,e))}).bind("mkdir mkfile duplicate upload rename archive extract paste multiupload",function(c){if("upload"!=c.type||!c.data._multiupload){var d=b.cwd().hash;ca({notrigger:!0}),a.each((c.data.added||[]).concat(c.data.changed||[]),function(a,b){b&&b.phash==d&&_(b.hash)}),fa()}}).shortcut({pattern:"ctrl+a",description:"selectall",callback:ba}).shortcut({pattern:"ctrl+shift+i",description:"selectinvert",callback:da}).shortcut({pattern:"left right up down shift+left shift+right shift+up shift+down",description:"selectfiles",type:"keydown",callback:function(a){Z(a.keyCode,a.shiftKey)}}).shortcut({pattern:"home",description:"selectffile",callback:function(a){ca({notrigger:!0}),ga(Ja.find("[id]:first").trigger(m)),fa()}}).shortcut({pattern:"end",description:"selectlfile",callback:function(a){ca({notrigger:!0}),ga(Ja.find("[id]:last").trigger(m)),fa()}}).shortcut({pattern:"page_up",description:"pageTurning",callback:function(a){ia.itemH&&Ka.scrollTop(Math.round(Ka.scrollTop()-Math.floor((Ka.height()+(l?-1*ia.itemH:16))/ia.itemH)*ia.itemH))}}).shortcut({pattern:"page_down",description:"pageTurning",callback:function(a){ia.itemH&&Ka.scrollTop(Math.round(Ka.scrollTop()+Math.floor((Ka.height()+(l?-1*ia.itemH:16))/ia.itemH)*ia.itemH))}})}),this},a.fn.elfinderdialog=function(b,c){var d,e,f,g,h=-1!=window.navigator.platform.indexOf("Win"),i={},j={enabled:!1,width:!1,height:!1,defaultSize:null},k=function(b){var d,e;j.enabled&&(e=c.options.dialogContained?f:a(window),d={maxWidth:j.width?e.width()-i.width:null,maxHeight:j.height?e.height()-i.height:null},Object.assign(g,d),b.css(d).trigger("resize"),b.data("hasResizable")&&(b.resizable("option","maxWidth")<d.maxWidth||b.resizable("option","maxHeight")<d.maxHeight)&&b.resizable("option",d))},l=function(a){var b=a.data;d&&cancelAnimationFrame(d),d=requestAnimationFrame(function(){j.enabled&&k(b)})},m=function(){var a="elfinder-dialog",b=f.children("."+a+"."+c.res("class","editing")+":visible");c[b.length?"disable":"enable"]()},n={};return c&&c.ui?f=c.getUI():(f=this.closest(".elfinder"),c||(c=f.elfinder("instance"))),"string"==typeof b?((e=this.closest(".ui-dialog")).length&&("open"===b?"none"===e.css("display")&&(e.trigger("posinit").show().trigger("open").hide(),e.fadeIn(120,function(){c.trigger("dialogopened",{dialog:e})})):"close"===b||"destroy"===b?(e.stop(!0),(e.is(":visible")||f.is(":hidden"))&&(e.trigger("close"),c.trigger("dialogclosed",{dialog:e})),"destroy"===b?(e.remove(),c.trigger("dialogremoved",{dialog:e})):e.data("minimized")&&e.data("minimized").close()):"toTop"===b?(e.trigger("totop"),c.trigger("dialogtotoped",{dialog:e})):"posInit"===b?(e.trigger("posinit"),c.trigger("dialogposinited",{dialog:e})):"tabstopsInit"===b?(e.trigger("tabstopsInit"),c.trigger("dialogtabstopsinited",{dialog:e})):"checkEditing"===b&&m()),this):(b=Object.assign({},a.fn.elfinderdialog.defaults,b),b.allowMinimize&&"auto"===b.allowMinimize&&(b.allowMinimize=!!this.find("textarea,input").length),b.openMaximized=b.allowMinimize&&b.openMaximized,b.headerBtnPos&&"auto"===b.headerBtnPos&&(b.headerBtnPos=h?"right":"left"),b.headerBtnOrder&&"auto"===b.headerBtnOrder&&(b.headerBtnOrder=h?"close:maximize:minimize":"close:minimize:maximize"),b.modal&&b.allowMinimize&&(b.allowMinimize=!1),c.options.dialogContained?j.width=j.height=j.enabled=!0:(j.width="window"===b.maxWidth,j.height="window"===b.maxHeight,(j.width||j.height)&&(j.enabled=!0)),n=c.arrayFlip(b.propagationEvents,!0),this.filter(":not(.ui-dialog-content)").each(function(){var d,e,o=a(this).addClass("ui-dialog-content ui-widget-content"),p="elfinder-dialog-active",q="elfinder-dialog",r="elfinder-dialog-notify",s="ui-state-hover",t="elfinder-tabstop",u="elfinder-focus",v="elfinder-dialog-modal",w=parseInt(1e6*Math.random()),x=a('<div class="ui-dialog-titlebar ui-widget-header ui-corner-top ui-helper-clearfix"><span class="elfinder-dialog-title">'+b.title+"</span></div>"),y=a('<div class="ui-dialog-buttonset"></div>'),z=a('<div class=" ui-helper-clearfix ui-dialog-buttonpane ui-widget-content"></div>').append(y),A=0,B=0,C=a(),D=a('<div style="width:100%;height:100%;position:absolute;top:0px;left:0px;"></div>').hide(),E=function(){b.optimizeNumber&&K.find("input[type=number]").each(function(){a(this).attr("inputmode","numeric"),a(this).attr("pattern","[0-9]*")})},F=function(){C=K.find("."+t),C.length&&(C.attr("tabindex","-1"),C.filter("."+u).length||y.children("."+t+":"+(h?"first":"last")).addClass(u))},G=function(b){var c=C.filter(":visible:enabled"),d=b?null:c.filter("."+u+":first");return d&&d.length||(d=c.first()),b&&a.each(c,function(a,e){if(e===b&&c[a+1])return d=c.eq(a+1),!1}),d},H=function(b){var c=C.filter(":visible:enabled"),d=c.last();return a.each(c,function(a,e){if(e===b&&c[a-1])return d=c.eq(a-1),!1}),d},I=function(){a.each(b.headerBtnOrder.split(":").reverse(),function(a,b){J[b]&&J[b]()}),h&&x.children(".elfinder-titlebar-button").addClass("elfinder-titlebar-button-right")},J={close:function(){x.prepend(a('<span class="ui-widget-header ui-dialog-titlebar-close ui-corner-all elfinder-titlebar-button"><span class="ui-icon ui-icon-closethick"></span></span>').on("mousedown touchstart",function(a){a.preventDefault(),a.stopPropagation(),o.elfinderdialog("close")}))},maximize:function(){b.allowMaximize&&(K.on("resize",function(a,b){var c,d;if(a.preventDefault(),a.stopPropagation(),b&&b.maximize){if(d=x.find(".elfinder-titlebar-full"),c="on"===b.maximize,d.children("span.ui-icon").toggleClass("ui-icon-plusthick",!c).toggleClass("ui-icon-arrowreturnthick-1-s",c),c){try{K.hasClass("ui-draggable")&&K.draggable("disable"),K.hasClass("ui-resizable")&&K.resizable("disable")}catch(a){}o.css("width","100%").css("height",K.height()-K.children(".ui-dialog-titlebar").outerHeight(!0)-z.outerHeight(!0))}else{o.attr("style",d.data("style")),d.removeData("style"),L();try{K.hasClass("ui-draggable")&&K.draggable("enable"),K.hasClass("ui-resizable")&&K.resizable("enable")}catch(a){}}K.trigger("resize",{init:!0})}}),x.prepend(a('<span class="ui-widget-header ui-corner-all elfinder-titlebar-button elfinder-titlebar-full"><span class="ui-icon ui-icon-plusthick"></span></span>').on("mousedown touchstart",function(d){var e=a(this);d.preventDefault(),d.stopPropagation(),K.hasClass("elfinder-maximized")||void 0!==e.data("style")||(o.height(o.height()),e.data("style",o.attr("style")||"")),c.toggleMaximize(K),"function"==typeof b.maximize&&b.maximize.call(o[0])})))},minimize:function(){var d,e,f;b.allowMinimize&&(d=a('<span class="ui-widget-header ui-corner-all elfinder-titlebar-button elfinder-titlebar-minimize"><span class="ui-icon ui-icon-minusthick"></span></span>').on("mousedown touchstart",function(d){var g=a(this),h=c.getUI("bottomtray"),i={width:70,height:24},j=a("<div></div>").css(i).addClass(K.get(0).className+" elfinder-dialog-minimized"),k=function(){e.remove(),K.removeData("minimized").show(),o.elfinderdialog("close")},l={};d.preventDefault(),d.stopPropagation(),K.data("minimized")?(K.removeData("minimized").before(e.css(Object.assign({position:"absolute"},e.offset()))),c.toFront(e),e.animate(Object.assign({width:K.width(),height:K.height()},f),function(){K.show(),c.toFront(K),e.remove(),L(),m(),K.trigger("resize",{init:!0}),"function"==typeof b.minimize&&b.minimize.call(o[0])})):(f=K.data("minimized",{dialog:function(){return e},show:function(){e.show()},hide:function(){e.hide()},close:k,title:function(a){e.children(".ui-dialog-titlebar").children(".elfinder-dialog-title").text(a)}}).position(),e=K.clone().on("mousedown",function(){g.trigger("mousedown")}).removeClass("ui-draggable ui-resizable elfinder-frontmost"),h.append(j),Object.assign(l,j.offset(),i),j.remove(),e.height(K.height()).children(".ui-dialog-content:first").empty(),c.toHide(K.before(e)),e.children(".ui-dialog-content:first,.ui-dialog-buttonpane,.ui-resizable-handle").remove(),e.find(".elfinder-titlebar-minimize,.elfinder-titlebar-full").remove(),e.find(".ui-dialog-titlebar-close").on("mousedown",function(a){a.stopPropagation(),a.preventDefault(),k()}),e.animate(l,function(){e.attr("style","").css({maxWidth:K.width()}).addClass("elfinder-dialog-minimized").appendTo(h),m(),"function"==typeof b.minimize&&b.minimize.call(o[0])}))}),x.on("dblclick",function(b){a(this).children(".elfinder-titlebar-minimize").trigger("mousedown")}).prepend(d),K.on("togleminimize",function(){d.trigger("mousedown")}))}},K=a('<div class="ui-front ui-dialog ui-widget ui-widget-content ui-corner-all ui-draggable std42-dialog touch-punch '+q+" "+b.cssClass+'"></div>').hide().append(o).appendTo(f).draggable({containment:c.options.dialogContained?f:null,handle:".ui-dialog-titlebar",start:function(){D.show()},drag:function(a,b){var d=b.offset.top,e=b.offset.left;d<0&&(b.position.top=b.position.top-d),e<0&&(b.position.left=b.position.left-e),c.options.dialogContained&&(b.position.top<0&&(b.position.top=0),b.position.left<0&&(b.position.left=0))},stop:function(a,c){D.hide(),K.css({height:b.height}),o.data("draged",!0)}}).css({width:b.width,height:b.height,minWidth:b.minWidth,minHeight:b.minHeight,maxWidth:b.maxWidth,maxHeight:b.maxHeight}).on("touchstart touchmove touchend click dblclick mouseup mouseenter mouseleave mouseout mouseover mousemove",function(a){!n[a.type]&&a.stopPropagation()}).on("mousedown",function(b){!n[b.type]&&b.stopPropagation(),requestAnimationFrame(function(){K.is(":visible")&&!K.hasClass("elfinder-frontmost")&&(e=a(":focus"),e.length||(e=void 0),K.trigger("totop"))})}).on("open",function(){K.data("margin-y",o.outerHeight(!0)-o.height()),j.enabled&&(b.height&&"auto"!==b.height&&K.trigger("resize",{init:!0}),j.defaultSize||(j.defaultSize={width:o.width(),height:o.height()}),k(K),K.trigger("resize").trigger("posinit"),f.on("resize."+c.namespace,K,l)),K.hasClass(r)||f.children("."+q+":visible:not(."+r+")").each(function(){var b=a(this),c=parseInt(b.css("top")),d=parseInt(b.css("left")),e=parseInt(K.css("top")),f=parseInt(K.css("left")),g=Math.abs(c-e)<10,h=Math.abs(d-f)<10;b[0]!=K[0]&&(g||h)&&K.css({top:g?c+10:e,left:h?d+10:f})}),K.data("modal")&&(K.addClass(v),c.getUI("overlay").elfinderoverlay("show")),K.trigger("totop"),b.openMaximized&&c.toggleMaximize(K),c.trigger("dialogopen",{dialog:K}),"function"==typeof b.open&&a.proxy(b.open,o[0])(),b.closeOnEscape&&a(document).on("keydown."+w,function(b){b.keyCode==a.ui.keyCode.ESCAPE&&K.hasClass("elfinder-frontmost")&&o.elfinderdialog("close")}),K.hasClass(c.res("class","editing"))&&m()}).on("close",function(d){var e,g;b.beforeclose&&"function"==typeof b.beforeclose?(g=b.beforeclose())&&g.promise||(g=g?a.Deferred().resolve():a.Deferred().reject()):g=a.Deferred().resolve(),g.done(function(){j.enabled&&f.off("resize."+c.namespace,l),b.closeOnEscape&&a(document).off("keyup."+w),b.allowMaximize&&c.toggleMaximize(K,!1),c.toHide(K),K.data("modal")&&c.getUI("overlay").elfinderoverlay("hide"),"function"==typeof b.close&&a.proxy(b.close,o[0])(),b.destroyOnClose&&K.parent().length&&K.hide().remove(),e=f.children("."+q+":visible"),K.hasClass(c.res("class","editing"))&&m()})}).on("totop frontmost",function(){var a=c.storage("autoFocusDialog");K.data("focusOnMouseOver",a?a>0:c.options.uiOptions.dialog.focusOnMouseOver),K.data("minimized")&&x.children(".elfinder-titlebar-minimize").trigger("mousedown"),!K.data("modal")&&c.getUI("overlay").is(":visible")?c.getUI("overlay").before(K):c.toFront(K),f.children("."+q+":not(."+v+")").removeClass(p),K.addClass(p),!c.UA.Mobile&&(e||G()).trigger("focus"),e=void 0}).on("posinit",function(){var d,e,h,i,j,k,l,m=b.position;if(!K.hasClass("elfinder-maximized")){if(!m&&!K.data("resizing")){if(l=f.hasClass("elfinder-fullscreen")||c.options.enableAlways,K.css(l?{maxWidth:"100%",maxHeight:"100%",overflow:"auto"}:g),c.UA.Mobile&&!l&&K.data("rotated")===c.UA.Rotated)return;K.data("rotated",c.UA.Rotated),j=a(window),d=f.offset(),i={width:K.outerWidth(!0),height:K.outerHeight(!0)},i.right=d.left+i.width,i.bottom=d.top+i.height,k={scrLeft:j.scrollLeft(),scrTop:j.scrollTop(),width:j.width(),height:j.height()},k.right=k.scrLeft+k.width,k.bottom=k.scrTop+k.height,c.options.dialogContained||l?(e=0,h=0):(e=-1*d.top+k.scrTop,h=-1*d.left+k.scrLeft),m={top:i.height>=k.height?e:Math.max(e,parseInt((f.height()-i.height)/2-42)),left:i.width>=k.width?h:Math.max(h,parseInt((f.width()-i.width)/2))},i.right+m.left>k.right&&(m.left=Math.max(h,k.right-i.right)),i.bottom+m.top>k.bottom&&(m.top=Math.max(e,k.bottom-i.bottom))}b.absolute&&(m.position="absolute"),m&&K.css(m)}}).on("resize",function(c,d){var e,f,g,h,i=0,k=d&&d.init;d&&(d.minimize||d.maxmize)||K.data("minimized")||(c.stopPropagation(),c.preventDefault(),K.children(".ui-widget-header,.ui-dialog-buttonpane").each(function(){i+=a(this).outerHeight(!0)}),h="auto"===b.height,h&&o.css({"max-height":"",height:"auto"}),k||!j.enabled||c.originalEvent||K.hasClass("elfinder-maximized")?e=K.height()-i-K.data("margin-y"):(e=K.height(),f=K.css("min-height")||e,g=K.css("max-height")||e,f=f.match(/%/)?Math.floor(parseInt(f)/100*K.parent().height()):parseInt(f),g=g.match(/%/)?Math.floor(parseInt(g)/100*K.parent().height()):parseInt(g),e=Math.min(h?K.height():j.defaultSize.height,Math.max(g,f)-i-K.data("margin-y"))),o.css(h?"max-height":"height",e),k||(L(),f=o.height(),f=e<f?f+i+K.data("margin-y"):b.minHeight,K.css("min-height",f),K.data("hasResizable")&&K.resizable("option",{minHeight:f}),"function"==typeof b.resize&&a.proxy(b.resize,o[0])(c,d)))}).on("tabstopsInit",F).on("focus","."+t,function(){a(this).addClass(s).parent("label").addClass(s),this.id&&a(this).parent().find("label[for="+this.id+"]").addClass(s)}).on("click","select."+t,function(){var b=a(this);b.data("keepFocus")?b.removeData("keepFocus"):b.data("keepFocus",!0)}).on("blur","."+t,function(){a(this).removeClass(s).removeData("keepFocus").parent("label").removeClass(s),this.id&&a(this).parent().find("label[for="+this.id+"]").removeClass(s)}).on("mouseenter mouseleave","."+t+",label",function(c){var d,e=a(this);("LABEL"!==this.nodeName||e.children("."+t).length||(d=e.attr("for"))&&a("#"+d).hasClass(t))&&(b.btnHoverFocus&&K.data("focusOnMouseOver")?"mouseenter"!==c.type||a(":focus").data("keepFocus")||e.trigger("focus"):e.toggleClass(s,"mouseenter"==c.type))}).on("keydown","."+t,function(b){var c,d,e=a(this);if(e.is(":focus")){if(c=b.keyCode===a.ui.keyCode.ESCAPE,b.keyCode===a.ui.keyCode.ENTER?(b.preventDefault(),e.trigger("click")):b.keyCode===a.ui.keyCode.TAB&&b.shiftKey||b.keyCode===a.ui.keyCode.LEFT||b.keyCode==a.ui.keyCode.UP?d="prev":b.keyCode!==a.ui.keyCode.TAB&&b.keyCode!=a.ui.keyCode.RIGHT&&b.keyCode!=a.ui.keyCode.DOWN||(d="next"),d&&(e.is("textarea")&&!b.ctrlKey&&!b.metaKey||e.is("select,span.ui-slider-handle")&&b.keyCode!==a.ui.keyCode.TAB||e.is("input:not(:checkbox,:radio)")&&!b.ctrlKey&&!b.metaKey&&b.keyCode===a.ui.keyCode["prev"===d?"LEFT":"RIGHT"]))return void b.stopPropagation();c?e.is("input:not(:checkbox,:radio),textarea")&&""!==e.val()&&(e.val(""),b.stopPropagation()):b.stopPropagation(),d&&(b.preventDefault(),("prev"===d?H:G)(this).trigger("focus"))}}).data({modal:b.modal}),L=function(){var a,b=c.getUI();b.hasClass("elfinder-fullscreen")&&(a=K.position(),K.css("top",Math.max(Math.min(Math.max(a.top,0),b.height()-100),0)),K.css("left",Math.max(Math.min(Math.max(a.left,0),b.width()-200),0)))};K.prepend(x),I(),a.each(b.buttons,function(b,c){var d=a('<button type="button" class="ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only elfinder-btncnt-'+B+++" "+t+'"><span class="ui-button-text">'+b+"</span></button>").on("click",a.proxy(c,o[0]));c._cssClass&&d.addClass(c._cssClass),h?y.append(d):y.prepend(d)}),y.children().length&&(K.append(z),K.show(),z.find("button").each(function(b,c){A+=a(c).outerWidth(!0)}),K.hide(),A+=20,K.width()<A&&K.width(A)),K.append(D),j.enabled&&(i.width=K.outerWidth(!0)-K.width()+(K.outerWidth()-K.width())/2,i.height=K.outerHeight(!0)-K.height()+(K.outerHeight()-K.height())/2),c.options.dialogContained&&(d={maxWidth:f.width()-i.width,maxHeight:f.height()-i.height},b.maxWidth=b.maxWidth?Math.min(d.maxWidth,b.maxWidth):d.maxWidth,b.maxHeight=b.maxHeight?Math.min(d.maxHeight,b.maxHeight):d.maxHeight,K.css(d)),g={maxWidth:K.css("max-width"),maxHeight:K.css("max-height"),overflow:K.css("overflow")},b.resizable&&K.resizable({minWidth:b.minWidth,minHeight:b.minHeight,maxWidth:b.maxWidth,maxHeight:b.maxHeight,start:function(){D.show(),!0!==K.data("resizing")&&K.data("resizing")&&clearTimeout(K.data("resizing")),K.data("resizing",!0)},stop:function(a,b){D.hide(),K.data("resizing",setTimeout(function(){K.data("resizing",!1)},200)),j.enabled&&(j.defaultSize={width:o.width(),height:o.height()})}}).data("hasResizable",!0),E(),F(),"function"==typeof b.create&&a.proxy(b.create,this)(),b.autoOpen&&(b.open?requestAnimationFrame(function(){o.elfinderdialog("open")}):o.elfinderdialog("open")),b.resize&&c.bind("themechange",function(){setTimeout(function(){K.data("margin-y",o.outerHeight(!0)-o.height()),K.trigger("resize",{init:!0})},300)})}),this)},a.fn.elfinderdialog.defaults={cssClass:"",title:"",modal:!1,resizable:!0,autoOpen:!0,closeOnEscape:!0,destroyOnClose:!1,buttons:{},btnHoverFocus:!0,position:null,absolute:!1,width:320,height:"auto",minWidth:200,minHeight:70,maxWidth:null,maxHeight:null,allowMinimize:"auto",allowMaximize:!1,openMaximized:!1,headerBtnPos:"auto",headerBtnOrder:"auto",optimizeNumber:!0,propagationEvents:["mousemove","mouseup"]},a.fn.elfinderfullscreenbutton=function(b){return this.each(function(){var c,d=a(this).elfinderbutton(b),e=d.children(".elfinder-button-icon");b.change(function(){c&&cancelAnimationFrame(c),c=requestAnimationFrame(function(){var a=b.value;e.addClass("elfinder-button-icon-fullscreen").toggleClass("elfinder-button-icon-unfullscreen",a),b.className=a?"unfullscreen":""})})})},a.fn.elfindernavbar=function(b,c){return this.not(".elfinder-navbar").each(function(){var d,e,f,g,h,i,j,k=a(this).hide().addClass("ui-state-default elfinder-navbar"),l=k.css("overflow","hidden").parent(),m=l.children(".elfinder-workzone").append(k),n="ltr"==b.direction,o=function(){var a=b.getUI("cwd"),c=b.getUI("workzone"),d=c.data("rectangle"),e=a.offset();c.data("rectangle",Object.assign(d,{cwdEdge:"ltr"===b.direction?e.left:e.left+a.width()}))},p=function(){k.css("overflow","hidden"),d=Math.round(k.outerHeight()-k.height()),e=Math.round(j.outerWidth()-j.innerWidth()),k.css("overflow","auto")};b.one("init",function(){j=b.getUI("navdock");var a=function(){p(),b.bind("wzresize",function(){var a=0;j.width(k.outerWidth()-e),j.children().length>1&&(a=j.outerHeight(!0)),k.height(m.height()-a-d)}).trigger("wzresize")};b.cssloaded?a():b.one("cssloaded",a)}).one("opendone",function(){f&&f.trigger("resize"),k.css("overflow","auto")}).bind("themechange",p),b.UA.Touch&&(h=b.storage("autoHide")||{},void 0===h.navbar&&(h.navbar=c.autoHideUA&&c.autoHideUA.length>0&&a.grep(c.autoHideUA,function(a){return!!b.UA[a]}).length,b.storage("autoHide",h)),h.navbar&&b.one("init",function(){k.children().length&&b.uiAutoHide.push(function(){k.stop(!0,!0).trigger("navhide",{duration:"slow",init:!0})})}),b.bind("load",function(){k.children().length&&(g=a('<div class="elfinder-navbar-swipe-handle"></div>').hide().appendTo(m),"none"!==g.css("pointer-events")&&(g.remove(),g=null))}),k.on("navshow navhide",function(a,c){var d="navshow"===a.type?"show":"hide",e=c&&c.duration?c.duration:"fast",f=c&&c.handleW?c.handleW:Math.max(50,b.getUI().width()/10);k.stop(!0,!0)[d]({duration:e,step:function(){b.trigger("wzresize")},complete:function(){g&&("show"===d?g.stop(!0,!0).hide():(g.width(f||""),b.resources.blink(g,"slowonce"))),b.trigger("navbar"+d),c.init&&b.trigger("uiautohide"),o()}}),h.navbar="show"!==d,b.storage("autoHide",Object.assign(b.storage("autoHide"),{navbar:h.navbar}))}).on("touchstart",function(c){a(this)["scroll"+("ltr"===b.direction?"Right":"Left")]()>5&&(c.originalEvent._preventSwipeX=!0)})),b.UA.Mobile||(f=k.resizable({handles:n?"e":"w",minWidth:c.minWidth||150,maxWidth:c.maxWidth||500,resize:function(){b.trigger("wzresize")},stop:function(a,c){b.storage("navbarWidth",c.size.width),o()}}).on("resize scroll",function(c){var d=a(this),e=d.data("posinit");c.preventDefault(),c.stopPropagation(),n||"resize"!==c.type||k.css("left",0),e&&cancelAnimationFrame(e),d.data("posinit",requestAnimationFrame(function(){var a=b.UA.Opera&&k.scrollLeft()?20:2;f.css("top",0).css({top:parseInt(k.scrollTop())+"px",left:n?"auto":-1*parseInt(k.scrollRight()-a),right:n?-1*parseInt(k.scrollLeft()-a):"auto"}),"resize"===c.type&&b.getUI("cwd").trigger("resize")}))}).children(".ui-resizable-handle").addClass("ui-front")),(i=b.storage("navbarWidth"))?k.width(i):b.UA.Mobile&&b.one(b.cssloaded?"init":"cssloaded",function(){var c=function(){i=k.parent().width()/2,k.data("defWidth")>i?k.width(i):k.width(k.data("defWidth")),k.data("width",k.width()),b.trigger("wzresize")};k.data("defWidth",k.width()),a(window).on("resize."+b.namespace,c),c()})}),this},a.fn.elfindernavdock=function(b,c){return this.not(".elfinder-navdock").each(function(){var d,e,f=a(this).hide().addClass("ui-state-default elfinder-navdock touch-punch"),g=f.parent(),h=(g.children(".elfinder-workzone").append(f),function(c,d){var e,g=d||f.height(),h=c-g,i=Object.keys(j).length,k=i?h/i:0;h&&(e=f.css("overflow"),f.css("overflow","hidden"),f.height(c),a.each(j,function(a,c){c.height(c.height()+k).trigger("resize."+b.namespace)}),b.trigger("wzresize"),f.css("overflow",e))}),i=a('<div class="ui-front ui-resizable-handle ui-resizable-n"></div>').appendTo(f),j={},k=(parseInt(c.initMaxHeight)||50)/100,l=(parseInt(c.maxHeight)||90)/100;f.data("addNode",function(a,c){var g,m,n,o=b.getUI("workzone").height(),p=o*k;return c=Object.assign({first:!1,sizeSync:!0,init:!1},c),a.attr("id")||a.attr("id",b.namespace+"-navdock-"+ +new Date),c.sizeSync&&(j[a.attr("id")]=a),g=f.height(),m=g+a.outerHeight(!0),c.first?i.after(a):f.append(a),e=!0,f.resizable("enable").height(m).show(),b.trigger("wzresize"),c.init&&(n=b.storage("navdockHeight"),m=n||(m>p?p:m),d=m),h(Math.min(m,o*l)),f}).data("removeNode",function(c,d){var g=a("#"+c);return delete j[c],f.height(f.height()-a("#"+c).outerHeight(!0)),d?"detach"===d?g=g.detach():d.append(g):g.remove(),f.children().length<=1&&(e=!1,f.resizable("disable").height(0).hide()),b.trigger("wzresize"),g}),c.disabled||b.one("init",function(){var a;b.getUI("navbar").children().not(".ui-resizable-handle").length&&(f.data("dockEnabled",!0),f.resizable({maxHeight:b.getUI("workzone").height()*l,handles:{n:i},start:function(c,d){a=f.css("overflow"),f.css("overflow","hidden"),b.trigger("navdockresizestart",{event:c,ui:d},!0)},resize:function(a,c){f.css("top",""),b.trigger("wzresize",{inNavdockResize:!0})},stop:function(c,e){b.trigger("navdockresizestop",{event:c,ui:e},!0),f.css("top",""),d=e.size.height,b.storage("navdockHeight",d),h(d,e.originalSize.height),f.css("overflow",a)}}),b.bind("wzresize",function(a){var c,e;f.is(":visible")&&(c=b.getUI("workzone").height()*l,a.data&&a.data.inNavdockResize||(e=f.height(),c<d?Math.abs(e-c)>1&&h(c):Math.abs(e-d)>1&&h(d)),f.resizable("option","maxHeight",c))}).bind("themechange",function(){var a=Math.round(f.height());requestAnimationFrame(function(){var b=Math.round(f.height()),c=a-b;0!==c&&h(f.height(),b-c)})})),b.bind("navbarshow navbarhide",function(a){f[e&&"navbarshow"===a.type?"show":"hide"]()})})}),this},a.fn.elfinderoverlay=function(b){var c,d,e,f,g=this.parent().elfinder("instance");return this.filter(":not(.elfinder-overlay)").each(function(){b=Object.assign({},b),a(this).addClass("ui-front ui-widget-overlay elfinder-overlay").hide().on("mousedown",function(a){a.preventDefault(),a.stopPropagation()}).data({cnt:0,show:"function"==typeof b.show?b.show:function(){},hide:"function"==typeof b.hide?b.hide:function(){}})}),"show"==b&&(c=this.eq(0),d=c.data("cnt")+1,e=c.data("show"),g.toFront(c),c.data("cnt",d),c.is(":hidden")&&(c.show(),e())),"hide"==b&&(c=this.eq(0),d=c.data("cnt")-1,f=c.data("hide"),c.data("cnt",d),d<=0&&(c.hide(),f())),this},a.fn.elfinderpanel=function(b){return this.each(function(){var c=a(this).addClass("elfinder-panel ui-state-default ui-corner-all"),d="margin-"+("ltr"==b.direction?"left":"right");b.one("load",function(a){var e=b.getUI("navbar");c.css(d,parseInt(e.outerWidth(!0))),e.on("resize",function(a){a.preventDefault(),a.stopPropagation(),c.is(":visible")&&c.css(d,parseInt(e.outerWidth(!0)))})})})},a.fn.elfinderpath=function(b,c){return this.each(function(){var e,f,g="",h="",i=[],j="statusbar",k=b.res("class","hover"),l="path"+(d.prototype.uniqueid?d.prototype.uniqueid:"")+"-",m=a('<div class="ui-widget-header ui-helper-clearfix elfinder-workzone-path"></div>'),n=a(this).addClass("elfinder-path").html("&nbsp;").on("mousedown","span.elfinder-path-dir",function(c){var d=a(this).attr("id").substr(l.length);c.preventDefault(),d!=b.cwd().hash&&(a(this).addClass(k),g?b.exec("search",g,{target:d,mime:i.join(" ")}):b.trigger("select",{selected:[d]}).exec("open",d))}).prependTo(b.getUI("statusbar").show()),o=a('<div class="elfinder-path-roots"></div>').on("click",function(c){c.stopPropagation(),c.preventDefault();var d=a.map(b.roots,function(a){return b.file(a)}),e=[];a.each(d,function(a,c){c.phash||b.root(b.cwd().hash,!0)===c.hash||e.push({label:b.escape(c.i18||c.name),icon:"home",callback:function(){b.exec("open",c.hash)},options:{iconClass:c.csscls||"",iconImg:c.icon||""}})}),b.trigger("contextmenu",{raw:e,x:c.pageX,y:c.pageY})}).append('<span class="elfinder-button-icon elfinder-button-icon-menu" ></span>').appendTo(m),p=function(c){var d=[],e=[];return a.each(b.parents(c),function(a,f){var g=c===f?"elfinder-path-dir elfinder-path-cwd":"elfinder-path-dir",h=b.file(f),i=b.escape(h.i18||h.name);e.push(i),d.push('<span id="'+l+f+'" class="'+g+'" title="'+e.join(b.option("separator"))+'">'+i+"</span>")}),d.join('<span class="elfinder-path-other">'+b.option("separator")+"</span>")},q=function(){var c;n.children("span.elfinder-path-dir").attr("style",""),c="ltr"===b.direction?a("#"+l+b.cwd().hash).prevAll("span.elfinder-path-dir:first"):a(),n.scrollLeft(c.length?c.position().left:0)},r=function(){if(!b.UA.CSS.flex){var c,d,e=n.children("span.elfinder-path-dir"),f=e.length;if("workzone"===j||f<2)return void e.attr("style","");n.width(n.css("max-width")),e.css({maxWidth:100/f+"%",display:"inline-block"}),c=n.width()-9,n.children("span.elfinder-path-other").each(function(){c-=a(this).width()}),d=[],e.each(function(b){var e=a(this),f=e.width();c-=f,f<this.scrollWidth&&d.push(b)}),n.width(""),d.length?(c>0&&(c/=d.length,a.each(d,function(b,d){var f=a(e[d]);f.css("max-width",f.width()+c)})),e.last().attr("style","")):e.attr("style","")}};b.one("init",function(){e=b.getUI("tree").length,f=b.getUI("stat").length,!e&&c.toWorkzoneWithoutNavbar&&(m.append(n).insertBefore(b.getUI("workzone")),j="workzone",b.bind("open",q).one("opendone",function(){b.getUI().trigger("resize")}))}).bind("open searchend parents",function(){g="",h="",i=[],n.html(p(b.cwd().hash)),Object.keys(b.roots).length>1?(n.css("margin",""),o.show()):(n.css("margin",0),o.hide()),!f&&r()}).bind("searchstart",function(a){a.data&&(g=a.data.query||"",h=a.data.target||"",i=a.data.mimes||[])}).bind("search",function(a){var c="";c=h?p(h):b.i18n("btnAll"),n.html('<span class="elfinder-path-other">'+b.i18n("searcresult")+": </span>"+c),r()}).bind("navbarshow navbarhide",function(){var a=b.getUI("workzone");"navbarshow"===this.type?(b.unbind("open",q),n.prependTo(b.getUI("statusbar")),m.detach(),j="statusbar"):(m.append(n).insertBefore(a),j="workzone",q(),b.bind("open",q)),b.trigger("uiresize")}).bind("resize uistatchange",r)})},a.fn.elfinderplaces=function(b,c){return this.each(function(){var d={},e="class",f=b.res(e,"navdir"),g=b.res(e,"navcollapse"),h=b.res(e,"navexpand"),i=b.res(e,"hover"),j=b.res(e,"treeroot"),k=b.res(e,"adroppable"),l=b.res("tpl","placedir"),m=b.res("tpl","perms"),n=a(b.res("tpl","navspinner")),o=c.suffix?c.suffix:"",p="places"+o,q=null,r=function(a){return a.substr(6)},s=function(a){return"place-"+a},t=function(b){return a(document.getElementById(s(b)))},u=function(){var c=[],e={};c=a.map(G.children().find("[id]"),function(a){return r(a.id)}),c.length?a.each(c.reverse(),function(a,b){e[b]=d[b]}):e=null,b.storage(p,e)},v=function(){var e,f;p="places"+(c.suffix?c.suffix:""),d={},e=b.storage(p),"string"==typeof e?(e=a.grep(e.split(","),function(a){return!!a}),a.each(e,function(a,b){var c=b.split("#");d[c[0]]=c[1]?c[1]:c[0]})):a.isPlainObject(e)&&(d=e),b.trigger("placesload",{dirs:d,storageKey:p},!0),f=Object.keys(d),f.length&&(F.prepend(n),b.request({data:{cmd:"info",targets:f},preventDefault:!0}).done(function(c){var e={};c.files&&c.files.length&&b.cache(c.files),a.each(c.files,function(a,b){var c=b.hash;e[c]=b}),a.each(d,function(a,b){x(e[a]||Object.assign({notfound:!0},b))}),b.storage("placesState")>0&&F.trigger("click")
}).always(function(){n.remove()}))},w=function(c,d){return a(l.replace(/\{id\}/,s(c?c.hash:d)).replace(/\{name\}/,b.escape(c?c.i18||c.name:d)).replace(/\{cssclass\}/,c?b.perms2class(c)+(c.notfound?" elfinder-na":"")+(c.csscls?" "+c.csscls:""):"").replace(/\{permissions\}/,!c||c.read&&c.write&&!c.notfound?"":m).replace(/\{title\}/,c?' title="'+b.escape(b.path(c.hash,!0)||c.i18||c.name)+'"':"").replace(/\{symlink\}/,"").replace(/\{style\}/,c&&c.icon?b.getIconStyle(c):""))},x=function(a){var c,e;return"directory"===a.mime&&(e=a.hash,b.files().hasOwnProperty(e)||b.trigger("tree",{tree:[a]}),c=w(a,e),d[e]=a,G.prepend(c),F.addClass(g),D.toggle(G.children().length>1),!0)},y=function(a){var b,c,e=null;return d[a]&&(delete d[a],b=t(a),b.length&&(e=b.text(),b.parent().remove(),c=G.children().length,D.toggle(c>1),c||(F.removeClass(g),H.removeClass(h),G.slideToggle(!1)))),e},z=function(a){var c=t(a),d=c.parent(),e=d.prev("div"),f="ui-state-hover",g=b.getUI("contextmenu");q&&clearTimeout(q),e.length&&(g.find(":first").data("placesHash",a),c.addClass(f),d.insertBefore(e),e=d.prev("div"),q=setTimeout(function(){c.removeClass(f),g.find(":first").data("placesHash")===a&&g.hide().empty()},1500)),e.length||(c.removeClass(f),g.hide().empty())},A=function(a,b){var c=a.hash,e=t(b||c),f=w(a,c);return e.length>0&&(e.parent().replaceWith(f),d[c]=a,!0)},B=function(){G.empty(),F.removeClass(g),H.removeClass(h),G.slideToggle(!1)},C=function(){a.each(d,function(c,d){var e=b.file(c)||d,g=w(e,c),h=null;return e||g.hide(),!(!G.children().length||(a.each(G.children(),function(){var b=a(this);if((e.i18||e.name).localeCompare(b.children("."+f).text())<0)return h=!g.insertBefore(b)}),null===h))||void(!t(c).length&&G.append(g))}),u()},D=a('<span class="elfinder-button-icon elfinder-button-icon-sort elfinder-places-root-icon" title="'+b.i18n("cmdsort")+'"></span>').hide().on("click",function(a){a.stopPropagation(),G.empty(),C()}),E=w({hash:"root-"+b.namespace,name:b.i18n(c.name,"places"),read:!0,write:!0}),F=E.children("."+f).addClass(j).on("click",function(a){a.stopPropagation(),F.hasClass(g)&&(H.toggleClass(h),G.slideToggle(),b.storage("placesState",H.hasClass(h)?1:0))}).append(D),G=E.children("."+b.res(e,"navsubtree")),H=a(this).addClass(b.res(e,"tree")+" elfinder-places ui-corner-all").hide().append(E).appendTo(b.getUI("navbar")).on("mouseenter mouseleave","."+f,function(b){a(this).toggleClass("ui-state-hover","mouseenter"==b.type)}).on("click","."+f,function(c){var d=a(this);return d.data("longtap")?void c.stopPropagation():void(!d.hasClass("elfinder-na")&&b.exec("open",d.attr("id").substr(6)))}).on("contextmenu","."+f+":not(."+j+")",function(c){var d=a(this),e=d.attr("id").substr(6);c.preventDefault(),b.trigger("contextmenu",{raw:[{label:b.i18n("moveUp"),icon:"up",remain:!0,callback:function(){z(e),u()}},"|",{label:b.i18n("rmFromPlaces"),icon:"rm",callback:function(){y(e),u()}}],x:c.pageX,y:c.pageY}),d.addClass("ui-state-hover"),b.getUI("contextmenu").children().on("mouseenter",function(){d.addClass("ui-state-hover")}),b.bind("closecontextmenu",function(){d.removeClass("ui-state-hover")})}).droppable({tolerance:"pointer",accept:".elfinder-cwd-file-wrapper,.elfinder-tree-dir,.elfinder-cwd-file",hoverClass:b.res("class","adroppable"),classes:{"ui-droppable-hover":b.res("class","adroppable")},over:function(c,e){var f=e.helper,g=a.grep(f.data("files"),function(a){return"directory"===b.file(a).mime&&!d[a]});c.stopPropagation(),f.data("dropover",f.data("dropover")+1),b.insideWorkzone(c.pageX,c.pageY)&&(g.length>0?(f.addClass("elfinder-drag-helper-plus"),b.trigger("unlockfiles",{files:f.data("files"),helper:f})):a(this).removeClass(k))},out:function(b,c){var d=c.helper;b.stopPropagation(),d.removeClass("elfinder-drag-helper-move elfinder-drag-helper-plus").data("dropover",Math.max(d.data("dropover")-1,0)),a(this).removeData("dropover").removeClass(k)},drop:function(c,e){var f=e.helper,g=!0;a.each(f.data("files"),function(a,c){var e=b.file(c);e&&"directory"==e.mime&&!d[e.hash]?x(e):g=!1}),u(),g&&f.hide()}}).on("touchstart","."+f+":not(."+j+")",function(c){if(!(c.originalEvent.touches.length>1))var d=a(this).attr("id").substr(6),e=a(this).addClass(i).data("longtap",null).data("tmlongtap",setTimeout(function(){e.data("longtap",!0),b.trigger("contextmenu",{raw:[{label:b.i18n("rmFromPlaces"),icon:"rm",callback:function(){y(d),u()}}],x:c.originalEvent.touches[0].pageX,y:c.originalEvent.touches[0].pageY})},500))}).on("touchmove touchend","."+f+":not(."+j+")",function(b){clearTimeout(a(this).data("tmlongtap")),"touchmove"==b.type&&a(this).removeClass(i)});a.fn.sortable&&G.addClass("touch-punch").sortable({appendTo:b.getUI(),revert:!1,helper:function(c){var d=a(c.target).parent();return d.children().removeClass("ui-state-hover"),a('<div class="ui-widget elfinder-place-drag elfinder-'+b.direction+'"></div>').append(a('<div class="elfinder-navbar"></div>').show().append(d.clone()))},stop:function(b,c){var d=a(c.item[0]),e=H.offset().top,f=H.offset().left,g=H.width(),h=H.height(),i=b.pageX,j=b.pageY;i>f&&i<f+g&&j>e&&j<j+h||(y(r(d.children(":first").attr("id"))),u())},update:function(a,b){u()}}),a(this).on("regist",function(b,c){var e=!1;a.each(c,function(a,b){b&&"directory"==b.mime&&!d[b.hash]&&x(b)&&(e=!0)}),e&&u()}),b.one("load",function(){b.oldAPI||(H.show().parent().show(),v(),b.change(function(b){var c=!1;a.each(b.data.changed,function(a,b){d[b.hash]&&("directory"!==b.mime?y(b.hash)&&(c=!0):A(b)&&(c=!0))}),c&&u()}).bind("rename",function(b){var c=!1;b.data.removed&&a.each(b.data.removed,function(a,d){b.data.added[a]&&A(b.data.added[a],d)&&(c=!0)}),c&&u()}).bind("rm paste",function(b){var c=[],d=!1;b.data.removed&&a.each(b.data.removed,function(a,b){var d=y(b);d&&c.push(d)}),c.length&&(d=!0),b.data.added&&c.length&&a.each(b.data.added,function(b,d){1!==a.inArray(d.name,c)&&"directory"==d.mime&&x(d)}),d&&u()}).bind("sync netmount",function(){var e,f=this,g=c.suffix?c.suffix:"";return"sync"===f.type&&o!==g?(o=g,B(),void v()):(e=Object.keys(d),void(e.length&&(F.prepend(n),b.request({data:{cmd:"info",targets:e},preventDefault:!0}).done(function(c){var e={},g=!1,h=b.cwd().hash;a.each(c.files||[],function(a,c){var d=c.hash;e[d]=c,b.files().hasOwnProperty(c.hash)||b.updateCache({tree:[c]})}),a.each(d,function(a,b){Boolean(b.notfound)===Boolean(e[a])?b.phash===h&&"netmount"!==f.type||e[a]&&"directory"!==e[a].mime?y(a)&&(g=!0):A(e[a]||Object.assign({notfound:!0},b))&&(g=!0):e[a]&&e[a].phash!=h&&A(e[a])}),g&&u()}).always(function(){n.remove()}))))}))})})},a.fn.elfindersearchbutton=function(b){return this.each(function(){var c,d,e,f,g=!1,h=b.fm,i=(h.res("class","disabled"),b.options.incsearch||{enable:!1}),j=b.options.searchTypes,k=function(a){return h.namespace+h.escape(a)},l=h.getUI("toolbar"),m=h.res("class","searchbtn"),n=a(this).hide().addClass("ui-widget-content elfinder-button "+m).on("click",function(a){a.stopPropagation()}),o=function(){var a=h.getUI(),b=a.offset();return{top:n.offset().top-b.top,maxHeight:a.height()-40}},p=function(){s.data("inctm")&&clearTimeout(s.data("inctm"));var c=a.trim(s.val()),e=!a("#"+k("SearchFromAll")).prop("checked"),f=a("#"+k("SearchMime")).prop("checked"),i="";e&&(e=a("#"+k("SearchFromVol")).prop("checked")?h.root(h.cwd().hash):h.cwd().hash),f&&(f=c,c="."),d&&(i=d.children("input:checked").val()),c?(s.trigger("focus"),b.exec(c,e,f,i).done(function(){g=!0}).fail(function(){q()})):h.trigger("searchend")},q=function(){s.data("inctm")&&clearTimeout(s.data("inctm")),s.val("").trigger("blur"),(g||r)&&(g=!1,r="",h.lazy(function(){h.trigger("searchend")}))},r="",s=a('<input type="text" size="42"/>').on("focus",function(){!n.hasClass("ui-state-active")&&h.getUI().click(),f=!0,r="",n.addClass("ui-state-active"),h.trigger("uiresize"),c&&c.css(o()).slideDown(function(){n.addClass("ui-state-active"),h.toFront(c)})}).on("blur",function(){f=!1,c?c.data("infocus")?c.data("infocus",!1):c.slideUp(function(){n.removeClass("ui-state-active"),h.trigger("uiresize"),h.toHide(c)}):n.removeClass("ui-state-active")}).appendTo(n).on("keypress",function(a){a.stopPropagation()}).on("keydown",function(b){b.stopPropagation(),b.keyCode===a.ui.keyCode.ENTER?p():b.keyCode===a.ui.keyCode.ESCAPE&&(b.preventDefault(),q())});i.enable&&(i.minlen=i.minlen||2,i.wait=i.wait||500,s.attr("title",h.i18n("incSearchOnly")).on("compositionstart",function(){s.data("composing",!0)}).on("compositionend",function(){s.removeData("composing"),s.trigger("input")}).on("input",function(){s.data("composing")||(s.data("inctm")&&clearTimeout(s.data("inctm")),s.data("inctm",setTimeout(function(){var a=s.val();(0===a.length||a.length>=i.minlen)&&(r!==a&&h.trigger("incsearchstart",{query:a,type:d?d.children("input:checked").val():"searchName"}),r=a,""===a&&h.searchStatus.state>1&&h.searchStatus.query&&s.val(h.searchStatus.query).trigger("select"))},i.wait)))}),h.UA.ltIE8&&s.on("keydown",function(a){229===a.keyCode&&(s.data("imetm")&&clearTimeout(s.data("imetm")),s.data("composing",!0),s.data("imetm",setTimeout(function(){s.removeData("composing")},100)))}).on("keyup",function(b){s.data("imetm")&&clearTimeout(s.data("imetm")),s.data("composing")?b.keyCode===a.ui.keyCode.ENTER&&s.trigger("compositionend"):s.trigger("input")})),a('<span class="ui-icon ui-icon-search" title="'+b.title+'"></span>').appendTo(n).on("mousedown",function(a){a.stopPropagation(),a.preventDefault(),n.hasClass("ui-state-active")?p():s.trigger("focus")}),a('<span class="ui-icon ui-icon-close"></span>').appendTo(n).on("mousedown",function(a){a.stopPropagation(),a.preventDefault(),""!==s.val()||n.hasClass("ui-state-active")?q():s.trigger("focus")}),h.bind("toolbarload",function(){var a=n.parent();if(a.length&&(l.prepend(n.show()),a.remove(),h.UA.ltIE7)){var b=n.children("ltr"==h.direction?".ui-icon-close":".ui-icon-search");b.css({right:"",left:parseInt(n.width())-b.outerWidth(!0)})}}),h.one("init",function(){h.getUI("cwd").on("touchstart click",function(){f&&s.trigger("blur")})}).one("open",function(){(c=h.api<2.1?null:a('<div class="ui-front ui-widget ui-widget-content elfinder-button-menu elfinder-button-search-menu ui-corner-all"></div>').append(a('<div class="buttonset"></div>').append(a('<input id="'+k("SearchFromCwd")+'" name="serchfrom" type="radio" checked="checked"/><label for="'+k("SearchFromCwd")+'">'+h.i18n("btnCwd")+"</label>"),a('<input id="'+k("SearchFromVol")+'" name="serchfrom" type="radio"/><label for="'+k("SearchFromVol")+'">'+h.i18n("btnVolume")+"</label>"),a('<input id="'+k("SearchFromAll")+'" name="serchfrom" type="radio"/><label for="'+k("SearchFromAll")+'">'+h.i18n("btnAll")+"</label>")),a('<div class="buttonset elfinder-search-type"></div>').append(a('<input id="'+k("SearchName")+'" name="serchcol" type="radio" checked="checked" value="SearchName"/><label for="'+k("SearchName")+'">'+h.i18n("btnFileName")+"</label>"))).hide().appendTo(h.getUI()))&&(j&&(d=c.find(".elfinder-search-type"),a.each(b.options.searchTypes,function(b,c){d.append(a('<input id="'+k(b)+'" name="serchcol" type="radio" value="'+h.escape(b)+'"/><label for="'+k(b)+'">'+h.i18n(c.name)+"</label>"))})),c.find("div.buttonset").buttonset(),a("#"+k("SearchFromAll")).next("label").attr("title",h.i18n("searchTarget",h.i18n("btnAll"))),j&&a.each(j,function(b,c){c.title&&a("#"+k(b)).next("label").attr("title",h.i18n(c.title))}),c.on("mousedown","div.buttonset",function(a){a.stopPropagation(),c.data("infocus",!0)}).on("click","input",function(b){b.stopPropagation(),a.trim(s.val())?p():s.trigger("focus")}).on("close",function(){s.trigger("blur")}))}).bind("searchend",function(){s.val("")}).bind("open parents",function(){var b=[],c=h.file(h.root(h.cwd().hash));c&&(a.each(h.parents(h.cwd().hash),function(a,c){b.push(h.file(c).name)}),a("#"+k("SearchFromCwd")).next("label").attr("title",h.i18n("searchTarget",b.join(h.option("separator")))),a("#"+k("SearchFromVol")).next("label").attr("title",h.i18n("searchTarget",c.name)))}).bind("open",function(){r&&q()}).bind("cwdinit",function(){e=!1}).bind("cwdrender",function(){e=!0}).bind("keydownEsc",function(){r&&"/"===r.substr(0,1)&&(r="",s.val(""),h.trigger("searchend"))}).shortcut({pattern:"ctrl+f f3",description:b.title,callback:function(){s.trigger("select").trigger("focus")}}).shortcut({pattern:"a b c d e f g h i j k l m n o p q r s t u v w x y z dig0 dig1 dig2 dig3 dig4 dig5 dig6 dig7 dig8 dig9 num0 num1 num2 num3 num4 num5 num6 num7 num8 num9",description:h.i18n("firstLetterSearch"),callback:function(b){if(e){var c,d=b.originalEvent.keyCode,f=function(){var b=h.selected(),c=a.ui.keyCode[!b.length||h.cwdHash2Elm(b[0]).next("[id]").length?"RIGHT":"HOME"];a(document).trigger(a.Event("keydown",{keyCode:c,ctrlKey:!1,shiftKey:!1,altKey:!1,metaKey:!1}))};d>=96&&d<=105&&(d-=48),c="/"+String.fromCharCode(d),r!==c?(s.val(c),r=c,h.trigger("incsearchstart",{query:c}).one("cwdrender",f)):f()}}})})},a.fn.elfindersortbutton=function(b){return this.each(function(){var c,d=b.fm,e=b.name,f="class",g=d.res(f,"disabled"),h=d.res(f,"hover"),i="elfinder-button-menu-item",j=i+"-selected",k=j+"-asc",l=j+"-desc",m=a('<span class="elfinder-button-text">'+b.title+"</span>"),n=a(this).addClass("ui-state-default elfinder-button elfinder-menubutton elfiner-button-"+e).attr("title",b.title).append('<span class="elfinder-button-icon elfinder-button-icon-'+e+'"></span>',m).on("mouseenter mouseleave",function(a){!n.hasClass(g)&&n.toggleClass(h,"mouseenter"===a.type)}).on("click",function(a){n.hasClass(g)||(a.stopPropagation(),p.is(":hidden")&&d.getUI().click(),p.css(r()).slideToggle({duration:100,done:function(a){d[p.is(":visible")?"toFront":"toHide"](p)}}))}),o=function(){d.toHide(p)},p=a('<div class="ui-front ui-widget ui-widget-content elfinder-button-menu elfinder-button-sort-menu ui-corner-all"></div>').hide().appendTo(d.getUI()).on("mouseenter mouseleave","."+i,function(b){a(this).toggleClass(h,"mouseenter"===b.type)}).on("click",function(a){a.preventDefault(),a.stopPropagation()}).on("close",o),q=function(){p.children("[rel]").removeClass(j+" "+k+" "+l).filter('[rel="'+d.sortType+'"]').addClass(j+" "+("asc"==d.sortOrder?k:l)),p.children(".elfinder-sort-stick").toggleClass(j,d.sortStickFolders),p.children(".elfinder-sort-tree").toggleClass(j,d.sortAlsoTreeview)},r=function(){var a=d.getUI().offset(),b=n.offset();return{top:b.top-a.top,left:b.left-a.left}};m.hide(),a.each(d.sortRules,function(b,c){p.append(a('<div class="'+i+'" rel="'+b+'"><span class="ui-icon ui-icon-arrowthick-1-n"></span><span class="ui-icon ui-icon-arrowthick-1-s"></span>'+d.i18n("sort"+b)+"</div>").data("type",b))}),p.children().on("click",function(c){b.exec([],a(this).removeClass(h).attr("rel"))}),a('<div class="'+i+" "+i+'-separated elfinder-sort-ext elfinder-sort-stick"><span class="ui-icon ui-icon-check"></span>'+d.i18n("sortFoldersFirst")+"</div>").appendTo(p).on("click",function(){b.exec([],"stick")}),d.one("init",function(){d.ui.tree&&null!==d.options.sortAlsoTreeview&&a('<div class="'+i+" "+i+'-separated elfinder-sort-ext elfinder-sort-tree"><span class="ui-icon ui-icon-check"></span>'+d.i18n("sortAlsoTreeview")+"</div>").appendTo(p).on("click",function(){b.exec([],"tree")})}).bind("disable select",o).bind("sortchange",q).getUI().on("click",o),p.children().length>1?b.change(function(){c&&cancelAnimationFrame(c),c=requestAnimationFrame(function(){n.toggleClass(g,b.disabled()),q()})}).change():n.addClass(g)})},a.fn.elfinderstat=function(b){return this.each(function(){var c=a(this).addClass("elfinder-stat-size"),d=a('<div class="elfinder-stat-selected"></div>').on("click","a",function(c){var d=a(this).data("hash");c.preventDefault(),b.exec("opendir",[d])}),e=b.i18n("items"),f=b.i18n("selected"),g=b.i18n("size"),h=function(d){var f=0,g=0,h=b.cwd(),i=!0,j=!0;(h.sizeInfo||h.size)&&(g=h.size,i=!1),a.each(d,function(a,b){f++,i&&(g+=parseInt(b.size)||0,!0!==j||"directory"!==b.mime||b.sizeInfo||(j=!1))}),c.html(e+': <span class="elfinder-stat-incsearch"></span>'+f+',&nbsp;<span class="elfinder-stat-size'+(j?" elfinder-stat-size-recursive":"")+'">'+b.i18n(j?"sum":"size")+": "+b.formatSize(g)+"</span>").attr("title",c.text()),b.trigger("uistatchange")},i=function(a){c.find("span.elfinder-stat-incsearch").html(a?a.hashes.length+" / ":""),c.attr("title",c.text()),b.trigger("uistatchange")},j=function(c){var e,h,i=0,j=0,k=[];1===c.length?(h=c[0],i=h.size,2===b.searchStatus.state&&(e=b.escape(h.path?h.path.replace(/\/[^\/]*$/,""):".."),k.push('<a href="#elf_'+h.phash+'" data-hash="'+h.hash+'" title="'+e+'">'+e+"</a>")),k.push(b.escape(h.i18||h.name)),d.html(k.join("/")+(i>0?", "+b.formatSize(i):""))):c.length?(a.each(c,function(a,b){j++,i+=parseInt(b.size)||0}),d.html(j?f+": "+j+", "+g+": "+b.formatSize(i):"&nbsp;")):d.html(""),d.attr("title",d.text()),b.trigger("uistatchange")};b.getUI("statusbar").prepend(c).append(d).show(),b.UA.Mobile&&a.fn.tooltip&&b.getUI("statusbar").tooltip({classes:{"ui-tooltip":"elfinder-ui-tooltip ui-widget-shadow"},tooltipClass:"elfinder-ui-tooltip ui-widget-shadow",track:!0}),b.bind("cwdhasheschange",function(c){h(a.map(c.data,function(a){return b.file(a)}))}).change(function(d){var e=d.data.changed||[],f=b.cwd().hash;a.each(e,function(){if(this.hash===f)return this.size&&(c.children(".elfinder-stat-size").addClass("elfinder-stat-size-recursive").html(b.i18n("sum")+": "+b.formatSize(this.size)),c.attr("title",c.text())),!1})}).select(function(){j(b.selectedFiles())}).bind("open",function(){j([])}).bind("incsearch",function(a){i(a.data)}).bind("incsearchend",function(){i()})})},a.fn.elfindertoast=function(b,c){var d=Object.assign({mode:"success",msg:"",showMethod:"fadeIn",showDuration:300,showEasing:"swing",onShown:void 0,hideMethod:"fadeOut",hideDuration:1500,hideEasing:"swing",onHidden:void 0,timeOut:3e3,extNode:void 0,button:void 0,width:void 0},a.isPlainObject(c.options.uiOptions.toast.defaults)?c.options.uiOptions.toast.defaults:{});return this.each(function(){b=Object.assign({},d,b||{});var e,f=a(this),g=function(a){f.stop(),c.toFront(f),f[b.showMethod]({duration:b.showDuration,easing:b.showEasing,complete:function(){b.onShown&&b.onShown(),!a&&b.timeOut&&(e=setTimeout(h,b.timeOut))}})},h=function(){f[b.hideMethod]({duration:b.hideDuration,easing:b.hideEasing,complete:function(){b.onHidden&&b.onHidden(),f.remove()}})};f.on("click",function(a){a.stopPropagation(),a.preventDefault(),e&&clearTimeout(e),b.onHidden&&b.onHidden(),f.stop().remove()}).on("mouseenter mouseleave",function(a){b.timeOut&&(e&&clearTimeout(e),e=null,"mouseenter"===a.type?g(!0):e=setTimeout(h,b.timeOut))}).hide().addClass("toast-"+b.mode).append(a('<div class="elfinder-toast-msg"></div>').html(b.msg.replace(/%([a-zA-Z0-9]+)%/g,function(a,b){return c.i18n(b)}))),b.extNode&&f.append(b.extNode),b.button&&f.append(a('<button class="ui-button ui-widget ui-state-default ui-corner-all elfinder-tabstop"></button>').append(a('<span class="ui-button-text"></span>').text(c.i18n(b.button.text))).on("mouseenter mouseleave",function(b){a(this).toggleClass("ui-state-hover","mouseenter"==b.type)}).on("click",b.button.click||function(){})),b.width&&f.css("max-width",b.width),g()})},a.fn.elfindertoolbar=function(b,c){return this.not(".elfinder-toolbar").each(function(){var d,e,f,g,h,i,j,k,l,m=b._commands,n=a(this).addClass("ui-helper-clearfix ui-widget-header elfinder-toolbar"),o={displayTextLabel:!1,labelExcludeUA:["Mobile"],autoHideUA:["Mobile"],showPreferenceButton:"none"},p=function(b){return a.grep(b,function(b){return!a.isPlainObject(b)||(o=Object.assign(o,b),!1)})},q=function(c){var i,j;for(a.each(r,function(a,b){b.detach()}),n.empty(),d=s.length;d--;)if(s[d]){for(g=a('<div class="ui-widget-content ui-corner-all elfinder-buttonset"></div>'),e=s[d].length;e--;)i=s[d][e],c&&c[i]||!(f=m[i])||(h="elfinder"+f.options.ui,!r[i]&&a.fn[h]&&(r[i]=a("<div></div>")[h](f)),r[i]&&(r[i].children(".elfinder-button-text")[k?"show":"hide"](),g.prepend(r[i])));g.children().length&&n.prepend(g),g.children(":gt(0)").before('<span class="ui-widget-content elfinder-toolbar-button-separator"></span>')}(j=m.preference)&&("always"===o.showPreferenceButton||!n.children().length&&"auto"===o.showPreferenceButton)&&(g=a('<div class="ui-widget-content ui-corner-all elfinder-buttonset"></div>'),i="preference",h="elfinder"+f.options.ui,r[i]=a("<div></div>")[h](j),r[i].children(".elfinder-button-text")[k?"show":"hide"](),g.prepend(r[i]),n.append(g)),!n.data("swipeClose")&&n.children().length?n.show():n.hide(),v=n[0].clientHeight,b.trigger("toolbarload").trigger("uiresize")},r={},s=p(c||[]),t=null,u="",v=0,w=[];o.showPreferenceButton=o.showPreferenceButton.toLowerCase(),"none"!==o.displayTextLabel&&(k=b.storage("toolbarTextLabel"),k=null===k?o.displayTextLabel&&(!o.labelExcludeUA||!o.labelExcludeUA.length||!a.grep(o.labelExcludeUA,function(a){return!!b.UA[a]}).length):1==k,w.push({label:b.i18n("textLabel"),icon:"text",callback:function(){k=!k,n.css("height","").find(".elfinder-button-text")[k?"show":"hide"](),b.trigger("uiresize").storage("toolbarTextLabel",k?"1":"0")}})),o.preferenceInContextmenu&&m.preference&&w.push({label:b.i18n("toolbarPref"),icon:"preference",callback:function(){b.exec("preference",void 0,{tab:"toolbar"})}}),w.length&&n.on("contextmenu",function(a){a.stopPropagation(),a.preventDefault(),b.trigger("contextmenu",{raw:w,x:a.pageX,y:a.pageY})}).on("touchstart",function(a){a.originalEvent.touches.length>1||(n.data("tmlongtap")&&clearTimeout(n.data("tmlongtap")),n.removeData("longtap").data("longtap",{x:a.originalEvent.touches[0].pageX,y:a.originalEvent.touches[0].pageY}).data("tmlongtap",setTimeout(function(){n.removeData("longtapTm").trigger({type:"contextmenu",pageX:n.data("longtap").x,pageY:n.data("longtap").y}).data("longtap",{longtap:!0})},500)))}).on("touchmove touchend",function(a){n.data("tmlongtap")&&(("touchend"===a.type||Math.abs(n.data("longtap").x-a.originalEvent.touches[0].pageX)+Math.abs(n.data("longtap").y-a.originalEvent.touches[0].pageY)>4)&&clearTimeout(n.data("tmlongtap")),n.removeData("longtapTm"))}).on("click",function(a){n.data("longtap")&&n.data("longtap").longtap&&(a.stopImmediatePropagation(),a.preventDefault())}).on("touchend click",".elfinder-button",function(a){n.data("longtap")&&n.data("longtap").longtap&&(a.stopImmediatePropagation(),a.preventDefault())}),n.prev().length&&n.parent().prepend(this),q(),b.bind("open sync select toolbarpref",function(){var c,d,e,f=Object.assign({},b.option("disabledFlip")),g=b.storage("toolbarhides");if(!g&&Array.isArray(o.defaultHides)&&(g={},a.each(o.defaultHides,function(){g[this]=!0}),b.storage("toolbarhides",g)),"select"===this.type){if(b.searchStatus.state<2)return;d=b.selected(),d.length&&(f=b.getDisabledCmds(d,!0))}a.each(g,function(a){f[a]||(f[a]=!0)}),Object.keys(b.commandMap).length&&a.each(b.commandMap,function(a,b){"hidden"===b&&(f[a]=!0)}),e=Object.keys(f),t&&t.toString()===e.sort().toString()||(q(e.length?f:null),c=!0),t=e.sort(),(c||u!==JSON.stringify(b.commandMap))&&(u=JSON.stringify(b.commandMap),c||a.each(a("div.elfinder-button"),function(){var b=a(this).data("origin");b&&a(this).after(b).detach()}),Object.keys(b.commandMap).length&&a.each(b.commandMap,function(c,d){var e,f=b._commands[d],g=f?"elfinder"+f.options.ui:null;g&&a.fn[g]&&(e=r[c])&&(!r[d]&&a.fn[g]&&(r[d]=a("<div></div>")[g](f),r[d]&&(r[d].children(".elfinder-button-text")[k?"show":"hide"](),f.extendsCmd&&r[d].children("span.elfinder-button-icon").addClass("elfinder-button-icon-"+f.extendsCmd))),r[d]&&(e.after(r[d]),r[d].data("origin",e.detach())))}))}).bind("resize",function(a){l&&cancelAnimationFrame(l),l=requestAnimationFrame(function(){var a=n[0].clientHeight;v!==a&&(v=a,b.trigger("uiresize"))})}),b.UA.Touch&&(j=b.storage("autoHide")||{},void 0===j.toolbar&&(j.toolbar=o.autoHideUA&&o.autoHideUA.length>0&&a.grep(o.autoHideUA,function(a){return!!b.UA[a]}).length,b.storage("autoHide",j)),j.toolbar&&b.one("init",function(){b.uiAutoHide.push(function(){n.stop(!0,!0).trigger("toggle",{duration:500,init:!0})})}),b.bind("load",function(){i=a('<div class="elfinder-toolbar-swipe-handle"></div>').hide().appendTo(b.getUI()),"none"!==i.css("pointer-events")&&(i.remove(),i=null)}),n.on("toggle",function(a,c){var d=b.getUI("workzone"),e=n.is(":hidden"),f=d.height(),g=n.height(),h=n.outerHeight(!0),k=h-g,l=Object.assign({step:function(a){d.height(f+(e?-1*(a+k):g-a)),b.trigger("resize")},always:function(){requestAnimationFrame(function(){n.css("height",""),b.trigger("uiresize"),i&&(e?i.stop(!0,!0).hide():(i.height(c.handleH?c.handleH:""),b.resources.blink(i,"slowonce"))),e&&n.scrollTop("0px"),c.init&&b.trigger("uiautohide")})}},c);n.data("swipeClose",!e).stop(!0,!0).animate({height:"toggle"},l),j.toolbar=!e,b.storage("autoHide",Object.assign(b.storage("autoHide"),{toolbar:j.toolbar}))}).on("touchstart",function(a){n.scrollBottom()>5&&(a.originalEvent._preventSwipeY=!0)}))}),this},a.fn.elfindertree=function(b,c){var d=b.res("class","tree");return this.not("."+d).each(function(){var e,f,g,h,i="class",j=b.UA.Mobile,k=b.res(i,"treeroot"),l=c.openRootOnLoad,m=c.openCwdOnOpen,n=m||c.syncTree,o=b.res(i,"navsubtree"),p=b.res(i,"treedir"),q="span."+p,r=b.res(i,"navcollapse"),s=b.res(i,"navexpand"),t="elfinder-subtree-loaded",u="elfinder-subtree-chksubdir",v=b.res(i,"navarrow"),w=b.res(i,"active"),x=b.res(i,"adroppable"),y=b.res(i,"hover"),z=b.res(i,"disabled"),A=b.res(i,"draggable"),B=b.res(i,"droppable"),C="elfinder-navbar-wrapper-root",D="elfinder-navbar-wrapper-pastable",E="elfinder-navbar-wrapper-uploadable",F=function(a){var b=ha.offset().left;return b<=a&&a<=b+ha.width()},G={},H=[],I=function(c){var d=[];if(a.each(c,function(a,c){G[c]&&d.push(b.navId2Hash(c)),delete G[c]}),d.length)return b.request({data:{cmd:"subdirs",targets:d,preventDefault:!0}}).done(function(c){c&&c.subdirs&&a.each(c.subdirs,function(a,c){var d=b.navHash2Elm(a);d.removeClass(u),d[c?"addClass":"removeClass"](r)})})},J=null,K=function(){var c=Object.keys(G);c.length&&(J&&J._abort(),e&&clearTimeout(e),H=[],J=b.asyncJob(function(c){return b.isInWindow(a("#"+c))?c:null},c,{numPerOnce:200}).done(function(a){a.length&&(H=a,M())}))},L=0,M=function(){var a,d=c.subdirsMaxConn-L,f=b.maxTargets?Math.min(b.maxTargets,c.subdirsAtOnce):c.subdirsAtOnce;if(e&&cancelAnimationFrame(e),H.length)if(d>0)for(a=0;a<d;a++)H.length&&(L++,I(H.splice(0,f)).always(function(){L--,M()}));else e=requestAnimationFrame(function(){H.length&&M()})},N=b.droppable.drop,O=a.extend(!0,{},b.droppable,{over:function(c,d){var e,f,g=a(this),h=d.helper,i=y+" "+x;return c.stopPropagation(),h.data("dropover",h.data("dropover")+1),g.data("dropover",!0),d.helper.data("namespace")===b.namespace&&b.insideWorkzone(c.pageX,c.pageY)?F(c.clientX)?(h.removeClass("elfinder-drag-helper-move elfinder-drag-helper-plus"),g.addClass(y),g.is("."+r+":not(."+s+")")&&g.data("expandTimer",setTimeout(function(){g.is("."+r+"."+y)&&g.children("."+v).trigger("click")},500)),g.is(".elfinder-ro,.elfinder-na")?void g.removeClass(x):(e=b.navId2Hash(g.attr("id")),g.data("dropover",e),a.each(d.helper.data("files"),function(a,c){if(c===e||b.file(c).phash===e&&!d.helper.hasClass("elfinder-drag-helper-plus"))return g.removeClass(i),!1}),h.data("locked")?f="elfinder-drag-helper-plus":(f="elfinder-drag-helper-move",(c.shiftKey||c.ctrlKey||c.metaKey)&&(f+=" elfinder-drag-helper-plus")),g.hasClass(x)&&h.addClass(f),void requestAnimationFrame(function(){g.hasClass(x)&&h.addClass(f)}))):void g.removeClass(i):(g.removeClass(i),void h.removeClass("elfinder-drag-helper-move elfinder-drag-helper-plus"))},out:function(b,c){var d=a(this),e=c.helper;b.stopPropagation(),F(b.clientX)&&e.removeClass("elfinder-drag-helper-move elfinder-drag-helper-plus"),e.data("dropover",Math.max(e.data("dropover")-1,0)),d.data("expandTimer")&&clearTimeout(d.data("expandTimer")),d.removeData("dropover").removeClass(y+" "+x)},deactivate:function(){a(this).removeData("dropover").removeClass(y+" "+x)},drop:function(a,b){F(a.clientX)&&N.call(this,a,b)}}),P=a(b.res("tpl","navspinner")),Q=b.res("tpl","navdir"),R=b.res("tpl","perms"),S=(b.res("tpl","lock"),b.res("tpl","symlink")),T={},U={id:function(a){return b.navHash2Id(a.hash)},name:function(a){return b.escape(a.i18||a.name)},cssclass:function(a){var d=(a.phash&&!a.isroot?"":k)+" "+p+" "+b.perms2class(a);return a.dirs&&!a.link&&(d+=" "+r)&&-1==a.dirs&&(d+=" "+u),c.getClass&&(d+=" "+c.getClass(a)),a.csscls&&(d+=" "+b.escape(a.csscls)),d},title:function(a){return c.attrTitle?' title="'+b.escape(b.path(a.hash,!0)||a.i18||a.name)+'"':""},root:function(b){var c="";return!b.phash||b.isroot?(c+=" "+C,!b.disabled||b.disabled.length<1?c+=" "+D+" "+E:(-1===a.inArray("paste",b.disabled)&&(c+=" "+D),-1===a.inArray("upload",b.disabled)&&(c+=" "+E)),c):""},permissions:function(a){return a.read&&a.write?"":R},symlink:function(a){return a.alias?S:""},style:function(a){return a.icon?b.getIconStyle(a):""}},V=function(a){return Q.replace(/(?:\{([a-z]+)\})/gi,function(b,c){var d=U[c]?U[c](a):a[c]||"";return"id"===c&&-1==a.dirs&&(G[d]=d),d})},W=function(c,d){return a.map(c||[],function(a){return"directory"!==a.mime||d&&!b.navHash2Elm(a.hash).length?null:a})},X=function(a){return a?b.navHash2Elm(a).next("."+o):fa},Y=function(a,c){for(var d,e=a.children(":first");e.length;){if(d=b.file(b.navId2Hash(e.children("[id]").attr("id"))),(d=b.file(b.navId2Hash(e.children("[id]").attr("id"))))&&$(c,d)<0)return e;e=e.next()}return a.children("button.elfinder-navbar-pager-next")},Z=function(d){for(var e,f,g,h,i,k,l,m=d.length,n=[],o=m,p=a(),q={},r=b.cwd(),s=function(d,e,f,g){var h={},i=0,k=b.newAPI?Math.min(1e4,Math.max(10,c.subTreeMax)):1e4,l=function(){h={},a.each(e,function(a,b){h[b.hash]=a})},m=function(b){"prepare"===b?a.each(e,function(a,b){b.node&&d.append(b.node.hide())}):"done"===b&&a.each(e,function(a,b){b.node&&b.node.detach().show()})},n=function(b,c){var d;return b.stopPropagation(),c.select?void q(o(c.select)):c.change?void m(c.change):(c.removed&&c.removed.length&&(e=a.grep(e,function(a){return-1===c.removed.indexOf(a.hash)||(!d&&(d=!0),!1)})),c.added&&c.added.length&&(e=e.concat(a.grep(c.added,function(a){return void 0===h[a.hash]&&(!d&&(d=!0),!0)}))),void(d&&(e.sort($),l(),q(i))))},o=function(a){if(void 0!==h[a])return Math.floor(h[a]/k)*k},p=b.navId2Hash(d.prev("[id]").attr("id")),q=function(c,f){var g,h,m,t,u,v,w,x=[],y={};delete T[p],i=c,d.off("update."+b.namespace,n),e.length>k&&(d.on("update."+b.namespace,n),void 0===c&&(0,l(),void 0===(c=o(r.hash))&&(c=0)),m=e.slice(c,c+k),T[p]=d,t=c?Math.max(-1,c-k):-1,u=c+k>=e.length?0:c+k,g=Math.ceil(e.length/k),h=Math.ceil(c/k)),a.each(m||e,function(a,b){x.push(V(b)),b.node&&(y[b.hash]=b.node)}),v=t>-1?a('<button class="elfinder-navbar-pager elfinder-navbar-pager-prev"></button>').text(b.i18n("btnPrevious",h,g)).button({icons:{primary:"ui-icon-caret-1-n"}}).on("click",function(a){a.preventDefault(),a.stopPropagation(),q(t,"up")}):a(),w=u?a('<button class="elfinder-navbar-pager elfinder-navbar-pager-next"></button>').text(b.i18n("btnNext",h+2,g)).button({icons:{primary:"ui-icon-caret-1-s"}}).on("click",function(a){a.preventDefault(),a.stopPropagation(),q(u,"down")}):a(),s(),d.empty()[m?"addClass":"removeClass"]("elfinder-navbar-hasmore").append(v,x.join(""),w),a.each(y,function(a,c){b.navHash2Elm(a).parent().replaceWith(c)}),f&&_(b.navHash2Id(m["up"===f?m.length-1:0].hash)),!j&&b.lazy(function(){da(null,d)})},s=function(){a.each(d.children(".elfinder-navbar-wrapper"),function(c,d){var f,g,i=a(d),j=i.children("[id]:first");j.hasClass(t)&&(f=b.navId2Hash(j.attr("id")))&&void 0!==(g=h[f])&&(e[g].node=i.detach())})};q()},u={},v=[],w={};o--;)e=d[o],q[e.hash]||b.navHash2Elm(e.hash).length||(q[e.hash]=!0,(f=X(e.phash)).length?(l=e.phash||"treeroot",void 0===w[l]&&(w[l]=f.children(":last")),h=!w[l].length,e.phash&&(h||f.hasClass("elfinder-navbar-hasmore")||(g=Y(f,e)).length)?h?(u[e.phash]||(u[e.phash]=[]),u[e.phash].push(e)):g?(k=V(e),g.before(k),!j&&(p=p.add(k))):v.push(e):(k=V(e),h?f.prepend(k):w[l].after(k),e.phash&&!e.isroot||(i=b.navHash2Elm(e.hash).parent()),!j&&da(null,i))):n.push(e))
;return Object.keys(u).length&&a.each(u,function(a,b){var c=X(a);b.sort($),s(c,b)}),v.length&&f.trigger("update."+b.namespace,{added:v}),n.length&&n.length<m?void Z(n):void(!j&&p.length&&b.lazy(function(){da(p)}))},$=function(a,c){if(b.sortAlsoTreeview){var d,e="asc"==b.sortOrder,f=b.sortType,g=b.sortRules;return d=e?g[b.sortType](a,c):g[b.sortType](c,a),"name"!==f&&0===d?d=e?g.name(a,c):g.name(c,a):d}return b.sortRules.name(a,c)},_=function(d){var e,g,h,i,j,k,l=a.Deferred();return f&&clearTimeout(f),f=setTimeout(function(){e=a(document.getElementById(d||b.navHash2Id(b.cwd().hash))),e.length?((m?e:e.parent()).parents(".elfinder-navbar-wrapper").children("."+t).addClass(s).next("."+o).show(),g=fa.parent().stop(!1,!0),h=g.offset().top,i=g.height(),j=h+i-e.outerHeight(),k=e.offset().top,k<h||k>j?g.animate({scrollTop:g.scrollTop()+k-h-i/3},{duration:c.durations.autoScroll,complete:function(){l.resolve()}}):l.resolve()):l.reject()},100),l},aa=function(a){var c,d,e,f=a||b.cwd(),g=f.hash?[f.hash]:[];for(d=b.root(f.hash),e=b.file(d);e&&(c=e.phash)&&(g.unshift(c),d=b.root(c),e=b.file(d),!b.navHash2Elm(e.hash).hasClass(t)););return g},ba=function(a){var c=a||b.cwd(),d=c.hash,e=b.navHash2Elm(d);if(!e.length){for(;c&&c.phash;)T[c.phash]&&!b.navHash2Elm(c.hash).length&&T[c.phash].trigger("update."+b.namespace,{select:c.hash}),c=b.file(c.phash);e=b.navHash2Elm(d)}return e},ca=function(c,d){var e,f,h=b.cwd(),i=h.hash,j=void 0===d?n:d,k=function(c){var d,g,h=a.Deferred(),i=[],k=aa(c),l=function(a,c,d){var e={cmd:a,target:c};return d&&(e.until=d),b.request({data:e,preventFail:!0})};return i=a.map(k,function(a){var c,e,f=b.file(a),g=!!f&&b.isRoot(f),h=b.navHash2Elm(a),i=function(a,c){var d,e,f=c||1;return e=!!(d=b.file(a))&&d.phash,e&&f>1?i(e,--f):e},j=function(){var d=i(a);for(c=d;d&&!b.navHash2Elm(d).hasClass(t);)c=d,d=i(d);return d||(c=void 0,d=b.root(a)),d}();return h.hasClass(t)||!g&&f&&b.navHash2Elm(f.phash).hasClass(t)?null:(g||j===i(a)||j===i(a,2)?(c=void 0,e="tree",g||(a=i(a))):e="parents",d||(d="tree"===e?a:j),l(e,a,c))}),i.length?(ba(b.file(d)),g=b.navHash2Id(d),j&&_(g),e=a("#"+g),f=a(b.res("tpl","navspinner")).insertBefore(e.children("."+v)),e.removeClass(r),a.when.apply(a,i).done(function(){var a,b,c,d={};if((b=arguments.length)>0)for(c=0;c<b;c++)a=arguments[c].tree||[],d[k[c]]=Object.assign([],W(a));h.resolve(d)}).fail(function(){h.reject()}),h):h.resolve()},m=function(d,f){var g,i=function(){l&&e&&(X(e.hash).show().prev(q).addClass(s),l=!1),j?_().done(K):K()};d&&a.each(d,function(a,c){c&&Z(c),ba(b.file(a)),c&&ea(c,t)}),c&&(b.api<2.1&&c.push(h),Z(c)),g=ba(),g.hasClass(w)||(fa.find(q+"."+w).removeClass(w),g.addClass(w)),g.parents(".elfinder-navbar-wrapper").children("."+p).addClass(t),d?b.lazy(i).done(function(){f.resolve()}):(i(),f.resolve())},o=function(a){e&&(f.remove(),e.addClass(r+(a?"":" "+t)))},u=a.Deferred();return b.navHash2Elm(i).length?m(void 0,u):(g=!0,k().done(function(a){m(a,u),o()}).fail(function(){o(!0),u.reject()}).always(function(){g=!1})),b.trigger("treesync",u),u},da=function(c,d){c||(d&&!d.closest("div."+C).hasClass(E)||(d||fa.find("div."+E)).find(q+":not(.elfinder-ro,.elfinder-na)").addClass("native-droppable"),c=!d||d.closest("div."+C).hasClass(D)?(d||fa.find("div."+D)).find(q+":not(."+B+")"):a(),d&&d.children("div."+C).each(function(){da(null,a(this))})),c.length&&b.asyncJob(function(b){a(b).droppable(O)},a.makeArray(c),{interval:20,numPerOnce:100})},ea=function(c,d){var e=d==t?"."+r+":not(."+t+")":":not(."+r+")";a.each(c,function(c,f){b.navHash2Elm(f.phash).filter(e).filter(function(){return a.grep(a(this).next("."+o).children(),function(b){return!a(b).children().hasClass(k)}).length>0}).addClass(d)})},fa=a(this).addClass(d).on("mouseenter mouseleave",q,function(d){var e="mouseenter"===d.type;if(!e||!ga){var f,g,h=a(this);h.hasClass(x+" "+z)||(j||!e||h.data("dragRegisted")||h.hasClass(k+" "+A+" elfinder-na elfinder-wo")||(h.data("dragRegisted",!0),b.isCommandEnabled("copy",f=b.navId2Hash(h.attr("id")))&&h.draggable(b.draggable)),h.toggleClass(y,e)),e&&c.attrTitle&&(g=b.file(f||b.navId2Hash(h.attr("id"))),g.isroot||h.attr("title")!==(g.i18||g.name)||h.attr("title",b.path(f,!0)))}}).on("dragenter",q,function(b){if(b.originalEvent.dataTransfer){var c=a(this);c.addClass(y),c.is("."+r+":not(."+s+")")&&c.data("expandTimer",setTimeout(function(){c.is("."+r+"."+y)&&c.children("."+v).trigger("click")},500))}}).on("dragleave",q,function(b){if(b.originalEvent.dataTransfer){var c=a(this);c.data("expandTimer")&&clearTimeout(c.data("expandTimer")),c.removeClass(y)}}).on("click",q,function(c){var d=a(this),e=b.navId2Hash(d.attr("id"));return b.file(e),d.data("longtap")?(d.removeData("longtap"),void c.stopPropagation()):(d.hasClass(w)||(fa.find(q+"."+w).removeClass(w),d.addClass(w)),void(e==b.cwd().hash||d.hasClass(z)?(d.hasClass(r)&&d.children("."+v).trigger("click"),b.select({selected:[e],origin:"navbar"})):b.exec("open",e).done(function(){b.one("opendone",function(){b.select({selected:[e],origin:"navbar"})})})))}).on("touchstart",q,function(c){if(!(c.originalEvent.touches.length>1)){var d,e=c.originalEvent;return"INPUT"===c.target.nodeName?void c.stopPropagation():void(d=a(this).addClass(y).removeData("longtap").data("tmlongtap",setTimeout(function(a){d.data("longtap",!0),b.trigger("contextmenu",{type:"navbar",targets:[b.navId2Hash(d.attr("id"))],x:e.touches[0].pageX,y:e.touches[0].pageY})},500)))}}).on("touchmove touchend",q,function(b){return"INPUT"===b.target.nodeName?void b.stopPropagation():(clearTimeout(a(this).data("tmlongtap")),a(this).removeData("tmlongtap"),void("touchmove"==b.type&&a(this).removeClass(y)))}).on("click",q+"."+r+" ."+v,function(d){var e,f=a(this),g=f.parent(q),h=g.next("."+o),i=a.Deferred(),j=30;d.stopPropagation(),g.hasClass(t)?(g.toggleClass(s),b.lazy(function(){e=g.hasClass(s)?h.children().length+h.find("div.elfinder-navbar-subtree[style*=block]").children().length:h.find("div:visible").length,e>j?(h.toggle(),b.draggingUiHelper&&b.draggingUiHelper.data("refreshPositions",1),K()):h.stop(!0,!0)[g.hasClass(s)?"slideDown":"slideUp"](c.durations.slideUpDown,function(){b.draggingUiHelper&&b.draggingUiHelper.data("refreshPositions",1),K()})}).always(function(){i.resolve()})):(P.insertBefore(f),g.removeClass(r),b.request({cmd:"tree",target:b.navId2Hash(g.attr("id"))}).done(function(a){Z(Object.assign([],W(a.tree))),h.children().length&&(g.addClass(r+" "+s),h.children().length>j?(h.show(),b.draggingUiHelper&&b.draggingUiHelper.data("refreshPositions",1),K()):h.stop(!0,!0).slideDown(c.durations.slideUpDown,function(){b.draggingUiHelper&&b.draggingUiHelper.data("refreshPositions",1),K()}))}).always(function(a){P.remove(),g.addClass(t),b.one("treedone",function(){i.resolve()})})),f.data("dfrd",i)}).on("contextmenu",q,function(c){var d=a(this);return d.find("input:text").length?void c.stopPropagation():(c.preventDefault(),d.data("tmlongtap")||b.trigger("contextmenu",{type:"navbar",targets:[b.navId2Hash(a(this).attr("id"))],x:c.pageX,y:c.pageY}),d.addClass("ui-state-hover"),b.getUI("contextmenu").children().on("mouseenter",function(){d.addClass("ui-state-hover")}),void b.bind("closecontextmenu",function(){d.removeClass("ui-state-hover")}))}).on("scrolltoview",q,function(c,d){var e=a(this);_(e.attr("id")).done(function(){d&&"undefined"!==d.blink&&!d.blink||b.resources.blink(e,"lookme")})}).on("create."+b.namespace,function(c,d){var e=X(d.phash),f=d.move||!1,g=a(V(d)).addClass("elfinder-navbar-wrapper-tmp"),h=b.selected();f&&h.length&&b.trigger("lockfiles",{files:h}),e.prepend(g)}),ga=!1,ha=b.getUI("navbar").append(fa).show().on("scroll",function(){ga=!0,h&&cancelAnimationFrame(h),h=requestAnimationFrame(function(){ga=!1,K()})}),ia=b.sortAlsoTreeview;b.open(function(a){var c=a.data,d=W(c.files),e=b.getUI("contextmenu");c.init&&fa.empty(),b.UA.iOS&&ha.removeClass("overflow-scrolling-touch").addClass("overflow-scrolling-touch"),d.length?b.lazy(function(){e.data("cmdMaps")||e.data("cmdMaps",{}),Z(d),ea(d,t),ca(d)}):ca()}).add(function(a){var b=W(a.data.added);b.length&&(Z(b),ea(b,r))}).change(function(c){if(!g){var d,e,f,h,i,k,l,m,n,p,r,u,v=W(c.data.changed,!0),w=v.length,x=w;for(a(),a.each(T,function(a,c){c.trigger("update."+b.namespace,{change:"prepare"})});x--;)if(d=v[x],e=d.phash,(f=b.navHash2Elm(d.hash)).length){if(r=f.parent(),e){if(i=f.closest("."+o),k=X(e),l=f.parent().next(),m=Y(k,d),!k.length)continue;k[0]===i[0]&&l.get(0)===m.get(0)||(m.length?m.before(r):k.append(r))}n=f.hasClass(s),p=f.hasClass(t),h=a(V(d)),f.replaceWith(h.children(q)),!j&&da(null,r),d.dirs&&(n||p)&&(f=b.navHash2Elm(d.hash))&&f.next("."+o).children().length&&(n&&f.addClass(s),p&&f.addClass(t)),u|=-1==d.dirs}u&&K(),a.each(T,function(a,c){c.trigger("update."+b.namespace,{change:"done"})}),w&&ca(void 0,!1)}}).remove(function(c){var d,e,f,g=c.data.removed,h=g.length;for(a.each(T,function(a,c){c.trigger("update."+b.namespace,{removed:g}),c.trigger("update."+b.namespace,{change:"prepare"})});h--;)(d=b.navHash2Elm(g[h])).length&&(f=!0,e=d.closest("."+o),d.parent().detach(),e.children().length||e.hide().prev(q).removeClass(r+" "+s+" "+t));f&&b.getUI("navbar").children(".ui-resizable-handle").trigger("resize"),a.each(T,function(a,c){c.trigger("update."+b.namespace,{change:"done"})})}).bind("lockfiles unlockfiles",function(c){var d="lockfiles"==c.type,e=!!c.data.helper&&c.data.helper.data("locked"),f=d&&!e?"disable":"enable",g=a.grep(c.data.files||[],function(a){var c=b.file(a);return!(!c||"directory"!=c.mime)});a.each(g,function(a,c){var g=b.navHash2Elm(c);g.length&&!e&&(g.hasClass(A)&&g.draggable(f),g.hasClass(B)&&g.droppable(f),g[d?"addClass":"removeClass"](z))})}).bind("sortchange",function(){if(b.sortAlsoTreeview||ia!==b.sortAlsoTreeview){var c,d,e=[],f={},g={},h="",i=!1;b.lazy(function(){c=W(b.files()),ia=b.sortAlsoTreeview,fa.empty(),Z(a.map(b.roots,function(a){var c=b.file(a);return c&&!c.phash?c:null})),Object.keys(T).length?(e=aa(),e.length>1?(a.each(e,function(a,c){var d=b.file(b.root(c)).volumeid;0===a&&(h=d),g[d]=c,f[c]=[]}),a.each(c,function(a,b){return b.volumeid?void f[g[b.volumeid]||g[h]].push(b):(i=!0,!1)})):i=!0,i?a.each(e,function(a,e){Z(c),d=ba(b.file(e)),ea(c,t)}):a.each(f,function(a,c){Z(c),d=ba(b.file(a)),ea(c,t)})):(Z(c),d=ba(),ea(c,t)),ca()},100)}})}),this},a.fn.elfinderuploadbutton=function(b){return this.each(function(){var c,d=b.fm,e=a(this).elfinderbutton(b).off("click"),f=a("<form></form>").appendTo(e),g=a('<input type="file" multiple="true" title="'+b.fm.i18n("selectForUpload")+'"/>').on("change",function(){var b=a(this);b.val()&&(d.exec("upload",{input:b.remove()[0]},void 0,d.cwd().hash),g.clone(!0).appendTo(f))}).on("dragover",function(a){a.originalEvent.dataTransfer.dropEffect="copy"});f.append(g.clone(!0)),b.change(function(){c&&cancelAnimationFrame(c),c=requestAnimationFrame(function(){var a=b.disabled();f.is("visible")?!a&&f.hide():a&&f.show()})}).change()})},a.fn.elfinderviewbutton=function(b){return this.each(function(){var c,d=a(this).elfinderbutton(b),e=d.children(".elfinder-button-icon"),f=d.children(".elfinder-button-text");b.change(function(){c&&cancelAnimationFrame(c),c=requestAnimationFrame(function(){var a="icons"==b.value;e.toggleClass("elfinder-button-icon-view-list",a),b.className=a?"view-list":"",b.title=b.fm.i18n(a?"viewlist":"viewicons"),d.attr("title",b.title),f.html(b.title)})})})},a.fn.elfinderworkzone=function(b){var c="elfinder-workzone";return this.not("."+c).each(function(){var d,e=a(this).addClass(c),f=Math.round(e.height()),g=e.parent(),h=function(){d=e.outerHeight(!0)-e.height()},i=function(h){var i=g.height()-d,j=g.attr("style"),k=Math.round(e.height());h&&(h.preventDefault(),h.stopPropagation()),g.css("overflow","hidden").children(":visible:not(."+c+")").each(function(){var b=a(this);"absolute"!=b.css("position")&&"fixed"!=b.css("position")&&(i-=b.outerHeight(!0))}),g.attr("style",j||""),i=Math.max(0,Math.round(i)),f===i&&k===i||(f=Math.round(e.height()),e.height(i),b.trigger("wzresize"))},j=function(){d=e.outerHeight(!0)-e.height(),i()};h(),g.on("resize."+b.namespace,i),b.one("cssloaded",j).bind("uiresize",i).bind("themechange",h)}),this},d.prototype.commands.archive=function(){var b,c=this,d=c.fm,e=[];this.variants=[],this.disableOnSearch=!1,this.nextAction={},d.bind("open reload",function(){c.variants=[],a.each(e=d.option("archivers").create||[],function(a,b){c.variants.push([b,d.mime2kind(b)])}),c.change()}),this.getstate=function(c){var f,g=this.files(c),h=g.length,i=h&&!d.isRoot(g[0])&&(d.file(g[0].phash)||{}).write&&!a.grep(g,function(a){return!a.read}).length;return i&&d.searchStatus.state>1&&(f=d.cwd().volumeid,i=h===a.grep(g,function(a){return!(!a.read||0!==a.hash.indexOf(f))}).length),i&&!this._disabled&&e.length&&(h||b&&"pending"==b.state())?0:-1},this.exec=function(f,g){var h,i=this.files(f),j=i.length,k=g||e[0],l=d.file(i[0].phash)||null,m=["errArchive","errPerm","errCreatingTempDir","errFtpDownloadFile","errFtpUploadFile","errFtpMkdir","errArchiveExec","errExtractExec","errRm"];if(b=a.Deferred().fail(function(a){a&&d.error(a)}),!j||!e.length||-1===a.inArray(k,e))return b.reject();if(!l.write)return b.reject(m);for(h=0;h<j;h++)if(!i[h].read)return b.reject(m);return c.mime=k,c.prefix=(j>1?"Archive":i[0].name)+(d.option("archivers").createext?"."+d.option("archivers").createext[k]:""),c.data={targets:c.hashes(f),type:k},d.cwd().hash!==l.hash?d.exec("open",l.hash).done(function(){d.one("cwdrender",function(){d.selectfiles({files:f}),b=a.proxy(d.res("mixin","make"),c)()})}):(d.selectfiles({files:f}),b=a.proxy(d.res("mixin","make"),c)()),b}},(d.prototype.commands.back=function(){this.alwaysEnabled=!0,this.updateOnSelect=!1,this.shortcuts=[{pattern:"ctrl+left backspace"}],this.getstate=function(){return this.fm.history.canBack()?0:-1},this.exec=function(){return this.fm.history.back()}}).prototype={forceLoad:!0},d.prototype.commands.chmod=function(){this.updateOnSelect=!1;var b=this.fm,c={0:"owner",1:"group",2:"other"},d={read:b.i18n("read"),write:b.i18n("write"),execute:b.i18n("execute"),perm:b.i18n("perm"),kind:b.i18n("kind"),files:b.i18n("files")},e=function(a){return!isNaN(parseInt(a,8)&&parseInt(a,8)<=511)||a.match(/^([r-][w-][x-]){3}$/i)};this.tpl={main:'<div class="ui-helper-clearfix elfinder-info-title"><span class="elfinder-cwd-icon {class} ui-corner-all"></span>{title}</div>{dataTable}',itemTitle:'<strong>{name}</strong><span id="elfinder-info-kind">{kind}</span>',groupTitle:"<strong>{items}: {num}</strong>",dataTable:'<table id="{id}-table-perm"><tr><td>{0}</td><td>{1}</td><td>{2}</td></tr></table><div class="">'+d.perm+': <input class="elfinder-tabstop elfinder-focus" id="{id}-perm" type="text" size="4" maxlength="3" value="{value}"></div>',fieldset:'<fieldset id="{id}-fieldset-{level}"><legend>{f_title}{name}</legend><input type="checkbox" value="4" class="elfinder-tabstop" id="{id}-read-{level}-perm"{checked-r}> <label for="{id}-read-{level}-perm">'+d.read+'</label><br><input type="checkbox" value="6" class="elfinder-tabstop" id="{id}-write-{level}-perm"{checked-w}> <label for="{id}-write-{level}-perm">'+d.write+'</label><br><input type="checkbox" value="5" class="elfinder-tabstop" id="{id}-execute-{level}-perm"{checked-x}> <label for="{id}-execute-{level}-perm">'+d.execute+"</label><br>"},this.shortcuts=[{}],this.getstate=function(a){var b=this.fm;return a=a||b.selected(),0==a.length&&(a=[b.cwd().hash]),this.checkstate(this.files(a))?0:-1},this.checkstate=function(b){var c=b.length;if(!c)return!1;var d=a.grep(b,function(a){return!(!(a.isowner&&a.perm&&e(a.perm))||1!=c&&"directory"==a.mime)}).length;return c==d},this.exec=function(b){var f=this.hashes(b),g=this.files(f);g.length||(f=[this.fm.cwd().hash],g=this.files(f));var h,i,j=this.fm,k=a.Deferred().always(function(){j.enable()}),l=this.tpl,m=g.length,n=g[0],o=j.namespace+"-perm-"+n.hash,p=l.main,q=' checked="checked"',r=function(){var a={};return a[j.i18n("btnApply")]=s,a[j.i18n("btnCancel")]=function(){A.elfinderdialog("close")},a},s=function(){var b,c=a.trim(a("#"+o+"-perm").val());return!!e(c)&&(A.elfinderdialog("close"),b={cmd:"chmod",targets:f,mode:c},void j.request({data:b,notify:{type:"chmod",cnt:m}}).fail(function(a){k.reject(a)}).done(function(c){c.changed&&c.changed.length&&(c.undo={cmd:"chmod",callback:function(){var b=[];return a.each(B,function(a,c){b.push(j.request({data:{cmd:"chmod",targets:c,mode:a},notify:{type:"undo",cnt:c.length}}))}),a.when.apply(null,b)}},c.redo={cmd:"chmod",callback:function(){return j.request({data:b,notify:{type:"redo",cnt:f.length}})}}),k.resolve(c)}))},t=function(){for(var b,d="",e=0;e<3;e++)b=0,a("#"+o+"-read-"+c[e]+"-perm").is(":checked")&&(b|=4),a("#"+o+"-write-"+c[e]+"-perm").is(":checked")&&(b|=2),a("#"+o+"-execute-"+c[e]+"-perm").is(":checked")&&(b|=1),d+=b.toString(8);a("#"+o+"-perm").val(d)},u=function(b){for(var d,e=0;e<3;e++)d=parseInt(b.slice(e,e+1),8),a("#"+o+"-read-"+c[e]+"-perm").prop("checked",!1),a("#"+o+"-write-"+c[e]+"-perm").prop("checked",!1),a("#"+o+"-execute-"+c[e]+"-perm").prop("checked",!1),4==(4&d)&&a("#"+o+"-read-"+c[e]+"-perm").prop("checked",!0),2==(2&d)&&a("#"+o+"-write-"+c[e]+"-perm").prop("checked",!0),1==(1&d)&&a("#"+o+"-execute-"+c[e]+"-perm").prop("checked",!0);t()},v=function(a){for(var b,c,d,e="777",f="",g=a.length,h=0;h<g;h++){b=y(a[h].perm),B[b]||(B[b]=[]),B[b].push(a[h].hash),f="";for(var i=0;i<3;i++)c=parseInt(b.slice(i,i+1),8),d=parseInt(e.slice(i,i+1),8),4!=(4&c)&&4==(4&d)&&(d-=4),2!=(2&c)&&2==(2&d)&&(d-=2),1!=(1&c)&&1==(1&d)&&(d-=1),f+=d.toString(8);e=f}return e},w=function(a){return a?":"+a:""},x=function(a,b){for(var e,f,g="",h=l.dataTable,i=0;i<3;i++)e=parseInt(a.slice(i,i+1),8),g+=e.toString(8),f=l.fieldset.replace("{f_title}",j.i18n(c[i])).replace("{name}",w(b[c[i]])).replace(/\{level\}/g,c[i]),h=h.replace("{"+i+"}",f).replace("{checked-r}",4==(4&e)?q:"").replace("{checked-w}",2==(2&e)?q:"").replace("{checked-x}",1==(1&e)?q:"");return h=h.replace("{value}",g).replace("{valueCaption}",d.perm)},y=function(a){if(isNaN(parseInt(a,8))){for(var b=a.split(""),c=[],d=0,e=b.length;d<e;d++)0===d||3===d||6===d?b[d].match(/[r]/i)?c.push(1):b[d].match(/[-]/)&&c.push(0):1===d||4===d||7===d?b[d].match(/[w]/i)?c.push(1):b[d].match(/[-]/)&&c.push(0):b[d].match(/[x]/i)?c.push(1):b[d].match(/[-]/)&&c.push(0);c.splice(3,0,","),c.splice(7,0,",");for(var f=c.join(""),g=f.split(","),h=[],i=0,j=g.length;i<j;i++){var k=parseInt(g[i],2).toString(8);h.push(k)}a=h.join("")}else a=parseInt(a,8).toString(8);return a},z={title:this.title,width:"auto",buttons:r(),close:function(){a(this).elfinderdialog("destroy")}},A=j.getUI().find("#"+o),B={},C="";return A.length?(A.elfinderdialog("toTop"),a.Deferred().resolve()):(p=p.replace("{class}",m>1?"elfinder-cwd-icon-group":j.mime2class(n.mime)),m>1?h=l.groupTitle.replace("{items}",j.i18n("items")).replace("{num}",m):(h=l.itemTitle.replace("{name}",n.name).replace("{kind}",j.mime2kind(n)),C=j.tmb(n)),i=x(v(g),1==g.length?g[0]:{}),p=p.replace("{title}",h).replace("{dataTable}",i).replace(/{id}/g,o),A=this.fmDialog(p,z),A.attr("id",o),C&&a("<img/>").on("load",function(){A.find(".elfinder-cwd-icon").addClass(C.className).css("background-image","url('"+C.url+"')")}).attr("src",C.url),a("#"+o+"-table-perm :checkbox").on("click",function(){t("perm")}),a("#"+o+"-perm").on("keydown",function(b){if(b.keyCode==a.ui.keyCode.ENTER)return b.stopPropagation(),void s()}).on("focus",function(b){a(this).trigger("select")}).on("keyup",function(b){3==a(this).val().length&&(a(this).trigger("select"),u(a(this).val()))}),k)}},d.prototype.commands.colwidth=function(){this.alwaysEnabled=!0,this.updateOnSelect=!1,this.getstate=function(){return"fixed"===this.fm.getUI("cwd").find("table").css("table-layout")?0:-1},this.exec=function(){return this.fm.getUI("cwd").trigger("colwidth"),a.Deferred().resolve()}},d.prototype.commands.copy=function(){this.shortcuts=[{pattern:"ctrl+c ctrl+insert"}],this.getstate=function(b){var c=this.files(b),d=c.length;return d&&a.grep(c,function(a){return!!a.read}).length==d?0:-1},this.exec=function(b){var c=this.fm,d=a.Deferred().fail(function(a){c.error(a)});return a.each(this.files(b),function(a,b){if(!b.read)return!d.reject(["errCopy",b.name,"errPerm"])}),"rejected"==d.state()?d:d.resolve(c.clipboard(this.hashes(b)))}},d.prototype.commands.cut=function(){var b=this.fm;this.shortcuts=[{pattern:"ctrl+x shift+insert"}],this.getstate=function(c){var d=this.files(c),e=d.length;return e&&a.grep(d,function(a){return!(!a.read||a.locked||b.isRoot(a))}).length==e?0:-1},this.exec=function(c){var d=a.Deferred().fail(function(a){b.error(a)});return a.each(this.files(c),function(a,c){return!c.read||c.locked||b.isRoot(c)?!d.reject(["errCopy",c.name,"errPerm"]):c.locked?!d.reject(["errLocked",c.name]):void 0}),"rejected"==d.state()?d:d.resolve(b.clipboard(this.hashes(c),!0))}},d.prototype.commands.zipdl=function(){},d.prototype.commands.download=function(){var b=this,c=this.fm,d=null,e=!1,f=!1,g=!1,h=window.location.pathname||"/",i=function(g,h){var i,j;if(null!==d&&(c.searchStatus.state>1?f=c.searchStatus.mixed:c.leafRoots[c.cwd().hash]&&(i=c.cwd().volumeid,a.each(g,function(a,b){if(0!==b.indexOf(i))return f=!0,!1})),e=c.isCommandEnabled("zipdl",g[0])),f){if(j=d?"zipdl":"download",g=a.grep(g,function(a){var b=c.file(a),e=!(!b||!d&&"directory"===b.mime||!c.isCommandEnabled(j,a));return b&&h&&!e&&c.cwdHash2Elm(b.hash).trigger("unselect"),e}),!g.length)return[]}else if(!c.isCommandEnabled("download",g[0]))return[];return a.grep(b.files(g),function(a){var b=!(!a.read||!e&&"directory"==a.mime);return h&&!b&&c.cwdHash2Elm(a.hash).trigger("unselect"),b})};this.linkedCmds=["zipdl"],this.shortcuts=[{pattern:"shift+enter"}],this.getstate=function(a){var b=this.hashes(a),d=b.length,f=this.options.maxRequests||10;return d<1?-1:(d=i(b).length,d&&(e||d<=f&&(!c.UA.IE&&!c.UA.Mobile||1==d))?0:-1)},c.bind("contextmenu",function(c){var d,e,f=b.fm,g=null,h=function(b){var c=b.url||f.url(b.hash);return{icon:"link",node:a("<a></a>").attr({href:c,target:"_blank",title:f.i18n("link")}).text(b.name).on("mousedown click touchstart touchmove touchend contextmenu",function(a){a.stopPropagation()}).on("dragstart",function(c){var d=c.dataTransfer||c.originalEvent.dataTransfer||null;if(g=null,d){var e=function(b){var c,d=b.mime,e=f.tmb(b);return c='<div class="elfinder-cwd-icon '+f.mime2class(d)+' ui-corner-all"></div>',e&&(c=a(c).addClass(e.className).css("background-image","url('"+e.url+"')").get(0).outerHTML),c};d.effectAllowed="copyLink",d.setDragImage&&(g=a('<div class="elfinder-drag-helper html5-native">').append(e(b)).appendTo(a(document.body)),d.setDragImage(g.get(0),50,47)),f.UA.IE||(d.setData("elfinderfrom",window.location.href+b.phash),d.setData("elfinderfrom:"+d.getData("elfinderfrom"),""))}}).on("dragend",function(a){g&&g.remove()})}};if(b.extra=null,c.data&&(d=c.data.targets||[],1===d.length&&(e=f.file(d[0]))&&"directory"!==e.mime))if("1"!=e.url)b.extra=h(e);else{var i;b.extra={icon:"link",node:a("<a></a>").attr({href:"#",title:f.i18n("getLink"),draggable:"false"}).text(e.name).on("click touchstart",function(a){if(!("touchstart"===a.type&&a.originalEvent.touches.length>1)){var b=i.parent();a.stopPropagation(),a.preventDefault(),b.removeClass("ui-state-disabled").addClass("elfinder-button-icon-spinner"),f.request({data:{cmd:"url",target:e.hash},preventDefault:!0}).always(function(a){if(b.removeClass("elfinder-button-icon-spinner"),a.url){f.file(e.hash).url=a.url,i.replaceWith(h(e).node)}else b.addClass("ui-state-disabled")})}})},i=b.extra.node,i.ready(function(){requestAnimationFrame(function(){i.parent().addClass("ui-state-disabled").css("pointer-events","auto")})})}}).one("open",function(){c.api>=2.1012&&(d=c.getCommand("zipdl")),g=c.cookieEnabled&&c.api>2.1038&&!c.isCORS}),this.exec=function(c){var d,j,k,l,m,n,o,p,q,r=this.hashes(c),s=this.fm,t=(s.options.url,i(r,!0)),u=a.Deferred(),v="",w={},x=!1,y=function(c){return function(){var d,e,f,g=a.Deferred(),h=s.file(s.root(c[0])),i=1===c.length,k=h?h.i18||h.name:null;return i?(d=s.file(c[0]))&&(e=d.i18||d.name):(a.each(c,function(){var a=s.file(this);return!a||f&&f!==a.phash?(f=null,!1):void(f=a.phash)}),f&&(d=s.file(f))&&(e=(d.i18||d.name)+"-"+c.length)),e&&(k=e),k&&(k=" ("+k+")"),s.request({data:{cmd:"zipdl",targets:c},notify:{type:"zipdl",cnt:1,hideCnt:!0,msg:s.i18n("ntfzipdl")+k},cancel:!0,eachCancel:!0,preventDefault:!0}).done(function(d){var f,h,i,k,m,n,o={},p="dlw"+ +new Date,q=function(c){i=a("<a></a>").attr("href",c).attr("download",s.escape(e)).on("click",function(){g.resolve(),h&&h.elfinderdialog("destroy")}),x?(i.attr("target","_blank").append('<span class="elfinder-button-icon elfinder-button-icon-download"></span>'+s.escape(e)),o[s.i18n("btnCancel")]=function(){h.elfinderdialog("destroy")},h=b.fmDialog(i,{title:s.i18n("link"),buttons:o,width:"200px",destroyOnClose:!0,close:function(){"resolved"!==g.state()&&g.resolve()}})):(z(i.hide().appendTo("body").get(0)),i.remove())};d.error?(s.error(d.error),g.resolve()):d.zipdl&&(f=d.zipdl,e?(n=s.splitFileExtention(f.name||""),e+=n[1]?"."+n[1]:".zip"):e=f.name,l||x?(j=s.options.url+(-1===s.options.url.indexOf("?")?"?":"&")+"cmd=zipdl&download=1",a.each([c[0],f.file,e,f.mime],function(a,b){j+="&targets%5B%5D="+encodeURIComponent(b)}),a.each(s.customData,function(a,b){j+="&"+encodeURIComponent(a)+"="+encodeURIComponent(b)}),j+="&"+encodeURIComponent(e),s.hasParrotHeaders()?s.getBinaryByUrl({url:j},function(a){a instanceof Blob?(j=(window.URL||window.webkitURL).createObjectURL(a),q(j)):s.error(["errUploadTransfer",s.i18n("kindZIP")])}):q(j)):(k=a('<form action="'+s.options.url+'" method="post" target="'+p+'" style="display:none"></form>').append('<input type="hidden" name="cmd" value="zipdl"/>').append('<input type="hidden" name="download" value="1"/>'),a.each([c[0],f.file,e,f.mime],function(a,b){k.append('<input type="hidden" name="targets[]" value="'+s.escape(b)+'"/>')}),a.each(s.customData,function(a,b){k.append('<input type="hidden" name="'+a+'" value="'+s.escape(b)+'"/>')}),k.attr("target",p).appendTo("body"),m=a('<iframe style="display:none" name="'+p+'">').appendTo("body").ready(function(){k.submit().remove(),g.resolve(),setTimeout(function(){m.remove()},2e4)})))}).fail(function(a){a&&s.error(a),g.resolve()}),g.promise()}},z=function(a){var b;"function"==typeof MouseEvent?b=new MouseEvent("click"):(b=document.createEvent("MouseEvents"),b.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null)),s.pauseUnloadCheck(!0),a.dispatchEvent(b)},A=function(a){var b,c="elfdl"+a;b=document.cookie.split(c+"="),2===b.length?(n&&clearTimeout(n),document.cookie=c+"=; path="+h+"; max-age=0",B()):setTimeout(function(){A(a)},200)},B=function(){s.ui.notify.children(".elfinder-notify-download").length&&s.notify({type:"download",cnt:-1})},C=[];if(!t.length)return u.reject();if(m=a.grep(t,function(a){return"directory"!==a.mime}).length,k=a("<a>").hide().appendTo("body"),l="string"==typeof k.get(0).download,e&&(m!==t.length||m>=(this.options.minFilesZipdl||1)))return k.remove(),x=!l&&s.UA.Mobile,f?(w={},a.each(t,function(a,b){var c=b.hash.split("_",2);w[c[0]]?w[c[0]].push(b.hash):w[c[0]]=[b.hash]}),!x&&s.UA.Mobile&&Object.keys(w).length>1&&(x=!0)):w=[a.map(t,function(a){return a.hash})],u=s.sequence(a.map(w,function(a){return y(a)})).always(function(){s.trigger("download",{files:t})});for(C=[],p=a.Deferred().done(function(b){for(d=0;d<b.length;d++)j=b[d],g&&j.substr(0,s.options.url.length)===s.options.url&&(o=s.getRequestId(),C.push(o),j+="&cpath="+h+"&reqid="+o,n=setTimeout(function(){s.notify({type:"download",cnt:1,cancel:s.UA.IE||s.UA.Edge?void 0:function(){C.length&&a.each(C,function(){s.request({data:{cmd:"abort",id:this},preventDefault:!0})}),C=[]}})},s.notifyDelay),A(o)),l?z(k.attr("href",j).attr("download",s.escape(t[d].name)).get(0)):s.UA.Mobile?setTimeout(function(){window.open(j)||(s.error("errPopup"),n&&cleaerTimeout(n),B())},100):v+='<iframe class="downloader" id="downloader-'+t[d].hash+'" style="display:none" src="'+j+'"></iframe>';k.remove(),a(v).appendTo("body").ready(function(){setTimeout(function(){a(v).each(function(){a("#"+a(this).attr("id")).remove()})},2e4+1e4*d)}),s.trigger("download",{files:t}),u.resolve()}),m=t.length,q=[],d=0;d<t.length;d++)s.openUrl(t[d].hash,!0,function(a){a&&q.push(a),--m<1&&p.resolve(q)});return u}},d.prototype.commands.duplicate=function(){var b=this.fm;this.getstate=function(c){var d=this.files(c),e=d.length;return e&&b.cwd().write&&a.grep(d,function(a){return!(!a.read||a.phash!==b.cwd().hash||b.isRoot(a))}).length==e?0:-1},this.exec=function(b){var c=this.fm,d=this.files(b),e=d.length,f=a.Deferred().fail(function(a){a&&c.error(a)});return e?(a.each(d,function(a,b){if(!b.read||!c.file(b.phash).write)return!f.reject(["errCopy",b.name,"errPerm"])}),"rejected"==f.state()?f:c.request({data:{cmd:"duplicate",targets:this.hashes(b)},notify:{type:"copy",cnt:e},navigate:{toast:{inbuffer:{msg:c.i18n(["complete",c.i18n("cmdduplicate")])}}}})):f.reject()}},d.prototype.commands.edit=function(){var b,c=this,d=this.fm,e=d.res("class","editing"),f=[],g=[],h=!1,i=function(a){return a.replace(/\s+$/,"")},j=function(b){var e,f=a('<select class="ui-corner-all"></select>');return b&&a.each(b,function(a,b){e=d.escape(b.value),f.append('<option value="'+e+'">'+(b.caption?d.escape(b.caption):e)+"</option>")}),a.each(c.options.encodings,function(a,b){f.append('<option value="'+b+'">'+b+"</option>")}),f},k=function(){var b,e,f=d.options.dialogContained?d.getUI():a(window);return e="string"==typeof c.options.dialogWidth&&(b=c.options.dialogWidth.match(/(\d+)%/))?parseInt(f.width()*(b[1]/100)):parseInt(c.options.dialogWidth||650),Math.min(e,f.width())},l=function(){if(c.options.dialogHeight){var b,e,f=d.options.dialogContained?d.getUI():a(window);return e="string"==typeof c.options.dialogHeight&&(b=c.options.dialogHeight.match(/(\d+)%/))?parseInt(f.height()*(b[1]/100)):parseInt(c.options.dialogHeight||f.height()),Math.min(e,f.height())}},m=function(b){var e,i,j,k=b.length;return k>1&&(e=b[0].mime,i=b[0].name.replace(/^.*(\.[^.]+)$/,"$1")),a.grep(b,function(b){var l;return!j&&"directory"!==b.mime&&(l=b.read&&(h||d.mimeIsText(b.mime)||-1!==a.inArray(b.mime,1===k?f:g))&&(!c.onlyMimes.length||-1!==a.inArray(b.mime,c.onlyMimes))&&(1===k||b.mime===e&&b.name.substr(-1*i.length)===i)&&!!d.uploadMimeCheck(b.mime,b.phash)&&s(b,k)&&Object.keys(q).length,l||(j=!0),l)})},n=function(a){var b,c=d.file(a);d.request({cmd:"info",targets:[a],preventDefault:!0}).done(function(a){var e;a&&a.files&&a.files.length&&(b=a.files[0],c.ts==b.ts&&c.size==b.size||(e={changed:[b]},d.updateCache(e),d.change(e)))})},o=function(b,f,g,h,m,o){var q,r,s,t,u,w,x=a.Deferred(),y=!1,z=function(){return!!y||(d.toast({mode:"warning",msg:d.i18n("nowLoading")}),!1)},A=function(){o&&Array.isArray(o)&&a.each(o,function(){this.msg&&d.toast(this)})},B=function(){var b,c,e,f=t?t.val():void 0,g=a.Deferred().fail(function(a){s.show().find("button.elfinder-btncnt-0,button.elfinder-btncnt-1").hide()});return z()?(q.editor&&(q.editor.save(q[0],q.editor.instance),b=q.editor.confObj,b.info&&(b.info.schemeContent||b.info.arrayBufferContent)&&(f="scheme")),c=I(),J(c),c.promise?(e=setTimeout(function(){d.notify({type:"chkcontent",cnt:1,hideCnt:!0,cancel:function(){c.reject()}})},100),c.always(function(){e&&clearTimeout(e),d.notify({type:"chkcontent",cnt:-1})}).done(function(a){x.notifyWith(q,[f,q.data("hash"),r,g])}).fail(function(a){g.reject(a)})):x.notifyWith(q,[f,q.data("hash"),r,g]),g):g.resolve()},C=function(){z()&&B().fail(function(a){a&&d.error(a)})},D=function(){q.elfinderdialog("close")},E=function(){z()&&(s.hide(),B().done(function(){y=!1,s.show(),D()}).fail(function(a){s.show(),a&&d.error(a)}))},F=function(){if(z()){var b=r,g=f.phash,h=function(a){l.addClass(e).fadeIn(function(){a&&d.error(a)}),r=b,d.disable()},i=function(){c.mime=M.mime||f.mime,c.prefix=(M.name||f.name).replace(/ \d+(\.[^.]+)?$/,"$1"),c.requestCmd="mkfile",c.nextAction={},c.data={target:g},a.proxy(d.res("mixin","make"),c)().done(function(a){
var b;a.added&&a.added.length?(b=q.data("hash"),q.data("hash",a.added[0].hash),B().done(function(){y=!1,s.show(),D(),l.fadeIn()}).fail(function(){d.exec("rm",[a.added[0].hash],{forceRm:!0,quiet:!0}),q.data("hash",b),s.find("button.elfinder-btncnt-2").hide(),h()})):h()}).progress(function(a){a&&"errUploadMime"===a&&q.trigger("saveAsFail")}).fail(h).always(function(){delete c.mime,delete c.prefix,delete c.nextAction,delete c.data}),d.trigger("unselectfiles",{files:[f.hash]})},j=null,k=null,l=d.getUI().children("."+c.dialogClass+":visible");s.is(":hidden")&&(l=l.add(s)),l.removeClass(e).fadeOut(),d.enable(),d.searchStatus.state<2&&g!==d.cwd().hash?j=d.exec("open",[g],{thash:g}):d.file(g)||(k=d.request({cmd:"info",targets:[g]})),a.when([j,k]).done(function(){k?d.one("infodone",function(){d.file(g)?i():h("errFolderNotFound")}):j?d.one("cwdrender",i):i()}).fail(h)}},G=function(){var b,c,e=a.Deferred();return y?(q.editor&&q.editor.save(q[0],q.editor.instance),b=I(),b&&b.promise?(c=setTimeout(function(){d.notify({type:"chkcontent",cnt:1,hideCnt:!0,cancel:function(){b.reject()}})},100),b.always(function(){c&&clearTimeout(c),d.notify({type:"chkcontent",cnt:-1})}).done(function(a){e.resolve(r!==a)}).fail(function(a){e.resolve(a||void 0!==r)})):e.resolve(r!==b),e):e.resolve(!1)},H={title:d.escape(f.name),width:k(),height:l(),buttons:{},cssClass:e,maxWidth:"window",maxHeight:"window",allowMinimize:!0,allowMaximize:!0,openMaximized:v()||m&&m.info&&m.info.openMaximized,btnHoverFocus:!1,closeOnEscape:!1,propagationEvents:["mousemove","mouseup","click"],minimize:function(){var a;q.editor&&s.closest(".ui-dialog").is(":hidden")&&(a=q.editor.confObj,a.info&&a.info.syncInterval&&n(f.hash))},close:function(){var a=function(){var a;x.resolve(),q.editor&&(q.editor.close(q[0],q.editor.instance),a=q.editor.confObj,a.info&&a.info.syncInterval&&n(f.hash)),q.elfinderdialog("destroy")},b=void 0!==M.name,e=b?{label:"btnSaveAs",callback:function(){requestAnimationFrame(F)}}:{label:"btnSaveClose",callback:function(){B().done(function(){a()})}};G().done(function(f){var g=["confirmNotSave"];f?("string"==typeof f&&g.unshift(f),d.confirm({title:c.title,text:g,accept:e,cancel:{label:"btnClose",callback:a},buttons:b?null:[{label:"btnSaveAs",callback:function(){requestAnimationFrame(F)}}]})):a()})},open:function(){var a,c,e;if(q.initEditArea.call(q,b,f,g,d),q.editor){if((a=q.editor.load(q[0])||null)&&a.done)a.always(function(){y=!0}).done(function(a){q.editor.instance=a,q.editor.focus(q[0],q.editor.instance),J(I()),requestAnimationFrame(function(){s.trigger("resize")})}).fail(function(a){a&&d.error(a),q.elfinderdialog("destroy")}).always(A);else{if(y=!0,a&&("string"==typeof a||Array.isArray(a)))return d.error(a),void q.elfinderdialog("destroy");q.editor.instance=a,q.editor.focus(q[0],q.editor.instance),J(I()),requestAnimationFrame(function(){s.trigger("resize")}),A()}c=q.editor.confObj,c.info&&c.info.syncInterval&&(e=parseInt(c.info.syncInterval))&&setTimeout(function(){K(e)},e)}else y=!0,J(I())},resize:function(a,b){q.editor&&q.editor.resize(q[0],q.editor.instance,a,b||{})}},I=function(){var b=q.getContent.call(q,q[0]);return void 0!==b&&!1!==b&&null!==b||(b=a.Deferred().reject()),b},J=function(a){a&&a.promise?a.done(function(a){r=a}):r=a},K=function(a){s.is(":visible")&&(n(f.hash),setTimeout(function(){K(a)},a))},L=function(){t&&G().done(function(a){a?t.attr("title",d.i18n("saveAsEncoding")).addClass("elfinder-edit-changed"):t.attr("title",d.i18n("openAsEncoding")).removeClass("elfinder-edit-changed")})},M={};if(m&&(m.html&&(q=a(m.html)),u={init:m.init||null,load:m.load,getContent:m.getContent||null,save:m.save,beforeclose:"function"==typeof m.beforeclose?m.beforeclose:void 0,close:"function"==typeof m.close?m.close:function(){},focus:"function"==typeof m.focus?m.focus:function(){},resize:"function"==typeof m.resize?m.resize:function(){},instance:null,doSave:C,doCancel:D,doClose:E,file:f,fm:d,confObj:m,trigger:function(a,b){d.trigger("editEditor"+a,Object.assign({},m.info||{},b))}}),!q){if(!d.mimeIsText(f.mime))return x.reject("errEditorNotFound");!function(){q=a('<textarea class="elfinder-file-edit" rows="20" id="'+b+'-ta"></textarea>').on("input propertychange",L),m&&m.info&&!m.info.useTextAreaEvent||q.on("keydown",function(b){var c,d,e=b.keyCode;b.stopPropagation(),e==a.ui.keyCode.TAB&&(b.preventDefault(),this.setSelectionRange&&(c=this.value,d=this.selectionStart,this.value=c.substr(0,d)+"\t"+c.substr(this.selectionEnd),d+=1,this.setSelectionRange(d,d))),(b.ctrlKey||b.metaKey)&&(e!="Q".charCodeAt(0)&&e!="W".charCodeAt(0)||(b.preventDefault(),D()),e=="S".charCodeAt(0)&&(b.preventDefault(),C()))}).on("mouseenter",function(){this.focus()}),q.initEditArea=function(a,b,c){q.hide().val(c),this._setupSelEncoding(c)}}()}return q._setupSelEncoding=function(b){var c=h&&"unknown"!==h?[{value:h}]:[],e=a("<select></select>").hide(),g=function(b){b&&e.appendTo(t.parent()),e.empty().append(a("<option></option>").text(t.val())),t.width(e.width())};""!==b&&h&&"UTF-8"===h||c.push({value:"UTF-8"}),t=j(c).on("touchstart",function(a){a.stopPropagation()}).on("change",function(){G().done(function(a){a||""===I()||(D(),p(f,t.val(),m).fail(function(a){a&&d.error(a)}))}),g()}).on("mouseover",L),q.parent().next().prepend(a('<div class="ui-dialog-buttonset elfinder-edit-extras"></div>').append(t)),g(!0)},q.data("hash",f.hash),u&&(q.editor=u,"function"==typeof u.beforeclose&&(H.beforeclose=function(){return u.beforeclose(q[0],u.instance)}),"function"==typeof u.init&&(q.initEditArea=u.init),"function"==typeof u.getContent&&(q.getContent=u.getContent)),q.initEditArea||(q.initEditArea=function(){}),q.getContent||(q.getContent=function(){return i(q.val())}),m&&m.info&&m.info.preventGet||(H.buttons[d.i18n("btnSave")]=C,H.buttons[d.i18n("btnSaveClose")]=E,H.buttons[d.i18n("btnSaveAs")]=F,H.buttons[d.i18n("btnCancel")]=D),m&&"function"==typeof m.prepare&&m.prepare(q,H,f),s=c.fmDialog(q,H).attr("id",b).on("keydown keyup keypress",function(a){a.stopPropagation()}).css({overflow:"hidden",minHeight:"7em"}).addClass("elfinder-edit-editor").closest(".ui-dialog").on("changeType",function(b,c){if(c.extention&&c.mime){var e=(c.extention,c.mime,a(this).children(".ui-dialog-buttonpane").children(".ui-dialog-buttonset"));e.children(".elfinder-btncnt-0,.elfinder-btncnt-1").hide(),M.name=d.splitFileExtention(f.name)[0]+"."+c.extention,M.mime=c.mime,c.keepEditor||e.children(".elfinder-btncnt-2").trigger("click")}}),w=(d.options.dialogContained?d.getUI():a(window)).width(),s.width()>w&&s.width(w),x.promise()},p=function(b,e,f){var g,h,i,k=b.hash,l=(d.options,a.Deferred()),m="edit-"+d.namespace+"-"+b.hash,n=d.getUI().find("#"+m),q=e||0,r=!1;if(n.length)return n.elfinderdialog("toTop"),l.resolve();if(!b.read||!(b.write||f.info&&f.info.converter))return h=["errOpen",b.name,"errPerm"],l.reject(h);if(f&&f.info){if("function"==typeof f.info.edit)return i=f.info.edit.call(d,b,f),i.promise?i.done(function(){l.resolve()}).fail(function(a){l.reject(a)}):i?l.resolve():l.reject(),l;r=f.info.preventGet||f.info.noContent,f.info.urlAsContent||r?(g=a.Deferred(),f.info.urlAsContent?d.url(k,{async:!0,onetime:!0,temporary:!0}).done(function(a){g.resolve({content:a})}):g.resolve({})):(q&&(b.encoding=q,d.cache(b,"change")),g=d.request({data:{cmd:"get",target:k,conv:q,_t:b.ts},options:{type:"get",cache:!0},notify:{type:"file",cnt:1},preventDefault:!0})),g.done(function(e){var g,h,i;e.doconv?d.confirm({title:c.title,text:"unknown"===e.doconv?"confirmNonUTF8":"confirmConvUTF8",accept:{label:"btnConv",callback:function(){l=p(b,g.val(),f)}},cancel:{label:"btnCancel",callback:function(){l.reject()}},optionsCallback:function(b){b.create=function(){var b=a('<div class="elfinder-dialog-confirm-encoding"></div>'),c={value:e.doconv};"unknown"===e.doconv&&(c.caption="-"),g=j([c]),a(this).next().find(".ui-dialog-buttonset").prepend(b.append(a("<label>"+d.i18n("encoding")+" </label>").append(g)))}}}):(!r&&d.mimeIsText(b.mime)&&(h=new RegExp("^(data:"+b.mime.replace(/([.+])/g,"\\$1")+";base64,)","i"),f.info.dataScheme?window.btoa&&!e.content.match(h)&&(e.content="data:"+b.mime+";base64,"+btoa(e.content)):window.atob&&(i=e.content.match(h))&&(e.content=atob(e.content.substr(i[1].length)))),o(m,b,e.content,e.encoding,f,e.toasts).done(function(a){l.resolve(a)}).progress(function(a,b,c,e){var f=this;b&&(k=b),d.request({options:{type:"post"},data:{cmd:"put",target:k,encoding:a||c.encoding,content:c},notify:{type:"save",cnt:1},syncOnFail:!0,preventFail:!0,navigate:{target:"changed",toast:{inbuffer:{msg:d.i18n(["complete",d.i18n("btnSave")])}}}}).fail(function(a){l.reject(a),e.reject()}).done(function(a){requestAnimationFrame(function(){f.trigger("focus"),f.editor&&f.editor.focus(f[0],f.editor.instance)}),e.resolve()})}).fail(function(a){l.reject(a)}))}).fail(function(a){var c=d.parseError(a);c=Array.isArray(c)?c[0]:c,b.encoding&&(b.encoding="",d.cache(b,"change")),"errConvUTF8"!==c&&d.sync(),l.reject(a)})}return l.promise()},q={},r={info:{id:"textarea",name:"TextArea",useTextAreaEvent:!0},load:function(b){this.trigger("Prepare",{node:b,editorObj:void 0,instance:void 0,opts:{}}),b.setSelectionRange&&b.setSelectionRange(0,0),a(b).trigger("focus").show()},save:function(){}},s=function(e,f){var g=function(b,c){if(c){if("*"===c[0]||-1!==a.inArray(b,c))return!0;var e,f;for(f=c.length,e=0;e<f;e++)if(0===b.indexOf(c[e]))return!0;return!1}return d.mimeIsText(b)},h=function(a,b){if(!b||!b.length)return!0;var c,d,e=a.replace(/^.+\.([^.]+)|(.+)$/,"$1$2").toLowerCase();for(d=b.length,c=0;c<d;c++)if(e===b[c].toLowerCase())return!0;return!1},i=c.options.editors||[],j=d.cwd().write;return b=d.storage("storedEditors")||{},q={},i.length||(i=[r]),a.each(i,function(a,b){var c;(1===f||!b.info.single)&&(b.info&&b.info.converter?j:e.write)&&(e.size>0||!b.info.converter&&!1!==b.info.canMakeEmpty&&d.mimesCanMakeEmpty[e.mime])&&(!b.info.maxSize||e.size<=b.info.maxSize)&&g(e.mime,b.mimes||null)&&h(e.name,b.exts||null)&&"function"==typeof b.load&&"function"==typeof b.save&&(c=b.info.name?b.info.name:"Editor "+a,b.id=b.info.id?b.info.id:"editor"+a,b.name=c,b.i18n=d.i18n(c),q[b.id]=b)}),!!Object.keys(q).length},t=function(c,e){c&&e&&(a.isPlainObject(b)||(b={}),b[c]=e.id,d.storage("storedEditors",b),d.trigger("selectfiles",{files:d.selected()}))},u=function(){var a=d.storage("useStoredEditor");return a?a>0:c.options.useStoredEditor},v=function(){var a=d.storage("editorMaximized");return a?a>0:c.options.editorMaximized},w=function(b,c){var e=[];return a.each(q,function(a,f){e.push({label:d.escape(f.i18n),icon:f.info&&f.info.icon?f.info.icon:"edit",options:{iconImg:f.info&&f.info.iconImg?d.baseUrl+f.info.iconImg:void 0},callback:function(){t(b[0].mime,f),c&&c.call(f)}})}),e},x=function(a){return a.toLowerCase().replace(/ +/g,"")},y=function(a){var c=b[a];return c&&Object.keys(q).length?q[x(c)]:void 0};this.getEncSelect=j,this.shortcuts=[{pattern:"ctrl+e"}],this.init=function(){var b,c,d=this,e=this.fm,i=this.options,j=[];this.onlyMimes=this.options.mimes||[],e.one("open",function(){i.editors&&Array.isArray(i.editors)&&(e.trigger("canMakeEmptyFile",{mimes:Object.keys(e.storage("mkfileTextMimes")||{}).concat(i.makeTextMimes||["text/plain"])}),a.each(i.editors,function(a,b){b.info&&b.info.cmdCheck&&j.push(b.info.cmdCheck)}),j.length?e.api>=2.103?c=e.request({data:{cmd:"editor",name:j,method:"enabled"},preventDefault:!0}).done(function(a){b=a}).fail(function(){b={}}):(b={},c=a.Deferred().resolve()):c=a.Deferred().resolve(),c.always(function(){b&&(i.editors=a.grep(i.editors,function(a){return!a.info||!a.info.cmdCheck||!!b[a.info.cmdCheck]})),a.each(i.editors,function(a,b){b.setup&&"function"==typeof b.setup&&b.setup.call(b,i,e),b.disabled||(b.mimes&&Array.isArray(b.mimes)&&(f=f.concat(b.mimes),b.info&&b.info.single||(g=g.concat(b.mimes))),!h&&b.mimes&&"*"===b.mimes[0]&&(h=!0),b.info||(b.info={}),b.info.integrate&&e.trigger("helpIntegration",Object.assign({cmd:"edit"},b.info.integrate)),b.info.canMakeEmpty&&e.trigger("canMakeEmptyFile",{mimes:Array.isArray(b.info.canMakeEmpty)?b.info.canMakeEmpty:b.mimes}))}),f=(a.uniqueSort||a.unique)(f),g=(a.uniqueSort||a.unique)(g),i.editors=a.grep(i.editors,function(a){return!a.disabled})}))}).bind("select",function(){q=null}).bind("contextmenucreate",function(b){var c,f,g=function(a){var b=d.title;e.one("contextmenucreatedone",function(){d.title=b}),d.title=e.escape(a.i18n),a.info&&a.info.iconImg&&(d.contextmenuOpts={iconImg:e.baseUrl+a.info.iconImg}),delete d.variants};d.contextmenuOpts=void 0,"files"===b.data.type&&d.enabled()&&(c=e.file(b.data.targets[0]),s(c,b.data.targets.length)&&(Object.keys(q).length>1?u()&&(f=y(c.mime))?(g(f),d.extra={icon:"menu",node:a("<span></span>").attr({title:e.i18n("select")}).on("click touchstart",function(b){if(!("touchstart"===b.type&&b.originalEvent.touches.length>1)){var c=a(this);b.stopPropagation(),b.preventDefault(),e.trigger("contextmenu",{raw:w(e.selectedFiles(),function(){var a=e.selected();e.exec("edit",a,{editor:this}),e.trigger("selectfiles",{files:a})}),x:c.offset().left,y:c.offset().top})}})}):(delete d.extra,d.variants=[],a.each(q,function(a,b){d.variants.push([{editor:b},b.i18n,b.info&&b.info.iconImg?e.baseUrl+b.info.iconImg:"edit"])})):(g(q[Object.keys(q)[0]]),delete d.extra)))}).bind("canMakeEmptyFile",function(b){if(b.data&&b.data.resetTexts){var c=e.arrayFlip(d.options.makeTextMimes||["text/plain"]),f=d.getMkfileHides();a.each(e.storage("mkfileTextMimes")||{},function(a,b){c[a]||(delete e.mimesCanMakeEmpty[a],delete f[a])}),e.storage("mkfileTextMimes",null),Object.keys(f).length?e.storage("mkfileHides",f):e.storage("mkfileHides",null)}})},this.getstate=function(a){var b=this.files(a),c=b.length;return c&&m(b).length==c?0:-1},this.exec=function(b,c){var d,e=this.fm,f=m(this.files(b)),g=a.map(f,function(a){return a.hash}),h=[],i=c&&c.editor?c.editor:null,j=a(c&&c._currentNode?c._currentNode:e.cwdHash2Elm(g[0])),k=function(){var b=a.Deferred();return!i&&Object.keys(q).length>1?u()&&(i=y(f[0].mime))?b.resolve(i):(e.trigger("contextmenu",{raw:w(f,function(){b.resolve(this)}),x:j.offset().left,y:j.offset().top+22,opened:function(){e.one("closecontextmenu",function(){requestAnimationFrame(function(){"pending"===b.state()&&b.reject()})})}}),e.trigger("selectfiles",{files:g}),b):(Object.keys(q).length>1&&i&&t(f[0].mime,i),b.resolve(i||(Object.keys(q).length?q[Object.keys(q)[0]]:null)))},l=a.Deferred();return null===q&&s(f[0],g.length),j.length||(j=e.getUI("cwd")),k().done(function(b){for(;d=f.shift();)h.push(p(d,d.encoding||void 0,b).fail(function(a){a&&e.error(a)}));h.length?a.when.apply(null,h).done(function(){l.resolve()}).fail(function(){l.reject()}):l.reject()}).fail(function(){l.reject()}),l},this.getMkfileHides=function(){return d.storage("mkfileHides")||d.arrayFlip(c.options.mkfileHideMimes||[])}},d.prototype.commands.empty=function(){var b,c,d=function(a){var d=b.files(a);return d.length||(d=[c.cwd()]),d};this.linkedCmds=["rm"],this.init=function(){b=this,c=this.fm},this.getstate=function(b){var c,e=d(b);return c=e.length,a.grep(e,function(a){return!(!a.read||!a.write||"directory"!==a.mime)}).length==c?0:-1},this.exec=function(b){var e=d(b),f=e.length,g=a.Deferred().done(function(){var b={changed:{}};c.toast({msg:c.i18n(['"'+h.join('", ')+'"',"complete",c.i18n("cmdempty")])}),a.each(e,function(a,c){b.changed[c.hash]=c}),c.change(b)}).always(function(){var b=c.cwd().hash;c.trigger("selectfiles",{files:a.map(e,function(a){return b===a.phash?a.hash:null})})}),h=[],i=function(a){"number"==typeof a?(h.push(e[a].name),delete e[a].dirs):a&&c.error(a),--f<1&&g[h.length?"resolve":"reject"]()};return a.each(e,function(b,d){var e;return d.write&&"directory"===d.mime?c.isCommandEnabled("rm",d.hash)?(e=setTimeout(function(){c.notify({type:"search",cnt:1,hideCnt:!(f>1)})},c.notifyDelay),void c.request({data:{cmd:"open",target:d.hash},preventDefault:!0,asNotOpen:!0}).done(function(g){var h=[];e&&clearTimeout(e),c.ui.notify.children(".elfinder-notify-search").length&&c.notify({type:"search",cnt:-1,hideCnt:!(f>1)}),g&&g.files&&g.files.length?g.files.length>c.maxTargets?i(["errEmpty",d.name,"errMaxTargets",c.maxTargets]):(c.updateCache(g),a.each(g.files,function(a,b){return!b.write||b.locked?(i(["errEmpty",d.name,"errRm",b.name,"errPerm"]),h=[],!1):void h.push(b.hash)}),h.length&&c.exec("rm",h,{_userAction:!0,addTexts:[c.i18n("folderToEmpty",d.name)]}).fail(function(a){c.trigger("unselectfiles",{files:c.selected()}),i(c.parseError(a)||"")}).done(function(){i(b)})):(c.toast({mode:"warning",msg:c.i18n("filderIsEmpty",d.name)}),i(""))}).fail(function(a){i(c.parseError(a)||"")})):(i(["errCmdNoSupport",'"rm"']),null):(i(["errEmpty",d.name,"errPerm"]),null)}),g}},d.prototype.commands.extract=function(){var b=this,c=b.fm,d=[],e=function(b){return a.grep(b,function(b){return!(!b.read||-1===a.inArray(b.mime,d))})};this.variants=[],this.disableOnSearch=!0,c.bind("open reload",function(){d=c.option("archivers").extract||[],c.api>2?b.variants=[[{makedir:!0},c.i18n("cmdmkdir")],[{},c.i18n("btnCwd")]]:b.variants=[[{},c.i18n("btnCwd")]],b.change()}),this.getstate=function(a){var b=this.files(a),c=b.length;return c&&this.fm.cwd().write&&e(b).length==c?0:-1},this.exec=function(b,e){var f,g,h,i=this.files(b),j=a.Deferred(),k=i.length,l=e&&e.makedir?1:0,m=!1,n=!1,o=0,p=a.map(c.files(b),function(a){return a.name}),q={};a.grep(c.files(b),function(a){return q[a.name]=a,!1});var r=function(a){switch(a){case"overwrite_all":m=!0;break;case"omit_all":n=!0}},s=function(b){b.read&&c.file(b.phash).write?-1===a.inArray(b.mime,d)?(g=["errExtract",b.name,"errNoArchive"],c.error(g),j.reject(g)):c.request({data:{cmd:"extract",target:b.hash,makedir:l},notify:{type:"extract",cnt:1},syncOnFail:!0,navigate:{toast:l?{incwd:{msg:c.i18n(["complete",c.i18n("cmdextract")]),action:{cmd:"open",msg:"cmdopen"}},inbuffer:{msg:c.i18n(["complete",c.i18n("cmdextract")]),action:{cmd:"open",msg:"cmdopen"}}}:{inbuffer:{msg:c.i18n(["complete",c.i18n("cmdextract")])}}}}).fail(function(a){"rejected"!=j.state()&&j.reject(a)}).done(function(){}):(g=["errExtract",b.name,"errPerm"],c.error(g),j.reject(g))},t=function(b,d){var e=b[d],g=c.splitFileExtention(e.name)[0],i=a.inArray(g,p)>=0,u=function(){d+1<k?t(b,d+1):j.resolve()};!l&&i&&"directory"!=q[g].mime?c.confirm({title:c.i18n("ntfextract"),text:["errExists",g,"confirmRepl"],accept:{label:"btnYes",callback:function(a){if(h=a?"overwrite_all":"overwrite",r(h),m||n){if(m){for(f=d;f<k;f++)s(b[f]);j.resolve()}}else"overwrite"==h&&s(e),d+1<k?t(b,d+1):j.resolve()}},reject:{label:"btnNo",callback:function(a){h=a?"omit_all":"omit",r(h),!m&&!n&&d+1<k?t(b,d+1):n&&j.resolve()}},cancel:{label:"btnCancel",callback:function(){j.resolve()}},all:d+1<k}):l?(s(e),u()):0==o?c.confirm({title:c.i18n("cmdextract"),text:[c.i18n("cmdextract")+' "'+e.name+'"',"confirmRepl"],accept:{label:"btnYes",callback:function(a){a&&(o=1),s(e),u()}},reject:{label:"btnNo",callback:function(a){a&&(o=-1),u()}},cancel:{label:"btnCancel",callback:function(){j.resolve()}},all:d+1<k}):(o>0&&s(e),u())};return this.enabled()&&k&&d.length?(k>0&&t(i,0),j):j.reject()}},(d.prototype.commands.forward=function(){this.alwaysEnabled=!0,this.updateOnSelect=!0,this.shortcuts=[{pattern:"ctrl+right"}],this.getstate=function(){return this.fm.history.canForward()?0:-1},this.exec=function(){return this.fm.history.forward()}}).prototype={forceLoad:!0},d.prototype.commands.fullscreen=function(){var b=this,c=this.fm,d=function(a,c){a.preventDefault(),a.stopPropagation(),c&&c.fullscreen&&b.update(void 0,"on"===c.fullscreen)};this.alwaysEnabled=!0,this.updateOnSelect=!1,this.syncTitleOnChange=!0,this.value=!1,this.options={ui:"fullscreenbutton"},this.getstate=function(){return 0},this.exec=function(){var d=c.getUI().get(0),e=d===c.toggleFullscreen(d);return b.title=c.i18n(e?"reinstate":"cmdfullscreen"),b.update(void 0,e),a.Deferred().resolve()},c.bind("init",function(){c.getUI().off("resize."+c.namespace,d).on("resize."+c.namespace,d)})},(d.prototype.commands.getfile=function(){var b=this,c=this.fm,d=function(c){var d=b.options;return c=a.grep(c,function(a){return!("directory"==a.mime&&!d.folders||!a.read)}),d.multiple||1==c.length?c:[]};this.alwaysEnabled=!0,this.callback=c.options.getFileCallback,this._disabled="function"==typeof this.callback,this.getstate=function(a){var b=this.files(a),c=b.length;return this.callback&&c&&d(b).length==c?0:-1},this.exec=function(c){var d,e,f,g=this.fm,h=this.options,i=this.files(c),j=i.length,k=g.option("url"),l=g.option("tmbUrl"),m=a.Deferred().done(function(a){var c,d=function(){"close"==h.oncomplete?g.hide():"destroy"==h.oncomplete&&g.destroy()},e=function(a){"close"==h.onerror?g.hide():"destroy"==h.onerror?g.destroy():a&&g.error(a)};g.trigger("getfile",{files:a});try{c=b.callback(a,g)}catch(f){return void e(["Error in `getFileCallback`.",f.message])}"object"==typeof c&&"function"==typeof c.done?c.done(d).fail(e):d()}),n=function(b){return h.onlyURL?h.multiple?a.map(i,function(a){return a.url}):i[0].url:h.multiple?i:i[0]},o=[];for(d=0;d<j;d++){if(e=i[d],"directory"==e.mime&&!h.folders)return m.reject();e.baseUrl=k,"1"==e.url?o.push(g.request({data:{cmd:"url",target:e.hash},notify:{type:"url",cnt:1,hideCnt:!0},preventDefault:!0}).done(function(a){if(a.url){g.file(this.hash).url=this.url=a.url}}.bind(e))):e.url=g.url(e.hash),h.onlyURL||(h.getPath&&(e.path=g.path(e.hash),""===e.path&&e.phash&&function(){var b=a.Deferred();o.push(b),g.path(e.hash,!1,{}).done(function(a){e.path=a}).fail(function(){e.path=""}).always(function(){b.resolve()})}()),e.tmb&&1!=e.tmb&&(e.tmb=l+e.tmb),e.width||e.height||(e.dim?(f=e.dim.split("x"),e.width=f[0],e.height=f[1]):h.getImgSize&&-1!==e.mime.indexOf("image")&&o.push(g.request({data:{cmd:"dim",target:e.hash},notify:{type:"dim",cnt:1,hideCnt:!0},preventDefault:!0}).done(function(a){if(a.dim){var b=a.dim.split("x"),c=g.file(this.hash);c.width=this.width=b[0],c.height=this.height=b[1]}}.bind(e)))))}return o.length?(a.when.apply(null,o).always(function(){m.resolve(n(i))}),m):m.resolve(n(i))}}).prototype={forceLoad:!0},(d.prototype.commands.help=function(){var b,c,d,e,f,g,h=this.fm,i=this,j='<div class="elfinder-help-link"> <a href="{url}" target="_blank">{link}</a></div>',k='<div class="elfinder-help-team"><div>{author}</div>{work}</div>',l=/\{url\}/,m=/\{link\}/,n=/\{author\}/,o=/\{work\}/,p="replace",q="ui-priority-primary",r="ui-priority-secondary",s="elfinder-help-license",t='<li class="'+h.res("class","tabstab")+' elfinder-help-tab-{id}"><a href="#'+h.namespace+'-help-{id}" class="ui-tabs-anchor">{title}</a></li>',u=['<div class="ui-tabs ui-widget ui-widget-content ui-corner-all elfinder-help">','<ul class="ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-top">'],v='<div class="elfinder-help-shortcut"><div class="elfinder-help-shortcut-pattern">{pattern}</div> {descrip}</div>',w='<div class="elfinder-help-separator"></div>',x=a("base").length?document.location.href.replace(/#.*$/,""):"",y=h.res("class","tabsactive"),z=function(){return h.theme&&h.theme.author?k[p]("elfinder-help-team","elfinder-help-team elfinder-help-term-theme")[p](n,h.i18n(h.theme.author)+(h.theme.email?" &lt;"+h.theme.email+"&gt;":""))[p](o,h.i18n("theme")+" ("+h.i18n(h.theme.name)+")"):'<div class="elfinder-help-team elfinder-help-term-theme" style="display:none"></div>'},A=function(){u.push('<div id="'+h.namespace+'-help-about" class="ui-tabs-panel ui-widget-content ui-corner-bottom"><div class="elfinder-help-logo"></div>'),u.push("<h3>elFinder</h3>"),u.push('<div class="'+q+'">'+h.i18n("webfm")+"</div>"),u.push('<div class="'+r+'">'+h.i18n("ver")+": "+h.version+"</div>"),u.push('<div class="'+r+'">'+h.i18n("protocolver")+': <span class="apiver"></span></div>'),u.push('<div class="'+r+'">jQuery/jQuery UI: '+a().jquery+"/"+a.ui.version+"</div>"),u.push(w),u.push(j[p](l,"https://studio-42.github.io/elFinder/")[p](m,h.i18n("homepage"))),u.push(j[p](l,"https://github.com/Studio-42/elFinder/wiki")[p](m,h.i18n("docs"))),u.push(j[p](l,"https://github.com/Studio-42/elFinder")[p](m,h.i18n("github"))),u.push(w),u.push('<div class="'+q+'">'+h.i18n("team")+"</div>"),u.push(k[p](n,'Dmitry "dio" Levashov &lt;dio@std42.ru&gt;')[p](o,h.i18n("chiefdev"))),u.push(k[p](n,"Naoki Sawada &lt;hypweb+elfinder@gmail.com&gt;")[p](o,h.i18n("developer"))),u.push(k[p](n,"Troex Nevelin &lt;troex@fury.scancode.ru&gt;")[p](o,h.i18n("maintainer"))),u.push(k[p](n,"Alexey Sukhotin &lt;strogg@yandex.ru&gt;")[p](o,h.i18n("contributor"))),h.i18[h.lang].translator&&a.each(h.i18[h.lang].translator.split(", "),function(){u.push(k[p](n,a.trim(this))[p](o,h.i18n("translator")+" ("+h.i18[h.lang].language+")"))}),u.push(z()),u.push(w),u.push('<div class="'+s+'">'+h.i18n("icons")+': Pixelmixer, <a href="http://p.yusukekamiyamane.com" target="_blank">Fugue</a>, <a href="https://icons8.com" target="_blank">Icons8</a></div>'),u.push(w),u.push('<div class="'+s+'">Licence: 3-clauses BSD Licence</div>'),u.push('<div class="'+s+'">Copyright © 2009-2020, Studio 42</div>'),u.push('<div class="'+s+'">„ …'+h.i18n("dontforget")+" ”</div>"),u.push("</div>")},B=function(){var b=h.shortcuts();u.push('<div id="'+h.namespace+'-help-shortcuts" class="ui-tabs-panel ui-widget-content ui-corner-bottom">'),b.length?(u.push('<div class="ui-widget-content elfinder-help-shortcuts">'),a.each(b,function(a,b){u.push(v.replace(/\{pattern\}/,b[0]).replace(/\{descrip\}/,b[1]))}),u.push("</div>")):u.push('<div class="elfinder-help-disabled">'+h.i18n("shortcutsof")+"</div>"),u.push("</div>")},C=function(){u.push('<div id="'+h.namespace+'-help-help" class="ui-tabs-panel ui-widget-content ui-corner-bottom">'),u.push('<a href="https://github.com/Studio-42/elFinder/wiki" target="_blank" class="elfinder-dont-panic"><span>DON\'T PANIC</span></a>'),u.push("</div>")},D=!1,E=function(){D=!0,u.push('<div id="'+h.namespace+'-help-integrations" class="ui-tabs-panel ui-widget-content ui-corner-bottom"></div>')},F=!1,G=function(){F=!0,u.push('<div id="'+h.namespace+'-help-debug" class="ui-tabs-panel ui-widget-content ui-corner-bottom">'),u.push('<div class="ui-widget-content elfinder-help-debug"><ul></ul></div>'),u.push("</div>")},H=function(){var c,d,e,j,k,l,m=function(b,c){return a.each(c,function(c,d){b.append(a("<dt></dt>").text(c)),void 0===d?b.append(a("<dd></dd>").append(a("<span></span>").text("undfined"))):"object"!=typeof d||d?"object"==typeof d&&(a.isPlainObject(d)||d.length)?b.append(a("<dd></dd>").append(m(a("<dl></dl>"),d))):b.append(a("<dd></dd>").append(a("<span></span>").text(d&&"object"==typeof d?"[]":d||'""'))):b.append(a("<dd></dd>").append(a("<span></span>").text("null")))}),b},n=g.children("li").length;(i.debug.options||i.debug.debug)&&(n>=5&&(k=g.children("li:last"),l=f.children("div:last"),l.is(":hidden")?(k.remove(),l.remove()):(k.prev().remove(),l.prev().remove())),e=h.namespace+"-help-debug-"+ +new Date,c=a("<li></li>").html('<a href="'+x+"#"+e+'">'+i.debug.debug.cmd+"</a>").prependTo(g),d=a('<div id="'+e+'"></div>').data("debug",i.debug),c.on("click.debugrender",function(){var b=d.data("debug");d.removeData("debug"),b&&(d.hide(),b.debug&&(j=a("<fieldset>").append(a("<legend></legend>").text("debug"),m(a("<dl></dl>"),b.debug)),d.append(j)),b.options&&(j=a("<fieldset>").append(a("<legend></legend>").text("options"),m(a("<dl></dl>"),b.options)),d.append(j)),d.show()),c.off("click.debugrender")}),g.after(d),b&&f.tabs("refresh"))},I="";this.alwaysEnabled=!0,this.updateOnSelect=!1,this.state=-1,this.shortcuts=[{pattern:"f1",description:this.title}],h.bind("load",function(){var j,k,l,m,n,o,q=i.options.view||["about","shortcuts","help","integrations","debug"];-1!==(j=a.inArray("preference",q))&&q.splice(j,1),a.fn.tabs||-1!==(j=a.inArray(q,"debug"))&&q.splice(j,1),a.each(q,function(a,b){u.push(t[p](/\{id\}/g,b)[p](/\{title\}/,h.i18n(b)))}),u.push("</ul>"),-1!==a.inArray("about",q)&&A(),-1!==a.inArray("shortcuts",q)&&B(),-1!==a.inArray("help",q)&&(k=h.i18nBaseUrl+"help/%s.html.js",C()),-1!==a.inArray("integrations",q)&&E(),-1!==a.inArray("debug",q)&&G(),u.push("</div>"),I=a(u.join("")),I.find(".ui-tabs-nav li").on("mouseenter mouseleave",function(b){a(this).toggleClass("ui-state-hover","mouseenter"===b.type)}).on("focus blur","a",function(b){a(b.delegateTarget).toggleClass("ui-state-focus","focusin"===b.type)}).children().on("click",function(b){var c=a(this);b.preventDefault(),b.stopPropagation(),c.parent().addClass(y).siblings().removeClass(y),I.children(".ui-tabs-panel").hide().filter(c.attr("href")).show()}).filter(":first").trigger("click"),D&&(c=I.find(".elfinder-help-tab-integrations").hide(),d=I.find("#"+h.namespace+"-help-integrations").hide().append(a('<div class="elfinder-help-integrations-desc"></div>').html(h.i18n("integrationWith"))),h.bind("helpIntegration",function(b){var e,f,g,i,j=d.children("ul:first");b.data&&(a.isPlainObject(b.data)?(e=Object.assign({link:"",title:"",banner:""},b.data),(e.title||e.link)&&(e.title||(e.title=e.link),f=e.link?a("<a></a>").attr("href",e.link).attr("target","_blank").text(e.title):a("<span></span>").text(e.title),e.banner&&(f=a("<span></span>").append(a("<img/>").attr(e.banner),f)))):(f=a(b.data),f.filter("a").each(function(){var b=a(this);b.attr("target")||b.attr("target","_blank")})),f&&(c.show(),j.length||(j=a('<ul class="elfinder-help-integrations"></ul>').appendTo(d)),e&&e.cmd?(i="elfinder-help-integration-"+e.cmd,g=j.find("ul."+i),g.length||(g=a('<ul class="'+i+'"></ul>'),j.append(a("<li></li>").append(a("<span></span>").html(h.i18n("cmd"+e.cmd))).append(g))),f=g.append(a("<li></li>").append(f))):j.append(a("<li></li>").append(f))))}).bind("themechange",function(){I.find("div.elfinder-help-term-theme").replaceWith(z())})),F&&(e=I.find(".elfinder-help-tab-debug").hide(),f=I.find("#"+h.namespace+"-help-debug").children("div:first"),g=f.children("ul:first").on("click",function(a){a.preventDefault(),a.stopPropagation()}),i.debug={},h.bind("backenddebug",function(a){F&&a.data&&a.data.debug&&(i.debug={options:a.data.options,debug:Object.assign({cmd:h.currentReqCmd},a.data.debug)},i.dialog&&H())})),I.find("#"+h.namespace+"-help-about").find(".apiver").text(h.api),i.dialog=i.fmDialog(I,{title:i.title,width:530,maxWidth:"window",maxHeight:"window",autoOpen:!1,destroyOnClose:!1,close:function(){F&&(e.hide(),f.tabs("destroy")),b=!1}}).on("click",function(a){a.stopPropagation()}).css({overflow:"hidden"}),l=i.dialog.children(".ui-tabs"),m=l.children(".ui-tabs-nav:first"),n=l.children(".ui-tabs-panel"),o=i.dialog.outerHeight(!0)-i.dialog.height(),i.dialog.closest(".ui-dialog").on("resize",function(){n.height(i.dialog.height()-o-m.outerHeight(!0)-20)}),k&&i.dialog.one("initContents",function(){a.ajax({url:i.options.helpSource?i.options.helpSource:k.replace("%s",h.lang),dataType:"html"}).done(function(b){a("#"+h.namespace+"-help-help").html(b)}).fail(function(){a.ajax({url:k.replace("%s","en"),dataType:"html"}).done(function(b){a("#"+h.namespace+"-help-help").html(b)})})}),i.state=0,h.trigger("helpBuilded",i.dialog)}).one("open",function(){var a=!1;h.one("backenddebug",function(){a=!0}).one("opendone",function(){requestAnimationFrame(function(){!a&&F&&(F=!1,e.hide(),f.hide(),g.hide())})})}),this.getstate=function(){return 0},this.exec=function(c,d){var h=d?d.tab:void 0;return function(){F&&(f.tabs(),g.find("a:first").trigger("click"),e.show(),b=!0)}(),this.dialog.trigger("initContents").elfinderdialog("open").find((h?".elfinder-help-tab-"+h:".ui-tabs-nav li")+" a:first").trigger("click"),a.Deferred().resolve()}}).prototype={forceLoad:!0},d.prototype.commands.hidden=function(){this.hidden=!0,this.updateOnSelect=!1,this.getstate=function(){return-1}},d.prototype.commands.hide=function(){var b,c,d,e,f=this,g={};this.syncTitleOnChange=!0,this.shortcuts=[{pattern:"ctrl+shift+dot",description:this.fm.i18n("toggleHidden")}],this.init=function(){var a=this.fm;b=a.storage("hide")||{items:{}},c=Object.keys(b.items).length,this.title=a.i18n(b.show?"hideHidden":"showHidden"),f.update(void 0,f.title)},
this.fm.bind("select contextmenucreate closecontextmenu",function(a,g){var h=(a.data?a.data.selected||a.data.targets:null)||g.selected();"select"===a.type&&a.data?e=a.data.origin:"contextmenucreate"===a.type&&(d=a.data.type),!h.length||("contextmenucreate"!==a.type&&"navbar"!==e||"cwd"===d)&&h[0]===g.cwd().hash?f.title=g.i18n(b.show?"hideHidden":"showHidden"):f.title=g.i18n("cmdhide"),"closecontextmenu"!==a.type?f.update("cwd"===d?c?0:-1:void 0,f.title):(d="",requestAnimationFrame(function(){f.update(void 0,f.title)}))}),this.getstate=function(a){return this.fm.cookieEnabled&&"cwd"!==d&&(a||this.fm.selected()).length||c?0:-1},this.exec=function(d,h){var i,j,k=this.fm,l=a.Deferred().done(function(){k.trigger("hide",{items:n,opts:h})}).fail(function(a){k.error(a)}),m=h||{},n=m.targets?m.targets:d||k.selected(),o=[];if(b=k.storage("hide")||{},a.isPlainObject(b)||(b={}),a.isPlainObject(b.items)||(b.items={}),("shortcut"===h._currentType||!n.length||"navbar"!==h._currentType&&"navbar"!==e&&n[0]===k.cwd().hash)&&(b.show?m.hide=!0:Object.keys(b.items).length&&(m.show=!0)),m.reset&&(m.show=!0,c=0),m.show||m.hide){if(m.show?b.show=!0:delete b.show,m.show)return k.storage("hide",m.reset?null:b),f.title=k.i18n("hideHidden"),f.update(m.reset?-1:void 0,f.title),a.each(b.items,function(a){var b=k.file(a,!0);b&&(k.searchStatus.state||!b.phash||k.file(b.phash))&&o.push(b)}),o.length&&(k.updateCache({added:o}),k.add({added:o})),m.reset&&(b={items:{}}),l.resolve();n=Object.keys(b.items)}return n.length&&(a.each(n,function(a,c){var d;b.items[c]||(d=k.file(c),d&&(g[c]=d.i18||d.name),b.items[c]=g[c]?g[c]:c)}),c=Object.keys(b.items).length,i=this.files(n),k.storage("hide",b),k.remove({removed:n}),b.show&&this.exec(void 0,{hide:!0}),m.hide||(j={},j.undo={cmd:"hide",callback:function(){var b=k.storage("hide");b&&(a.each(n,function(a,c){delete b.items[c]}),c=Object.keys(b.items).length,k.storage("hide",b),k.trigger("hide",{items:n,opts:{}}),f.update(c?0:-1)),k.updateCache({added:i}),k.add({added:i})}},j.redo={cmd:"hide",callback:function(){return k.exec("hide",void 0,{targets:n})}})),"rejected"==l.state()?l:l.resolve(j)}},(d.prototype.commands.home=function(){this.title="Home",this.alwaysEnabled=!0,this.updateOnSelect=!1,this.shortcuts=[{pattern:"ctrl+home ctrl+shift+up",description:"Home"}],this.getstate=function(){var a=this.fm.root(),b=this.fm.cwd().hash;return a&&b&&a!=b?0:-1},this.exec=function(){return this.fm.exec("open",this.fm.root())}}).prototype={forceLoad:!0},(d.prototype.commands.info=function(){var b=this.fm,c="elfinder-spinner",d={calc:b.i18n("calc"),size:b.i18n("size"),unknown:b.i18n("unknown"),path:b.i18n("path"),aliasfor:b.i18n("aliasfor"),modify:b.i18n("modify"),perms:b.i18n("perms"),locked:b.i18n("locked"),dim:b.i18n("dim"),kind:b.i18n("kind"),files:b.i18n("files"),folders:b.i18n("folders"),roots:b.i18n("volumeRoots"),items:b.i18n("items"),yes:b.i18n("yes"),no:b.i18n("no"),link:b.i18n("link"),owner:b.i18n("owner"),group:b.i18n("group"),perm:b.i18n("perm"),getlink:b.i18n("getLink")},e=function(a,b){return b?a.replace(/\u200B/g,""):a.replace(/(\/|\\)/g,"$1​")};this.items=["size","aliasfor","path","link","dim","modify","perms","locked","owner","group","perm"],this.options.custom&&Object.keys(this.options.custom).length&&a.each(this.options.custom,function(a,b){b.label&&this.items.push(b.label)}),this.tpl={main:'<div class="ui-helper-clearfix elfinder-info-title {dirclass}"><span class="elfinder-cwd-icon {class} ui-corner-all"{style}></span>{title}</div><table class="elfinder-info-tb">{content}</table>',itemTitle:'<strong>{name}</strong><span class="elfinder-info-kind">{kind}</span>',groupTitle:"<strong>{items}: {num}</strong>",row:'<tr><td class="elfinder-info-label">{label} : </td><td class="{class}">{value}</td></tr>',spinner:'<span>{text}</span> <span class="'+c+" "+c+'-{name}"></span>'},this.alwaysEnabled=!0,this.updateOnSelect=!1,this.shortcuts=[{pattern:"ctrl+i"}],this.init=function(){a.each(d,function(a,c){d[a]=b.i18n(c)})},this.getstate=function(){return 0},this.exec=function(b){var f=this.files(b);f.length||(f=this.files([this.fm.cwd().hash]));var g,h,i,j,k,l,m,n,o,p=this,q=this.fm,r=this.options,s=this.tpl,t=s.row,u=f.length,v=[],w=s.main,x="{label}",y="{value}",z=[],A=null,B={title:q.i18n("selectionInfo"),width:"auto",close:function(){a(this).elfinderdialog("destroy"),A&&"pending"===A.state()&&A.reject(),a.grep(z,function(a){a&&"pending"===a.state()&&a.reject()})}},C=[],D=function(a,b,d){F.find("."+c+"-"+b).parent().html(a).addClass(d||"")},E=q.namespace+"-info-"+a.map(f,function(a){return a.hash}).join("-"),F=q.getUI().find("#"+E),G=[],H="",I="elfinder-font-mono elfinder-info-hash",J=[],K=q.ui.notify;if(K.is(":hidden")&&K.children(".elfinder-notify").length&&K.elfinderdialog("open").height("auto"),!u)return a.Deferred().reject();if(F.length)return F.elfinderdialog("toTop"),a.Deferred().resolve();if(n=q.storage("infohides")||q.arrayFlip(r.hideItems,!0),1===u){if(i=f[0],i.icon&&(H=" "+q.getIconStyle(i)),w=w.replace("{dirclass}",i.csscls?q.escape(i.csscls):"").replace("{class}",q.mime2class(i.mime)).replace("{style}",H),j=s.itemTitle.replace("{name}",q.escape(i.i18||i.name)).replace("{kind}",'<span title="'+q.escape(i.mime)+'">'+q.mime2kind(i)+"</span>"),h=q.tmb(i),i.read?"directory"!=i.mime||i.alias?g=q.formatSize(i.size):(g=s.spinner.replace("{text}",d.calc).replace("{name}","size"),C.push(i.hash)):g=d.unknown,!n.size&&v.push(t.replace(x,d.size).replace(y,g)),!n.aleasfor&&i.alias&&v.push(t.replace(x,d.aliasfor).replace(y,i.alias)),n.path||((m=q.path(i.hash,!0))?v.push(t.replace(x,d.path).replace(y,e(q.escape(m))).replace("{class}","elfinder-info-path")):(v.push(t.replace(x,d.path).replace(y,s.spinner.replace("{text}",d.calc).replace("{name}","path")).replace("{class}","elfinder-info-path")),z.push(q.path(i.hash,!0,{notify:null}).fail(function(){D(d.unknown,"path")}).done(function(a){D(e(a),"path")})))),!n.link&&i.read){var L,M=q.escape(i.name);if("1"==i.url)v.push(t.replace(x,d.link).replace(y,'<button class="elfinder-info-button '+c+'-url">'+d.getlink+"</button>"));else{if(i.url)L=i.url;else if("directory"===i.mime)if(r.nullUrlDirLinkSelf&&null===i.url){var N=window.location;L=N.pathname+N.search+"#elf_"+i.hash}else""!==i.url&&q.option("url",!q.isRoot(i)&&i.phash||i.hash)&&(L=q.url(i.hash));else L=q.url(i.hash);L&&v.push(t.replace(x,d.link).replace(y,'<a href="'+L+'" target="_blank">'+M+"</a>"))}}n.dim||(i.dim?v.push(t.replace(x,d.dim).replace(y,i.dim)):-1!==i.mime.indexOf("image")&&(i.width&&i.height?v.push(t.replace(x,d.dim).replace(y,i.width+"x"+i.height)):i.size&&"0"!==i.size&&(v.push(t.replace(x,d.dim).replace(y,s.spinner.replace("{text}",d.calc).replace("{name}","dim"))),z.push(q.request({data:{cmd:"dim",target:i.hash},preventDefault:!0}).fail(function(){D(d.unknown,"dim")}).done(function(a){if(D(a.dim||d.unknown,"dim"),a.dim){var b=a.dim.split("x"),c=q.file(i.hash);c.width=b[0],c.height=b[1]}}))))),!n.modify&&v.push(t.replace(x,d.modify).replace(y,q.formatDate(i))),!n.perms&&v.push(t.replace(x,d.perms).replace(y,q.formatPermissions(i))),!n.locked&&v.push(t.replace(x,d.locked).replace(y,i.locked?d.yes:d.no)),!n.owner&&i.owner&&v.push(t.replace(x,d.owner).replace(y,i.owner)),!n.group&&i.group&&v.push(t.replace(x,d.group).replace(y,i.group)),!n.perm&&i.perm&&v.push(t.replace(x,d.perm).replace(y,q.formatFileMode(i.perm))),window.ArrayBuffer&&(q.options.cdns.sparkmd5||q.options.cdns.jssha)&&"directory"!==i.mime&&i.size>0&&(!r.showHashMaxsize||i.size<=r.showHashMaxsize)&&(J=[],a.each(q.storage("hashchekcer")||r.showHashAlgorisms,function(a,b){i[b]?v.push(t.replace(x,q.i18n(b)).replace(y,i[b]).replace("{class}",I)):(v.push(t.replace(x,q.i18n(b)).replace(y,s.spinner.replace("{text}",d.calc).replace("{name}",b))),J.push(b))}),J.length&&(o=a('<div class="elfinder-quicklook-info-progress"></div>'),z.push(q.getContentsHashes(i.hash,J,r.showHashOpts,{progressBar:o}).progress(function(b){a.each(J,function(a,c){b[c]&&D(b[c],c,I)})}).always(function(){a.each(J,function(a,b){D(d.unknown,b)})})))),r.custom&&a.each(r.custom,function(b,c){n[c.label]||c.mimes&&!a.grep(c.mimes,function(a){return i.mime===a||0===i.mime.indexOf(a+"/")}).length||c.hashRegex&&!i.hash.match(c.hashRegex)||(v.push(t.replace(x,q.i18n(c.label)).replace(y,c.tpl.replace("{id}",E))),c.action&&"function"==typeof c.action&&G.push(c.action))})}else w=w.replace("{class}","elfinder-cwd-icon-group"),j=s.groupTitle.replace("{items}",d.items).replace("{num}",u),k=a.grep(f,function(a){return"directory"==a.mime}).length,k?(l=a.grep(f,function(a){return!("directory"!==a.mime||a.phash&&!a.isroot)}).length,k-=l,v.push(t.replace(x,d.kind).replace(y,l===u||k===u?d[l?"roots":"folders"]:a.map({roots:l,folders:k,files:u-l-k},function(a,b){return a?d[b]+" "+a:null}).join(", "))),!n.size&&v.push(t.replace(x,d.size).replace(y,s.spinner.replace("{text}",d.calc).replace("{name}","size"))),C=a.map(f,function(a){return a.hash})):(g=0,a.each(f,function(a,b){var c=parseInt(b.size);c>=0&&g>=0?g+=c:g="unknown"}),v.push(t.replace(x,d.kind).replace(y,d.files)),!n.size&&v.push(t.replace(x,d.size).replace(y,q.formatSize(g))));return w=w.replace("{title}",j).replace("{content}",v.join("").replace(/{class}/g,"")),F=p.fmDialog(w,B),F.attr("id",E).one("mousedown",".elfinder-info-path",function(){a(this).html(e(a(this).html(),!0))}),J.length&&o.appendTo(F.find("."+c+"-"+J[0]).parent()),q.UA.Mobile&&a.fn.tooltip&&F.children(".ui-dialog-content .elfinder-info-title").tooltip({classes:{"ui-tooltip":"elfinder-ui-tooltip ui-widget-shadow"},tooltipClass:"elfinder-ui-tooltip ui-widget-shadow",track:!0}),i&&"1"==i.url&&F.on("click","."+c+"-url",function(){a(this).parent().html(s.spinner.replace("{text}",q.i18n("ntfurl")).replace("{name}","url")),q.request({data:{cmd:"url",target:i.hash},preventDefault:!0}).fail(function(){D(M,"url")}).done(function(a){a.url?(D('<a href="'+a.url+'" target="_blank">'+M+"</a>"||M,"url"),q.file(i.hash).url=a.url):D(M,"url")})}),h&&a("<img/>").on("load",function(){F.find(".elfinder-cwd-icon").addClass(h.className).css("background-image","url('"+h.url+"')")}).attr("src",h.url),C.length&&(A=q.getSize(C).done(function(a){D(a.formated,"size")}).fail(function(){D(d.unknown,"size")})),G.length&&a.each(G,function(a,b){try{b(i,q,F)}catch(c){q.debug("error",c)}}),a.Deferred().resolve()}}).prototype={forceLoad:!0},d.prototype.commands.mkdir=function(){var b,c=this.fm,d=this;this.value="",this.disableOnSearch=!0,this.updateOnSelect=!1,this.syncTitleOnChange=!0,this.mime="directory",this.prefix="untitled folder",this.exec=function(e,f){var g;return e&&e.length&&f&&f._currentType&&"navbar"===f._currentType?(this.origin=f._currentType,this.data={target:e[0]}):(g=c.cwd().hash===e[0],this.origin=b&&!g?b:"cwd",delete this.data),e||this.options.intoNewFolderToolbtn||c.getUI("cwd").trigger("unselectall"),this.move=this.value===c.i18n("cmdmkdirin"),a.proxy(c.res("mixin","make"),d)()},this.shortcuts=[{pattern:"ctrl+shift+n"}],this.init=function(){this.options.intoNewFolderToolbtn&&(this.syncTitleOnChange=!0)},c.bind("select contextmenucreate closecontextmenu",function(a){var e=(a.data?a.data.selected||a.data.targets:null)||c.selected();d.className="mkdir",b=a.data&&e.length?a.data.origin||a.data.type||"":"",d.options.intoNewFolderToolbtn||""!==b||(b="cwd"),e.length&&"navbar"!==b&&"cwd"!==b&&c.cwd().hash!==e[0]?(d.title=c.i18n("cmdmkdirin"),d.className+=" elfinder-button-icon-mkdirin"):d.title=c.i18n("cmdmkdir"),"closecontextmenu"!==a.type?d.update(void 0,d.title):requestAnimationFrame(function(){d.update(void 0,d.title)})}),this.getstate=function(d){var e=c.cwd(),f="navbar"===b||d&&d[0]!==e.hash?this.files(d||c.selected()):[],g=f.length;return"navbar"===b?g&&f[0].write&&f[0].read?0:-1:!e.write||g&&a.grep(f,function(a){return!(!a.read||a.locked)}).length!=g?-1:0}},d.prototype.commands.mkfile=function(){var b=this;this.disableOnSearch=!0,this.updateOnSelect=!1,this.mime="text/plain",this.prefix="untitled file.txt",this.variants=[],this.getTypeName=function(a,c){var d,e=b.fm;return d=(d=e.messages["kind"+e.kinds[a]])?e.i18n(["extentiontype",c.toUpperCase(),d]):e.i18n(["extentionfile",c.toUpperCase()])},this.fm.bind("open reload canMakeEmptyFile",function(){var c=b.fm,d=c.getCommand("edit").getMkfileHides();b.variants=[],c.mimesCanMakeEmpty&&a.each(c.mimesCanMakeEmpty,function(a,e){e&&!d[a]&&c.uploadMimeCheck(a)&&b.variants.push([a,b.getTypeName(a,e)])}),b.change()}),this.getstate=function(){return this.fm.cwd().write?0:-1},this.exec=function(c,d){var e,f,g=b.fm;if(e=g.mimesCanMakeEmpty[d]){if(g.uploadMimeCheck(d))return this.mime=d,this.prefix=g.i18n(["untitled file",e]),a.proxy(g.res("mixin","make"),b)();f=["errMkfile",b.getTypeName(d,e)]}return a.Deferred().reject(f)}},d.prototype.commands.netmount=function(){var b,c=this,d=!1;this.alwaysEnabled=!0,this.updateOnSelect=!1,this.drivers=[],this.handlers={load:function(){var b=c.fm;b.cookieEnabled&&b.one("open",function(){c.drivers=b.netDrivers,c.drivers.length&&a.each(c.drivers,function(){var a=c.options[this];a&&(d=!0,a.integrateInfo&&b.trigger("helpIntegration",Object.assign({cmd:"netmount"},a.integrateInfo)))})})}},this.getstate=function(){return d?0:-1},this.exec=function(){var d,e=c.fm,f=a.Deferred(),g=c.options,h=function(){var h,i=function(){j.protocol.trigger("change","winfocus")},j={protocol:a("<select></select>").on("change",function(a,c){var f=this.value;b.find(".elfinder-netmount-tr").hide(),b.find(".elfinder-netmount-tr-"+f).show(),d&&d.children(".ui-dialog-buttonpane:first").find("button").show(),"function"==typeof g[f].select&&g[f].select(e,a,c)}).addClass("ui-corner-all")},k={title:e.i18n("netMountDialogTitle"),resizable:!0,modal:!0,destroyOnClose:!1,open:function(){a(window).on("focus."+e.namespace,i),j.protocol.trigger("change")},close:function(){"pending"==f.state()&&f.reject(),a(window).off("focus."+e.namespace,i)},buttons:{}},l=function(){var d,h=j.protocol.val(),i={cmd:"netmount",protocol:h},k=g[h];return a.each(b.find("input.elfinder-netmount-inputs-"+h),function(b,c){var d,e;e=a(c),e.is(":radio,:checkbox")?e.is(":checked")&&(d=a.trim(e.val())):d=a.trim(e.val()),d&&(i[c.name]=d)}),i.host?(i.mnt2res&&(d=!0),e.request({data:i,notify:{type:"netmount",cnt:1,hideCnt:!0}}).done(function(a){var b;a.added&&a.added.length&&(d&&j.protocol.trigger("change","reset"),a.added[0].phash&&(b=e.file(a.added[0].phash))&&(b.dirs||(b.dirs=1,e.change({changed:[b]}))),e.one("netmountdone",function(){e.exec("open",a.added[0].hash)})),f.resolve()}).fail(function(a){k.fail&&"function"==typeof k.fail&&k.fail(e,e.parseError(a)),f.reject(a)}),void c.dialog.elfinderdialog("close")):e.trigger("error",{error:"errNetMountHostReq",opts:{modal:!0}})},m=a('<form autocomplete="off"></form>').on("keydown","input",function(b){var c,d=!0;b.keyCode===a.ui.keyCode.ENTER&&(a.each(m.find("input:visible:not(.elfinder-input-optional)"),function(){if(""===a(this).val())return d=!1,c=a(this),!1}),d?l():c.trigger("focus"))}),n=a("<div></div>");return b=a('<table class="elfinder-info-tb elfinder-netmount-tb"></table>').append(a("<tr></tr>").append(a("<td>"+e.i18n("protocol")+"</td>")).append(a("<td></td>").append(j.protocol))),a.each(c.drivers,function(c,d){g[d]&&(j.protocol.append('<option value="'+d+'">'+e.i18n(g[d].name||d)+"</option>"),a.each(g[d].inputs,function(c,f){f.attr("name",c),"hidden"!=f.attr("type")?(f.addClass("ui-corner-all elfinder-netmount-inputs-"+d),b.append(a("<tr></tr>").addClass("elfinder-netmount-tr elfinder-netmount-tr-"+d).append(a("<td>"+e.i18n(c)+"</td>")).append(a("<td></td>").append(f)))):(f.addClass("elfinder-netmount-inputs-"+d),n.append(f))}),g[d].protocol=j.protocol)}),b.append(n),b.find(".elfinder-netmount-tr").hide(),b.find(".elfinder-netmount-tr-"+c.drivers[0]).show(),k.buttons[e.i18n("btnMount")]=l,k.buttons[e.i18n("btnCancel")]=function(){c.dialog.elfinderdialog("close")},b.find("select,input").addClass("elfinder-tabstop"),h=c.fmDialog(m.append(b),k).ready(function(){j.protocol.trigger("change"),h.elfinderdialog("posInit")}),d=h.closest(".ui-dialog"),h};return c.dialog?c.dialog.elfinderdialog("open"):c.dialog=h(),f.promise()},c.fm.bind("netmount",function(a){var d=a.data||null,e=c.options,f=function(){e[d.protocol]&&"function"==typeof e[d.protocol].done&&(e[d.protocol].done(c.fm,d),b.find("select,input").addClass("elfinder-tabstop"),c.dialog.elfinderdialog("tabstopsInit"))};d&&d.protocol&&(d.mode&&"redirect"===d.mode?c.fm.request({data:{cmd:"netmount",protocol:d.protocol,host:d.host,user:"init",pass:"return",options:d.options},preventDefault:!0}).done(function(a){d=JSON.parse(a.body),f()}):f())})},d.prototype.commands.netunmount=function(){this.alwaysEnabled=!0,this.updateOnSelect=!1,this.drivers=[],this.handlers={load:function(){this.drivers=this.fm.netDrivers}},this.getstate=function(a){var b,c=this.fm;return a&&this.drivers.length&&!this._disabled&&(b=c.file(a[0]))&&b.netkey?0:-1},this.exec=function(b){var c=this,d=this.fm,e=a.Deferred().fail(function(a){a&&d.error(a)}),f=d.file(b[0]),g=function(b){var c,e=[];return d.leafRoots&&(c=[],a.each(d.leafRoots,function(e,f){var g,h=d.parents(e);-1!==(g=a.inArray(b,h))&&(g=h.length-g,a.each(f,function(a,b){c.push({i:g,hash:b})}))}),c.length&&(c.sort(function(a,b){return a.i<b.i}),a.each(c,function(a,b){e.push(b.hash)}))),e};return this._disabled?e.reject():("pending"==e.state()&&d.confirm({title:c.title,text:d.i18n("confirmUnmount",f.name),accept:{label:"btnUnmount",callback:function(){var b=f.hash,h=g(b),i=[],j=[],k=function(){a.when(i).done(function(){d.request({data:{cmd:"netmount",protocol:"netunmount",host:f.netkey,user:b,pass:"dum"},notify:{type:"netunmount",cnt:1,hideCnt:!0},preventFail:!0}).fail(function(a){e.reject(a)}).done(function(a){f.volumeid&&delete d.volumeExpires[f.volumeid],e.resolve()})}).fail(function(a){j.length&&d.remove({removed:j}),e.reject(a)})};h.length?d.confirm({title:c.title,text:function(){var b=["unmountChildren"];return a.each(h,function(a,c){b.push([d.file(c).name])}),b}(),accept:{label:"btnUnmount",callback:function(){a.each(h,function(a,b){var c=d.file(b);c.netkey&&i.push(d.request({data:{cmd:"netmount",protocol:"netunmount",host:c.netkey,user:c.hash,pass:"dum"},notify:{type:"netunmount",cnt:1,hideCnt:!0},preventDefault:!0}).done(function(a){a.removed&&(c.volumeid&&delete d.volumeExpires[c.volumeid],j=j.concat(a.removed))}))}),k()}},cancel:{label:"btnCancel",callback:function(){e.reject()}}}):(i=null,k())}},cancel:{label:"btnCancel",callback:function(){e.reject()}}}),e)}},(d.prototype.commands.open=function(){var b=this.fm,c=this;this.alwaysEnabled=!0,this.noChangeDirOnRemovedCwd=!0,this._handlers={dblclick:function(a){var d=a.data&&a.data.file?[a.data.file]:void 0;0===c.getstate(d)&&(a.preventDefault(),b.exec("open",d))},"select enable disable reload":function(a){this.update("disable"==a.type?-1:void 0)}},this.shortcuts=[{pattern:"ctrl+down numpad_enter"+("mac"!=b.OS&&" enter")}],this.getstate=function(c){var d=this.files(c),e=d.length;return 1==e?d[0].read?0:-1:e&&!b.UA.Mobile&&a.grep(d,function(a){return!("directory"==a.mime||!a.read)}).length==e?0:-1},this.exec=function(c,d){var e,f,g,h,i,j,k,l,m,n,o,p,q=a.Deferred().fail(function(a){a&&b.error(a)}),r=this.files(c),s=r.length,t="object"==typeof d&&d.thash,u=this.options,v=u.into||"window";if(!s&&!t)return q.reject();if(t||1==s&&(e=r[0])&&"directory"==e.mime)return t||!e||e.read?b.keyState.ctrlKey&&(b.keyState.shiftKey||"function"!=typeof b.options.getFileCallback)&&b.getCommand("opennew")?b.exec("opennew",[t||e.hash]):b.request({data:{cmd:"open",target:t||e.hash},notify:{type:"open",cnt:1,hideCnt:!0},syncOnFail:!0,lazy:!1}):q.reject(["errOpen",e.name,"errPerm"]);if(r=a.grep(r,function(a){return"directory"!=a.mime}),s!=r.length)return q.reject();var w=function(){var d,o,p,t=function(c){var l=a("<a>").hide().appendTo(a("body"));if(b.UA.Mobile||!n){if(m)n?l.attr("target","_blank"):l.attr("download",e.name),l.attr("href",c).get(0).click();else if(!(d=window.open(c)))return q.reject("errPopup")}else{if(p="string"==typeof u.method&&"get"===u.method.toLowerCase(),!p&&0===c.indexOf(b.options.url)&&b.customData&&Object.keys(b.customData).length&&!e.mime.match(/^(?:video|audio)/)&&(c=""),"window"===v?(h=j=Math.round(2*screen.availWidth/3),i=k=Math.round(2*screen.availHeight/3),parseInt(e.width)&&parseInt(e.height)?(h=parseInt(e.width),i=parseInt(e.height)):e.dim&&(f=e.dim.split("x"),h=parseInt(f[0]),i=parseInt(f[1])),j>=h&&k>=i?(j=h,k=i):h-j>i-k?k=Math.round(i*(j/h)):j=Math.round(h*(k/i)),g="width="+j+",height="+k,d=window.open(c,o,g+",top=50,left=50,scrollbars=yes,resizable=yes,titlebar=no")):("tabs"===v&&(o=e.hash),d=window.open("about:blank",o)),!d)return q.reject("errPopup");if(""===c){var r=document.createElement("form");r.action=b.options.url,r.method="POST",r.target=o,r.style.display="none";var s=Object.assign({},b.customData,{cmd:"file",target:e.hash,_t:e.ts||parseInt(+new Date/1e3)});a.each(s,function(a,b){var c=document.createElement("input");c.name=a,c.value=b,r.appendChild(c)}),document.body.appendChild(r),r.submit()}else"window"!==v&&(d.location=c);a(d).trigger("focus")}l.remove()};try{l=new RegExp(b.option("dispInlineRegex"),"i")}catch(w){l=!1}for(m="string"==typeof a("<a>").get(0).download,s=r.length;s--;){if(o="elf_open_window",e=r[s],!e.read)return q.reject(["errOpen",e.name,"errPerm"]);n=l&&e.mime.match(l),b.openUrl(e.hash,!n,t)}return q.resolve(c)};if(s>1)b.confirm({title:"openMulti",text:["openMultiConfirm",s+""],accept:{label:"cmdopen",callback:function(){w()}},cancel:{label:"btnCancel",callback:function(){q.reject()}},buttons:b.getCommand("zipdl")&&b.isCommandEnabled("zipdl",b.cwd().hash)?[{label:"cmddownload",callback:function(){b.exec("download",c),q.reject()}}]:[]});else{if((o=b.storage("selectAction")||u.selectAction)&&(a.each(o.split("/"),function(){var a=this.valueOf();return("open"===a||!(p=b.getCommand(a))||!p.enabled())&&void(p=null)}),p))return b.exec(p.name);w()}return q}}).prototype={forceLoad:!0},d.prototype.commands.opendir=function(){this.alwaysEnabled=!0,this.getstate=function(){var a;return 1!==this.fm.selected().length?-1:(a=this.fm.getUI("workzone"),a.hasClass("elfinder-search-result")?0:-1)},this.exec=function(b){var c,d=this.fm,e=a.Deferred(),f=this.files(b);return f.length&&f[0].phash?(c=f[0].phash,d.trigger("searchend",{noupdate:!0}),d.request({data:{cmd:"open",target:c},notify:{type:"open",cnt:1,hideCnt:!0},syncOnFail:!1}),e):e.reject()}},d.prototype.commands.opennew=function(){var b=this.fm;this.shortcuts=[{pattern:("function"==typeof b.options.getFileCallback?"shift+":"")+"ctrl+enter"}],this.getstate=function(a){var b=this.files(a);return 1===b.length&&"directory"===b[0].mime&&b[0].read?0:-1},this.exec=function(b){var c,d,e,f,g=a.Deferred(),h=this.files(b),i=h.length,j=this.options;return 1===i&&(c=h[0])&&"directory"===c.mime?(d=window.location,e=j.url?j.url:d.pathname,j.useOriginQuery&&(e.match(/\?/)?d.search&&(e+="&"+d.search.substr(1)):e+=d.search),e+="#elf_"+c.hash,f=window.open(e,"_blank"),setTimeout(function(){f.focus()},1e3),g.resolve()):g.reject()}},d.prototype.commands.paste=function(){this.updateOnSelect=!1,this.handlers={changeclipboard:function(){this.update()}},this.shortcuts=[{pattern:"ctrl+v shift+insert"}],this.getstate=function(a){if(this._disabled)return-1;if(a){if(Array.isArray(a)){if(1!=a.length)return-1;a=this.fm.file(a[0])}}else a=this.fm.cwd();return this.fm.clipboard().length&&"directory"==a.mime&&a.write?0:-1},this.exec=function(b,c){var d,e,f,g=this,h=g.fm,i=c||{},j=b?this.files(b)[0]:h.cwd(),k=h.clipboard(),l=k.length,m=!!l&&k[0].cut,n=i._cmd?i._cmd:m?"move":"copy",o="err"+n.charAt(0).toUpperCase()+n.substr(1),p=[],q=[],r=a.Deferred().fail(function(a){a&&h.error(a)}).always(function(){h.unlockfiles({files:a.map(k,function(a){return a.hash})})}),s=function(b){return b.length&&h._commands.duplicate?h.exec("duplicate",b):a.Deferred().resolve()},t=function(b){var c,d=a.Deferred(),e=[],f={},k=function(b,c){for(var d=[],e=b.length;e--;)-1!==a.inArray(b[e].name,c)&&d.unshift(e);return d},l=function(a){var c=e[a],f=b[c],g=a==e.length-1;f&&h.confirm({title:h.i18n(n+"Files"),text:["errExists",f.name,"restore"===n?"confirmRest":"confirmRepl"],all:!g,accept:{label:"btnYes",callback:function(c){g||c?p(b):l(++a)}},reject:{label:"btnNo",callback:function(c){var d;if(c)for(d=e.length;a<d--;)b[e[d]].remove=!0;else b[e[a]].remove=!0;g||c?p(b):l(++a)}},cancel:{label:"btnCancel",callback:function(){d.resolve()}},buttons:[{label:"btnBackup",callback:function(c){var d;if(c)for(d=e.length;a<d--;)b[e[d]].rename=!0;else b[e[a]].rename=!0;g||c?p(b):l(++a)}}]})},o=function(c){var d,g={};c&&(Array.isArray(c)?c.length&&("string"==typeof c[0]?e=k(b,c):(a.each(c,function(a,b){g[b.name]=b.hash}),e=k(b,a.map(g,function(a,b){return b})),a.each(b,function(a,b){g[b.name]&&(f[g[b.name]]=b.name)}))):(d=[],e=a.map(c,function(a){return"string"==typeof a?a:(d=d.concat(a),!1)}),d.length&&(e=e.concat(d)),e=k(b,e),f=c)),e.length?l(0):p(b)},p=function(b){var c,e,g=[],k=a.grep(b,function(a){return a.rename&&g.push(a.name),!a.remove}),l=k.length;return l?(c=a.map(k,function(a){return a.hash}),e={cmd:"paste",dst:j.hash,targets:c,cut:m?1:0,renames:g,hashes:f,suffix:h.options.backupSuffix},h.api<2.1&&(e.src=k[0].phash),void h.request({data:e,notify:{type:n,cnt:l},cancel:!0,navigate:{toast:i.noToast?{}:{inbuffer:{msg:h.i18n(["complete",h.i18n("cmd"+n)]),action:{cmd:"open",msg:"cmdopendir",data:[j.hash],done:"select",cwdNot:j.hash}}}}}).done(function(b){var c={},f=b.added&&b.added.length?b.added:null;m&&f&&(a.each(k,function(b,d){var e=d.phash,g=function(b){var c;return a.each(f,function(a,d){if(d.name===b)return c=d.hash,!1}),c},h=g(d.name);h&&(c[e]?c[e].push(h):c[e]=[h])}),Object.keys(c).length&&(b.undo={cmd:"move",callback:function(){var b=[];return a.each(c,function(a,c){b.push(h.request({data:{cmd:"paste",dst:a,targets:c,cut:1},notify:{type:"undo",cnt:c.length}}))}),a.when.apply(null,b)}},b.redo={cmd:"move",callback:function(){return h.request({data:e,notify:{type:"redo",cnt:l}})}})),d.resolve(b)}).fail(function(a){d.reject(),0===a&&h.sync()}).always(function(){h.unlockfiles({files:k})})):d.resolve()};return h.isCommandEnabled(g.name,j.hash)&&b.length?(h.oldAPI?p(b):h.option("copyOverwrite",j.hash)?(c=a.map(b,function(a){return a.name}),j.hash==h.cwd().hash?o(a.map(h.files(),function(a){return a.phash==j.hash?{hash:a.hash,name:a.name}:null})):h.request({data:{cmd:"ls",target:j.hash,intersect:c},notify:{type:"prepare",cnt:1,hideCnt:!0},preventFail:!0}).always(function(a){o(a.list)})):p(b),d):d.resolve()};return l&&j&&"directory"==j.mime?j.write?(d=h.parents(j.hash),a.each(k,function(b,c){return c.read?m&&c.locked?!r.reject(["errLocked",c.name]):-1!==a.inArray(c.hash,d)?!r.reject(["errCopyInItself",c.name]):c.mime&&"directory"!==c.mime&&!h.uploadMimeCheck(c.mime,j.hash)?!r.reject([o,c.name,"errUploadMime"]):(e=h.parents(c.hash),e.pop(),-1!==a.inArray(j.hash,e)&&a.grep(e,function(a){var b=h.file(a);return b.phash==j.hash&&b.name==c.name}).length?!r.reject(["errReplByChild",c.name]):void(c.phash==j.hash?q.push(c.hash):p.push({hash:c.hash,phash:c.phash,name:c.name}))):!r.reject([o,c.name,"errPerm"])}),"rejected"===r.state()?r:(f=a.Deferred(),m&&g.options.moveConfirm?h.confirm({title:"moveFiles",text:h.i18n("confirmMove",j.i18||j.name),accept:{label:"btnYes",callback:function(){f.resolve()}},cancel:{label:"btnCancel",callback:function(){f.reject()}}}):f.resolve(),f.done(function(){a.when(s(q),t(p)).done(function(a,b){r.resolve(b&&b.undo?b:void 0)}).fail(function(){r.reject()}).always(function(){m&&h.clipboard([])})}).fail(function(){r.reject()}),r)):r.reject([o,k[0].name,"errPerm"]):r.reject()}},d.prototype.commands.places=function(){var b=this,c=this.fm,d=function(c){return a.grep(b.files(c),function(a){return"directory"==a.mime})},e=null;this.getstate=function(a){var b=this.hashes(a),c=b.length;return e&&c&&c==d(b).length?0:-1},this.exec=function(b){var c=this.files(b);return e.trigger("regist",[c]),a.Deferred().resolve()},c.one("load",function(){e=c.ui.places})},d.prototype.commands.preference=function(){var b,c,d=this,e=this.fm,f="replace",g='<li class="'+e.res("class","tabstab")+' elfinder-preference-tab-{id}"><a href="#'+e.namespace+'-preference-{id}" id="'+e.namespace+'-preference-tab-{id}" class="ui-tabs-anchor {class}">{title}</a></li>',h=a('<div class="ui-tabs ui-widget ui-widget-content ui-corner-all elfinder-preference">'),i=a('<ul class="ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-top">'),j=a('<div class="elfinder-preference-tabs ui-tabs-panel ui-widget-content ui-corner-bottom"></div>'),k=(a("base").length&&document.location.href.replace(/#.*$/,""),function(b){a("#"+e.namespace+"-preference-tab-"+b).trigger("mouseover").trigger("click"),c=b}),l=e.res("class","tabsactive"),m=function(){var m=d.options.categories||{language:["language"],theme:["theme"],toolbar:["toolbarPref"],workspace:["iconSize","columnPref","selectAction","makefileTypes","useStoredEditor","editorMaximized","useFullscreen","showHidden"],dialog:["autoFocusDialog"],selectionInfo:["infoItems","hashChecker"],reset:["clearBrowserData"],all:!0},n=d.options.prefs||["language","theme","toolbarPref","iconSize","columnPref","selectAction","makefileTypes","useStoredEditor","editorMaximized","useFullscreen","showHidden","infoItems","hashChecker","autoFocusDialog","clearBrowserData"];e.cookieEnabled||delete m.language,n=e.arrayFlip(n,!0),e.options.getFileCallback&&delete n.selectAction,e.UA.Fullscreen||delete n.useFullscreen,n.language&&(n.language=function(){var b=a("<select></select>").on("change",function(){var b=a(this).val();e.storage("lang",b),a("#"+e.id).elfinder("reload")}),c=[],f=d.options.langs||{ar:"العربية",bg:"Български",ca:"Català",cs:"Čeština",da:"Dansk",de:"Deutsch",el:"Ελληνικά",en:"English",es:"Español",fa:"فارسی",fo:"Føroyskt",fr:"Français",fr_CA:"Français (Canada)",he:"עברית",hr:"Hrvatski",hu:"Magyar",id:"Bahasa Indonesia",it:"Italiano",ja:"日本語",ko:"한국어",nl:"Nederlands",no:"Norsk",pl:"Polski",pt_BR:"Português",ro:"Română",ru:"Pусский",si:"සිංහල",sk:"Slovenčina",sl:"Slovenščina",sr:"Srpski",sv:"Svenska",tr:"Türkçe",ug_CN:"ئۇيغۇرچە",uk:"Український",vi:"Tiếng Việt",zh_CN:"简体中文",zh_TW:"正體中文"};return e.cookieEnabled?(a.each(f,function(a,b){c.push('<option value="'+a+'">'+b+"</option>")}),b.append(c.join("")).val(e.lang)):a()}()),n.theme&&(n.theme=function(){var b=e.options.themes?Object.keys(e.options.themes).length:0;if(0===b||1===b&&e.options.themes.default)return null;var c=a("<select></select>").on("change",function(){var b=a(this).val();e.changeTheme(b).storage("theme",b)}),d={image:'<img class="elfinder-preference-theme elfinder-preference-theme-image" src="$2" />',link:'<a href="$1" target="_blank" title="$3">$2</a>',data:'<dt>$1</dt><dd><span class="elfinder-preference-theme elfinder-preference-theme-$0">$2</span></dd>'},f=["image","description","author","email","license"],g=a('<button class="ui-button ui-corner-all ui-widget elfinder-preference-theme-default"></button>').text(e.i18n("default")).on("click",function(a){c.val("default").trigger("change")}),h=a('<div class="elfinder-reference-hide-taball"></div>').on("click","button",function(){var b=a(this).data("themeid");c.val(b).trigger("change")});return e.options.themes.default||c.append('<option value="default">'+e.i18n("default")+"</option>"),a.each(e.options.themes,function(b,g){var i,j=a('<option class="elfinder-theme-option-'+b+'" value="'+b+'">'+e.i18n(b)+"</option>"),k=a('<fieldset class="ui-widget ui-widget-content ui-corner-all elfinder-theme-list-'+b+'"><legend>'+e.i18n(b)+'</legend><div><span class="elfinder-spinner"></span></div></fieldset>');c.append(j),h.append(k),i=setTimeout(function(){k.find("span.elfinder-spinner").replaceWith(e.i18n(["errRead",b]))},1e4),e.getTheme(b).always(function(){i&&clearTimeout(i)}).done(function(g){var h,i=a(),l=a("<dl></dl>");h=g.link?d.link.replace(/\$1/g,g.link).replace(/\$3/g,e.i18n("website")):"$2",g.name&&j.html(e.i18n(g.name)),
k.children("legend").html(h.replace(/\$2/g,e.i18n(g.name)||b)),a.each(f,function(f,h){var i,j=d[h]||d.data;g[h]&&(i=j.replace(/\$0/g,e.escape(h)).replace(/\$1/g,e.i18n(h)).replace(/\$2/g,e.i18n(g[h])),"image"===h&&g.link&&(i=a(i).on("click",function(){c.val(b).trigger("change")}).attr("title",e.i18n("select"))),l.append(i))}),i=i.add(l),i=i.add(a('<div class="elfinder-preference-theme-btn"></div>').append(a('<button class="ui-button ui-corner-all ui-widget"></button>').data("themeid",b).html(e.i18n("select")))),k.find("span.elfinder-spinner").replaceWith(i)}).fail(function(){k.find("span.elfinder-spinner").replaceWith(e.i18n(["errRead",b]))})}),a("<div></div>").append(c.val(e.theme&&e.theme.id?e.theme.id:"default"),g,h)}()),n.toolbarPref&&(n.toolbarPref=function(){var b=a.map(e.options.uiOptions.toolbar,function(b){return a.isArray(b)?b:null}),c=[],d=e.storage("toolbarhides")||{};return a.each(b,function(){var a=this,b=e.i18n("cmd"+a);b==="cmd"+a&&(b=e.i18n(a)),c.push('<span class="elfinder-preference-toolbar-item"><label><input type="checkbox" value="'+a+'" '+(d[a]?"":"checked")+"/>"+b+"</label></span>")}),a(c.join(" ")).on("change","input",function(){var b=a(this).val(),c=a(this).is(":checked");c||d[b]?c&&d[b]&&delete d[b]:d[b]=!0,e.storage("toolbarhides",d),e.trigger("toolbarpref")})}()),n.iconSize&&(n.iconSize=function(){var b=e.options.uiOptions.cwd.iconsView.sizeMax||3,c=e.storage("iconsize")||e.options.uiOptions.cwd.iconsView.size||0,d=a('<div class="touch-punch"></div>').slider({classes:{"ui-slider-handle":"elfinder-tabstop"},value:c,max:b,slide:function(a,b){e.getUI("cwd").trigger("iconpref",{size:b.value})},change:function(a,b){e.storage("iconsize",b.value)}});return e.getUI("cwd").on("iconpref",function(a,b){d.slider("option","value",b.size)}),d}()),n.columnPref&&(n.columnPref=function(){var b=e.options.uiOptions.cwd.listView.columns,c=[],d=e.storage("columnhides")||{};return a.each(b,function(){var a=this,b=e.getColumnName(a);c.push('<span class="elfinder-preference-column-item"><label><input type="checkbox" value="'+a+'" '+(d[a]?"":"checked")+"/>"+b+"</label></span>")}),a(c.join(" ")).on("change","input",function(){var b=a(this).val(),c=a(this).is(":checked");c||d[b]?c&&d[b]&&delete d[b]:d[b]=!0,e.storage("columnhides",d),e.trigger("columnpref",{repaint:!0})})}()),n.selectAction&&(n.selectAction=function(){var b=a("<select></select>").on("change",function(){var b=a(this).val();e.storage("selectAction","default"===b?null:b)}),c=[],f=d.options.selectActions,g=e.getCommand("open").options.selectAction||"open";return-1===a.inArray(g,f)&&f.unshift(g),a.each(f,function(b,d){var f=a.map(d.split("/"),function(a){var b=e.i18n("cmd"+a);return b==="cmd"+a&&(b=e.i18n(a)),b});c.push('<option value="'+d+'">'+f.join("/")+"</option>")}),b.append(c.join("")).val(e.storage("selectAction")||g)}()),n.makefileTypes&&(n.makefileTypes=function(){var b=e.getCommand("edit").getMkfileHides(),c=function(){var c=[];return b=e.getCommand("edit").getMkfileHides(),a.each(e.mimesCanMakeEmpty,function(a,d){var f=e.getCommand("mkfile").getTypeName(a,d);c.push('<span class="elfinder-preference-column-item" title="'+e.escape(f)+'"><label><input type="checkbox" value="'+a+'" '+(b[a]?"":"checked")+"/>"+d+"</label></span>")}),c.join(" ")},d=a("<div></div>").on("change","input",function(){var c=a(this).val(),d=a(this).is(":checked");d||b[c]?d&&b[c]&&delete b[c]:b[c]=!0,e.storage("mkfileHides",b),e.trigger("canMakeEmptyFile")}).append(c()),f=a("<div></div>").append(a('<input type="text" placeholder="'+e.i18n("typeOfTextfile")+'"/>').on("keydown",function(b){b.keyCode===a.ui.keyCode.ENTER&&a(this).next().trigger("click")}),a('<button class="ui-button"></button>').html(e.i18n("add")).on("click",function(){var b,c=a(this).prev(),d=c.val(),f=e.getUI("toast"),g=function(){return f.appendTo(c.closest(".ui-dialog")),e.toast({msg:e.i18n("errUsupportType"),mode:"warning",onHidden:function(){1===f.children().length&&f.appendTo(e.getUI())}}),c.trigger("focus"),!1};if(!d.match(/\//)){if(!(d=e.arrayFlip(e.mimeTypes)[d]))return g();c.val(d)}return e.mimeIsText(d)&&e.mimeTypes[d]?(e.trigger("canMakeEmptyFile",{mimes:[d],unshift:!0}),b={},b[d]=e.mimeTypes[d],e.storage("mkfileTextMimes",Object.assign(b,e.storage("mkfileTextMimes")||{})),c.val(""),f.appendTo(c.closest(".ui-dialog")),void e.toast({msg:e.i18n(["complete",d+" ("+b[d]+")"]),onHidden:function(){1===f.children().length&&f.appendTo(e.getUI())}})):g()}),a('<button class="ui-button"></button>').html(e.i18n("reset")).on("click",function(){e.one("canMakeEmptyFile",{done:function(){d.empty().append(c())}}),e.trigger("canMakeEmptyFile",{resetTexts:!0})}));return e.bind("canMakeEmptyFile",{done:function(a){a.data&&a.data.mimes&&a.data.mimes.length&&d.empty().append(c())}}),a("<div></div>").append(d,f)}()),n.useStoredEditor&&(n.useStoredEditor=a('<input type="checkbox"/>').prop("checked",function(){var a=e.storage("useStoredEditor");return a?a>0:e.options.commandsOptions.edit.useStoredEditor}()).on("change",function(b){e.storage("useStoredEditor",a(this).is(":checked")?1:-1)})),n.editorMaximized&&(n.editorMaximized=a('<input type="checkbox"/>').prop("checked",function(){var a=e.storage("editorMaximized");return a?a>0:e.options.commandsOptions.edit.editorMaximized}()).on("change",function(b){e.storage("editorMaximized",a(this).is(":checked")?1:-1)})),n.useFullscreen&&(n.useFullscreen=a('<input type="checkbox"/>').prop("checked",function(){var a=e.storage("useFullscreen");return a?a>0:"screen"===e.options.commandsOptions.fullscreen.mode}()).on("change",function(b){e.storage("useFullscreen",a(this).is(":checked")?1:-1)})),n.showHidden&&function(){var b,c=function(){var c,d=e.storage("hide"),f=[];d&&d.items&&a.each(d.items,function(a,b){f.push(e.escape(b))}),g.prop("disabled",!f.length)[f.length?"removeClass":"addClass"]("ui-state-disabled"),c=f.length?f.join("\n"):"",n.showHidden.attr("title",c),b&&n.showHidden.tooltip("option","content",c.replace(/\n/g,"<br>")).tooltip("close")},d=a('<input type="checkbox"/>').prop("checked",function(){var a=e.storage("hide");return a&&a.show}()).on("change",function(b){var c={};c[a(this).is(":checked")?"show":"hide"]=!0,e.exec("hide",void 0,c)}),f=a('<button class="ui-button ui-corner-all ui-widget"></button>').append(e.i18n("reset")).on("click",function(){e.exec("hide",void 0,{reset:!0}),a(this).parent().find("input:first").prop("checked",!1),c()}),g=a().add(d).add(f);n.showHidden=a("<div></div>").append(d,f),e.bind("hide",function(a){var b=a.data;b.opts&&(b.opts.show||b.opts.hide)||c()}),e.UA.Mobile&&a.fn.tooltip&&(b=!0,n.showHidden.tooltip({classes:{"ui-tooltip":"elfinder-ui-tooltip ui-widget-shadow"},tooltipClass:"elfinder-ui-tooltip ui-widget-shadow",track:!0}).css("user-select","none"),f.css("user-select","none")),c()}(),n.infoItems&&(n.infoItems=function(){var b=e.getCommand("info").items,c=[],d=e.storage("infohides")||e.arrayFlip(e.options.commandsOptions.info.hideItems,!0);return a.each(b,function(){var a=this,b=e.i18n(a);c.push('<span class="elfinder-preference-info-item"><label><input type="checkbox" value="'+a+'" '+(d[a]?"":"checked")+"/>"+b+"</label></span>")}),a(c.join(" ")).on("change","input",function(){var b=a(this).val(),c=a(this).is(":checked");c||d[b]?c&&d[b]&&delete d[b]:d[b]=!0,e.storage("infohides",d),e.trigger("infopref",{repaint:!0})})}()),n.hashChecker&&e.hashCheckers.length&&(n.hashChecker=function(){var b=[],c=e.arrayFlip(e.storage("hashchekcer")||e.options.commandsOptions.info.showHashAlgorisms,!0);return a.each(e.hashCheckers,function(){var a=this,d=e.i18n(a);b.push('<span class="elfinder-preference-hashchecker-item"><label><input type="checkbox" value="'+a+'" '+(c[a]?"checked":"")+"/>"+d+"</label></span>")}),a(b.join(" ")).on("change","input",function(){var b=a(this).val();a(this).is(":checked")?c[b]=!0:c[b]&&delete c[b],e.storage("hashchekcer",a.grep(e.hashCheckers,function(a){return c[a]}))})}()),n.autoFocusDialog&&(n.autoFocusDialog=a('<input type="checkbox"/>').prop("checked",function(){var a=e.storage("autoFocusDialog");return a?a>0:e.options.uiOptions.dialog.focusOnMouseOver}()).on("change",function(b){e.storage("autoFocusDialog",a(this).is(":checked")?1:-1)})),n.clearBrowserData&&(n.clearBrowserData=a("<button></button>").text(e.i18n("reset")).button().on("click",function(b){b.preventDefault(),e.storage(),a("#"+e.id).elfinder("reload")})),a.each(m,function(b,d){var h,k;!0===d?k=1:d&&(h=a(),a.each(d,function(b,c){var d,f,g,i="";(d=n[c])&&(k=2,f=e.i18n(c),g=a(d).filter('input[type="checkbox"]'),g.length||(g=a(d).find('input[type="checkbox"]')),1===g.length?(g.attr("id")||g.attr("id","elfinder-preference-"+c+"-checkbox"),f='<label for="'+g.attr("id")+'">'+f+"</label>"):g.length>1&&(i=" elfinder-preference-checkboxes"),h=h.add(a('<dt class="elfinder-preference-'+c+i+'">'+f+"</dt>")).add(a('<dd class="elfinder-preference-'+c+i+'"></dd>').append(d)))})),k&&(i.append(g[f](/\{id\}/g,b)[f](/\{title\}/,e.i18n(b))[f](/\{class\}/,c===b?"elfinder-focus":"")),2===k&&j.append(a('<div id="'+e.namespace+"-preference-"+b+'" class="elfinder-preference-content"></div>').hide().append(a("<dl></dl>").append(h))))}),i.on("click","a",function(b){var c=a(b.target),d=c.attr("href");b.preventDefault(),b.stopPropagation(),i.children().removeClass(l),c.removeClass("ui-state-hover").parent().addClass(l),d.match(/all$/)?j.addClass("elfinder-preference-taball").children().show():(j.removeClass("elfinder-preference-taball").children().hide(),a(d).show())}).on("focus blur","a",function(b){a(this).parent().toggleClass("ui-state-focus","focusin"===b.type)}).on("mouseenter mouseleave","li",function(b){a(this).toggleClass("ui-state-hover","mouseenter"===b.type)}),j.find("a,input,select,button").addClass("elfinder-tabstop"),h.append(i,j),b=d.fmDialog(h,{title:d.title,width:d.options.width||600,height:d.options.height||400,maxWidth:"window",maxHeight:"window",autoOpen:!1,destroyOnClose:!1,allowMinimize:!1,open:function(){c&&k(c),c=null},resize:function(){j.height(b.height()-i.outerHeight(!0)-(j.outerHeight(!0)-j.height())-5)}}).on("click",function(a){a.stopPropagation()}).css({overflow:"hidden"}),b.closest(".ui-dialog").css({overflow:"hidden"}).addClass("elfinder-bg-translucent"),c="all"};this.shortcuts=[{pattern:"ctrl+comma",description:this.title}],this.alwaysEnabled=!0,this.getstate=function(){return 0},this.exec=function(c,d){return!b&&m(),d&&(d.tab?k(d.tab):"cwd"===d._currentType&&k("workspace")),b.elfinderdialog("open"),a.Deferred().resolve()}},(d.prototype.commands.quicklook=function(){var b,c,d,e,f,g,h,i,j,k,l=this,m=l.fm,n=0,o=1,p=2,q=3,r=4,s=n,t=Element.update?"quicklookupdate":"update",u="elfinder-quicklook-navbar-icon",v="elfinder-quicklook-fullscreen",w="elfinder-quicklook-info-wrapper",x=function(b){a(document).trigger(a.Event("keydown",{keyCode:b,ctrlKey:!1,shiftKey:!1,altKey:!1,metaKey:!1}))},y=function(a){var b=m.getUI().offset(),c=function(){var b=a.find(".elfinder-cwd-file-wrapper");return b.length?b:a}(),d=c.offset()||{top:0,left:0};return{opacity:0,width:c.width(),height:c.height()-30,top:d.top-b.top,left:d.left-b.left}},z=function(){var d=l.options.contain||m.options.dialogContained,e=d?m.getUI():a(window),f=m.getUI().offset(),g=Math.min(b,e.width()-10),h=Math.min(c,e.height()-80);return{opacity:1,width:g,height:h,top:parseInt((e.height()-h-60)/2+(d?0:e.scrollTop()-f.top)),left:parseInt((e.width()-g)/2+(d?0:e.scrollLeft()-f.left))}},A={},B=function(a,b){var c=b||a.substr(0,a.indexOf("/")),d=A[c]?A[c]:A[c]=document.createElement(c),e=!1;try{e=d.canPlayType&&d.canPlayType(a)}catch(f){}return!(!e||""===e||"no"==e)},C=-1!=window.navigator.platform.indexOf("Win"),D=!1,E=!1,F=!1,G=null,H=a.ui.keyCode.LEFT,I=a.ui.keyCode.RIGHT,J="mousemove touchstart "+("onwheel"in document?"wheel":"onmousewheel"in document?"mousewheel":"DOMMouseScroll"),K=a('<span class="elfinder-dialog-title elfinder-quicklook-title"></span>'),L=a("<div></div>"),M=a('<div class="elfinder-quicklook-info"></div>'),N=a('<div class="ui-front elfinder-quicklook-cover"></div>'),O=a('<div class="'+u+" "+u+'-fullscreen"></div>').on("click touchstart",function(b){if(!F){var c=l.window,d=c.hasClass(v),f=a(window),g=function(){l.preview.trigger("changesize")};b.stopPropagation(),b.preventDefault(),d?(Y="",Q(),c.toggleClass(v).css(c.data("position")),f.trigger(l.resize).off(l.resize,g),U.off("mouseenter mouseleave"),N.off(J)):(c.toggleClass(v).data("position",{left:c.css("left"),top:c.css("top"),width:c.width(),height:c.height(),display:"block"}).removeAttr("style"),a(window).on(l.resize,g).trigger(l.resize),N.on(J,function(a){E||("mousemove"!==a.type&&"touchstart"!==a.type||(Q(),G=setTimeout(function(){(m.UA.Mobile||U.parent().find(".elfinder-quicklook-navbar:hover").length<1)&&U.fadeOut("slow",function(){N.show()})},3e3)),N.is(":visible")&&(R(),N.data("tm",setTimeout(function(){N.show()},3e3))))}).show().trigger("mousemove"),U.on("mouseenter mouseleave",function(a){E||("mouseenter"===a.type?Q():N.trigger("mousemove"))})),m.zIndex&&c.css("z-index",m.zIndex+1),m.UA.Mobile?U.attr("style",Y):U.attr("style",Y).draggable(d?"destroy":{start:function(){E=!0,F=!0,N.show(),Q()},stop:function(){E=!1,Y=l.navbar.attr("style"),requestAnimationFrame(function(){F=!1})}}),a(this).toggleClass(u+"-fullscreen-off");var h=c;e.is(".ui-resizable")&&(h=h.add(e)),h.resizable(d?"enable":"disable").removeClass("ui-state-disabled"),c.trigger("viewchange")}}),P=function(){l.update(void 0,function(){var b=l.fm,c=b.selectedFiles(),d=c.length,e=(l.docked(),function(){var e=0;return a.each(c,function(a,b){var c=parseInt(b.ts);e>=0?c>e&&(e=c):e="unknown"}),{hash:c[0].hash+"/"+ +new Date,name:b.i18n("items")+": "+d,mime:"group",size:X,ts:e,files:a.map(c,function(a){return a.hash}),getSize:!0}});return d||(d=1,c=[b.cwd()]),1===d?c[0]:e()}())},Q=function(){l.window.hasClass(v)&&(G&&clearTimeout(G),G=null,U.stop(!0,!0).css("display","block"),R())},R=function(){N.data("tm")&&clearTimeout(N.data("tm")),N.removeData("tm"),N.hide()},S=a('<div class="'+u+" "+u+'-prev"></div>').on("click touchstart",function(a){return!F&&x(H),!1}),T=a('<div class="'+u+" "+u+'-next"></div>').on("click touchstart",function(a){return!F&&x(I),!1}),U=a('<div class="elfinder-quicklook-navbar"></div>').append(S).append(O).append(T).append('<div class="elfinder-quicklook-navbar-separator"></div>').append(a('<div class="'+u+" "+u+'-close"></div>').on("click touchstart",function(a){return!F&&l.window.trigger("close"),!1})),V=a('<span class="ui-front ui-icon elfinder-icon-close ui-icon-closethick"></span>').on("mousedown",function(a){a.stopPropagation(),l.window.trigger("close")}),W=a('<span class="ui-front ui-icon elfinder-icon-minimize ui-icon-minusthick"></span>').on("mousedown",function(a){a.stopPropagation(),l.docked()?l.window.trigger("navdockout"):l.window.trigger("navdockin")}),X='<span class="elfinder-spinner-text">'+m.i18n("calc")+'</span><span class="elfinder-spinner"></span>',Y="",Z=!0;this.flags={},this.cover=N,this.evUpdate=t,(this.navbar=U)._show=Q,this.resize="resize."+m.namespace,this.info=a("<div></div>").addClass(w).append(L).append(M),this.autoPlay=function(){return!!l.opened()&&!!l.options[l.docked()?"dockAutoplay":"autoplay"]},this.preview=a('<div class="elfinder-quicklook-preview ui-helper-clearfix"></div>').on("change",function(){Q(),U.attr("style",Y),l.docked()&&U.hide(),l.preview.attr("style","").removeClass("elfinder-overflow-auto"),l.info.attr("style","").hide(),l.cover.removeClass("elfinder-quicklook-coverbg"),L.removeAttr("class").attr("style",""),M.html("")}).on(t,function(b){var c,d,e=(l.preview,b.file),g='<div class="elfinder-quicklook-info-data">{value}</div>',h=function(){var h=l.window.css("overflow","hidden");d=m.escape(e.i18||e.name),!e.read&&b.stopImmediatePropagation(),l.window.data("hash",e.hash),l.preview.off("changesize").trigger("change").children().remove(),K.html(d),S.css("visibility",""),T.css("visibility",""),e.hash===m.cwdId2Hash(f.find("[id]:not(.elfinder-cwd-parent):first").attr("id"))&&S.css("visibility","hidden"),e.hash===m.cwdId2Hash(f.find("[id]:last").attr("id"))&&T.css("visibility","hidden"),"directory"===e.mime?j=[e.hash]:"group"===e.mime&&e.getSize&&(j=e.files),M.html(g.replace(/\{value\}/,d)+g.replace(/\{value\}/,m.mime2kind(e))+g.replace(/\{value\}/,j.length?X:m.formatSize(e.size))+g.replace(/\{value\}/,m.i18n("modify")+": "+m.formatDate(e))),j.length&&(i=m.getSize(j).done(function(a){M.find("span.elfinder-spinner").parent().html(a.formated)}).fail(function(){M.find("span.elfinder-spinner").parent().html(m.i18n("unknown"))}).always(function(){i=null}),i._hash=e.hash),L.addClass("elfinder-cwd-icon ui-corner-all "+m.mime2class(e.mime)),e.icon&&L.css(m.getIconStyle(e,!0)),l.info.attr("class",w),e.csscls&&l.info.addClass(e.csscls),e.read&&(c=m.tmb(e))&&a("<img/>").hide().appendTo(l.preview).on("load",function(){L.addClass(c.className).css("background-image","url('"+c.url+"')"),a(this).remove()}).attr("src",c.url),l.info.delay(100).fadeIn(10),l.window.hasClass(v)&&N.trigger("mousemove"),h.css("overflow","")},j=[];e&&!Object.keys(e).length&&(e=m.cwd()),e&&i&&"pending"===i.state()&&i._hash!==e.hash&&i.reject(),e&&(b.forceUpdate||l.window.data("hash")!==e.hash)?h():b.stopImmediatePropagation()}),this.window=a('<div class="ui-front ui-helper-reset ui-widget elfinder-quicklook touch-punch" style="position:absolute"></div>').hide().addClass(m.UA.Touch?"elfinder-touch":"").on("click",function(a){var b=this;a.stopPropagation(),s===p&&requestAnimationFrame(function(){s===p&&m.toFront(b)})}).append(a('<div class="ui-dialog-titlebar ui-widget-header ui-corner-top ui-helper-clearfix elfinder-quicklook-titlebar"></div>').append(a('<span class="ui-widget-header ui-dialog-titlebar-close ui-corner-all elfinder-titlebar-button elfinder-quicklook-titlebar-icon'+(C?" elfinder-titlebar-button-right":"")+'"></span>').append(V,W),K),this.preview,l.info.hide(),N.hide(),U).draggable({handle:"div.elfinder-quicklook-titlebar"}).on("open",function(a,b){var c=l.window,d=l.value,e=m.getUI("cwd"),f=function(a){s=a,l.update(1,l.value),l.change(),c.trigger("resize."+m.namespace)};Z||s!==n?s===r&&(m.getUI("navdock").data("addNode")(j),f(q),l.preview.trigger("changesize"),m.storage("previewDocked","1"),0===m.getUI("navdock").width()&&c.trigger("navdockout")):(d&&d.hash!==g&&(e=m.cwdHash2Elm(d.hash.split("/",2)[0])),Y="",U.attr("style",""),s=o,e.trigger("scrolltoview"),R(),c.css(b||y(e)).show().animate(z(),550,function(){f(p),Q()}),m.toFront(c))}).on("close",function(a,b){var c,d=l.window,e=l.preview.trigger("change"),g=(l.value,(d.data("hash")||"").split("/",2)[0]),h=function(a,c){s=a,c&&m.toHide(d),e.children().remove(),l.update(0,l.value),d.data("hash",""),b&&b.resolve()};l.opened()&&(i&&"pending"===i.state()&&i.reject(),l.docked()?(j=m.getUI("navdock").data("removeNode")(l.window.attr("id"),"detach"),h(r),m.storage("previewDocked","2")):(s=o,d.hasClass(v)&&O.click(),g&&(c=f.find("#"+g)).length?d.animate(y(c),500,function(){e.off("changesize"),h(n,!0)}):h(n,!0)))}).on("navdockin",function(a,b){var c=l.window,e=m.getUI("navdock"),f=h||e.width(),g=b||{};Z&&(g.init=!0),s=q,d=c.attr("style"),c.toggleClass("ui-front").removeClass("ui-widget").draggable("disable").resizable("disable").removeAttr("style").css({width:"100%",height:f,boxSizing:"border-box",paddingBottom:0,zIndex:"unset"}),U.hide(),W.toggleClass("ui-icon-plusthick ui-icon-minusthick elfinder-icon-full elfinder-icon-minimize"),m.toHide(c,!0),e.data("addNode")(c,g),l.preview.trigger("changesize"),m.storage("previewDocked","1")}).on("navdockout",function(b){var c=l.window,e=m.getUI("navdock"),f=(a.Deferred(),y(l.preview));h=c.outerHeight(),e.data("removeNode")(c.attr("id"),m.getUI()),c.toggleClass("ui-front").addClass("ui-widget").draggable("enable").resizable("enable").attr("style",d),W.toggleClass("ui-icon-plusthick ui-icon-minusthick elfinder-icon-full elfinder-icon-minimize"),s=n,c.trigger("open",f),m.storage("previewDocked","0")}).on("resize."+m.namespace,function(){l.preview.trigger("changesize")}),this.alwaysEnabled=!0,this.value=null,this.handlers={select:function(a,b){k&&cancelAnimationFrame(k),a.data&&a.data.selected&&a.data.selected.length?l.opened()&&P():k=requestAnimationFrame(function(){l.opened()&&P()})},error:function(){l.window.is(":visible")&&l.window.trigger("close")},"searchshow searchhide":function(){this.opened()&&this.window.trigger("close")},navbarshow:function(){requestAnimationFrame(function(){l.docked()&&l.preview.trigger("changesize")})},destroy:function(){l.window.remove()}},this.shortcuts=[{pattern:"space"}],this.support={audio:{ogg:B("audio/ogg;"),webm:B("audio/webm;"),mp3:B("audio/mpeg;"),wav:B("audio/wav;"),m4a:B("audio/mp4;")||B("audio/x-m4a;")||B("audio/aac;"),flac:B("audio/flac;"),amr:B("audio/amr;")},video:{ogg:B("video/ogg;"),webm:B("video/webm;"),mp4:B("video/mp4;"),mkv:B("video/x-matroska;")||B("video/webm;"),"3gp":B("video/3gpp;")||B("video/mp4;"),m3u8:B("application/x-mpegURL","video")||B("application/vnd.apple.mpegURL","video"),mpd:B("application/dash+xml","video")}},A={},this.closed=function(){return s==n||s==r},this.opened=function(){return s==p||s==q},this.docked=function(){return s==q},this.addIntegration=function(a){requestAnimationFrame(function(){m.trigger("helpIntegration",Object.assign({cmd:"quicklook"},a))})},this.init=function(){var d,i=this.options,j=this.window,k=this.preview;b=i.width>0?parseInt(i.width):450,c=i.height>0?parseInt(i.height):300,"auto"!==i.dockHeight&&((h=parseInt(i.dockHeight))||(h=void 0)),m.one("load",function(){D=m.getUI("navdock").data("dockEnabled"),!D&&W.hide(),e=m.getUI(),f=m.getUI("cwd"),m.zIndex&&j.css("z-index",m.zIndex+1),j.appendTo(e),a(document).on("keydown."+m.namespace,function(b){b.keyCode==a.ui.keyCode.ESCAPE&&l.opened()&&!l.docked()&&j.hasClass("elfinder-frontmost")&&j.trigger("close")}),j.resizable({handles:"se",minWidth:350,minHeight:120,resize:function(){k.trigger("changesize")}}),l.change(function(){l.opened()&&l.value&&(l.value.tmb&&1==l.value.tmb&&(l.value=Object.assign({},m.file(l.value.hash))),k.trigger(a.Event(t,{file:l.value})))}),k.on(t,function(a){var b,c,e;if(b=a.file){if(c=b.hash,e=m.searchStatus.mixed&&m.searchStatus.state>1,"directory"!==b.mime)if(parseInt(b.size)||b.mime.match(i.mimeRegexNotEmptyCheck)){if(l.dispInlineRegex=d,e||m.optionsByHashes[c])try{l.dispInlineRegex=new RegExp(m.option("dispInlineRegex",c),"i")}catch(a){try{l.dispInlineRegex=new RegExp(m.isRoot(b)?m.options.dispInlineRegex:m.option("dispInlineRegex",b.phash),"i")}catch(a){l.dispInlineRegex=/^$/}}}else a.stopImmediatePropagation();else l.dispInlineRegex=/^$/;l.info.show()}else a.stopImmediatePropagation()}),a.each(m.commands.quicklook.plugins||[],function(a,b){"function"==typeof b&&new b(l)})}).one("open",function(){var a,b=Number(m.storage("previewDocked")||i.docked);D&&b>=1&&(a=l.window,l.exec(),a.trigger("navdockin",{init:!0}),2===b?a.trigger("close"):(l.update(void 0,m.cwd()),l.change())),Z=!1}).bind("open",function(){g=m.cwd().hash,l.value=m.cwd();try{d=new RegExp(m.option("dispInlineRegex"),"i")}catch(a){d=/^$/}}).bind("change",function(b){b.data&&b.data.changed&&l.opened()&&a.each(b.data.changed,function(){if(l.window.data("hash")===this.hash)return l.window.data("hash",null),l.preview.trigger(t),!1})}).bind("navdockresizestart navdockresizestop",function(a){N["navdockresizestart"===a.type?"show":"hide"]()})},this.getstate=function(){return l.opened()?1:0},this.exec=function(){return l.closed()&&P(),l.enabled()&&l.window.trigger(l.opened()?"close":"open"),a.Deferred().resolve()},this.hideinfo=function(){this.info.stop(!0,!0).hide()}}).prototype={forceLoad:!0},d.prototype.commands.quicklook.plugins=[function(b){var c,d,e=["image/jpeg","image/png","image/gif","image/svg+xml","image/x-ms-bmp"],f=b.fm.returnBytes(b.options.getDimThreshold||0),g=b.preview;c=new Image,c.onload=c.onerror=function(){2==c.height&&e.push("image/webp")},c.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA",a.each(navigator.mimeTypes,function(b,c){var d=c.type;0===d.indexOf("image/")&&a.inArray(d,e)&&e.push(d)}),g.on(b.evUpdate,function(c){var h,i,j,k,l=b.fm,m=c.file,n=!1,o=null,p=function(a){var b=l.file(m.hash);b.width=a[0],b.height=a[1]},q=function(){var a,b,c,d,e;o&&o.state&&"pending"===o.state()&&o.reject(),n||(n=!0,a=h.get(0),b=m.width&&m.height?{w:m.width,h:m.height}:a.naturalWidth?null:{w:h.width(),h:h.height()},b&&h.removeAttr("width").removeAttr("height"),c=m.width||a.naturalWidth||a.width||h.width(),d=m.height||a.naturalHeight||a.height||h.height(),m.width&&m.height||p([c,d]),b&&h.width(b.w).height(b.h),e=(c/d).toFixed(2),g.on("changesize",function(){var a,b,c=parseInt(g.width()),d=parseInt(g.height());e<(c/d).toFixed(2)?(b=d,a=Math.floor(b*e)):(a=c,b=Math.floor(a/e)),h.width(a).height(b).css("margin-top",b<d?Math.floor((d-b)/2):0)}).trigger("changesize"),h.fadeIn(100))},r=function(){i.remove(),b.hideinfo()};d||(d=l.arrayFlip(e)),d[m.mime]&&b.dispInlineRegex.test(m.mime)&&(c.stopImmediatePropagation(),i=a('<div class="elfinder-quicklook-info-data"><span class="elfinder-spinner-text">'+l.i18n("nowLoading")+'</span><span class="elfinder-spinner"></span></div>').appendTo(b.info.find(".elfinder-quicklook-info")),j=a('<div class="elfinder-quicklook-info-progress"></div>').appendTo(i),h=a("<img/>").hide().appendTo(g).on("load",function(){r(),q()}).on("error",function(){i.remove()}),k=l.openUrl(m.hash,!1,function(a){h.attr("src",a)},{progressBar:j}),g.one("change",function(){k&&k.state&&"pending"===k.state()&&k.reject()}),m.width&&m.height?q():m.size>f&&(o=l.request({data:{cmd:"dim",target:m.hash},preventDefault:!0}).done(function(a){if(a.dim){var b=a.dim.split("x");m.width=b[0],m.height=b[1],p(b),q()}})))})},function(b){var c=b.fm,d=b.preview;window.Worker&&window.Uint8Array&&d.on(b.evUpdate,function(e){var f,g,h,i,j,k=e.file,l=function(a){i&&i.terminate(),f.remove(),c.debug("error",a)},m=function(a){var b=c.file(k.hash);b.width=a[0],b.height=a[1]};"image/tiff"===k.mime&&(e.stopImmediatePropagation(),f=a('<div class="elfinder-quicklook-info-data"><span class="elfinder-spinner-text">'+c.i18n("nowLoading")+'</span><span class="elfinder-spinner"></span></div>').appendTo(b.info.find(".elfinder-quicklook-info")),g=a('<div class="elfinder-quicklook-info-progress"></div>').appendTo(f),d.one("change",function(){i&&i.terminate(),f.remove()}),j=c.getContents(k.hash,"arraybuffer",{progressBar:g}).done(function(g){if(g){h=a("<div></div>").css({width:"100%",height:"100%"}).hide().appendTo(d);try{i=c.getWorker(),i.onmessage=function(c){var e,g,j,l,n=c.data;i&&i.terminate(),e=document.createElement("canvas"),g=e.getContext("2d"),e.width=n.width,e.height=n.height,j=g.createImageData(n.width,n.height),j.data.set(new Uint8Array(n.image)),g.putImageData(j,0,0),h.append(e).show(),f.remove(),l=(n.width/n.height).toFixed(2),d.on("changesize",function(){var b,c,f=parseInt(d.width()),g=parseInt(d.height());l<(f/g).toFixed(2)?(c=g,b=Math.floor(c*l)):(b=f,c=Math.floor(b/l)),a(e).width(b).height(c).css("margin-top",c<g?Math.floor((g-c)/2):0)}).trigger("changesize"),k.width&&k.height||m([n.width,n.height]),b.hideinfo()},i.onerror=l,i.postMessage({scripts:[c.options.cdns.tiff,c.getWorkerUrl("quicklook.tiff.js")],data:{data:g}})}catch(e){l(e)}}else l()}),d.one("change",function(){j&&j.state&&"pending"===j.state()&&j.reject()}))})},function(b){var c,d=b.fm,e=d.arrayFlip(["image/vnd.adobe.photoshop","image/x-photoshop"]),f=b.preview,g=function(a,e,g){try{d.replaceXhrSend(),c.fromURL(a).then(function(a){var c;e.attr("src",a.image.toBase64()),requestAnimationFrame(function(){c=(e.width()/e.height()).toFixed(2),f.on("changesize",function(){var a,b,d=parseInt(f.width()),g=parseInt(f.height());c<(d/g).toFixed(2)?(b=g,a=Math.floor(b*c)):(a=d,b=Math.floor(a/c)),e.width(a).height(b).css("margin-top",b<g?Math.floor((g-b)/2):0)}).trigger("changesize"),g.remove(),b.hideinfo(),e.fadeIn(100)})},function(){g.remove(),e.remove()}),d.restoreXhrSend()}catch(h){d.restoreXhrSend(),g.remove(),e.remove()}};f.on(b.evUpdate,function(h){var i,j,k,l,m,n,o=h.file;e[o.mime]&&d.options.cdns.psd&&!d.UA.ltIE10&&b.dispInlineRegex.test(o.mime)&&(h.stopImmediatePropagation(),j=a('<div class="elfinder-quicklook-info-data"><span class="elfinder-spinner-text">'+d.i18n("nowLoading")+'</span><span class="elfinder-spinner"></span></div>').appendTo(b.info.find(".elfinder-quicklook-info")),k=a('<div class="elfinder-quicklook-info-progress"></div>').appendTo(j),n=d.openUrl(o.hash,"sameorigin",function(b){b&&(i=a("<img/>").hide().appendTo(f),c?g(b,i,j):(l=window.define,m=window.require,window.require=null,window.define=null,d.loadScript([d.options.cdns.psd],function(){c=require("psd"),l?window.define=l:delete window.define,m?window.require=m:delete window.require,g(b,i,j)})))},{progressBar:k}),f.one("change",function(){n&&n.state&&"pending"===n.state()&&n.reject()}))})},function(b){var c=b.fm,d=c.arrayFlip(["text/html","application/xhtml+xml"]),e=b.preview;e.on(b.evUpdate,function(f){var g,h,i,j=f.file;d[j.mime]&&b.dispInlineRegex.test(j.mime)&&(!b.options.getSizeMax||j.size<=b.options.getSizeMax)&&(f.stopImmediatePropagation(),h=a('<div class="elfinder-quicklook-info-data"><span class="elfinder-spinner-text">'+c.i18n("nowLoading")+'</span><span class="elfinder-spinner"></span></div>').appendTo(b.info.find(".elfinder-quicklook-info")),i=a('<div class="elfinder-quicklook-info-progress"></div>').appendTo(h),e.one("change",function(){"pending"==g.state()&&g.reject()}).addClass("elfinder-overflow-auto"),g=c.request({data:{cmd:"get",target:j.hash,conv:1,_t:j.ts},options:{type:"get",cache:!0},preventDefault:!0,progressBar:i}).done(function(c){b.hideinfo();var d=a('<iframe class="elfinder-quicklook-preview-html"></iframe>').appendTo(e)[0].contentWindow.document;d.open(),d.write(c.content),d.close()}).always(function(){h.remove()}))})},function(b){var c=b.fm,d=c.arrayFlip(["text/x-markdown"]),e=b.preview,f=null,g=function(c,d){b.hideinfo();var g=a('<iframe class="elfinder-quicklook-preview-html"></iframe>').appendTo(e)[0].contentWindow.document;g.open(),g.write(f(c.content)),g.close(),d.remove()},h=function(a){f=!1,a.remove()};e.on(b.evUpdate,function(i){var j,k,l,m=i.file;d[m.mime]&&c.options.cdns.marked&&!1!==f&&b.dispInlineRegex.test(m.mime)&&(!b.options.getSizeMax||m.size<=b.options.getSizeMax)&&(i.stopImmediatePropagation(),k=a('<div class="elfinder-quicklook-info-data"><span class="elfinder-spinner-text">'+c.i18n("nowLoading")+'</span><span class="elfinder-spinner"></span></div>').appendTo(b.info.find(".elfinder-quicklook-info")),l=a('<div class="elfinder-quicklook-info-progress"></div>').appendTo(k),e.one("change",function(){"pending"==j.state()&&j.reject()}).addClass("elfinder-overflow-auto"),j=c.request({data:{cmd:"get",target:m.hash,conv:1,_t:m.ts},options:{type:"get",cache:!0},preventDefault:!0,progressBar:l}).done(function(a){f||window.marked?(f||(f=window.marked),g(a,k)):c.loadScript([c.options.cdns.marked],function(b){f=b||window.marked||!1,delete window.marked,f?g(a,k):h(k)},{tryRequire:!0,error:function(){h(k)}})}).fail(function(){h(k)}))})},function(b){if(b.options.viewerjs){var c=b.fm,d=b.preview,e=b.options.viewerjs,f=e.url?c.arrayFlip(e.mimes||[]):[],g=b.window,h=b.navbar,i=function(){h.css("bottom",g.hasClass("elfinder-quicklook-fullscreen")?"30px":"")};e.url&&d.on("update",function(h){var j,k,l,m,n=h.file;!f[n.mime]||"application/pdf"===n.mime&&e.pdfNative&&b.flags.pdfNative||(h.stopImmediatePropagation(),k=a('<div class="elfinder-quicklook-info-data"><span class="elfinder-spinner-text">'+c.i18n("nowLoading")+'</span><span class="elfinder-spinner"></span></div>').appendTo(b.info.find(".elfinder-quicklook-info")),l=a('<div class="elfinder-quicklook-info-progress"></div>').appendTo(k),m=c.openUrl(n.hash,"sameorigin",function(c){c&&(j=a('<iframe class="elfinder-quicklook-preview-iframe"></iframe>').css("background-color","transparent").on("load",function(){b.hideinfo(),k.remove(),
j.css("background-color","#fff")}).on("error",function(){k.remove(),j.remove()}).appendTo(d).attr("src",e.url+"#"+c),g.on("viewchange.viewerjs",i),i(),d.one("change",function(){g.off("viewchange.viewerjs"),k.remove(),j.off("load").remove()}))},{progressBar:l}),d.one("change",function(){m&&m.state&&"pending"===m.state()&&m.reject()}))})}},function(b){var c=b.fm,d="application/pdf",e=b.preview,f=!1,g="";c.UA.Safari&&"mac"===c.OS&&!c.UA.iOS||c.UA.IE||c.UA.Firefox?f=!0:a.each(navigator.plugins,function(b,c){a.each(c,function(a,b){if(b.type===d)return!(f=!0)})}),b.flags.pdfNative=f,f&&(void 0===b.options.pdfToolbar||b.options.pdfToolbar||(g="#toolbar=0"),e.on(b.evUpdate,function(h){var i,j=h.file;f&&j.mime===d&&b.dispInlineRegex.test(j.mime)&&(h.stopImmediatePropagation(),i=c.openUrl(j.hash,!1,function(d){d&&(b.hideinfo(),b.cover.addClass("elfinder-quicklook-coverbg"),a('<object class="elfinder-quicklook-preview-pdf" data="'+d+g+'" type="application/pdf" ></object>').on("error",function(a){f=!1,b.update(void 0,c.cwd()),b.update(void 0,j)}).appendTo(e))}),e.one("change",function(){i&&i.state&&"pending"===i.state()&&i.reject()}))}))},function(b){var c=b.fm,d="application/x-shockwave-flash",e=b.preview,f=!1;a.each(navigator.plugins,function(b,c){a.each(c,function(a,b){if(b.type===d)return!(f=!0)})}),f&&e.on(b.evUpdate,function(f){var g,h,i=f.file;i.mime===d&&b.dispInlineRegex.test(i.mime)&&(f.stopImmediatePropagation(),h=c.openUrl(i.hash,!1,function(c){c&&(b.hideinfo(),g=a('<embed class="elfinder-quicklook-preview-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" src="'+c+'" quality="high" type="application/x-shockwave-flash" wmode="transparent" />').appendTo(e))}),e.one("change",function(){h&&h.state&&"pending"===h.state()&&h.reject()}))})},function(b){var c,d,e,f,g,h,i=b.fm,j=b.preview,k={"audio/mpeg":"mp3","audio/mpeg3":"mp3","audio/mp3":"mp3","audio/x-mpeg3":"mp3","audio/x-mp3":"mp3","audio/x-wav":"wav","audio/wav":"wav","audio/x-m4a":"m4a","audio/aac":"m4a","audio/mp4":"m4a","audio/x-mp4":"m4a","audio/ogg":"ogg","audio/webm":"webm","audio/flac":"flac","audio/x-flac":"flac","audio/amr":"amr"},l=b.window,m=b.navbar,n="string"==typeof b.options.mediaControlsList&&b.options.mediaControlsList?' controlsList="'+i.escape(b.options.mediaControlsList)+'"':"",o=function(){m.css("bottom",l.hasClass("elfinder-quicklook-fullscreen")?"50px":"")},p=function(b,d){return a('<audio class="elfinder-quicklook-preview-audio ui-front" controls'+n+' preload="auto" autobuffer><source src="'+b+'" ></source></audio>').on("change",function(a){a.stopPropagation()}).on("error",function(a){c&&c.data("hash")===d&&s()}).data("hash",d).appendTo(j)},q=function(b){var c,d=a.Deferred(),f=a.Deferred().done(function(){var a;a=i.getContents(b,"arraybuffer",{progressBar:h}).done(function(a){try{var b=e.toWAV(new Uint8Array(a));b?d.resolve(URL.createObjectURL(new Blob([b],{type:"audio/x-wav"}))):d.reject()}catch(c){d.reject()}}).fail(function(){d.reject()}),j.one("change",function(){a&&a.state&&"pending"===a.state()&&a.reject()})}).fail(function(){e=!1,d.reject()});return window.TextEncoder&&window.URL&&URL.createObjectURL&&void 0===e?(c=window.AMR,delete window.AMR,i.loadScript([i.options.cdns.amr],function(){e=!!window.AMR&&window.AMR,window.AMR=c,f[e?"resolve":"reject"]()},{error:function(){f.reject()}})):f[e?"resolve":"reject"](),d},r=function(a){var b,d=c.data("hash");f&&(b=a.play()),b&&b.catch&&b.catch(function(b){a.paused||c&&c.data("hash")===d&&s()})},s=function(){if(c&&c.parent().length){var a=c[0],b=c.children("source").attr("src");l.off("viewchange.audio");try{a.pause(),c.empty(),b.match(/^blob:/)&&URL.revokeObjectURL(b),a.src="",a.load()}catch(d){}c.remove(),c=null}};j.on(b.evUpdate,function(m){var n,s,t=m.file,u=k[t.mime];k[t.mime]&&b.dispInlineRegex.test(t.mime)&&((n=b.support.audio[u])||"amr"===u)&&(f=b.autoPlay(),d=t.hash,n?(m.stopImmediatePropagation(),g=a('<div class="elfinder-quicklook-info-data"><span class="elfinder-spinner-text">'+i.i18n("nowLoading")+'</span><span class="elfinder-spinner"></span></div>').appendTo(b.info.find(".elfinder-quicklook-info")),h=a('<div class="elfinder-quicklook-info-progress"></div>').appendTo(g),s=i.openUrl(d,!1,function(a){g.remove(),a?(c=p(a,d),r(c[0]),l.on("viewchange.audio",o),o()):c.remove()},{progressBar:h}),j.one("change",function(){s&&s.state&&"pending"===s.state()&&s.reject()})):i.options.cdns.amr&&"amr"===u&&!1!==e&&(m.stopImmediatePropagation(),g=a('<div class="elfinder-quicklook-info-data"><span class="elfinder-spinner-text">'+i.i18n("nowLoading")+'</span><span class="elfinder-spinner"></span></div>').appendTo(b.info.find(".elfinder-quicklook-info")),h=a('<div class="elfinder-quicklook-info-progress"></div>').appendTo(g),c=p("",d),q(t.hash).done(function(a){if(g.remove(),d===t.hash){var b=c[0];try{c.children("source").attr("src",a),b.pause(),b.load(),r(b),l.on("viewchange.audio",o),o()}catch(e){URL.revokeObjectURL(a),c.remove()}}else URL.revokeObjectURL(a)}).fail(function(){c.remove()})))}).one("change",s)},function(b){var c,d,e,f,g,h,i,j,k,l,m=b.fm,n=b.preview,o={"video/mp4":"mp4","video/x-m4v":"mp4","video/quicktime":"mp4","video/mpeg":"mpeg","video/ogg":"ogg","application/ogg":"ogg","video/webm":"webm","video/x-matroska":"mkv","video/3gpp":"3gp","application/vnd.apple.mpegurl":"m3u8","application/x-mpegurl":"m3u8","application/dash+xml":"mpd","video/x-flv":"flv","video/x-msvideo":"avi"},p=b.window,q=b.navbar,r="string"==typeof b.options.mediaControlsList&&b.options.mediaControlsList?' controlsList="'+m.escape(b.options.mediaControlsList)+'"':"",s=function(){m.UA.iOS?p.hasClass("elfinder-quicklook-fullscreen")?(n.css("height","-webkit-calc(100% - 50px)"),q._show()):n.css("height",""):q.css("bottom",p.hasClass("elfinder-quicklook-fullscreen")?"50px":"")},t=function(d,e){var g,h=function(a){i>1&&(j&&clearTimeout(j),j=setTimeout(function(){!g&&z(!0)},800))},i=0;f=null,e=e||{},b.hideinfo(),c=a('<video class="elfinder-quicklook-preview-video" controls'+r+' preload="auto" autobuffer playsinline></video>').on("change",function(a){a.stopPropagation()}).on("timeupdate progress",h).on("canplay",function(){g=!0}).data("hash",d.hash),c[0].addEventListener("error",function(a){e.src&&m.convAbsUrl(e.src)===m.convAbsUrl(a.target.src)&&(++i,h())},!0),e.src&&c.append('<source src="'+e.src+'" type="'+d.mime+'"></source><source src="'+e.src+'"></source>'),c.appendTo(n),p.on("viewchange.video",s),s()},u=function(a){var b,e;e=m.openUrl(a.hash,!1,function(e){k.remove(),e&&(t(a),b=new d,b.loadSource(e),b.attachMedia(c[0]),i&&b.on(d.Events.MANIFEST_PARSED,function(){y(c[0])}))},{progressBar:l}),n.one("change",function(){e&&e.state&&"pending"===e.state()&&e.reject()})},v=function(a){var b;b=m.openUrl(a.hash,!1,function(b){var d;k.remove(),b&&(t(a),f=window.dashjs.MediaPlayer().create(),d=f.getDebug(),d.setLogLevel?d.setLogLevel(dashjs.Debug.LOG_LEVEL_FATAL):d.setLogToBrowserConsole&&d.setLogToBrowserConsole(!1),f.initialize(c[0],b,i),f.on("error",function(a){z(!0)}))},{progressBar:l}),n.one("change",function(){b&&b.state&&"pending"===b.state()&&b.reject()})},w=function(a){var b;return g.isSupported()?(b=m.openUrl(a.hash,!1,function(b){if(k.remove(),b){var d=g.createPlayer({type:"flv",url:b});t(a),d.on(g.Events.ERROR,function(){d.destroy(),z(!0)}),d.attachMediaElement(c[0]),d.load(),y(d)}},{progressBar:l}),void n.one("change",function(){b&&b.state&&"pending"===b.state()&&b.reject()})):void(g=!1)},x=function(a){var b;b=m.openUrl(a.hash,!1,function(b){k.remove(),b&&(t(a),c[0].src=b,h(c[0],{src:b}))},{progressBar:l}),n.one("change",function(){b&&b.state&&"pending"===b.state()&&b.reject()})},y=function(a){var b,d=c.data("hash");i&&(b=a.play()),b&&b.catch&&b.catch(function(b){a.paused||c&&c.data("hash")===d&&z(!0)})},z=function(a){if(j&&clearTimeout(j),c&&c.parent().length){var d=c[0];p.off("viewchange.video"),f&&f.reset();try{d.pause(),c.empty(),d.src="",d.load()}catch(e){}c.remove(),c=null}a&&b.info.show()};n.on(b.evUpdate,function(f){var j,p,q=f.file,r=q.mime.toLowerCase(),s=o[r];o[r]&&b.dispInlineRegex.test(q.mime)&&(i=b.autoPlay(),k=a('<div class="elfinder-quicklook-info-data"><span class="elfinder-spinner-text">'+m.i18n("nowLoading")+'</span><span class="elfinder-spinner"></span></div>'),l=a('<div class="elfinder-quicklook-info-progress"></div>').appendTo(k),b.support.video[s]&&("m3u8"!==s||m.UA.Safari)?(f.stopImmediatePropagation(),k.appendTo(b.info.find(".elfinder-quicklook-info")),p=m.openUrl(q.hash,!1,function(a){k.remove(),a&&(t(q,{src:a}),y(c[0]))},{progressBar:l}),n.one("change",function(){p&&p.state&&"pending"===p.state()&&p.reject()})):!1!==d&&m.options.cdns.hls&&"m3u8"===s?(f.stopImmediatePropagation(),k.appendTo(b.info.find(".elfinder-quicklook-info")),d?u(q):(j=window.Hls,delete window.Hls,m.loadScript([m.options.cdns.hls],function(a){d=a||window.Hls||!1,window.Hls=j,d&&u(q)},{tryRequire:!0,error:function(){d=!1}}))):!1!==e&&m.options.cdns.dash&&"mpd"===s?(f.stopImmediatePropagation(),k.appendTo(b.info.find(".elfinder-quicklook-info")),e?v(q):m.loadScript([m.options.cdns.dash],function(){(e=!!window.dashjs)&&v(q)},{tryRequire:!0,error:function(){e=!1}})):!1!==g&&m.options.cdns.flv&&"flv"===s?(f.stopImmediatePropagation(),k.appendTo(b.info.find(".elfinder-quicklook-info")),g?w(q):(j=window.flvjs,delete window.flvjs,m.loadScript([m.options.cdns.flv],function(a){g=a||window.flvjs||!1,window.flvjs=j,g&&w(q)},{tryRequire:!0,error:function(){g=!1}}))):m.options.cdns.videojs&&(f.stopImmediatePropagation(),k.appendTo(b.info.find(".elfinder-quicklook-info")),h?x(q):m.loadScript([m.options.cdns.videojs+"/video.min.js"],function(a){(h=a||window.videojs||!1)&&x(q)},{tryRequire:!0,error:function(){h=!1}}).loadCss([m.options.cdns.videojs+"/video-js.min.css"])))}).one("change",z)},function(b){var c,d=b.preview,e=[],f=b.window,g=b.navbar;a.each(navigator.plugins,function(b,c){a.each(c,function(a,b){(0===b.type.indexOf("audio/")||0===b.type.indexOf("video/"))&&e.push(b.type)})}),e=b.fm.arrayFlip(e),d.on(b.evUpdate,function(h){var i,j,k,l,m=h.file,n=m.mime,o=function(){g.css("bottom",f.hasClass("elfinder-quicklook-fullscreen")?"50px":"")};e[m.mime]&&b.dispInlineRegex.test(m.mime)&&(h.stopImmediatePropagation(),k=a('<div class="elfinder-quicklook-info-data"><span class="elfinder-spinner-text">'+fm.i18n("nowLoading")+'</span><span class="elfinder-spinner"></span></div>').appendTo(b.info.find(".elfinder-quicklook-info")),l=a('<div class="elfinder-quicklook-info-progress"></div>').appendTo(k),j=b.fm.openUrl(m.hash,!1,function(e){k.remove(),e&&((i=0===n.indexOf("video/"))&&b.hideinfo(),c=a('<embed src="'+e+'" type="'+n+'" class="elfinder-quicklook-preview-'+(i?"video":"audio")+'"/>').appendTo(d),f.on("viewchange.embed",o),o())},{progressBar:l}),d.one("change",function(){j&&j.state&&"pending"===j.state()&&j.reject()}))}).one("change",function(){c&&c.parent().length&&(f.off("viewchange.embed"),c.remove(),c=null)})},function(b){var c=b.fm,d=c.arrayFlip(["application/zip","application/x-gzip","application/x-tar","application/x-bzip2"]),e=b.preview,f=c.returnBytes(b.options.unzipMaxSize||0),g=!(!c.options.cdns.zlibUnzip||!c.options.cdns.zlibGunzip),h=!!c.options.cdns.bzip2;window.Worker&&window.Uint8Array&&window.DataView&&e.on(b.evUpdate,function(i){var j=i.file,k="application/x-tar"===j.mime,l="application/x-bzip2"===j.mime,m="application/zip"===j.mime||"application/x-gzip"===j.mime;if(d[j.mime]&&(!f||j.size<=f)&&(k||l&&h||m&&g)){var n,o,p,q,r=function(){n=c.getContents(j.hash,"arraybuffer",{progressBar:q}).fail(function(){p.remove()}).done(function(a){var b=function(a){o&&o.terminate(),p.remove(),m?g=!1:l&&(h=!1),c.debug("error",a)};try{o=c.getWorker(),o.onmessage=function(a){o&&o.terminate(),p.remove(),!a.data||a.data.error?new Error(a.data&&a.data.error?a.data.error:""):s(a.data.files)},o.onerror=b,"application/x-tar"===j.mime?o.postMessage({scripts:[c.getWorkerUrl("quicklook.unzip.js")],data:{type:"tar",bin:a}}):"application/zip"===j.mime?o.postMessage({scripts:[c.options.cdns.zlibUnzip,c.getWorkerUrl("quicklook.unzip.js")],data:{type:"zip",bin:a}}):"application/x-gzip"===j.mime?o.postMessage({scripts:[c.options.cdns.zlibGunzip,c.getWorkerUrl("quicklook.unzip.js")],data:{type:"gzip",bin:a}}):"application/x-bzip2"===j.mime&&o.postMessage({scripts:[c.options.cdns.bzip2,c.getWorkerUrl("quicklook.unzip.js")],data:{type:"bzip2",bin:a}})}catch(d){b(d)}})},s=function(d){var f,g,h=0;d&&d.length&&(d=a.map(d,function(a){return c.decodeRawString(a)}),d.sort(),g=c.escape(d.join("\n").replace(/\{formatSize\((\d+)\)\}/g,function(a,b){return h+=parseInt(b),c.formatSize(b)})),f="<strong>"+c.escape(j.mime)+"</strong> ("+c.formatSize(j.size)+" / "+c.formatSize(h)+")<hr/>",a('<div class="elfinder-quicklook-preview-archive-wrapper">'+f+'<pre class="elfinder-quicklook-preview-text">'+g+"</pre></div>").on("touchstart",function(b){a(this)["scroll"+("ltr"===c.direction?"Right":"Left")]()>5&&(b.originalEvent._preventSwipeX=!0)}).appendTo(e),b.hideinfo()),p.remove()};i.stopImmediatePropagation(),p=a('<div class="elfinder-quicklook-info-data"><span class="elfinder-spinner-text">'+c.i18n("nowLoading")+'</span><span class="elfinder-spinner"></span></div>').appendTo(b.info.find(".elfinder-quicklook-info")),q=a('<div class="elfinder-quicklook-info-progress"></div>').appendTo(p),e.one("change",function(){"pending"===n.state()&&n.reject(),o&&o.terminate(),p.remove()}),r()}})},function(b){var c,d=b.fm,e=d.arrayFlip(["application/x-rar"]),f=b.preview;window.DataView&&f.on(b.evUpdate,function(g){var h=g.file;if(e[h.mime]&&d.options.cdns.rar&&!1!==c){var i,j,k,l,m,n,o=function(e){if(l)return void i.remove();try{k=c({file:e,type:2,xhrHeaders:d.customHeaders,xhrFields:d.xhrFields},function(c){i.remove();var e,g=[];return l||c?void(c&&d.debug("error",c)):(a.each(k.entries,function(){g.push(this.path+(this.size?" ("+d.formatSize(this.size)+")":""))}),void(g.length&&(g=a.map(g,function(a){return d.decodeRawString(a)}),g.sort(),e="<strong>"+d.escape(h.mime)+"</strong> ("+d.formatSize(h.size)+")<hr/>",a('<div class="elfinder-quicklook-preview-archive-wrapper">'+e+'<pre class="elfinder-quicklook-preview-text">'+d.escape(g.join("\n"))+"</pre></div>").on("touchstart",function(b){a(this)["scroll"+("ltr"===d.direction?"Right":"Left")]()>5&&(b.originalEvent._preventSwipeX=!0)}).appendTo(f),b.hideinfo())))})}catch(g){i.remove()}},p=function(){c=!1,i.remove()};g.stopImmediatePropagation(),i=a('<div class="elfinder-quicklook-info-data"><span class="elfinder-spinner-text">'+d.i18n("nowLoading")+'</span><span class="elfinder-spinner"></span></div>').appendTo(b.info.find(".elfinder-quicklook-info")),j=a('<div class="elfinder-quicklook-info-progress"></div>').appendTo(i),f.one("change",function(){k&&(k.abort=!0),i.remove(),l=!0}),n=d.openUrl(h.hash,"sameorigin",function(a){a&&(c?o(a):(window.RarArchive&&(m=window.RarArchive,delete window.RarArchive),d.loadScript([d.options.cdns.rar],function(){d.hasRequire?require(["rar"],function(b){c=b,o(a)},p):(c=window.RarArchive)?(m?window.RarArchive=m:delete window.RarArchive,o(a)):p()},{tryRequire:!0,error:p})))},{progressBar:j,temporary:!0}),f.one("change",function(){n&&n.state&&"pending"===n.state()&&n.reject()})}})},function(b){var c,d=b.fm,e=d.arrayFlip(b.options.sharecadMimes||[]),f=b.preview;b.window,b.options.sharecadMimes.length&&b.addIntegration({title:"ShareCAD.org CAD and 3D-Models viewer",link:"https://sharecad.org/DWGOnlinePlugin"}),f.on(b.evUpdate,function(g){var h=g.file;if(e[h.mime.toLowerCase()]&&d.option("onetimeUrl",h.hash)){var i,j,k;b.window,g.stopImmediatePropagation(),"1"==h.url&&(f.hide(),a('<div class="elfinder-quicklook-info-data"><button class="elfinder-info-button">'+d.i18n("getLink")+"</button></div>").appendTo(b.info.find(".elfinder-quicklook-info")).on("click",function(){var c=a(this);c.html('<span class="elfinder-spinner">'),d.request({data:{cmd:"url",target:h.hash},preventDefault:!0,progressBar:j}).always(function(){c.html("")}).done(function(a){var c=d.file(h.hash);h.url=c.url=a.url||"",h.url&&f.trigger({type:b.evUpdate,file:h,forceUpdate:!0})})})),""!==h.url&&"1"!=h.url&&(f.one("change",function(){i.remove(),c.off("load").remove(),c=null}).addClass("elfinder-overflow-auto"),i=a('<div class="elfinder-quicklook-info-data"><span class="elfinder-spinner-text">'+d.i18n("nowLoading")+'</span><span class="elfinder-spinner"></span></div>').appendTo(b.info.find(".elfinder-quicklook-info")),j=a('<div class="elfinder-quicklook-info-progress"></div>').appendTo(i),k=d.convAbsUrl(d.url(h.hash)),c=a('<iframe class="elfinder-quicklook-preview-iframe" scrolling="no"></iframe>').css("background-color","transparent").appendTo(f).on("load",function(){b.hideinfo(),i.remove(),b.preview.after(b.info),a(this).css("background-color","#fff").show()}).on("error",function(){i.remove(),b.preview.after(b.info)}).attr("src","//sharecad.org/cadframe/load?url="+encodeURIComponent(k)),b.info.after(b.preview))}})},function(b){var c,d,e,f,g,h=b.fm,i={"application/vnd.google-earth.kml+xml":!0,"application/vnd.google-earth.kmz":!0},j=b.preview;b.options.googleMapsApiKey&&(b.addIntegration({title:"Google Maps",link:"https://www.google.com/intl/"+h.lang.replace("_","-")+"/help/terms_maps.html"}),c=window.google&&google.maps,d=function(a,d,e){var g=b.options.googleMapsOpts.maps;h.forExternalUrl(a.hash,{progressBar:e}).done(function(a){if(a)try{new c.KmlLayer(a,Object.assign({map:new c.Map(d.get(0),g)},b.options.googleMapsOpts.kml)),b.hideinfo()}catch(e){f()}else f()})},e=window.gm_authFailure,f=function(){g=null},g="https://maps.googleapis.com/maps/api/js?key="+b.options.googleMapsApiKey,window.gm_authFailure=function(){f(),e&&e()},j.on(b.evUpdate,function(e){var f=e.file;if(g&&i[f.mime.toLowerCase()]){var k,l,m,n=(b.window,"1"==f.url&&!h.option("onetimeUrl",f.hash));e.stopImmediatePropagation(),k=a('<div class="elfinder-quicklook-info-data"><span class="elfinder-spinner-text">'+h.i18n("nowLoading")+'</span><span class="elfinder-spinner"></span></div>').appendTo(b.info.find(".elfinder-quicklook-info")),l=a('<div class="elfinder-quicklook-info-progress"></div>').appendTo(k),n&&(j.hide(),a('<div class="elfinder-quicklook-info-data"><button class="elfinder-info-button">'+h.i18n("getLink")+"</button></div>").appendTo(b.info.find(".elfinder-quicklook-info")).on("click",function(){var c=a(this);c.html('<span class="elfinder-spinner">'),h.request({data:{cmd:"url",target:f.hash},preventDefault:!0,progressBar:l}).always(function(){k.remove(),c.html("")}).done(function(a){var c=h.file(f.hash);f.url=c.url=a.url||"",f.url&&j.trigger({type:b.evUpdate,file:f,forceUpdate:!0})})})),""===f.url||n||(m=a('<div style="width:100%;height:100%;"></div>').appendTo(j),j.one("change",function(){m.remove(),m=null}),c?d(f,m,l):h.loadScript([g],function(){(c=window.google&&google.maps)&&d(f,m,l)}))}}))},function(b){var c,d,e=b.fm,f=Object.assign(e.arrayFlip(b.options.googleDocsMimes||[],"g"),e.arrayFlip(b.options.officeOnlineMimes||[],"m")),g=b.preview,h=(b.window,b.navbar),i={g:"docs.google.com/gview?embedded=true&url=",m:"view.officeapps.live.com/op/embed.aspx?wdStartOn=0&src="},j={g:"56px",m:"24px"},k={xls:5242880,xlsb:5242880,xlsx:5242880,xlsm:5242880,other:10485760};b.options.googleDocsMimes.length&&(d=!0,b.addIntegration({title:"Google Docs Viewer",link:"https://docs.google.com/"})),b.options.officeOnlineMimes.length&&(d=!0,b.addIntegration({title:"MS Online Doc Viewer",link:"https://products.office.com/office-online/view-office-documents-online"})),d&&g.on(b.evUpdate,function(d){var l,m,n=d.file;if(n.size<=26214400&&(l=f[n.mime])){var o,p,q,r=b.window,s=function(){h.css("bottom",r.hasClass("elfinder-quicklook-fullscreen")?j[l]:"")},t=e.mimeTypes[n.mime],u="1"==n.url&&!e.option("onetimeUrl",n.hash);"m"===l&&(k[t]&&n.size>k[t]||n.size>k.other)&&(l="g"),u&&(g.hide(),a('<div class="elfinder-quicklook-info-data"><button class="elfinder-info-button">'+e.i18n("getLink")+"</button></div>").appendTo(b.info.find(".elfinder-quicklook-info")).on("click",function(){var c=a(this);c.html('<span class="elfinder-spinner">'),e.request({data:{cmd:"url",target:n.hash},preventDefault:!0}).always(function(){c.html("")}).done(function(a){var c=e.file(n.hash);n.url=c.url=a.url||"",n.url&&g.trigger({type:b.evUpdate,file:n,forceUpdate:!0})})})),""===n.url||u||(d.stopImmediatePropagation(),g.one("change",function(){m&&m.status&&"pending"===m.status()&&m.reject(),r.off("viewchange.googledocs"),o.remove(),c.off("load").remove(),c=null}).addClass("elfinder-overflow-auto"),o=a('<div class="elfinder-quicklook-info-data"><span class="elfinder-spinner-text">'+e.i18n("nowLoading")+'</span><span class="elfinder-spinner"></span></div>').appendTo(b.info.find(".elfinder-quicklook-info")),p=a('<div class="elfinder-quicklook-info-progress"></div>').appendTo(o),c=a('<iframe class="elfinder-quicklook-preview-iframe"></iframe>').css("background-color","transparent").appendTo(g),m=e.forExternalUrl(n.hash,{progressBar:p}).done(function(d){var e=function(){try{!c||c.attr("src")&&!c.get(0).contentWindow.document||(c.attr("src","https://"+i[l]+encodeURIComponent(d)),q=setTimeout(e,2e3))}catch(a){}};d?(n.ts&&(d+=(d.match(/\?/)?"&":"?")+"_t="+n.ts),c.on("load",function(){q&&clearTimeout(q),b.hideinfo(),o.remove(),b.preview.after(b.info),a(this).css("background-color","#fff").show()}).on("error",function(){q&&clearTimeout(q),o.remove(),b.preview.after(b.info)}),e()):(o.remove(),c.remove())}),r.on("viewchange.googledocs",s),s(),b.info.after(b.preview))}})},function(b){"use strict";var c,d,e=b.fm,f=b.preview,g=parseInt(b.options.textInitialLines)||150,h=parseInt(b.options.prettifyMaxLines)||500,i=function(){j=function(){return!1},d&&(window.PR=d),c=!1},j=function(a){e.options.cdns.prettify?(j=function(a){return setTimeout(function(){l(a)},100),"pending"},window.PR&&(d=window.PR),e.loadScript([e.options.cdns.prettify+(e.options.cdns.prettify.match(/\?/)?"&":"?")+"autorun=false"],function(b){c=b||window.PR,"object"==typeof c?(j=function(){return!0},d?window.PR=d:delete window.PR,k(a)):i()},{tryRequire:!0,error:i})):i()},k=function(a){a&&!a.hasClass("prettyprinted")&&(a.css("cursor","wait"),requestAnimationFrame(function(){c.prettyPrint&&c.prettyPrint(null,a.get(0)),a.css("cursor","")}))},l=function(a){!0===j(a)&&k(a)};f.on(b.evUpdate,function(d){var i,j,k,m,n=d.file;n.mime,e.mimeIsText(n.mime)&&(!b.options.getSizeMax||n.size<=b.options.getSizeMax)&&!1!==c&&(d.stopImmediatePropagation(),j=a('<div class="elfinder-quicklook-info-data"><span class="elfinder-spinner-text">'+e.i18n("nowLoading")+'</span><span class="elfinder-spinner"></span></div>').appendTo(b.info.find(".elfinder-quicklook-info")),k=a('<div class="elfinder-quicklook-info-progress"></div>').appendTo(j),f.one("change",function(){"pending"==i.state()&&i.reject(),m&&m.remove()}),i=e.request({data:{cmd:"get",target:n.hash,conv:n.encoding||1,_t:n.ts},options:{type:"get",cache:!0},preventDefault:!0,progressBar:k}).done(function(c){var d,i,j,k,m,o=new RegExp("^(data:"+n.mime.replace(/([.+])/g,"\\$1")+";base64,)","i"),p=c.content;"string"==typeof p&&(b.hideinfo(),window.atob&&(m=p.match(o))&&(p=atob(p.substr(m[1].length))),k=p.match(/([^\r\n]{1,100}[\r\n]*)/g),i=k.length-g,i>10?d=k.splice(0,g).join(""):i=0,j=a('<div class="elfinder-quicklook-preview-text-wrapper"><pre class="elfinder-quicklook-preview-text prettyprint"></pre></div>'),i&&j.append(a('<div class="elfinder-quicklook-preview-charsleft"><hr/><span>'+e.i18n("linesLeft",e.toLocaleString(i))+"</span></div>").on("click",function(){var b=j.scrollTop();a(this).remove(),j.children("pre").removeClass("prettyprinted").text(p).scrollTop(b),k.length<=h&&l(j)})),j.children("pre").text(d||p),j.on("touchstart",function(b){a(this)["scroll"+("ltr"===e.direction?"Right":"Left")]()>5&&(b.originalEvent._preventSwipeX=!0)}).appendTo(f),c.toasts&&Array.isArray(c.toasts)&&a.each(c.toasts,function(){this.msg&&e.toast(this)}),l(j))}).always(function(c){var d,g,h;(d=e.getCommand("edit"))&&(h=[],c&&c.encoding&&h.push({value:c.encoding}),h.push({value:"UTF-8"}),g=d.getEncSelect(h),g.on("change",function(){n.encoding=g.val(),e.cache(n,"change"),f.trigger({type:b.evUpdate,file:n,forceUpdate:!0})}),m=a('<div class="elfinder-quicklook-encoding"></div>').append(g),b.window.append(m)),j.remove()}))})}],(d.prototype.commands.reload=function(){"use strict";var b=this,c=!1;this.alwaysEnabled=!0,this.updateOnSelect=!0,this.shortcuts=[{pattern:"ctrl+shift+r f5"}],this.getstate=function(){return 0},this.init=function(){this.fm.bind("search searchend",function(){c="search"==this.type})},this.fm.bind("contextmenu",function(){var c=b.fm;c.options.sync>=1e3&&(b.extra={icon:"accept",node:a("<span></span>").attr({title:c.i18n("autoSync")}).on("click touchstart",function(b){"touchstart"===b.type&&b.originalEvent.touches.length>1||(b.stopPropagation(),b.preventDefault(),a(this).parent().toggleClass("ui-state-disabled",c.options.syncStart).parent().removeClass("ui-state-hover"),c.options.syncStart=!c.options.syncStart,c.autoSync(c.options.syncStart?null:"stop"))}).on("ready",function(){a(this).parent().toggleClass("ui-state-disabled",!c.options.syncStart).css("pointer-events","auto")})})}),this.exec=function(){var b=this.fm;if(!c){var d=b.sync(),e=setTimeout(function(){b.notify({type:"reload",cnt:1,hideCnt:!0}),d.always(function(){b.notify({type:"reload",cnt:-1})})},b.notifyDelay);return d.always(function(){clearTimeout(e),b.trigger("reload")})}a("div.elfinder-toolbar > div."+b.res("class","searchbtn")+" > span.ui-icon-search").click()}}).prototype={forceLoad:!0},d.prototype.commands.rename=function(){"use strict";this.alwaysEnabled=!0,this.syncTitleOnChange=!0;var b=this,c=b.fm,d=function(b,d,e,f){var g,h=d?[e.hash].concat(d):[e.hash],i=h.length,j={};if(c.lockfiles({files:h}),c.isRoot(e)&&!e.netkey){if((g=c.storage("rootNames"))||(g={}),""===f){if(!g[e.hash])return b&&b.reject(),void c.unlockfiles({files:h}).trigger("selectfiles",{files:h});e.name=e._name,e.i18=e._i18,delete g[e.hash],delete e._name,delete e._i18}else void 0===e._name&&(e._name=e.name,e._i18=e.i18),e.name=g[e.hash]=f,delete e.i18;return c.storage("rootNames",g),j={changed:[e]},c.updateCache(j),c.change(j),b&&b.resolve(j),void c.unlockfiles({files:h}).trigger("selectfiles",{files:h})}j={cmd:"rename",name:f,target:e.hash},i>1&&(j.targets=d,f.match(/\*/)&&(j.q=f)),c.request({data:j,notify:{type:"rename",cnt:i},navigate:{}}).fail(function(a){var d=c.parseError(a);b&&b.reject(),d&&Array.isArray(d)&&"errRename"===d[0]||c.sync()}).done(function(d){var g;d.added&&d.added.length&&1===i&&(d.undo={cmd:"rename",callback:function(){return c.request({data:{cmd:"rename",target:d.added[0].hash,name:e.name},notify:{type:"undo",cnt:1}})}},d.redo={cmd:"rename",callback:function(){return c.request({data:{cmd:"rename",target:e.hash,name:f},notify:{type:"rename",cnt:1}})}}),b&&b.resolve(d),(g=c.cwd().hash)&&g!==e.hash||c.exec("open",a.map(d.added,function(a){return"directory"===a.mime?a.hash:null})[0])}).always(function(){c.unlockfiles({files:h}).trigger("selectfiles",{files:h})})},e=function(a,b){var d,e,f,g=b||c.selected(),h=c.splitFileExtention(a),i=c.file(g[0]),j=c.file(g[1]);return d=h[1]?"."+h[1]:"",h[1]&&"*"===h[0]?(e='"'+c.splitFileExtention(i.name)[0]+d+'", ',e+='"'+c.splitFileExtention(j.name)[0]+d+'"'):h[0].length>1&&("*"===h[0].substr(-1)?(f=h[0].substr(0,h[0].length-1),e='"'+f+i.name+'", ',e+='"'+f+j.name+'"'):"*"===h[0].substr(0,1)&&(f=h[0].substr(1),e='"'+c.splitFileExtention(i.name)[0]+f+d+'", ',e+='"'+c.splitFileExtention(j.name)[0]+f+d+'"')),e||(e='"'+h[0]+"1"+d+'", "'+h[0]+"2"+d+'"'),g.length>2&&(e+=" ..."),e},f=function(){var f,g=c.selected(),h='<input name="type" type="radio" class="elfinder-tabstop">',i=function(b,d){return a('<label class="elfinder-rename-batch-checks">'+c.i18n(d)+"</label>").prepend(b)},j=a('<input type="text" class="ui-corner-all elfinder-tabstop">'),k=a(h),l=a(h),m=a(h),n=a(h),o=a("<div></div>").append(i(k,"plusNumber"),i(l,"asPrefix"),i(m,"asSuffix"),i(n,"changeExtention")),p=a('<div class="elfinder-rename-batch-preview"></div>'),q=a('<div class="elfinder-rename-batch"></div>').append(a('<div class="elfinder-rename-batch-name"></div>').append(j),a('<div class="elfinder-rename-batch-type"></div>').append(o),p),r={title:c.i18n("batchRename"),modal:!0,destroyOnClose:!0,width:Math.min(380,c.getUI().width()-20),buttons:{},open:function(){j.on("input",t).trigger("focus")}},s=function(){var a=j.val(),b=c.splitFileExtention(c.file(g[0]).name)[1];return(""!==a||k.is(":checked"))&&(l.is(":checked")?a+="*":m.is(":checked")?a="*"+a+"."+b:n.is(":checked")?a="*."+a:b&&(a+="."+b)),a},t=function(){var a=s();""!==a?p.html(c.i18n(["renameMultiple",g.length,e(a)])):p.empty()},u=o.find("input:radio").on("change",t);r.buttons[c.i18n("btnApply")]=function(){var a,b,e=s();""!==e&&(f.elfinderdialog("close"),b=g,a=c.file(b.shift()),d(void 0,b,a,e))},r.buttons[c.i18n("btnCancel")]=function(){f.elfinderdialog("close")},a.fn.checkboxradio?u.checkboxradio({create:function(a,b){this===k.get(0)&&k.prop("checked",!0).change()}}):o.buttonset({create:function(a,b){k.prop("checked",!0).change()}}),f=b.fmDialog(q,r)};this.noChangeDirOnRemovedCwd=!0,this.shortcuts=[{pattern:"f2"+("mac"==c.OS?" enter":"")},{pattern:"shift+f2",description:"batchRename",callback:function(){c.selected().length>1&&f()}}],this.getstate=function(d){var e,g,h,i,j,k,l=this.files(d),m=l.length;return m?(m>1&&l[0].phash&&(e=l[0].phash,g=c.splitFileExtention(l[0].name)[1].toLowerCase(),h=l[0].mime),1===m&&(k=c.isRoot(l[0])),j=1===m&&(c.cookieEnabled&&k||!l[0].locked)||c.api>2.103&&m===a.grep(l,function(a){return!(i||a.locked||a.phash!==e||c.isRoot(a)||h!==a.mime&&g!==c.splitFileExtention(a.name)[1].toLowerCase())||(i&&(i=!0),!1)}).length?0:-1,!k&&0===j&&c.option("disabledFlip",l[0].hash).rename&&(j=-1),-1!==j&&m>1?b.extra={icon:"preference",node:a("<span></span>").attr({title:c.i18n("batchRename")}).on("click touchstart",function(a){"touchstart"===a.type&&a.originalEvent.touches.length>1||(a.stopPropagation(),a.preventDefault(),c.getUI().trigger("click"),f())})}:delete b.extra,j):-1},this.exec=function(b,f){var g,h=(c.getUI("cwd"),b||!!c.selected().length&&c.selected()||[c.cwd().hash]),i=h.length,j=c.file(h.shift()),k=".elfinder-cwd-filename",l=f||{},m=c.cwd().hash==j.hash,n="navbar"===l._currentType||"files"===l._currentType?l._currentType:m?"navbar":"files",o="files"!==n,p=c[o?"navHash2Elm":"cwdHash2Elm"](j.hash),q=!o&&"list"!=c.storage("view"),r=function(){requestAnimationFrame(function(){v&&v.trigger("blur")})},s=function(){z.is(":hidden")||z.elfinderoverlay("hide").off("click close",A),y.removeClass("ui-front").css("position","").off("unselect."+c.namespace,r),q?x&&x.css("max-height",""):o||y.css("width","").parent("td").css("overflow","")},t=a.Deferred().fail(function(a){var b=v.parent(),d=c.escape(j.i18||j.name);v.off(),q&&(d=d.replace(/([_.])/g,"&#8203;$1")),requestAnimationFrame(function(){o?v.replaceWith(d):b.length?(v.remove(),b.html(d)):p.find(k).html(d)}),a&&c.error(a)}).always(function(){s(),c.unbind("resize",B),c.enable()}),u=function(b){var f=a.trim(v.val()),g=(c.splitFileExtention(f),!0),k=function(){v.off(),s(),o?v.replaceWith(c.escape(f)):x.html(c.escape(f)),d(t,h,j,f)};if(z.is(":hidden")||y.css("z-index",""),""===f){if(!c.isRoot(j))return A();o?v.replaceWith(c.escape(j.name)):x.html(c.escape(j.name))}if(!C&&y.length){if(v.off("blur"),1===i&&f===j.name)return t.reject();if(c.options.validName&&c.options.validName.test)try{g=c.options.validName.test(f)}catch(b){g=!1}if("."===f||".."===f||!g)return C=!0,c.error("directory"===j.mime?"errInvDirname":"errInvName",{modal:!0,close:function(){setTimeout(w,120)}}),!1;if(1===i&&c.fileByName(f,j.phash))return C=!0,c.error(["errExists",f],{modal:!0,close:function(){setTimeout(w,120)}}),!1;1===i?k():(c.confirm({title:"cmdrename",text:["renameMultiple",i,e(f,[j.hash].concat(h))],accept:{label:"btnYes",callback:k},cancel:{label:"btnCancel",callback:function(){setTimeout(function(){C=!0,w()},120)}}}),setTimeout(function(){
c.trigger("unselectfiles",{files:c.selected()}).trigger("selectfiles",{files:[j.hash].concat(h)})},120))}},v=a(q?"<textarea></textarea>":'<input type="text"/>').on("keyup text",function(){q?(this.style.height="1px",this.style.height=this.scrollHeight+"px"):g&&(this.style.width=g+"px",this.scrollWidth>g&&(this.style.width=this.scrollWidth+10+"px"))}).on("keydown",function(b){b.stopImmediatePropagation(),b.keyCode==a.ui.keyCode.ESCAPE?t.reject():b.keyCode==a.ui.keyCode.ENTER&&(b.preventDefault(),v.trigger("blur"))}).on("mousedown click dblclick",function(a){a.stopPropagation(),"dblclick"===a.type&&a.preventDefault()}).on("blur",u).on("dragenter dragleave dragover drop",function(a){a.stopPropagation()}),w=function(){var a=c.splitFileExtention(v.val())[0];C||!c.UA.Mobile||c.UA.iOS||(z.on("click close",A).elfinderoverlay("show"),y.css("z-index",z.css("z-index")+1)),!c.enabled()&&c.enable(),C&&(C=!1,v.on("blur",u)),v.trigger("focus").trigger("select"),v[0].setSelectionRange&&v[0].setSelectionRange(0,a.length)},x=o?p.contents().filter(function(){return 3==this.nodeType&&a(this).parent().attr("id")===c.navHash2Id(j.hash)}):p.find(k),y=x.parent(),z=c.getUI("overlay"),A=function(a){z.is(":hidden")||y.css("z-index",""),C||(t.reject(),a&&(a.stopPropagation(),a.preventDefault()))},B=function(){p.trigger("scrolltoview",{blink:!1})},C=!1;return y.addClass("ui-front").css("position","relative").on("unselect."+c.namespace,r),c.bind("resize",B),o?x.replaceWith(v.val(j.name)):(q?x.css("max-height","none"):o||(g=y.width(),y.width(g-15).parent("td").css("overflow","visible")),x.empty().append(v.val(j.name))),i>1&&c.api<=2.103?t.reject():j&&x.length?j.locked&&!c.isRoot(j)?t.reject(["errLocked",j.name]):(c.one("select",function(){v.parent().length&&j&&-1===a.inArray(j.hash,c.selected())&&v.trigger("blur")}),v.trigger("keyup"),w(),t):t.reject("errCmdParams",this.title)},c.bind("select contextmenucreate closecontextmenu",function(a){var d,e=(a.data?a.data.selected||a.data.targets:null)||c.selected();e&&1===e.length&&(d=c.file(e[0]))&&c.isRoot(d)?b.title=c.i18n("kindAlias")+" ("+c.i18n("preference")+")":b.title=c.i18n("cmdrename"),"closecontextmenu"!==a.type?b.update(void 0,b.title):requestAnimationFrame(function(){b.update(void 0,b.title)})}).remove(function(b){var d;b.data&&b.data.removed&&(d=c.storage("rootNames"))&&(a.each(b.data.removed,function(a,b){d[b]&&delete d[b]}),c.storage("rootNames",d))})},d.prototype.commands.resize=function(){"use strict";var b=this.fm,c=0,d=function(b,c,d){var e=[{x:b/2,y:c/2},{x:-b/2,y:c/2},{x:-b/2,y:-c/2},{x:b/2,y:-c/2}],f=[],g={x:Number.MAX_VALUE,y:Number.MAX_VALUE},h={x:Number.MIN_VALUE,y:Number.MIN_VALUE};return a.each(e,function(a,b){f.push({x:b.x*Math.cos(d)-b.y*Math.sin(d),y:b.x*Math.sin(d)+b.y*Math.cos(d)})}),a.each(f,function(a,b){g.x=Math.min(g.x,b.x),g.y=Math.min(g.y,b.y),h.x=Math.max(h.x,b.x),h.y=Math.max(h.y,b.y)}),{width:h.x-g.x,height:h.y-g.y}};this.updateOnSelect=!1,this.getstate=function(){var a=b.selectedFiles();return 1==a.length&&a[0].read&&a[0].write&&-1!==a[0].mime.indexOf("image/")?0:-1},this.resizeRequest=function(c,d,e){var f=d||b.file(c.target);if(f&&f.tmb,b.isCommandEnabled("resize",c.target)&&(!f||f&&f.read&&f.write&&-1!==f.mime.indexOf("image/")))return b.request({data:Object.assign(c,{cmd:"resize"}),notify:{type:"resize",cnt:1}}).fail(function(a){e&&e.reject(a)}).done(function(){c.quality&&b.storage("jpgQuality",c.quality===b.option("jpgQuality")?null:c.quality),e&&e.resolve()});var g;return g=f?-1===f.mime.indexOf("image/")?["errResize",f.name,"errUsupportType"]:["errResize",f.name,"errPerm"]:["errResize",c.target,"errPerm"],e?e.reject(g):b.error(g),a.Deferred().reject(g)},this.exec=function(e){var f,g,h,i,j=this,k=this.files(e),l=a.Deferred(),m=b.api>1,n=this.options,o=650,p=b.getUI(),q=a().controlgroup?"controlgroup":"buttonset",r=void 0===n.grid8px||"disable"!==n.grid8px,s=Array.isArray(n.presetSize)?n.presetSize:[],t="elfinder-dialog-active",u=b.res("class","editing"),v=function(e,f,g){var k,v,w,x,y,z="image/jpeg"===e.mime,A=a('<div class="elfinder-resize-container"></div>'),B='<input type="number" class="ui-corner-all"/>',C='<div class="elfinder-resize-row"></div>',D='<div class="elfinder-resize-label"></div>',E=null,F=!1,G=function(){F=!0},H=function(){F&&(F=!1,I.trigger("change"))},I=a('<div class="elfinder-resize-control"></div>').on("focus","input[type=text],input[type=number]",function(){a(this).trigger("select")}).on("change",function(){E&&cancelAnimationFrame(E),E=requestAnimationFrame(function(){var a,c,e,f,g,h,j,k,l,m,n,o;eb&&!F&&(e=eb.data("canvas"))&&(a=I.children("div.elfinder-resize-control-panel:visible"),c=a.find("input.elfinder-resize-quality"),c.is(":visible")&&(f=eb.data("ctx"),g=eb.get(0),a.hasClass("elfinder-resize-uiresize")?(k=e.width=W.val(),l=e.height=X.val(),f.drawImage(g,0,0,k,l)):a.hasClass("elfinder-resize-uicrop")?(h=Y.val(),j=Z.val(),k=$.val(),l=_.val(),e.width=k,e.height=l,f.drawImage(g,h,j,k,l,0,0,k,l)):(m=ba.val(),n=ba.val()*Math.PI/180,o=d(oa,pa,n),k=e.width=o.width,l=e.height=o.height,f.save(),m%90!=0&&(f.fillStyle=ka.val()||"#FFF",f.fillRect(0,0,k,l)),f.translate(k/2,l/2),f.rotate(n),f.drawImage(g,-g.width/2,-g.height/2,oa,pa),f.restore()),e.toBlob(function(a){a&&(i=a.size,c.next("span").text(" ("+b.formatSize(a.size)+")"))},"image/jpeg",Math.max(Math.min(c.val(),100),1)/100)))})}).on("mouseup","input",function(b){a(b.target).trigger("change")}),J=a('<div class="elfinder-resize-preview"></div>').on("touchmove",function(b){a(b.target).hasClass("touch-punch")&&(b.stopPropagation(),b.preventDefault())}),K=a('<div class="elfinder-resize-loading">'+b.i18n("ntfloadimg")+"</div>"),L=a('<div class="elfinder-resize-handle touch-punch"></div>'),M=a('<div class="elfinder-resize-handle touch-punch"></div>'),N=a('<div class="elfinder-resize-uiresize elfinder-resize-control-panel"></div>'),O=a('<div class="elfinder-resize-uicrop elfinder-resize-control-panel"></div>'),P=a('<div class="elfinder-resize-rotate elfinder-resize-control-panel"></div>'),Q=a("<button></button>").attr("title",b.i18n("rotate-cw")).append(a('<span class="elfinder-button-icon elfinder-button-icon-rotate-l"></span>')),R=a("<button></button>").attr("title",b.i18n("rotate-ccw")).append(a('<span class="elfinder-button-icon elfinder-button-icon-rotate-r"></span>')),S=a("<span ></span>"),T=a('<button class="elfinder-resize-reset">').text(b.i18n("reset")).on("click",function(){Ra()}).button({icons:{primary:"ui-icon-arrowrefresh-1-n"},text:!1}),U=a('<div class="elfinder-resize-type"></div>').append('<input type="radio" name="type" id="'+f+'-resize" value="resize" checked="checked" /><label for="'+f+'-resize">'+b.i18n("resize")+"</label>",'<input class="api2" type="radio" name="type" id="'+f+'-crop" value="crop" /><label class="api2" for="'+f+'-crop">'+b.i18n("crop")+"</label>",'<input class="api2" type="radio" name="type" id="'+f+'-rotate" value="rotate" /><label class="api2" for="'+f+'-rotate">'+b.i18n("rotate")+"</label>"),V="resize",W=(U[q]()[q]("disable").find("input").on("change",function(){V=a(this).val(),Ra(),Va(!0),Wa(!0),Xa(!0),"resize"==V?(N.show(),P.hide(),O.hide(),Va(),z&&Aa.insertAfter(N.find(".elfinder-resize-grid8"))):"crop"==V?(P.hide(),N.hide(),O.show(),Wa(),z&&Aa.insertAfter(O.find(".elfinder-resize-grid8"))):"rotate"==V&&(N.hide(),O.hide(),P.show(),Xa())}),a(B).on("change",function(){var a=Qa(parseInt(W.val())),b=Qa(qa?a/ma:parseInt(X.val()));a>0&&b>0&&(Sa.updateView(a,b),W.val(a),X.val(b))}).addClass("elfinder-focus")),X=a(B).on("change",function(){var a=Qa(parseInt(X.val())),b=Qa(qa?a*ma:parseInt(W.val()));b>0&&a>0&&(Sa.updateView(b,a),W.val(b),X.val(a))}),Y=a(B).on("change",function(){Ta.updateView()}),Z=a(B).on("change",function(){Ta.updateView()}),$=a(B).on("change",function(){Ta.updateView("w")}),_=a(B).on("change",function(){Ta.updateView("h")}),aa=z&&m?a(B).val(b.storage("jpgQuality")>0?b.storage("jpgQuality"):b.option("jpgQuality")).addClass("elfinder-resize-quality").attr("min","1").attr("max","100").attr("title","1 - 100").on("blur",function(){var a=Math.min(100,Math.max(1,parseInt(this.value)));I.find("input.elfinder-resize-quality").val(a)}):null,ba=a('<input type="number" class="ui-corner-all" maxlength="3" value="0" />').on("change",function(){Ua.update()}),ca=a('<div class="elfinder-resize-rotate-slider touch-punch"></div>').slider({min:0,max:360,value:ba.val(),animate:!0,start:G,stop:H,change:function(a,b){b.value!=ca.slider("value")&&Ua.update(b.value)},slide:function(a,b){Ua.update(b.value,!1)}}).find(".ui-slider-handle").addClass("elfinder-tabstop").off("keydown").on("keydown",function(b){b.keyCode!=a.ui.keyCode.LEFT&&b.keyCode!=a.ui.keyCode.RIGHT||(b.stopPropagation(),b.preventDefault(),Ua.update(Number(ba.val())+(b.keyCode==a.ui.keyCode.RIGHT?1:-1),!1))}).end(),da={},ea=function(a){var b,c,d,e;try{b=da[Math.round(a.offsetX)][Math.round(a.offsetY)]}catch(a){}b&&(c=b[0],d=b[1],e=b[2],b[3],b[4],b[5],ga(c,d,e,"click"===a.type))},fa=function(b){ga(a(this).css("backgroundColor"),"","","click"===b.type)},ga=function(b,c,d,e){var f,g,h;"string"==typeof b&&(c="",b&&(f=a("<span>").css("backgroundColor",b).css("backgroundColor"))&&(g=f.match(/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/i))&&(b=Number(g[1]),c=Number(g[2]),d=Number(g[3]))),h=""===c?b:"#"+ha(b,c,d),ka.val(h).css({backgroundColor:h,backgroundImage:"none",color:b+c+d<384?"#fff":"#000"}),J.css("backgroundColor",h),e&&(Pa.off(".picker").removeClass("elfinder-resize-picking"),la.off(".picker").removeClass("elfinder-resize-picking"))},ha=function(b,c,d){return a.map([b,c,d],function(a){return("0"+parseInt(a).toString(16)).slice(-2)}).join("")},ia=a("<button>").text(b.i18n("colorPicker")).on("click",function(){Pa.on("mousemove.picker click.picker",ea).addClass("elfinder-resize-picking"),la.on("mousemove.picker click.picker","span",fa).addClass("elfinder-resize-picking")}).button({icons:{primary:"ui-icon-pin-s"},text:!1}),ja=a("<button>").text(b.i18n("reset")).on("click",function(){ga("","","",!0)}).button({icons:{primary:"ui-icon-arrowrefresh-1-n"},text:!1}),ka=a('<input class="ui-corner-all elfinder-resize-bg" type="text">').on("focus",function(){a(this).attr("style","")}).on("blur",function(){ga(a(this).val())}),la=a('<div class="elfinder-resize-pallet">').on("click","span",function(){ga(a(this).css("backgroundColor"))}),ma=1,na=1,oa=0,pa=0,qa=!0,ra=!1,sa=0,ta=0,ua=0,va=0,wa=0,xa=!!z&&r,ya=a("<button>").html(b.i18n("aspectRatio")).on("click",function(){qa=!qa,ya.button("option",{icons:{primary:qa?"ui-icon-locked":"ui-icon-unlocked"}}),Sa.fixHeight(),L.resizable("option","aspectRatio",qa).data("uiResizable")._aspectRatio=qa}).button({icons:{primary:qa?"ui-icon-locked":"ui-icon-unlocked"},text:!1}),za=a("<button>").html(b.i18n("aspectRatio")).on("click",function(){ra=!ra,za.button("option",{icons:{primary:ra?"ui-icon-locked":"ui-icon-unlocked"}}),M.resizable("option","aspectRatio",ra).data("uiResizable")._aspectRatio=ra}).button({icons:{primary:ra?"ui-icon-locked":"ui-icon-unlocked"},text:!1}),Aa=a("<button>").html(b.i18n(xa?"enabled":"disabled")).toggleClass("ui-state-active",xa).on("click",function(){xa=!xa,Aa.html(b.i18n(xa?"enabled":"disabled")).toggleClass("ui-state-active",xa),Ba()}).button(),Ba=function(){var b=xa?8:1;a.each([W,X,$,_,Y,Z],function(){this.attr("step",b)}),xa&&(W.val(Qa(W.val())),X.val(Qa(X.val())),$.val(Qa($.val())),_.val(Qa(_.val())),Y.val(Qa(Y.val())),Z.val(Qa(Z.val())),N.is(":visible")?Sa.updateView(W.val(),X.val()):O.is(":visible")&&Ta.updateView())},Ca=function(){var c,d=function(){ka.parent().hide(),la.hide()};c=Math.min(sa,ta)/Math.sqrt(Math.pow(oa,2)+Math.pow(pa,2)),ua=Math.ceil(oa*c),va=Math.ceil(pa*c),Pa.width(ua).height(va).css("margin-top",(ta-va)/2+"px").css("margin-left",(sa-ua)/2+"px"),Pa.is(":visible")&&ka.is(":visible")&&("image/png"!==e.mime?(J.css("backgroundColor",ka.val()),k=a("<img>"),b.isCORS&&k.attr("crossorigin","use-credentials"),k.on("load",function(){v&&v.width!==ua&&Ea()}).on("error",d).attr("src",db)):d())},Da=function(){Sa.updateView(oa,pa),Ca(),Ma.width(La.width()).height(La.height()),Na.width(La.width()).height(La.height()),Ta.updateView(),fb()},Ea=function(){if(w){var b,c,d,e,f,g,h,i,j,l,m,n,o,p,q,r,s,t,u={},x=[],y=function(a,b,c){var d,e,f,g=Math.max(Math.max(a,b),c),h=Math.min(Math.min(a,b),c);return g===h?d=0:a===g?d=((b-c)/(g-h)*60+360)%360:b===g?d=(c-a)/(g-h)*60+120:c===g&&(d=(a-b)/(g-h)*60+240),e=(g-h)/g,f=(.3*a+.59*b+.11*c)/255,[d,e,f,"hsl"]},z=function(a){return 8*Math.round(a/8)};a:try{c=v.width=Pa.width(),d=v.height=Pa.height(),n=c/oa,w.scale(n,n),w.drawImage(k.get(0),0,0),m=w.getImageData(0,0,c,d).data,o=.1*c,p=.9*c,q=.1*d,r=.9*d;for(var A=0;A<d-1;A++)for(var B=0;B<c-1;B++){if(b=4*B+A*c*4,e=m[b],f=m[b+1],g=m[b+2],255!==m[b+3]){ka.parent().hide(),la.hide();break a}j=y(e,f,g),l=Math.round(j[0]),h=Math.round(100*j[1]),i=Math.round(100*j[2]),da[B]||(da[B]={}),da[B][A]=[e,f,g,l,h,i],(B<o||B>p)&&(A<q||A>r)&&(s=z(e)+","+z(f)+","+z(g),u[s]?++u[s]:u[s]=1)}la.children(":first").length||(t=1,a.each(u,function(a,b){x.push({c:a,v:b})}),a.each(x.sort(function(a,b){return a.v>b.v?-1:1}),function(){return!(this.v<2||t>10)&&(la.append(a('<span style="width:20px;height:20px;display:inline-block;background-color:rgb('+this.c+');">')),void++t)}))}catch(D){ia.hide(),la.hide()}}},Fa=function(){try{v=document.createElement("canvas"),w=v.getContext("2d")}catch(a){ia.hide(),la.hide()}},Ga=function(){hb.on("click","span.elfinder-resize-preset",function(){var b=a(this),c=b.data("s")[0],d=b.data("s")[1],e=oa/pa;b.data("s",[d,c]).text(d+"x"+c),oa>c||pa>d?oa<=c?c=Qa(d*e):pa<=d?d=Qa(c/e):oa-c>pa-d?d=Qa(c/e):c=Qa(d*e):(c=oa,d=pa),W.val(c),X.val(d),Sa.updateView(c,d),fb()}),ib.on("click","span.elfinder-resize-preset",function(){var b=a(this),c=b.data("s")[0],d=b.data("s")[1],e=Y.val(),f=Z.val();b.data("s",[d,c]).text(d+"x"+c),oa>=c&&pa>=d&&(oa-c-e<0&&(e=oa-c),pa-d-f<0&&(f=pa-d),Y.val(e),Z.val(f),$.val(c),_.val(d),Ta.updateView(),fb())}),ib.children("span.elfinder-resize-preset").each(function(){var b=a(this),c=b.data("s")[0],d=b.data("s")[1];b[oa>=c&&pa>=d?"show":"hide"]()})},Ha=null,Ia=!1,Ja=function(a){var c=b.file(e.hash);c.width=a[0],c.height=a[1]},Ka=function(){var d,f,g;Ia||(Ia=!0,Ha&&Ha.state&&"pending"===Ha.state()&&Ha.reject(),b.api>=2.103?0===c&&b.request({data:{cmd:"resize",target:e.hash,degree:0,mode:"rotate"},preventDefault:!0}).done(function(a){1===(c=a.losslessRotate?1:-1)&&ba.val()%90==0&&P.children("div.elfinder-resize-quality").hide()}).fail(function(){c=-1}):c=-1,d=La.get(0),f=e.width&&e.height?{w:e.width,h:e.height}:d.naturalWidth?null:{w:La.width(),h:La.height()},f&&La.removeAttr("width").removeAttr("height"),oa=e.width||d.naturalWidth||d.width||La.width(),pa=e.height||d.naturalHeight||d.height||La.height(),e.width&&e.height||Ja([oa,pa]),f&&La.width(f.w).height(f.h),x.show(),g=pa/oa,g<1&&J.height()>J.width()*g&&J.height(J.width()*g),J.height()>La.height()+20&&J.height(La.height()+20),ta=J.height()-(L.outerHeight()-L.height()),K.remove(),ma=oa/pa,L.append(La.show()).show(),W.val(oa),X.val(pa),Fa(),Ga(),Da(),U[q]("enable"),I.find("input,select").prop("disabled",!1).filter(":text").on("keydown",function(c){var d;if(c.keyCode==a.ui.keyCode.ENTER)return c.stopPropagation(),c.preventDefault(),d={title:a("input:checked",U).val(),text:"confirmReq",accept:{label:"btnApply",callback:function(){Za()}},cancel:{label:"btnCancel",callback:function(){a(this).trigger("focus")}}},jb&&(d.buttons=[{label:"btnSaveAs",callback:function(){requestAnimationFrame($a)}}]),void b.confirm(d)}).on("keyup",function(){var b=a(this);b.hasClass("elfinder-resize-bg")||requestAnimationFrame(function(){b.val(b.val().replace(/[^0-9]/g,""))})}).filter(":first"),Ba(),!b.UA.Mobile&&W.trigger("focus"),Va())},La=a("<img/>").on("load",Ka).on("error",function(){K.html(b.i18n("ntfsmth")).css("background","transparent")}),Ma=a("<div></div>"),Na=a("<img/>"),Oa=a("<div></div>"),Pa=a('<img class="elfinder-resize-imgrotate" />'),Qa=function(a,b){return a=xa?8*Math.round(a/8):Math.round(a),a=Math.max(0,a),b&&a>b&&(a=xa?8*Math.floor(b/8):b),a},Ra=function(){W.val(oa),X.val(pa),Sa.updateView(oa,pa),Y.val(0),Z.val(0),$.val(oa),_.val(pa),Ta.updateView(),fb()},Sa={update:function(){W.val(Qa(La.width()/na)),X.val(Qa(La.height()/na)),fb()},updateView:function(a,b){a>sa||b>ta?a/sa>b/ta?(na=sa/a,La.width(sa).height(Qa(b*na))):(na=ta/b,La.height(ta).width(Qa(a*na))):La.width(Qa(a)).height(Qa(b)),na=La.width()/a,S.text("1 : "+(1/na).toFixed(2)),Sa.updateHandle()},updateHandle:function(){L.width(La.width()).height(La.height())},fixHeight:function(){var a,b;qa&&(a=W.val(),b=Qa(a/ma),Sa.updateView(a,b),X.val(b))}},Ta={update:function(a){Y.val(Qa((M.data("x")||M.position().left)/na,oa)),Z.val(Qa((M.data("y")||M.position().top)/na,pa)),"xy"!==a&&($.val(Qa((M.data("w")||M.width())/na,oa-Y.val())),_.val(Qa((M.data("h")||M.height())/na,pa-Z.val()))),fb()},updateView:function(a){var b,c,d,e,f;Y.val(Qa(Y.val(),oa-(xa?8:1))),Z.val(Qa(Z.val(),pa-(xa?8:1))),$.val(Qa($.val(),oa-Y.val())),_.val(Qa(_.val(),pa-Z.val())),ra&&(b=Oa.width()/Oa.height(),"w"===a?_.val(Qa(parseInt($.val())/b)):"h"===a&&$.val(Qa(parseInt(_.val())*b))),c=Math.round(parseInt(Y.val())*na),d=Math.round(parseInt(Z.val())*na),"xy"!==a?(e=Math.round(parseInt($.val())*na),f=Math.round(parseInt(_.val())*na)):(e=M.data("w"),f=M.data("h")),M.data({x:c,y:d,w:e,h:f}).width(e).height(f).css({left:c,top:d}),Oa.width(e).height(f)},resize_update:function(a,b){M.data({x:b.position.left,y:b.position.top,w:b.size.width,h:b.size.height}),Ta.update(),Ta.updateView()},drag_update:function(a,b){M.data({x:b.position.left,y:b.position.top}),Ta.update("xy")}},Ua={mouseStartAngle:0,imageStartAngle:0,imageBeingRotated:!1,setQuality:function(){P.children("div.elfinder-resize-quality")[c>0&&ba.val()%90==0?"hide":"show"]()},update:function(a,c){void 0===a&&(wa=a=parseInt(ba.val())),void 0===c&&(c=!0),!c||b.UA.Opera||b.UA.ltIE8?Pa.rotate(a):Pa.animate({rotate:a+"deg"}),a%=360,a<0&&(a+=360),ba.val(parseInt(a)),ca.slider("value",ba.val()),Ua.setQuality()},execute:function(a){if(Ua.imageBeingRotated){var b=Ua.getCenter(Pa),c=a.originalEvent.touches?a.originalEvent.touches[0]:a,d=c.pageX-b[0],e=c.pageY-b[1],f=Math.atan2(e,d),g=f-Ua.mouseStartAngle+Ua.imageStartAngle;return g=Math.round(180*parseFloat(g)/Math.PI),a.shiftKey&&(g=15*Math.round((g+6)/15)),Pa.rotate(g),g%=360,g<0&&(g+=360),ba.val(g),ca.slider("value",ba.val()),Ua.setQuality(),!1}},start:function(b){if(!Pa.hasClass("elfinder-resize-picking")){G(),Ua.imageBeingRotated=!0;var c=Ua.getCenter(Pa),d=b.originalEvent.touches?b.originalEvent.touches[0]:b,e=d.pageX-c[0],f=d.pageY-c[1];return Ua.mouseStartAngle=Math.atan2(f,e),Ua.imageStartAngle=parseFloat(Pa.rotate())*Math.PI/180,a(document).on("mousemove",Ua.execute),Pa.on("touchmove",Ua.execute),!1}},stop:function(b){if(Ua.imageBeingRotated)return a(document).off("mousemove",Ua.execute),Pa.off("touchmove",Ua.execute),requestAnimationFrame(function(){Ua.imageBeingRotated=!1}),H(),!1},getCenter:function(a){var b=Pa.rotate();Pa.rotate(0);var c=Pa.offset(),d=c.left+Pa.width()/2,e=c.top+Pa.height()/2;return Pa.rotate(b),Array(d,e)}},Va=function(a){a?(L.filter(":ui-resizable").resizable("destroy"),L.hide()):(L.show(),L.resizable({alsoResize:La,aspectRatio:qa,resize:Sa.update,start:G,stop:function(a){Sa.fixHeight,Sa.updateView(W.val(),X.val()),H()}}),gb())},Wa=function(a){a?(M.filter(":ui-resizable").resizable("destroy").filter(":ui-draggable").draggable("destroy"),Ma.hide()):(Ma.show(),M.resizable({containment:Ma,aspectRatio:ra,resize:Ta.resize_update,start:G,stop:H,handles:"all"}).draggable({handle:Oa,containment:Na,drag:Ta.drag_update,start:G,stop:function(){Ta.updateView("xy"),H()}}),gb(),Ta.update())},Xa=function(a){a?Pa.hide():(Pa.show(),gb())},Ya=function(){var a,c,d,e,f,g,j="";if("resize"==V)a=parseInt(W.val())||0,c=parseInt(X.val())||0;else if("crop"==V)a=parseInt($.val())||0,c=parseInt(_.val())||0,d=parseInt(Y.val())||0,e=parseInt(Z.val())||0;else if("rotate"==V){if(a=oa,c=pa,(f=parseInt(ba.val())||0)<0||f>360)return b.error("Invalid rotate degree"),!1;if(0==f||360==f)return b.error("errResizeNoChange"),!1;j=ka.val()}if(g=aa?parseInt(aa.val()):0,"rotate"!=V){if(a<=0||c<=0)return b.error("Invalid image size"),!1;if(a==oa&&c==pa&&parseInt(h/1e3)===parseInt(i/1e3))return b.error("errResizeNoChange"),!1}return{w:a,h:c,x:d,y:e,d:f,q:g,b:j}},Za=function(){var a;(a=Ya())&&(A.elfinderdialog("close"),j.resizeRequest({target:e.hash,width:a.w,height:a.h,x:a.x,y:a.y,degree:a.d,quality:a.q,bg:a.b,mode:V},e,l))},$a=function(){var c,d=function(){c.addClass(u).fadeIn(function(){y.addClass(t)}),b.disable()},f=function(){j.mime=e.mime,j.prefix=e.name.replace(/ \d+(\.[^.]+)?$/,"$1"),j.requestCmd="mkfile",j.nextAction={},j.data={target:e.phash},a.proxy(b.res("mixin","make"),j)().done(function(f){var g,h;f.added&&f.added.length?(g=f.added[0].hash,h=b.api<2.1032?b.url(e.hash,{async:!0,temporary:!0}):null,a.when(h).done(function(a){b.request({options:{type:"post"},data:{cmd:"put",target:g,encoding:h?"scheme":"hash",content:h?b.convAbsUrl(a):e.hash},notify:{type:"copy",cnt:1},syncOnFail:!0}).fail(d).done(function(a){a=b.normalize(a),b.updateCache(a),e=b.file(g),a.changed&&a.changed.length&&b.change(a),y.show().find(".elfinder-dialog-title").html(b.escape(e.name)),Za(),c.fadeIn()})}).fail(d)):d()}).fail(d).always(function(){delete j.mime,delete j.prefix,delete j.nextAction,delete j.data}),b.trigger("unselectfiles",{files:[e.hash]})},g=null;Ya()&&(c=p.children("."+j.dialogClass+":visible").removeClass(u).fadeOut(),y.removeClass(t),b.enable(),b.searchStatus.state<2&&e.phash!==b.cwd().hash&&(g=b.exec("open",[e.phash],{thash:e.phash})),a.when([g]).done(function(){g?b.one("cwdrender",f):f()}).fail(d))},_a={},ab="elfinder-resize-handle-hline",bb="elfinder-resize-handle-vline",cb="elfinder-resize-handle-point",db=g,eb=aa?a("<img>").attr("crossorigin",b.isCORS?"use-credentials":"").attr("src",db).on("load",function(){try{var a=document.createElement("canvas");eb.data("canvas",a).data("ctx",a.getContext("2d")),fb()}catch(b){eb.removeData("canvas").removeData("ctx")}}):null,fb=function(){I.find("input.elfinder-resize-quality:visible").trigger("change")},gb=function(c){if(!y.hasClass("elfinder-dialog-minimized")&&!y.is(":hidden")){hb.hide(),ib.hide();var d,e,f,g=b.options.dialogContained?p:a(window),h=g.height(),i=g.width(),j="auto",k=!0;y.width(Math.min(o,i-30)),J.attr("style",""),oa&&pa&&(sa=J.width()-(L.outerWidth()-L.width()),ta=J.height()-(L.outerHeight()-L.height()),Sa.updateView(oa,pa)),e=A.find("div.elfinder-resize-control").width(),f=J.width(),d=A.width()-20,f>d?(J.width(d),k=!1):d-f<e&&(i>h?J.width(d-e-20):(J.css({float:"none",marginLeft:"auto",marginRight:"auto"}),k=!1)),k&&(j=e),sa=J.width()-(L.outerWidth()-L.width()),p.hasClass("elfinder-fullscreen")?y.height()>h&&(h-=2,J.height(h-y.height()+J.height()),y.css("top",0-p.offset().top)):(h-=30,J.height()>h&&J.height(h)),ta=J.height()-(L.outerHeight()-L.height()),oa&&pa&&Da(),La.height()&&J.height()>La.height()+20&&(J.height(La.height()+20),ta=J.height()-(L.outerHeight()-L.height()),Ca()),hb.css("width",j).show(),ib.css("width",j).show(),ib.children("span.elfinder-resize-preset:visible").length||ib.hide(),A.elfinderdialog("posInit")}},hb=function(){var c,d=a('<fieldset class="elfinder-resize-preset-container">').append(a("<legend>").html(b.i18n("presets"))).css("box-sizing","border-box").hide();return a.each(s,function(b,e){2===e.length&&(c=!0,d.append(a('<span class="elfinder-resize-preset"></span>').data("s",e).text(e[0]+"x"+e[1]).button()))}),c?d:a()}(),ib=hb.clone(!0),jb=b.uploadMimeCheck(e.mime,e.phash);h=i=e.size,N.append(a(C).append(a(D).text(b.i18n("width")),W),a(C).append(a(D).text(b.i18n("height")),X,a('<div class="elfinder-resize-whctrls">').append(ya,T)),aa?a(C).append(a(D).text(b.i18n("quality")),aa,a("<span></span>")):a(),z?a(C).append(a(D).text(b.i18n("8pxgrid")).addClass("elfinder-resize-grid8"),Aa):a(),a(C).append(a(D).text(b.i18n("scale")),S),a(C).append(hb)),m&&(O.append(a(C).append(a(D).text("X"),Y),a(C).append(a(D).text("Y")).append(Z),a(C).append(a(D).text(b.i18n("width")),$),a(C).append(a(D).text(b.i18n("height")),_,a('<div class="elfinder-resize-whctrls">').append(za,T.clone(!0))),aa?a(C).append(a(D).text(b.i18n("quality")),aa.clone(!0),a("<span></span>")):a(),z?a(C).append(a(D).text(b.i18n("8pxgrid")).addClass("elfinder-resize-grid8")):a(),a(C).append(ib)),P.append(a(C).addClass("elfinder-resize-degree").append(a(D).text(b.i18n("rotate")),ba,a("<span></span>").text(b.i18n("degree")),a("<div></div>").append(Q,R)[q]()),a(C).css("height","20px").append(ca),aa?a(C)[c<1?"show":"hide"]().addClass("elfinder-resize-quality").append(a(D).text(b.i18n("quality")),aa.clone(!0),a("<span></span>")):a(),a(C).append(a(D).text(b.i18n("bgcolor")),ka,ia,ja),a(C).css("height","20px").append(la)),Q.on("click",function(){wa-=90,Ua.update(wa)}),R.on("click",function(){wa+=90,Ua.update(wa)})),A.append(U).on("resize",function(a){a.stopPropagation()}),m?I.append(N,O.hide(),P.hide()):I.append(N),L.append('<div class="'+ab+" "+ab+'-top"></div>','<div class="'+ab+" "+ab+'-bottom"></div>','<div class="'+bb+" "+bb+'-left"></div>','<div class="'+bb+" "+bb+'-right"></div>','<div class="'+cb+" "+cb+'-e"></div>','<div class="'+cb+" "+cb+'-se"></div>','<div class="'+cb+" "+cb+'-s"></div>'),J.append(K).append(L.hide()).append(La.hide()),m&&(M.css("position","absolute").append('<div class="'+ab+" "+ab+'-top"></div>','<div class="'+ab+" "+ab+'-bottom"></div>','<div class="'+bb+" "+bb+'-left"></div>','<div class="'+bb+" "+bb+'-right"></div>','<div class="'+cb+" "+cb+'-n"></div>','<div class="'+cb+" "+cb+'-e"></div>','<div class="'+cb+" "+cb+'-s"></div>','<div class="'+cb+" "+cb+'-w"></div>','<div class="'+cb+" "+cb+'-ne"></div>','<div class="'+cb+" "+cb+'-se"></div>','<div class="'+cb+" "+cb+'-sw"></div>','<div class="'+cb+" "+cb+'-nw"></div>'),J.append(Ma.css("position","absolute").hide().append(Na,M.append(Oa))),J.append(Pa.hide())),J.css("overflow","hidden"),A.append(J,I),_a[b.i18n("btnApply")]=Za,jb&&(_a[b.i18n("btnSaveAs")]=function(){requestAnimationFrame($a)}),_a[b.i18n("btnCancel")]=function(){A.elfinderdialog("close")},A.find("input,button").addClass("elfinder-tabstop"),y=j.fmDialog(A,{title:b.escape(e.name),width:o,resizable:!1,buttons:_a,open:function(){var a=function(a){Ha=b.request({data:{cmd:"dim",target:e.hash,substitute:d?400:""},preventDefault:!0}).done(function(a){if(!a.url&&c)A.elfinderdialog("close"),b.error(["errOpen",e.name]);else if(a.dim){var d=a.dim.split("x");return e.width=d[0],e.height=d[1],Ja(d),a.url&&(La.attr("src",a.url),Na.attr("src",a.url),Pa.attr("src",a.url)),Ka()}})},c=!{"image/jpeg":!0,"image/png":!0,"image/gif":!0}[e.mime],d=!(!b.option("substituteImg",e.hash)||!(c||e.size>n.dimSubImgSize)),f=!(!e.width||!e.height);if(x=y.find(".ui-dialog-titlebar .elfinder-titlebar-minimize").hide(),b.bind("resize",gb),La.attr("src",g).one("error.dimreq",function(){a(!0)}),Na.attr("src",g),Pa.attr("src",g),m&&(Pa.on("mousedown touchstart",Ua.start).on("touchend",Ua.stop),y.on("mouseup",Ua.stop)),f&&!d)return Ka();if(e.size>(n.getDimThreshold||0))La.off("error.dimreq"),a();else if(f)return Ka()},close:function(){m&&(Pa.off("mousedown touchstart",Ua.start).off("touchend",Ua.stop),a(document).off("mouseup",Ua.stop)),b.unbind("resize",gb),a(this).elfinderdialog("destroy")},resize:function(a,b){b&&"off"===b.minimize&&gb()}}).attr("id",f).closest(".ui-dialog").addClass(u),b.UA.ltIE8&&a(".elfinder-dialog").css("filter",""),Oa.css({opacity:.2,"background-color":"#fff",position:"absolute"}),M.css("cursor","move"),M.find(".elfinder-resize-handle-point").css({"background-color":"#fff",opacity:.5,"border-color":"#000"}),m||U.find(".api2").remove(),I.find("input,select").prop("disabled",!0),I.find("input.elfinder-resize-quality").next("span").addClass("elfinder-resize-jpgsize").attr("title",b.i18n("roughFileSize"))};return k.length&&-1!==k[0].mime.indexOf("image/")?(f="resize-"+b.namespace+"-"+k[0].hash,g=p.find("#"+f),g.length?(g.elfinderdialog("toTop"),l.resolve()):(b.openUrl(k[0].hash,"sameorigin",function(a){v(k[0],f,a)}),l)):l.reject()}},function(a){var b=function(a,b){var c=0;for(c in b)if(void 0!==a[b[c]])return b[c];return a[b[c]]="",b[c]};if(a.cssHooks.rotate={get:function(b,c,d){return a(b).rotate()},set:function(b,c){return a(b).rotate(c),c}},a.cssHooks.transform={get:function(a,c,d){var e=b(a.style,["WebkitTransform","MozTransform","OTransform","msTransform","transform"]);return a.style[e]},set:function(a,c){var d=b(a.style,["WebkitTransform","MozTransform","OTransform","msTransform","transform"]);return a.style[d]=c,c}},a.fn.rotate=function(a){var b;return void 0===a?window.opera?(b=this.css("transform").match(/rotate\((.*?)\)/),b&&b[1]?Math.round(180*parseFloat(b[1])/Math.PI):0):(b=this.css("transform").match(/rotate\((.*?)\)/),b&&b[1]?parseInt(b[1]):0):(this.css("transform",this.css("transform").replace(/none|rotate\(.*?\)/,"")+"rotate("+parseInt(a)+"deg)"),this)},a.fx.step.rotate=function(b){0==b.state&&(b.start=a(b.elem).rotate(),b.now=b.start),a(b.elem).rotate(b.now)},void 0===window.addEventListener&&void 0===document.getElementsByClassName){var c=function(a){for(var b=a,c=b.offsetLeft,d=b.offsetTop;b.offsetParent&&((b=b.offsetParent)==document.body||"static"==b.currentStyle.position);)b!=document.body&&b!=document.documentElement&&(c-=b.scrollLeft,d-=b.scrollTop),c+=b.offsetLeft,d+=b.offsetTop;return{x:c,y:d}},d=function(a){if("static"==a.currentStyle.position){var b=c(a);a.style.position="absolute",a.style.left=b.x+"px",a.style.top=b.y+"px"}},e=function(a,b){var c,e=1,f=1,g=1,h=1;if(void 0!==a.style.msTransform)return!0;d(a),c=b.match(/rotate\((.*?)\)/);var i=c&&c[1]?parseInt(c[1]):0;(i%=360)<0&&(i=360+i);var j=i*Math.PI/180,k=Math.cos(j),l=Math.sin(j);e*=k,f*=-l,g*=l,h*=k,a.style.filter=(a.style.filter||"").replace(/progid:DXImageTransform\.Microsoft\.Matrix\([^)]*\)/,"")+"progid:DXImageTransform.Microsoft.Matrix(M11="+e+",M12="+f+",M21="+g+",M22="+h+",FilterType='bilinear',sizingMethod='auto expand')";var m=parseInt(a.style.width||a.width||0),n=parseInt(a.style.height||a.height||0);j=i*Math.PI/180;var o=Math.abs(Math.cos(j)),p=Math.abs(Math.sin(j)),q=(m-(m*o+n*p))/2,r=(n-(m*p+n*o))/2;return a.style.marginLeft=Math.floor(q)+"px",a.style.marginTop=Math.floor(r)+"px",!0},f=a.cssHooks.transform.set;a.cssHooks.transform.set=function(a,b){return f.apply(this,[a,b]),e(a,b),b}}}(jQuery),(d.prototype.commands.restore=function(){"use strict";var b=this,c=this.fm,d=0,e=function(b){var f,g=a.Deferred(),h=[],i=[],j=[],k=[];return g._xhrReject=function(){a.each(j,function(){this&&this.reject&&this.reject()}),f&&f._xhrReject()},a.each(b,function(a,b){"directory"===b.mime?h.push(b):i.push(b)}),h.length?(a.each(h,function(a,b){j.push(c.request({data:{cmd:"open",target:b.hash},preventDefault:!0,asNotOpen:!0})),k[a]=b.hash}),a.when.apply(a,j).fail(function(){g.reject()}).done(function(){var b=[];a.each(arguments,function(a,c){c.files&&(c.files.length?b=b.concat(c.files):b.push({hash:"fakefile_"+d++,phash:k[a],mime:"fakefile",name:"fakefile",ts:0}))}),c.cache(b),f=e(b).done(function(a){i=i.concat(a),g.resolve(i)})})):g.resolve(i),g},f=function(b,f,g,h){var i,j,k={},l=[],m=!1,n=[],o=h||{},p=+new Date;c.lockfiles({files:g}),n=a.map(f,function(a){return"directory"===a.mime?a.hash:null}),b.done(function(){n&&c.exec("rm",n,{forceRm:!0,quiet:!0})}).always(function(){c.unlockfiles({files:g})}),i=setTimeout(function(){c.notify({type:"search",id:p,cnt:1,hideCnt:!0,cancel:function(){j&&j._xhrReject(),b.reject()}})},c.notifyDelay),d=0,j=e(f).always(function(){i&&clearTimeout(i),c.notify({type:"search",id:p,cnt:-1,hideCnt:!0})}).fail(function(){b.reject("errRestore","errFileNotFound")}).done(function(d){var e=["errRestore","errFolderNotFound"],f="";d.length?(a.each(d,function(b,d){for(var e,g,h,i=d.phash;i;){if(g=c.trashes[i]){if(!k[g]){if(m)return l.push(d.hash),null;k[g]={},m=!0}
h=c.path(d.hash).substr(c.path(i).length).replace(/\\/g,"/"),h=h.replace(/\/[^\/]+?$/,""),""===h&&(h="/"),k[g][h]||(k[g][h]=[]),"fakefile"===d.mime?c.updateCache({removed:[d.hash]}):k[g][h].push(d.hash),(!f||f.length>h.length)&&(f=h);break}e=c.file(i),e?i=e.phash:(i=!1,a.each(c.trashes,function(a){var b=c.file(a),e=c.path(a);if((!b.volumeid||0===d.hash.indexOf(b.volumeid))&&0===c.path(d.hash).indexOf(e))return i=a,!1}))}}),m?a.each(k,function(d,h){var i=Object.keys(h),j=i.length;c.request({data:{cmd:"mkdir",target:d,dirs:i},notify:{type:"chkdir",cnt:j},preventFail:!0}).fail(function(a){b.reject(a),c.unlockfiles({files:g})}).done(function(d){var g,i;(i=d.hashes)?(g=c.getCommand("paste"),g?c.one("mkdirdone",function(){var d=!1;a.each(h,function(a,g){i[a]&&(g.length?c.file(i[a])?(c.clipboard(g,!0),c.exec("paste",[i[a]],{_cmd:"restore",noToast:o.noToast||a!==f}).done(function(a){a&&(a.error||a.warning)&&(d=!0)}).fail(function(){d=!0}).always(function(){--j<1&&(b[d?"reject":"resolve"](),l.length&&c.exec("restore",l))})):b.reject(e):--j<1&&(b.resolve(),l.length&&c.exec("restore",l)))})}):b.reject(["errRestore","errCmdNoSupport","(paste)"])):b.reject(e)})}):b.reject(e)):(b.reject("errFileNotFound"),n&&c.exec("rm",n,{forceRm:!0,quiet:!0}))})};this.restore=f,this.linkedCmds=["copy","paste","mkdir","rm"],this.updateOnSelect=!1,this.init=function(){b=this,c=this.fm},this.getstate=function(b,d){return b=b||c.selected(),b.length&&a.grep(b,function(a){var b=c.file(a);return!(!b||b.locked||c.isRoot(b))}).length==b.length?0:-1},this.exec=function(d,e){var f=a.Deferred().fail(function(a){a&&c.error(a)}),g=b.files(d);return g.length?(a.each(g,function(a,b){return c.isRoot(b)?!f.reject(["errRestore",b.name]):b.locked?!f.reject(["errLocked",b.name]):void 0}),"pending"===f.state()&&this.restore(f,g,d,e),f):f.reject()}}).prototype={forceLoad:!0},d.prototype.commands.rm=function(){"use strict";var b=this,c=this.fm,d='<div class="ui-helper-clearfix elfinder-rm-title"><span class="elfinder-cwd-icon {class} ui-corner-all"></span>{title}<div class="elfinder-rm-desc">{desc}</div></div>',e=function(e,f,h,j,k){var l,m,n,o,p,q,r=f.length,s=c.cwd().hash,t=[],u=c.i18n("calc")+'<span class="elfinder-spinner"></span>';r>1?(o=0,a.each(h,function(a,b){if(!b.size||"unknown"==b.size||"directory"===b.mime)return o="unknown",!1;var c=parseInt(b.size);c>=0&&o>=0&&(o+=c)}),i="unknown"===o,t.push(c.i18n("size")+": "+(i?u:c.formatSize(o))),m=[a(d.replace("{class}","elfinder-cwd-icon-group").replace("{title}","<strong>"+c.i18n("items")+": "+r+"</strong>").replace("{desc}",t.join("<br>")))]):(p=h[0],n=c.tmb(p),i="directory"===p.mime,t.push(c.i18n("size")+": "+(i?u:c.formatSize(p.size))),t.push(c.i18n("modify")+": "+c.formatDate(p)),q=c.escape(p.i18||p.name).replace(/([_.])/g,"&#8203;$1"),m=[a(d.replace("{class}",c.mime2class(p.mime)).replace("{title}","<strong>"+q+"</strong>").replace("{desc}",t.join("<br>")))]),k&&(m=m.concat(k)),m.push(j?"confirmTrash":"confirmRm"),l=c.confirm({title:b.title,text:m,accept:{label:"btnRm",callback:function(){j?b.toTrash(e,f,j):g(e,f)}},cancel:{label:"btnCancel",callback:function(){c.unlockfiles({files:f}),1===f.length&&c.file(f[0]).phash!==s?c.select({selected:f}):c.selectfiles({files:f}),e.reject()}}}),n&&a("<img/>").on("load",function(){l.find(".elfinder-cwd-icon").addClass(n.className).css("background-image","url('"+n.url+"')")}).attr("src",n.url),i&&(i=c.getSize(a.map(h,function(a){return"directory"===a.mime?a.hash:null})).done(function(a){l.find("span.elfinder-spinner").parent().html(c.i18n("size")+": "+a.formated)}).fail(function(){l.find("span.elfinder-spinner").parent().html(c.i18n("size")+": "+c.i18n("unknown"))}).always(function(){i=!1}))},f=function(d,e,f){var g,h,i,j={},k=e.length,l=b.options.toTrashMaxItems,m=[],n=a.Deferred();return k>l?void b.confirm(d,e,b.files(e),null,[c.i18n("tooManyToTrash")]):(a.each(e,function(a,b){var d=c.file(b),e=c.path(b).replace(/\\/g,"/"),f=e.match(/^[^\/]+?(\/(?:[^\/]+?\/)*)[^\/]+?$/);d&&(f&&(f[1]=f[1].replace(/(^\/.*?)\/?$/,"$1"),j[f[1]]||(j[f[1]]=[]),j[f[1]].push(b)),"directory"===d.mime&&m.push(b))}),m.length?(g=c.request({data:{cmd:"size",targets:m},notify:{type:"readdir",cnt:1,hideCnt:!0},preventDefault:!0}).done(function(a){var b=0;a.fileCnt&&(b+=parseInt(a.fileCnt)),a.dirCnt&&(b+=parseInt(a.dirCnt)),n[b>l?"reject":"resolve"]()}).fail(function(){n.reject()}),setTimeout(function(){var a=g&&g.xhr?g.xhr:null;a&&"pending"==a.state()&&(g.syncOnFail(!1),g.reject(),n.reject())},1e3*b.options.infoCheckWait)):n.resolve(),void n.done(function(){h=Object.keys(j),i=h.length,i?c.request({data:{cmd:"mkdir",target:f,dirs:h},notify:{type:"chkdir",cnt:i},preventFail:!0}).fail(function(a){d.reject(a),c.unlockfiles({files:e})}).done(function(b){var f,g,h,k,l=function(b,d,f){var g,h,i,j;a.each(b,function(a,b){Array.isArray(b)&&(n[a]?n[a]=n[a].concat(b):n[a]=b)}),b.sync&&(n.sync=1),b.added&&b.added.length&&(g=function(){var d=[],e=a.map(b.added,function(a){return"directory"===a.mime?a.hash:null});return a.each(b.added,function(b,c){-1===a.inArray(c.phash,e)&&d.push(c.hash)}),c.exec("restore",d,{noToast:!0})},i=function(){return c.request({data:f,notify:{type:"redo",cnt:e.length}})},n.undo?(h=n.undo,n.undo=function(){g(),h()}):n.undo=g,n.redo?(j=n.redo,n.redo=function(){i(),j()}):n.redo=i)},m=["errTrash"],n={},o=function(){return c.ui.notify.children(".elfinder-notify-trash").length};(f=b.hashes)?(h=1/i*100,k=1===i?100:5,g=setTimeout(function(){c.notify({type:"trash",cnt:1,hideCnt:!0,progress:k})},c.notifyDelay),a.each(j,function(b,j){var p,q=c.file(j[0]).phash;f[b]&&(p={cmd:"paste",dst:f[b],targets:j,cut:1},c.request({data:p,preventDefault:!0}).fail(function(a){a&&(m=m.concat(a))}).done(function(a){a=c.normalize(a),c.updateCache(a),l(a,q,p),a.warning&&(m=m.concat(a.warning),delete a.warning),a.removed&&a.removed.length&&c.remove(a),a.added&&a.added.length&&c.add(a),a.changed&&a.changed.length&&c.change(a),c.trigger("paste",a),c.trigger("pastedone"),a.sync&&c.sync()}).always(function(){var b=[],f=2;o()?c.notify({type:"trash",cnt:0,hideCnt:!0,progress:h}):k+=h,--i<1&&(g&&clearTimeout(g),o()&&c.notify({type:"trash",cnt:-1}),c.unlockfiles({files:e}),Object.keys(n).length?(m.length>1&&((n.removed||n.removed.length)&&(b=a.grep(e,function(b){return-1===a.inArray(b,n.removed)})),b.length?(m.length>f&&(f=-1===(c.messages[m[f-1]]||"").indexOf("$")?f:f+1),d.reject(),c.exec("rm",b,{addTexts:m.slice(0,f),forceRm:!0})):c.error(m)),n._noSound=!0,n.undo&&n.redo&&(n.undo={cmd:"trash",callback:n.undo},n.redo={cmd:"trash",callback:n.redo}),d.resolve(n)):d.reject(m))}))})):(d.reject("errFolderNotFound"),c.unlockfiles({files:e}))}):(d.reject(["error","The folder hierarchy to be deleting can not be determined."]),c.unlockfiles({files:e}))}).fail(function(){b.confirm(d,e,b.files(e),null,[c.i18n("tooManyToTrash")])}))},g=function(a,b,d){var e=d?{}:{type:"rm",cnt:b.length};c.request({data:{cmd:"rm",targets:b},notify:e,preventFail:!0}).fail(function(b){a.reject(b)}).done(function(b){(b.error||b.warning)&&(b.sync=!0),a.resolve(b)}).always(function(){c.unlockfiles({files:b})})},h=function(b){var d,e=null;return b&&b.length&&(b.length>1&&2===c.searchStatus.state?(d=c.file(c.root(b[0])).volumeid,a.grep(b,function(a){return 0!==a.indexOf(d)}).length||(e=c.option("trashHash",b[0]))):e=c.option("trashHash",b[0])),e},i=!1;this.confirm=e,this.toTrash=f,this.remove=g,this.syncTitleOnChange=!0,this.updateOnSelect=!1,this.shortcuts=[{pattern:"delete ctrl+backspace shift+delete"}],this.value="rm",this.init=function(){b=this,c=this.fm,b.change(function(){var d;delete b.extra,b.title=c.i18n("cmd"+b.value),b.className=b.value,b.button&&b.button.children("span.elfinder-button-icon")["trash"===b.value?"addClass":"removeClass"]("elfinder-button-icon-trash"),"trash"===b.value&&(b.extra={icon:"rm",node:a("<span></span>").attr({title:c.i18n("cmdrm")}).on("ready",function(a,b){d=b.targets}).on("click touchstart",function(a){"touchstart"===a.type&&a.originalEvent.touches.length>1||(a.stopPropagation(),a.preventDefault(),c.getUI().trigger("click"),c.exec("rm",d,{_userAction:!0,forceRm:!0}))})})})},this.getstate=function(b){var d=this.hashes(b);return d.length&&a.grep(d,function(a){var b=c.file(a);return!(!b||b.locked||c.isRoot(b))}).length==d.length?0:-1},this.exec=function(d,e){var f,j=e||{},k=a.Deferred().always(function(){i&&i.state&&"pending"===i.state()&&i.reject()}).fail(function(a){a&&c.error(a)}).done(function(a){!j.quiet&&!a._noSound&&a.removed&&a.removed.length&&c.trigger("playsound",{soundFile:"rm.wav"})}),l=b.files(d),m=l.length,n=null,o=j.addTexts?j.addTexts:null,p=j.forceRm,q=j.quiet;return m?(a.each(l,function(a,b){return c.isRoot(b)?!k.reject(["errRm",b.name,"errPerm"]):b.locked?!k.reject(["errLocked",b.name]):void 0}),"pending"===k.state()&&(f=b.hashes(d),m=l.length,(p||b.event&&b.event.originalEvent&&b.event.originalEvent.shiftKey)&&(n="",b.title=c.i18n("cmdrm")),null===n&&(n=h(f)),c.lockfiles({files:f}),n&&b.options.quickTrash?b.toTrash(k,f,n):q?g(k,f,q):b.confirm(k,f,l,n,o)),k):k.reject()},c.bind("select contextmenucreate closecontextmenu",function(a){var d=(a.data?a.data.selected||a.data.targets:null)||c.selected();d&&d.length&&b.update(void 0,(d?h(d):c.option("trashHash"))?"trash":"rm")})},d.prototype.commands.search=function(){"use strict";this.title="Find files",this.options={ui:"searchbutton"},this.alwaysEnabled=!0,this.updateOnSelect=!1,this.getstate=function(){return 0},this.exec=function(b,c,d,e){var f,g,h=this.fm,i=[],j=e||"",k=h.options.onlyMimes,l=[],m=function(a){return j&&"SearchName"!==j&&"SearchMime"!==j&&(a.type=j),a};return"string"==typeof b&&b?("object"==typeof c&&(d=c.mime||"",c=c.target||""),c=c||"",d?(d=a.trim(d).replace(","," ").split(" "),k.length&&(d=a.map(d,function(b){return b=a.trim(b),b&&(-1!==a.inArray(b,k)||a.grep(k,function(a){return 0===b.indexOf(a)}).length)?b:null}))):d=[].concat(k),h.trigger("searchstart",m({query:b,target:c,mimes:d})),!k.length||d.length?""===c&&h.api>=2.1?(g=Object.keys(h.roots).length,a.each(h.roots,function(a,c){i.push(h.request({data:m({cmd:"search",q:b,target:c,mimes:d}),notify:{type:"search",cnt:1,hideCnt:!(g>1)},cancel:!0,preventDone:!0}))})):(i.push(h.request({data:m({cmd:"search",q:b,target:c,mimes:d}),notify:{type:"search",cnt:1,hideCnt:!0},cancel:!0,preventDone:!0})),""!==c&&h.api>=2.1&&Object.keys(h.leafRoots).length&&a.each(h.leafRoots,function(e,g){for(f=e;f;)c===f&&a.each(g,function(){var a=h.file(this);a&&a.volumeid&&l.push(a.volumeid),i.push(h.request({data:m({cmd:"search",q:b,target:this,mimes:d}),notify:{type:"search",cnt:1,hideCnt:!1},cancel:!0,preventDone:!0}))}),f=(h.file(f)||{}).phash})):i=[a.Deferred().resolve({files:[]})],h.searchStatus.mixed=i.length>1&&l,a.when.apply(a,i).done(function(a){var b,c=arguments.length;if(a.warning&&h.error(a.warning),c>1)for(a.files=a.files||[],b=1;b<c;b++)arguments[b].warning&&h.error(arguments[b].warning),arguments[b].files&&a.files.push.apply(a.files,arguments[b].files);a.files&&a.files.length&&h.cache(a.files),h.lazy(function(){h.trigger("search",a)}).then(function(){return h.lazy(function(){h.trigger("searchdone")})}).then(function(){a.sync&&h.sync()})})):(h.getUI("toolbar").find("."+h.res("class","searchbtn")+" :text").trigger("focus"),a.Deferred().reject())}},d.prototype.commands.selectall=function(){"use strict";var b=0;this.fm.bind("select",function(a){b=a.data&&a.data.selectall?-1:0}),this.state=0,this.updateOnSelect=!1,this.getstate=function(){return b},this.exec=function(){return a(document).trigger(a.Event("keydown",{keyCode:65,ctrlKey:!0,shiftKey:!1,altKey:!1,metaKey:!1})),a.Deferred().resolve()}},d.prototype.commands.selectinvert=function(){"use strict";this.updateOnSelect=!1,this.getstate=function(){return 0},this.exec=function(){return a(document).trigger(a.Event("keydown",{keyCode:73,ctrlKey:!0,shiftKey:!0,altKey:!1,metaKey:!1})),a.Deferred().resolve()}},d.prototype.commands.selectnone=function(){"use strict";var b=this.fm,c=-1;b.bind("select",function(a){c=a.data&&a.data.unselectall?-1:0}),this.state=-1,this.updateOnSelect=!1,this.getstate=function(){return c},this.exec=function(){return b.getUI("cwd").trigger("unselectall"),a.Deferred().resolve()}},d.prototype.commands.sort=function(){"use strict";var b=this,c=b.fm,d=function(){b.variants=[],a.each(c.sortRules,function(a,d){if(c.sorters[a]){var e=a===c.sortType?"asc"===c.sortOrder?"n":"s":"";b.variants.push([a,(e?'<span class="ui-icon ui-icon-arrowthick-1-'+e+'"></span>':"")+"&nbsp;"+c.i18n("sort"+a)])}}),b.variants.push("|"),b.variants.push(["stick",(c.sortStickFolders?'<span class="ui-icon ui-icon-check"></span>':"")+"&nbsp;"+c.i18n("sortFoldersFirst")]),c.ui.tree&&null!==c.options.sortAlsoTreeview&&(b.variants.push("|"),b.variants.push(["tree",(c.sortAlsoTreeview?'<span class="ui-icon ui-icon-check"></span>':"")+"&nbsp;"+c.i18n("sortAlsoTreeview")])),e()},e=function(){var b,d,e=c.getUI("contextmenu");e.is(":visible")&&(b=e.find("span.elfinder-button-icon-sort"),d=b.siblings("div.elfinder-contextmenu-sub"),d.find("span.ui-icon").remove(),d.children("div.elfinder-contextsubmenu-item").each(function(){var b,d=a(this).children("span"),e=d.text().trim();e===(f.stick||(f.stick=c.i18n("sortFoldersFirst")))?c.sortStickFolders&&d.prepend('<span class="ui-icon ui-icon-check"></span>'):e===(f.tree||(f.tree=c.i18n("sortAlsoTreeview")))?c.sortAlsoTreeview&&d.prepend('<span class="ui-icon ui-icon-check"></span>'):e===(f[c.sortType]||(f[c.sortType]=c.i18n("sort"+c.sortType)))&&(b="asc"===c.sortOrder?"n":"s",d.prepend('<span class="ui-icon ui-icon-arrowthick-1-'+b+'"></span>'))}))},f={};this.options={ui:"sortbutton"},this.keepContextmenu=!0,c.bind("sortchange",d).bind("sorterupdate",function(){d(),c.getUI().children(".elfinder-button-sort-menu").children(".elfinder-button-menu-item").each(function(){var b=a(this),d=b.attr("rel");b.toggle(!(d&&!c.sorters[d]))})}).bind("cwdrender",function(){var b=a(c.cwd).find("div.elfinder-cwd-wrapper-list table");b.length&&a.each(c.sortRules,function(d,e){var f=b.find("thead tr td.elfinder-cwd-view-th-"+d);if(f.length){var g,h=d==c.sortType,i={type:d,order:h?"asc"==c.sortOrder?"desc":"asc":c.sortOrder};h&&(f.addClass("ui-state-active"),g="asc"==c.sortOrder?"n":"s",a('<span class="ui-icon ui-icon-triangle-1-'+g+'"></span>').appendTo(f)),a(f).on("click",function(b){a(this).data("dragging")||(b.stopPropagation(),c.getUI("cwd").data("longtap")||c.exec("sort",[],i))}).on("mouseenter mouseleave",function(b){a(this).toggleClass("ui-state-hover","mouseenter"===b.type)})}})}),this.getstate=function(){return 0},this.exec=function(b,c){var d=this.fm,e=a.isPlainObject(c)?c:function(){c+="";var a={};return"stick"===c?a.stick=!d.sortStickFolders:"tree"===c?a.tree=!d.sortAlsoTreeview:d.sorters[c]&&(d.sortType===c?a.order="asc"===d.sortOrder?"desc":"asc":a.type=c),a}(),f=Object.assign({type:d.sortType,order:d.sortOrder,stick:d.sortStickFolders,tree:d.sortAlsoTreeview},e);return d.lazy(function(){d.setSort(f.type,f.order,f.stick,f.tree),this.resolve()})}},d.prototype.commands.undo=function(){"use strict";var b=this,c=this.fm,d=function(a){a?(b.title=c.i18n("cmdundo")+" "+c.i18n("cmd"+a.cmd),b.state=0):(b.title=c.i18n("cmdundo"),b.state=-1),b.change()},e=[];this.alwaysEnabled=!0,this.updateOnSelect=!1,this.shortcuts=[{pattern:"ctrl+z"}],this.syncTitleOnChange=!0,this.getstate=function(){return e.length?0:-1},this.setUndo=function(b,f){var g={};b&&a.isPlainObject(b)&&b.cmd&&b.callback&&(Object.assign(g,b),f?(delete f.undo,g.redo=f):c.getCommand("redo").setRedo(null),e.push(g),d(g))},this.exec=function(){var b,f,g=c.getCommand("redo"),h=a.Deferred(),i={};return e.length?(b=e.pop(),b.redo?(Object.assign(i,b.redo),delete b.redo):i=null,h.done(function(){i&&g.setRedo(i,b)}),d(e.length?e[e.length-1]:void 0),f=b.callback(),f&&f.done?f.done(function(){h.resolve()}).fail(function(){h.reject()}):h.resolve(),e.length?this.update(0,e[e.length-1].name):this.update(-1,"")):h.reject(),h},c.bind("exec",function(a){var c=a.data||{};c.opts&&c.opts._userAction&&c.dfrd&&c.dfrd.done&&c.dfrd.done(function(a){a&&a.undo&&a.redo&&(a.undo.redo=a.redo,b.setUndo(a.undo))})})},d.prototype.commands.redo=function(){"use strict";var b=this,c=this.fm,d=function(a){a&&a.callback?(b.title=c.i18n("cmdredo")+" "+c.i18n("cmd"+a.cmd),b.state=0):(b.title=c.i18n("cmdredo"),b.state=-1),b.change()},e=[];this.alwaysEnabled=!0,this.updateOnSelect=!1,this.shortcuts=[{pattern:"shift+ctrl+z ctrl+y"}],this.syncTitleOnChange=!0,this.getstate=function(){return e.length?0:-1},this.setRedo=function(a,b){null===a?(e=[],d()):a&&a.cmd&&a.callback&&(b&&(a.undo=b),e.push(a),d(a))},this.exec=function(){var b,f,g=c.getCommand("undo"),h=a.Deferred(),i={},j={};return e.length?(b=e.pop(),b.undo&&(Object.assign(i,b.undo),Object.assign(j,b),delete j.undo,h.done(function(){g.setUndo(i,j)})),d(e.length?e[e.length-1]:void 0),f=b.callback(),f&&f.done?f.done(function(){h.resolve()}).fail(function(){h.reject()}):h.resolve(),h):h.reject()}},(d.prototype.commands.up=function(){"use strict";this.alwaysEnabled=!0,this.updateOnSelect=!1,this.shortcuts=[{pattern:"ctrl+up"}],this.getstate=function(){return this.fm.cwd().phash?0:-1},this.exec=function(){var b=this.fm,c=b.cwd().hash;return this.fm.cwd().phash?this.fm.exec("open",this.fm.cwd().phash).done(function(){b.one("opendone",function(){b.selectfiles({files:[c]})})}):a.Deferred().reject()}}).prototype={forceLoad:!0},d.prototype.commands.upload=function(){"use strict";var b=this.fm.res("class","hover");this.disableOnSearch=!0,this.updateOnSelect=!1,this.shortcuts=[{pattern:"ctrl+u"}],this.getstate=function(a){var b,c=this.fm,d=a||[c.cwd().hash];return this._disabled||1!=d.length||(b=c.file(d[0])),b&&"directory"==b.mime&&b.write?0:-1},this.exec=function(c){var d,e,f,g,h,i=this.fm,j=i.cwd().hash,k=function(){var a,b=c&&c instanceof Array?c:null;return(!c||c instanceof Array)&&(b||1!==(a=i.selected()).length||"directory"!==i.file(a[0]).mime?b&&1===b.length&&"directory"===i.file(b[0]).mime||(b=[j]):b=a),b},l=k(),m=l?l[0]:c&&c.target?c.target:null,n=m?i.file(m):i.cwd(),o=function(b){i.upload(b).fail(function(a){s.reject(a)}).done(function(b){var c;if(i.getUI("cwd"),s.resolve(b),b&&b.added&&b.added[0]&&!i.ui.notify.children(".elfinder-notify-upload").length){var d=i.findCwdNodes(b.added);d.length?d.trigger("scrolltoview"):(n.hash!==j?c=a("<div></div>").append(a('<button type="button" class="ui-button ui-widget ui-state-default ui-corner-all elfinder-tabstop"><span class="ui-button-text">'+i.i18n("cmdopendir")+"</span></button>").on("mouseenter mouseleave",function(b){a(this).toggleClass("ui-state-hover","mouseenter"==b.type)}).on("click",function(){i.exec("open",m).done(function(){i.one("opendone",function(){i.trigger("selectfiles",{files:a.map(b.added,function(a){return a.hash})})})})})):i.trigger("selectfiles",{files:a.map(b.added,function(a){return a.hash})}),i.toast({msg:i.i18n(["complete",i.i18n("cmdupload")]),extNode:c}))}}).progress(function(){s.notifyWith(this,Array.from(arguments))})},p=function(a){d.elfinderdialog("close"),l&&(a.target=l[0]),o(a)},q=function(){var b=n.hash,c=a.map(i.files(b),function(a){return"directory"===a.mime&&a.write?a:null});return c.length?a('<div class="elfinder-upload-dirselect elfinder-tabstop" title="'+i.i18n("folders")+'"></div>').on("click",function(b){b.stopPropagation(),b.preventDefault(),c=i.sortFiles(c);var e=a(this),f=(i.cwd(),d.closest("div.ui-dialog")),g=function(a,b){return{label:i.escape(a.i18||a.name),icon:b,remain:!1,callback:function(){var b=f.children(".ui-dialog-titlebar:first").find("span.elfinder-upload-target");l=[a.hash],b.html(" - "+i.escape(a.i18||a.name)),e.trigger("focus")},options:{className:l&&l.length&&a.hash===l[0]?"ui-state-active":"",iconClass:a.csscls||"",iconImg:a.icon||""}}},h=[g(n,"opendir"),"|"];a.each(c,function(a,b){h.push(g(b,"dir"))}),e.trigger("blur"),i.trigger("contextmenu",{raw:h,x:b.pageX||a(this).offset().left,y:b.pageY||a(this).offset().top,prevNode:f,fitHeight:!0})}).append('<span class="elfinder-button-icon elfinder-button-icon-dir" ></span>'):a()},r=function(c,d){var e=a('<input type="file" '+c+"/>").on("click",function(){i.UA.IE&&setTimeout(function(){f.css("display","none").css("position","relative"),requestAnimationFrame(function(){f.css("display","").css("position","")})},100)}).on("change",function(){p({input:e.get(0),type:"files"})}).on("dragover",function(a){a.originalEvent.dataTransfer.dropEffect="copy"}),f=a("<form></form>").append(e).on("click",function(a){a.stopPropagation()});return a('<div class="ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only elfinder-tabstop elfinder-focus"><span class="ui-button-text">'+i.i18n(d)+"</span></div>").append(f).on("click",function(a){a.stopPropagation(),a.preventDefault(),e.trigger("click")}).on("mouseenter mouseleave",function(c){a(this).toggleClass(b,"mouseenter"===c.type)})},s=a.Deferred();return e=function(b){b.stopPropagation(),b.preventDefault();var c,d=!1,e="",f=null,g="",h=null,j=b._target||null,k=b.dataTransfer||null,l=k.items&&k.items.length&&k.items[0].kind?k.items[0].kind:"";if(k){try{if((f=k.getData("elfinderfrom"))&&(g=window.location.href+i.cwd().hash,!j&&f===g||j===g))return void s.reject()}catch(b){}if("file"===l&&(k.items[0].getAsEntry||k.items[0].webkitGetAsEntry))d=k,e="data";else if("string"!==l&&k.files&&k.files.length&&-1===a.inArray("Text",k.types))d=k.files,e="files";else{try{(h=k.getData("text/html"))&&h.match(/<(?:img|a)/i)&&(d=[h],e="html")}catch(b){}d||((h=k.getData("text"))?(d=[h],e="text"):k&&k.files&&(l="file"))}}d?o({files:d,type:e,target:j,dropEvt:b}):(c=["errUploadNoFiles"],"file"===l&&c.push("errFolderUpload"),i.error(c),s.reject())},!l&&c?(c.input||c.files?(c.type="files",o(c)):c.dropEvt&&e(c.dropEvt),s):(f=function(b){var c,d=b.originalEvent||b,e=[],f=[];if(d.clipboardData){if(d.clipboardData.items&&d.clipboardData.items.length){f=d.clipboardData.items;for(var g=0;g<f.length;g++)"file"==d.clipboardData.items[g].kind&&(c=d.clipboardData.items[g].getAsFile(),e.push(c))}else d.clipboardData.files&&d.clipboardData.files.length&&(e=d.clipboardData.files);if(e.length)return void p({files:e,type:"files",clipdata:!0})}var h=d.target||d.srcElement;requestAnimationFrame(function(){var b,c="text";h.innerHTML&&(a(h).find("img").each(function(b,c){c.src.match(/^webkit-fake-url:\/\//)&&a(c).remove()}),a(h).find("a,img").length&&(c="html"),b=h.innerHTML,h.innerHTML="",p({files:[b],type:c}))})},d=a('<div class="elfinder-upload-dialog-wrapper"></div>').append(r("multiple","selectForUpload")),!i.UA.Mobile&&function(a){return void 0!==a.webkitdirectory||void 0!==a.directory}(document.createElement("input"))&&d.append(r("multiple webkitdirectory directory","selectFolder")),n.dirs&&(n.hash===j||i.navHash2Elm(n.hash).hasClass("elfinder-subtree-loaded")?q().appendTo(d):(g=a('<div class="elfinder-upload-dirselect" title="'+i.i18n("nowLoading")+'"></div>').append('<span class="elfinder-button-icon elfinder-button-icon-spinner" ></span>').appendTo(d),i.request({cmd:"tree",target:n.hash}).done(function(){i.one("treedone",function(){g.replaceWith(q()),h.elfinderdialog("tabstopsInit")})}).fail(function(){g.remove()}))),i.dragUpload?a('<div class="ui-corner-all elfinder-upload-dropbox elfinder-tabstop" contenteditable="true" data-ph="'+i.i18n("dropPasteFiles")+'"></div>').on("paste",function(a){f(a)}).on("mousedown click",function(){a(this).trigger("focus")}).on("focus",function(){this.innerHTML=""}).on("mouseover",function(){a(this).addClass(b)}).on("mouseout",function(){a(this).removeClass(b)}).on("dragenter",function(c){c.stopPropagation(),c.preventDefault(),a(this).addClass(b)}).on("dragleave",function(c){c.stopPropagation(),c.preventDefault(),a(this).removeClass(b)}).on("dragover",function(c){c.stopPropagation(),c.preventDefault(),c.originalEvent.dataTransfer.dropEffect="copy",a(this).addClass(b)}).on("drop",function(a){d.elfinderdialog("close"),l&&(a.originalEvent._target=l[0]),e(a.originalEvent)}).prependTo(d).after('<div class="elfinder-upload-dialog-or">'+i.i18n("or")+"</div>")[0]:a('<div class="ui-corner-all elfinder-upload-dropbox" contenteditable="true">'+i.i18n("dropFilesBrowser")+"</div>").on("paste drop",function(a){f(a)}).on("mousedown click",function(){a(this).trigger("focus")}).on("focus",function(){this.innerHTML=""}).on("dragenter mouseover",function(){a(this).addClass(b)}).on("dragleave mouseout",function(){a(this).removeClass(b)}).prependTo(d).after('<div class="elfinder-upload-dialog-or">'+i.i18n("or")+"</div>")[0],h=this.fmDialog(d,{title:this.title+'<span class="elfinder-upload-target">'+(n?" - "+i.escape(n.i18||n.name):"")+"</span>",modal:!0,resizable:!1,destroyOnClose:!0,propagationEvents:["mousemove","mouseup","click"],close:function(){var a=i.getUI("contextmenu");a.is(":visible")&&a.click()}}),s)}},d.prototype.commands.view=function(){"use strict";var b,c=this,d=this.fm;this.value=d.viewType,this.alwaysEnabled=!0,this.updateOnSelect=!1,this.options={ui:"viewbutton"},this.getstate=function(){return 0},this.extra={icon:"menu",node:a("<span></span>").attr({title:d.i18n("viewtype")}).on("click touchstart",function(b){if(!("touchstart"===b.type&&b.originalEvent.touches.length>1)){var c=a(this);b.stopPropagation(),b.preventDefault(),d.trigger("contextmenu",{raw:getSubMenuRaw(),x:c.offset().left,y:c.offset().top})}})},this.exec=function(){var a=this,b="list"==this.value?"icons":"list";return d.storage("view",b),d.lazy(function(){d.viewchange(),a.update(void 0,b),this.resolve()})},d.bind("init",function(){b=function(){var a,b=d.getUI("cwd"),e=[],f=d.options.uiOptions.cwd.iconsView.sizeNames,g=d.options.uiOptions.cwd.iconsView.sizeMax;for(a=0;a<=g;a++)e.push({label:d.i18n(f[a]||"Size-"+a+" icons"),icon:"view",callback:function(a){return function(){b.trigger("iconpref",{size:a}),d.storage("iconsize",a),"list"===c.value&&c.exec()}}(a)});return e.push("|"),e.push({label:d.i18n("viewlist"),icon:"view-list",callback:function(){"list"!==c.value&&c.exec()}}),e}()}).bind("contextmenucreate",function(){c.extra={icon:"menu",node:a("<span></span>").attr({title:d.i18n("cmdview")}).on("click touchstart",function(e){if(!("touchstart"===e.type&&e.originalEvent.touches.length>1)){var f,g,h=a(this);for(b.concat(),f="list"===c.value?b.length-1:parseInt(d.storage("iconsize")||0),g=0;g<b.length;g++)"|"!==b[g]&&(b[g].options=g===f?{className:"ui-state-active"}:void 0);e.stopPropagation(),e.preventDefault(),d.trigger("contextmenu",{raw:b,x:h.offset().left,y:h.offset().top})}})}})},d}),function(a,b){if("function"==typeof define&&define.amd)define(["moment","jquery"],function(a,c){return c.fn||(c.fn={}),"function"!=typeof a&&a.default&&(a=a.default),b(a,c)});else if("object"==typeof module&&module.exports){var c="undefined"!=typeof window?window.jQuery:void 0;c||(c=require("jquery"),c.fn||(c.fn={}));var d="undefined"!=typeof window&&void 0!==window.moment?window.moment:require("moment");module.exports=b(d,c)}else a.daterangepicker=b(a.moment,a.jQuery)}(this,function(a,b){var c=function(c,d,e){if(this.parentEl="body",this.element=b(c),this.startDate=a().startOf("day"),this.endDate=a().endOf("day"),this.minDate=!1,this.maxDate=!1,this.maxSpan=!1,this.autoApply=!1,this.singleDatePicker=!1,this.showDropdowns=!1,this.minYear=a().subtract(100,"year").format("YYYY"),this.maxYear=a().add(100,"year").format("YYYY"),this.showWeekNumbers=!1,this.showISOWeekNumbers=!1,this.showCustomRangeLabel=!0,this.timePicker=!1,this.timePicker24Hour=!1,this.timePickerIncrement=1,this.timePickerSeconds=!1,this.linkedCalendars=!0,this.autoUpdateInput=!0,this.alwaysShowCalendars=!1,this.ranges={},this.opens="right",this.element.hasClass("pull-right")&&(this.opens="left"),this.drops="down",this.element.hasClass("dropup")&&(this.drops="up"),this.buttonClasses="btn btn-sm",this.applyButtonClasses="btn-primary",this.cancelButtonClasses="btn-default",this.locale={direction:"ltr",format:a.localeData().longDateFormat("L"),separator:" - ",applyLabel:"Apply",cancelLabel:"Cancel",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:a.weekdaysMin(),monthNames:a.monthsShort(),firstDay:a.localeData().firstDayOfWeek()},this.callback=function(){},this.isShowing=!1,this.leftCalendar={},this.rightCalendar={},"object"==typeof d&&null!==d||(d={}),d=b.extend(this.element.data(),d),"string"==typeof d.template||d.template instanceof b||(d.template='<div class="daterangepicker"><div class="ranges"></div><div class="drp-calendar left"><div class="calendar-table"></div><div class="calendar-time"></div></div><div class="drp-calendar right"><div class="calendar-table"></div><div class="calendar-time"></div></div><div class="drp-buttons"><span class="drp-selected"></span><button class="cancelBtn" type="button"></button><button class="applyBtn" disabled="disabled" type="button"></button> </div></div>'),this.parentEl=b(d.parentEl&&b(d.parentEl).length?d.parentEl:this.parentEl),this.container=b(d.template).appendTo(this.parentEl),"object"==typeof d.locale&&("string"==typeof d.locale.direction&&(this.locale.direction=d.locale.direction),"string"==typeof d.locale.format&&(this.locale.format=d.locale.format),"string"==typeof d.locale.separator&&(this.locale.separator=d.locale.separator),"object"==typeof d.locale.daysOfWeek&&(this.locale.daysOfWeek=d.locale.daysOfWeek.slice()),"object"==typeof d.locale.monthNames&&(this.locale.monthNames=d.locale.monthNames.slice()),"number"==typeof d.locale.firstDay&&(this.locale.firstDay=d.locale.firstDay),"string"==typeof d.locale.applyLabel&&(this.locale.applyLabel=d.locale.applyLabel),"string"==typeof d.locale.cancelLabel&&(this.locale.cancelLabel=d.locale.cancelLabel),"string"==typeof d.locale.weekLabel&&(this.locale.weekLabel=d.locale.weekLabel),"string"==typeof d.locale.customRangeLabel)){var f=document.createElement("textarea");f.innerHTML=d.locale.customRangeLabel;var g=f.value;this.locale.customRangeLabel=g}if(this.container.addClass(this.locale.direction),"string"==typeof d.startDate&&(this.startDate=a(d.startDate,this.locale.format)),"string"==typeof d.endDate&&(this.endDate=a(d.endDate,this.locale.format)),"string"==typeof d.minDate&&(this.minDate=a(d.minDate,this.locale.format)),"string"==typeof d.maxDate&&(this.maxDate=a(d.maxDate,this.locale.format)),"object"==typeof d.startDate&&(this.startDate=a(d.startDate)),"object"==typeof d.endDate&&(this.endDate=a(d.endDate)),"object"==typeof d.minDate&&(this.minDate=a(d.minDate)),"object"==typeof d.maxDate&&(this.maxDate=a(d.maxDate)),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate.clone()),"string"==typeof d.applyButtonClasses&&(this.applyButtonClasses=d.applyButtonClasses),"string"==typeof d.applyClass&&(this.applyButtonClasses=d.applyClass),"string"==typeof d.cancelButtonClasses&&(this.cancelButtonClasses=d.cancelButtonClasses),"string"==typeof d.cancelClass&&(this.cancelButtonClasses=d.cancelClass),"object"==typeof d.maxSpan&&(this.maxSpan=d.maxSpan),"object"==typeof d.dateLimit&&(this.maxSpan=d.dateLimit),"string"==typeof d.opens&&(this.opens=d.opens),"string"==typeof d.drops&&(this.drops=d.drops),"boolean"==typeof d.showWeekNumbers&&(this.showWeekNumbers=d.showWeekNumbers),"boolean"==typeof d.showISOWeekNumbers&&(this.showISOWeekNumbers=d.showISOWeekNumbers),"string"==typeof d.buttonClasses&&(this.buttonClasses=d.buttonClasses),"object"==typeof d.buttonClasses&&(this.buttonClasses=d.buttonClasses.join(" ")),"boolean"==typeof d.showDropdowns&&(this.showDropdowns=d.showDropdowns),"number"==typeof d.minYear&&(this.minYear=d.minYear),"number"==typeof d.maxYear&&(this.maxYear=d.maxYear),"boolean"==typeof d.showCustomRangeLabel&&(this.showCustomRangeLabel=d.showCustomRangeLabel),"boolean"==typeof d.singleDatePicker&&(this.singleDatePicker=d.singleDatePicker,this.singleDatePicker&&(this.endDate=this.startDate.clone())),"boolean"==typeof d.timePicker&&(this.timePicker=d.timePicker),
"boolean"==typeof d.timePickerSeconds&&(this.timePickerSeconds=d.timePickerSeconds),"number"==typeof d.timePickerIncrement&&(this.timePickerIncrement=d.timePickerIncrement),"boolean"==typeof d.timePicker24Hour&&(this.timePicker24Hour=d.timePicker24Hour),"boolean"==typeof d.autoApply&&(this.autoApply=d.autoApply),"boolean"==typeof d.autoUpdateInput&&(this.autoUpdateInput=d.autoUpdateInput),"boolean"==typeof d.linkedCalendars&&(this.linkedCalendars=d.linkedCalendars),"function"==typeof d.isInvalidDate&&(this.isInvalidDate=d.isInvalidDate),"function"==typeof d.isCustomDate&&(this.isCustomDate=d.isCustomDate),"boolean"==typeof d.alwaysShowCalendars&&(this.alwaysShowCalendars=d.alwaysShowCalendars),0!=this.locale.firstDay)for(var h=this.locale.firstDay;h>0;)this.locale.daysOfWeek.push(this.locale.daysOfWeek.shift()),h--;var i,j,k;if(void 0===d.startDate&&void 0===d.endDate&&b(this.element).is(":text")){var l=b(this.element).val(),m=l.split(this.locale.separator);i=j=null,2==m.length?(i=a(m[0],this.locale.format),j=a(m[1],this.locale.format)):this.singleDatePicker&&""!==l&&(i=a(l,this.locale.format),j=a(l,this.locale.format)),null!==i&&null!==j&&(this.setStartDate(i),this.setEndDate(j))}if("object"==typeof d.ranges){for(k in d.ranges){i="string"==typeof d.ranges[k][0]?a(d.ranges[k][0],this.locale.format):a(d.ranges[k][0]),j="string"==typeof d.ranges[k][1]?a(d.ranges[k][1],this.locale.format):a(d.ranges[k][1]),this.minDate&&i.isBefore(this.minDate)&&(i=this.minDate.clone());var n=this.maxDate;if(this.maxSpan&&n&&i.clone().add(this.maxSpan).isAfter(n)&&(n=i.clone().add(this.maxSpan)),n&&j.isAfter(n)&&(j=n.clone()),!(this.minDate&&j.isBefore(this.minDate,this.timepicker?"minute":"day")||n&&i.isAfter(n,this.timepicker?"minute":"day"))){var f=document.createElement("textarea");f.innerHTML=k;var g=f.value;this.ranges[g]=[i,j]}}var o="<ul>";for(k in this.ranges)o+='<li data-range-key="'+k+'">'+k+"</li>";this.showCustomRangeLabel&&(o+='<li data-range-key="'+this.locale.customRangeLabel+'">'+this.locale.customRangeLabel+"</li>"),o+="</ul>",this.container.find(".ranges").prepend(o)}"function"==typeof e&&(this.callback=e),this.timePicker||(this.startDate=this.startDate.startOf("day"),this.endDate=this.endDate.endOf("day"),this.container.find(".calendar-time").hide()),this.timePicker&&this.autoApply&&(this.autoApply=!1),this.autoApply&&this.container.addClass("auto-apply"),"object"==typeof d.ranges&&this.container.addClass("show-ranges"),this.singleDatePicker&&(this.container.addClass("single"),this.container.find(".drp-calendar.left").addClass("single"),this.container.find(".drp-calendar.left").show(),this.container.find(".drp-calendar.right").hide(),this.timePicker||this.container.addClass("auto-apply")),(void 0===d.ranges&&!this.singleDatePicker||this.alwaysShowCalendars)&&this.container.addClass("show-calendar"),this.container.addClass("opens"+this.opens),this.container.find(".applyBtn, .cancelBtn").addClass(this.buttonClasses),this.applyButtonClasses.length&&this.container.find(".applyBtn").addClass(this.applyButtonClasses),this.cancelButtonClasses.length&&this.container.find(".cancelBtn").addClass(this.cancelButtonClasses),this.container.find(".applyBtn").html(this.locale.applyLabel),this.container.find(".cancelBtn").html(this.locale.cancelLabel),this.container.find(".drp-calendar").on("click.daterangepicker",".prev",b.proxy(this.clickPrev,this)).on("click.daterangepicker",".next",b.proxy(this.clickNext,this)).on("mousedown.daterangepicker","td.available",b.proxy(this.clickDate,this)).on("mouseenter.daterangepicker","td.available",b.proxy(this.hoverDate,this)).on("change.daterangepicker","select.yearselect",b.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.monthselect",b.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.hourselect,select.minuteselect,select.secondselect,select.ampmselect",b.proxy(this.timeChanged,this)),this.container.find(".ranges").on("click.daterangepicker","li",b.proxy(this.clickRange,this)),this.container.find(".drp-buttons").on("click.daterangepicker","button.applyBtn",b.proxy(this.clickApply,this)).on("click.daterangepicker","button.cancelBtn",b.proxy(this.clickCancel,this)),this.element.is("input")||this.element.is("button")?this.element.on({"click.daterangepicker":b.proxy(this.show,this),"focus.daterangepicker":b.proxy(this.show,this),"keyup.daterangepicker":b.proxy(this.elementChanged,this),"keydown.daterangepicker":b.proxy(this.keydown,this)}):(this.element.on("click.daterangepicker",b.proxy(this.toggle,this)),this.element.on("keydown.daterangepicker",b.proxy(this.toggle,this))),this.updateElement()};return c.prototype={constructor:c,setStartDate:function(b){"string"==typeof b&&(this.startDate=a(b,this.locale.format)),"object"==typeof b&&(this.startDate=a(b)),this.timePicker||(this.startDate=this.startDate.startOf("day")),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate.clone(),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement)),this.maxDate&&this.startDate.isAfter(this.maxDate)&&(this.startDate=this.maxDate.clone(),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.floor(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement)),this.isShowing||this.updateElement(),this.updateMonthsInView()},setEndDate:function(b){"string"==typeof b&&(this.endDate=a(b,this.locale.format)),"object"==typeof b&&(this.endDate=a(b)),this.timePicker||(this.endDate=this.endDate.add(1,"d").startOf("day").subtract(1,"second")),this.timePicker&&this.timePickerIncrement&&this.endDate.minute(Math.round(this.endDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.endDate.isBefore(this.startDate)&&(this.endDate=this.startDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate.clone()),this.maxSpan&&this.startDate.clone().add(this.maxSpan).isBefore(this.endDate)&&(this.endDate=this.startDate.clone().add(this.maxSpan)),this.previousRightTime=this.endDate.clone(),this.container.find(".drp-selected").html(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.isShowing||this.updateElement(),this.updateMonthsInView()},isInvalidDate:function(){return!1},isCustomDate:function(){return!1},updateView:function(){this.timePicker&&(this.renderTimePicker("left"),this.renderTimePicker("right"),this.endDate?this.container.find(".right .calendar-time select").removeAttr("disabled").removeClass("disabled"):this.container.find(".right .calendar-time select").attr("disabled","disabled").addClass("disabled")),this.endDate&&this.container.find(".drp-selected").html(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.updateMonthsInView(),this.updateCalendars(),this.updateFormInputs()},updateMonthsInView:function(){if(this.endDate){if(!this.singleDatePicker&&this.leftCalendar.month&&this.rightCalendar.month&&(this.startDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.startDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM"))&&(this.endDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.endDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM")))return;this.leftCalendar.month=this.startDate.clone().date(2),this.linkedCalendars||this.endDate.month()==this.startDate.month()&&this.endDate.year()==this.startDate.year()?this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"):this.rightCalendar.month=this.endDate.clone().date(2)}else this.leftCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&this.rightCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&(this.leftCalendar.month=this.startDate.clone().date(2),this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"));this.maxDate&&this.linkedCalendars&&!this.singleDatePicker&&this.rightCalendar.month>this.maxDate&&(this.rightCalendar.month=this.maxDate.clone().date(2),this.leftCalendar.month=this.maxDate.clone().date(2).subtract(1,"month"))},updateCalendars:function(){if(this.timePicker){var a,b,c;if(this.endDate){if(a=parseInt(this.container.find(".left .hourselect").val(),10),b=parseInt(this.container.find(".left .minuteselect").val(),10),c=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0,!this.timePicker24Hour){var d=this.container.find(".left .ampmselect").val();"PM"===d&&a<12&&(a+=12),"AM"===d&&12===a&&(a=0)}}else if(a=parseInt(this.container.find(".right .hourselect").val(),10),b=parseInt(this.container.find(".right .minuteselect").val(),10),c=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0,!this.timePicker24Hour){var d=this.container.find(".right .ampmselect").val();"PM"===d&&a<12&&(a+=12),"AM"===d&&12===a&&(a=0)}this.leftCalendar.month.hour(a).minute(b).second(c),this.rightCalendar.month.hour(a).minute(b).second(c)}this.renderCalendar("left"),this.renderCalendar("right"),this.container.find(".ranges li").removeClass("active"),null!=this.endDate&&this.calculateChosenLabel()},renderCalendar:function(c){var d="left"==c?this.leftCalendar:this.rightCalendar,e=d.month.month(),f=d.month.year(),g=d.month.hour(),h=d.month.minute(),i=d.month.second(),j=a([f,e]).daysInMonth(),k=a([f,e,1]),l=a([f,e,j]),m=a(k).subtract(1,"month").month(),n=a(k).subtract(1,"month").year(),o=a([n,m]).daysInMonth(),p=k.day(),d=[];d.firstDay=k,d.lastDay=l;for(var q=0;q<6;q++)d[q]=[];var r=o-p+this.locale.firstDay+1;r>o&&(r-=7),p==this.locale.firstDay&&(r=o-6);for(var s,t,u=a([n,m,r,12,h,i]),q=0,s=0,t=0;q<42;q++,s++,u=a(u).add(24,"hour"))q>0&&s%7==0&&(s=0,t++),d[t][s]=u.clone().hour(g).minute(h).second(i),u.hour(12),this.minDate&&d[t][s].format("YYYY-MM-DD")==this.minDate.format("YYYY-MM-DD")&&d[t][s].isBefore(this.minDate)&&"left"==c&&(d[t][s]=this.minDate.clone()),this.maxDate&&d[t][s].format("YYYY-MM-DD")==this.maxDate.format("YYYY-MM-DD")&&d[t][s].isAfter(this.maxDate)&&"right"==c&&(d[t][s]=this.maxDate.clone());"left"==c?this.leftCalendar.calendar=d:this.rightCalendar.calendar=d;var v="left"==c?this.minDate:this.startDate,w=this.maxDate,x=("left"==c?this.startDate:this.endDate,this.locale.direction,'<table class="table-condensed">');x+="<thead>",x+="<tr>",(this.showWeekNumbers||this.showISOWeekNumbers)&&(x+="<th></th>"),v&&!v.isBefore(d.firstDay)||this.linkedCalendars&&"left"!=c?x+="<th></th>":x+='<th class="prev available"><span></span></th>';var y=this.locale.monthNames[d[1][1].month()]+d[1][1].format(" YYYY");if(this.showDropdowns){for(var z=d[1][1].month(),A=d[1][1].year(),B=w&&w.year()||this.maxYear,C=v&&v.year()||this.minYear,D=A==C,E=A==B,F='<select class="monthselect">',G=0;G<12;G++)(!D||G>=v.month())&&(!E||G<=w.month())?F+="<option value='"+G+"'"+(G===z?" selected='selected'":"")+">"+this.locale.monthNames[G]+"</option>":F+="<option value='"+G+"'"+(G===z?" selected='selected'":"")+" disabled='disabled'>"+this.locale.monthNames[G]+"</option>";F+="</select>";for(var H='<select class="yearselect">',I=C;I<=B;I++)H+='<option value="'+I+'"'+(I===A?' selected="selected"':"")+">"+I+"</option>";H+="</select>",y=F+H}if(x+='<th colspan="5" class="month">'+y+"</th>",w&&!w.isAfter(d.lastDay)||this.linkedCalendars&&"right"!=c&&!this.singleDatePicker?x+="<th></th>":x+='<th class="next available"><span></span></th>',x+="</tr>",x+="<tr>",(this.showWeekNumbers||this.showISOWeekNumbers)&&(x+='<th class="week">'+this.locale.weekLabel+"</th>"),b.each(this.locale.daysOfWeek,function(a,b){x+="<th>"+b+"</th>"}),x+="</tr>",x+="</thead>",x+="<tbody>",null==this.endDate&&this.maxSpan){var J=this.startDate.clone().add(this.maxSpan).endOf("day");w&&!J.isBefore(w)||(w=J)}for(var t=0;t<6;t++){x+="<tr>",this.showWeekNumbers?x+='<td class="week">'+d[t][0].week()+"</td>":this.showISOWeekNumbers&&(x+='<td class="week">'+d[t][0].isoWeek()+"</td>");for(var s=0;s<7;s++){var K=[];d[t][s].isSame(new Date,"day")&&K.push("today"),d[t][s].isoWeekday()>5&&K.push("weekend"),d[t][s].month()!=d[1][1].month()&&K.push("off"),this.minDate&&d[t][s].isBefore(this.minDate,"day")&&K.push("off","disabled"),w&&d[t][s].isAfter(w,"day")&&K.push("off","disabled"),this.isInvalidDate(d[t][s])&&K.push("off","disabled"),d[t][s].format("YYYY-MM-DD")==this.startDate.format("YYYY-MM-DD")&&K.push("active","start-date"),null!=this.endDate&&d[t][s].format("YYYY-MM-DD")==this.endDate.format("YYYY-MM-DD")&&K.push("active","end-date"),null!=this.endDate&&d[t][s]>this.startDate&&d[t][s]<this.endDate&&K.push("in-range");var L=this.isCustomDate(d[t][s]);!1!==L&&("string"==typeof L?K.push(L):Array.prototype.push.apply(K,L));for(var M="",N=!1,q=0;q<K.length;q++)M+=K[q]+" ","disabled"==K[q]&&(N=!0);N||(M+="available"),x+='<td class="'+M.replace(/^\s+|\s+$/g,"")+'" data-title="r'+t+"c"+s+'">'+d[t][s].date()+"</td>"}x+="</tr>"}x+="</tbody>",x+="</table>",this.container.find(".drp-calendar."+c+" .calendar-table").html(x)},renderTimePicker:function(a){if("right"!=a||this.endDate){var b,c,d,e=this.maxDate;if(!this.maxSpan||this.maxDate&&!this.startDate.clone().add(this.maxSpan).isAfter(this.maxDate)||(e=this.startDate.clone().add(this.maxSpan)),"left"==a)c=this.startDate.clone(),d=this.minDate;else if("right"==a){c=this.endDate.clone(),d=this.startDate;var f=this.container.find(".drp-calendar.right .calendar-time");if(""!=f.html()&&(c.hour(c.hour()||f.find(".hourselect option:selected").val()),c.minute(c.minute()||f.find(".minuteselect option:selected").val()),c.second(c.second()||f.find(".secondselect option:selected").val()),!this.timePicker24Hour)){var g=f.find(".ampmselect option:selected").val();"PM"===g&&c.hour()<12&&c.hour(c.hour()+12),"AM"===g&&12===c.hour()&&c.hour(0)}c.isBefore(this.startDate)&&(c=this.startDate.clone()),e&&c.isAfter(e)&&(c=e.clone())}b='<select class="hourselect">';for(var h=this.timePicker24Hour?0:1,i=this.timePicker24Hour?23:12,j=h;j<=i;j++){var k=j;this.timePicker24Hour||(k=c.hour()>=12?12==j?12:j+12:12==j?0:j);var l=c.clone().hour(k),m=!1;d&&l.minute(59).isBefore(d)&&(m=!0),e&&l.minute(0).isAfter(e)&&(m=!0),k!=c.hour()||m?b+=m?'<option value="'+j+'" disabled="disabled" class="disabled">'+j+"</option>":'<option value="'+j+'">'+j+"</option>":b+='<option value="'+j+'" selected="selected">'+j+"</option>"}b+="</select> ",b+=': <select class="minuteselect">';for(var j=0;j<60;j+=this.timePickerIncrement){var n=j<10?"0"+j:j,l=c.clone().minute(j),m=!1;d&&l.second(59).isBefore(d)&&(m=!0),e&&l.second(0).isAfter(e)&&(m=!0),c.minute()!=j||m?b+=m?'<option value="'+j+'" disabled="disabled" class="disabled">'+n+"</option>":'<option value="'+j+'">'+n+"</option>":b+='<option value="'+j+'" selected="selected">'+n+"</option>"}if(b+="</select> ",this.timePickerSeconds){b+=': <select class="secondselect">';for(var j=0;j<60;j++){var n=j<10?"0"+j:j,l=c.clone().second(j),m=!1;d&&l.isBefore(d)&&(m=!0),e&&l.isAfter(e)&&(m=!0),c.second()!=j||m?b+=m?'<option value="'+j+'" disabled="disabled" class="disabled">'+n+"</option>":'<option value="'+j+'">'+n+"</option>":b+='<option value="'+j+'" selected="selected">'+n+"</option>"}b+="</select> "}if(!this.timePicker24Hour){b+='<select class="ampmselect">';var o="",p="";d&&c.clone().hour(12).minute(0).second(0).isBefore(d)&&(o=' disabled="disabled" class="disabled"'),e&&c.clone().hour(0).minute(0).second(0).isAfter(e)&&(p=' disabled="disabled" class="disabled"'),c.hour()>=12?b+='<option value="AM"'+o+'>AM</option><option value="PM" selected="selected"'+p+">PM</option>":b+='<option value="AM" selected="selected"'+o+'>AM</option><option value="PM"'+p+">PM</option>",b+="</select>"}this.container.find(".drp-calendar."+a+" .calendar-time").html(b)}},updateFormInputs:function(){this.singleDatePicker||this.endDate&&(this.startDate.isBefore(this.endDate)||this.startDate.isSame(this.endDate))?this.container.find("button.applyBtn").removeAttr("disabled"):this.container.find("button.applyBtn").attr("disabled","disabled")},move:function(){var a,c={top:0,left:0},d=b(window).width();this.parentEl.is("body")||(c={top:this.parentEl.offset().top-this.parentEl.scrollTop(),left:this.parentEl.offset().left-this.parentEl.scrollLeft()},d=this.parentEl[0].clientWidth+this.parentEl.offset().left),a="up"==this.drops?this.element.offset().top-this.container.outerHeight()-c.top:this.element.offset().top+this.element.outerHeight()-c.top,this.container["up"==this.drops?"addClass":"removeClass"]("drop-up"),"left"==this.opens?(this.container.css({top:a,right:d-this.element.offset().left-this.element.outerWidth(),left:"auto"}),this.container.offset().left<0&&this.container.css({right:"auto",left:9})):"center"==this.opens?(this.container.css({top:a,left:this.element.offset().left-c.left+this.element.outerWidth()/2-this.container.outerWidth()/2,right:"auto"}),this.container.offset().left<0&&this.container.css({right:"auto",left:9})):(this.container.css({top:a,left:this.element.offset().left-c.left,right:"auto"}),this.container.offset().left+this.container.outerWidth()>b(window).width()&&this.container.css({left:"auto",right:0}))},show:function(a){this.isShowing||(this._outsideClickProxy=b.proxy(function(a){this.outsideClick(a)},this),b(document).on("mousedown.daterangepicker",this._outsideClickProxy).on("touchend.daterangepicker",this._outsideClickProxy).on("click.daterangepicker","[data-toggle=dropdown]",this._outsideClickProxy).on("focusin.daterangepicker",this._outsideClickProxy),b(window).on("resize.daterangepicker",b.proxy(function(a){this.move(a)},this)),this.oldStartDate=this.startDate.clone(),this.oldEndDate=this.endDate.clone(),this.previousRightTime=this.endDate.clone(),this.updateView(),this.container.show(),this.move(),this.element.trigger("show.daterangepicker",this),this.isShowing=!0)},hide:function(a){this.isShowing&&(this.endDate||(this.startDate=this.oldStartDate.clone(),this.endDate=this.oldEndDate.clone()),this.startDate.isSame(this.oldStartDate)&&this.endDate.isSame(this.oldEndDate)||this.callback(this.startDate.clone(),this.endDate.clone(),this.chosenLabel),this.updateElement(),b(document).off(".daterangepicker"),b(window).off(".daterangepicker"),this.container.hide(),this.element.trigger("hide.daterangepicker",this),this.isShowing=!1)},toggle:function(a){this.isShowing?this.hide():this.show()},outsideClick:function(a){var c=b(a.target);"focusin"==a.type||c.closest(this.element).length||c.closest(this.container).length||c.closest(".calendar-table").length||(this.hide(),this.element.trigger("outsideClick.daterangepicker",this))},showCalendars:function(){this.container.addClass("show-calendar"),this.move(),this.element.trigger("showCalendar.daterangepicker",this)},hideCalendars:function(){this.container.removeClass("show-calendar"),this.element.trigger("hideCalendar.daterangepicker",this)},clickRange:function(a){var b=a.target.getAttribute("data-range-key");if(this.chosenLabel=b,b==this.locale.customRangeLabel)this.showCalendars();else{var c=this.ranges[b];this.startDate=c[0],this.endDate=c[1],this.timePicker||(this.startDate.startOf("day"),this.endDate.endOf("day")),this.alwaysShowCalendars||this.hideCalendars(),this.clickApply()}},clickPrev:function(a){b(a.target).parents(".drp-calendar").hasClass("left")?(this.leftCalendar.month.subtract(1,"month"),this.linkedCalendars&&this.rightCalendar.month.subtract(1,"month")):this.rightCalendar.month.subtract(1,"month"),this.updateCalendars()},clickNext:function(a){b(a.target).parents(".drp-calendar").hasClass("left")?this.leftCalendar.month.add(1,"month"):(this.rightCalendar.month.add(1,"month"),this.linkedCalendars&&this.leftCalendar.month.add(1,"month")),this.updateCalendars()},hoverDate:function(a){if(b(a.target).hasClass("available")){var c=b(a.target).attr("data-title"),d=c.substr(1,1),e=c.substr(3,1),f=b(a.target).parents(".drp-calendar"),g=f.hasClass("left")?this.leftCalendar.calendar[d][e]:this.rightCalendar.calendar[d][e],h=this.leftCalendar,i=this.rightCalendar,j=this.startDate;this.endDate||this.container.find(".drp-calendar tbody td").each(function(a,c){if(!b(c).hasClass("week")){var d=b(c).attr("data-title"),e=d.substr(1,1),f=d.substr(3,1),k=b(c).parents(".drp-calendar"),l=k.hasClass("left")?h.calendar[e][f]:i.calendar[e][f];l.isAfter(j)&&l.isBefore(g)||l.isSame(g,"day")?b(c).addClass("in-range"):b(c).removeClass("in-range")}})}},clickDate:function(a){if(b(a.target).hasClass("available")){var c=b(a.target).attr("data-title"),d=c.substr(1,1),e=c.substr(3,1),f=b(a.target).parents(".drp-calendar"),g=f.hasClass("left")?this.leftCalendar.calendar[d][e]:this.rightCalendar.calendar[d][e];if(this.endDate||g.isBefore(this.startDate,"day")){if(this.timePicker){var h=parseInt(this.container.find(".left .hourselect").val(),10);if(!this.timePicker24Hour){var i=this.container.find(".left .ampmselect").val();"PM"===i&&h<12&&(h+=12),"AM"===i&&12===h&&(h=0)}var j=parseInt(this.container.find(".left .minuteselect").val(),10),k=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0;g=g.clone().hour(h).minute(j).second(k)}this.endDate=null,this.setStartDate(g.clone())}else if(!this.endDate&&g.isBefore(this.startDate))this.setEndDate(this.startDate.clone());else{if(this.timePicker){var h=parseInt(this.container.find(".right .hourselect").val(),10);if(!this.timePicker24Hour){var i=this.container.find(".right .ampmselect").val();"PM"===i&&h<12&&(h+=12),"AM"===i&&12===h&&(h=0)}var j=parseInt(this.container.find(".right .minuteselect").val(),10),k=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0;g=g.clone().hour(h).minute(j).second(k)}this.setEndDate(g.clone()),this.autoApply&&(this.calculateChosenLabel(),this.clickApply())}this.singleDatePicker&&(this.setEndDate(this.startDate),this.timePicker||this.clickApply()),this.updateView(),a.stopPropagation()}},calculateChosenLabel:function(){var a=!0,b=0;for(var c in this.ranges){if(this.timePicker){var d=this.timePickerSeconds?"YYYY-MM-DD HH:mm:ss":"YYYY-MM-DD HH:mm";if(this.startDate.format(d)==this.ranges[c][0].format(d)&&this.endDate.format(d)==this.ranges[c][1].format(d)){a=!1,this.chosenLabel=this.container.find(".ranges li:eq("+b+")").addClass("active").attr("data-range-key");break}}else if(this.startDate.format("YYYY-MM-DD")==this.ranges[c][0].format("YYYY-MM-DD")&&this.endDate.format("YYYY-MM-DD")==this.ranges[c][1].format("YYYY-MM-DD")){a=!1,this.chosenLabel=this.container.find(".ranges li:eq("+b+")").addClass("active").attr("data-range-key");break}b++}a&&(this.showCustomRangeLabel?this.chosenLabel=this.container.find(".ranges li:last").addClass("active").attr("data-range-key"):this.chosenLabel=null,this.showCalendars())},clickApply:function(a){this.hide(),this.element.trigger("apply.daterangepicker",this)},clickCancel:function(a){this.startDate=this.oldStartDate,this.endDate=this.oldEndDate,this.hide(),this.element.trigger("cancel.daterangepicker",this)},monthOrYearChanged:function(a){var c=b(a.target).closest(".drp-calendar").hasClass("left"),d=c?"left":"right",e=this.container.find(".drp-calendar."+d),f=parseInt(e.find(".monthselect").val(),10),g=e.find(".yearselect").val();c||(g<this.startDate.year()||g==this.startDate.year()&&f<this.startDate.month())&&(f=this.startDate.month(),g=this.startDate.year()),this.minDate&&(g<this.minDate.year()||g==this.minDate.year()&&f<this.minDate.month())&&(f=this.minDate.month(),g=this.minDate.year()),this.maxDate&&(g>this.maxDate.year()||g==this.maxDate.year()&&f>this.maxDate.month())&&(f=this.maxDate.month(),g=this.maxDate.year()),c?(this.leftCalendar.month.month(f).year(g),this.linkedCalendars&&(this.rightCalendar.month=this.leftCalendar.month.clone().add(1,"month"))):(this.rightCalendar.month.month(f).year(g),this.linkedCalendars&&(this.leftCalendar.month=this.rightCalendar.month.clone().subtract(1,"month"))),this.updateCalendars()},timeChanged:function(a){var c=b(a.target).closest(".drp-calendar"),d=c.hasClass("left"),e=parseInt(c.find(".hourselect").val(),10),f=parseInt(c.find(".minuteselect").val(),10),g=this.timePickerSeconds?parseInt(c.find(".secondselect").val(),10):0;if(!this.timePicker24Hour){var h=c.find(".ampmselect").val();"PM"===h&&e<12&&(e+=12),"AM"===h&&12===e&&(e=0)}if(d){var i=this.startDate.clone();i.hour(e),i.minute(f),i.second(g),this.setStartDate(i),this.singleDatePicker?this.endDate=this.startDate.clone():this.endDate&&this.endDate.format("YYYY-MM-DD")==i.format("YYYY-MM-DD")&&this.endDate.isBefore(i)&&this.setEndDate(i.clone())}else if(this.endDate){var j=this.endDate.clone();j.hour(e),j.minute(f),j.second(g),this.setEndDate(j)}this.updateCalendars(),this.updateFormInputs(),this.renderTimePicker("left"),this.renderTimePicker("right")},elementChanged:function(){if(this.element.is("input")&&this.element.val().length){var b=this.element.val().split(this.locale.separator),c=null,d=null;2===b.length&&(c=a(b[0],this.locale.format),d=a(b[1],this.locale.format)),(this.singleDatePicker||null===c||null===d)&&(c=a(this.element.val(),this.locale.format),d=c),c.isValid()&&d.isValid()&&(this.setStartDate(c),this.setEndDate(d),this.updateView())}},keydown:function(a){9!==a.keyCode&&13!==a.keyCode||this.hide(),27===a.keyCode&&(a.preventDefault(),a.stopPropagation(),this.hide())},updateElement:function(){if(this.element.is("input")&&this.autoUpdateInput){var a=this.startDate.format(this.locale.format);this.singleDatePicker||(a+=this.locale.separator+this.endDate.format(this.locale.format)),a!==this.element.val()&&this.element.val(a).trigger("change")}},remove:function(){this.container.remove(),this.element.off(".daterangepicker"),this.element.removeData()}},b.fn.daterangepicker=function(a,d){var e=b.extend(!0,{},b.fn.daterangepicker.defaultOptions,a);return this.each(function(){var a=b(this);a.data("daterangepicker")&&a.data("daterangepicker").remove(),a.data("daterangepicker",new c(a,e,d))}),this},c}),function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={i:d,l:!1,exports:{}};return a[d].call(e.exports,e,e.exports,b),e.l=!0,e.exports}var c={};b.m=a,b.c=c,b.d=function(a,c,d){b.o(a,c)||Object.defineProperty(a,c,{enumerable:!0,get:d})},b.r=function(a){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},b.t=function(a,c){if(1&c&&(a=b(a)),8&c)return a;if(4&c&&"object"==typeof a&&a&&a.__esModule)return a;var d=Object.create(null);if(b.r(d),Object.defineProperty(d,"default",{enumerable:!0,value:a}),2&c&&"string"!=typeof a)for(var e in a)b.d(d,e,function(b){return a[b]}.bind(null,e));return d},b.n=function(a){var c=a&&a.__esModule?function(){return a.default}:function(){return a};return b.d(c,"a",c),c},b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},b.p="",b(b.s=0)}([function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}c(1),c(6),c(7);var e=c(2),f=d(e),g=c(3),h=d(g),i=c(4),j=d(i);h.default===j.default&&c(8),window.Inputmask=f.default},function(a,b,c){"use strict";var d,e,f;"function"==typeof Symbol&&Symbol.iterator;!function(g){e=[c(2)],d=g,void 0!==(f="function"==typeof d?d.apply(b,e):d)&&(a.exports=f)}(function(a){return a.extendDefinitions({A:{validator:"[A-Za-zА-яЁёÀ-ÿµ]",casing:"upper"},"&":{validator:"[0-9A-Za-zА-яЁёÀ-ÿµ]",casing:"upper"},"#":{validator:"[0-9A-Fa-f]",casing:"upper"}}),a.extendAliases({cssunit:{regex:"[+-]?[0-9]+\\.?([0-9]+)?(px|em|rem|ex|%|in|cm|mm|pt|pc)"},url:{regex:"(https?|ftp)//.*",autoUnmask:!1},ip:{mask:"i[i[i]].i[i[i]].i[i[i]].i[i[i]]",definitions:{i:{validator:function(a,b,c,d,e){return c-1>-1&&"."!==b.buffer[c-1]?(a=b.buffer[c-1]+a,a=c-2>-1&&"."!==b.buffer[c-2]?b.buffer[c-2]+a:"0"+a):a="00"+a,new RegExp("25[0-5]|2[0-4][0-9]|[01][0-9][0-9]").test(a)}}},onUnMask:function(a,b,c){return a},inputmode:"numeric"},email:{mask:"*{1,64}[.*{1,64}][.*{1,64}][.*{1,63}]@-{1,63}.-{1,63}[.-{1,63}][.-{1,63}]",greedy:!1,casing:"lower",onBeforePaste:function(a,b){return a=a.toLowerCase(),a.replace("mailto:","")},definitions:{"*":{validator:"[0-9１-９A-Za-zА-яЁёÀ-ÿµ!#$%&'*+/=?^_`{|}~-]"},"-":{validator:"[0-9A-Za-z-]"}},onUnMask:function(a,b,c){return a},inputmode:"email"},mac:{mask:"##:##:##:##:##:##"},vin:{mask:"V{13}9{4}",definitions:{V:{validator:"[A-HJ-NPR-Za-hj-npr-z\\d]",casing:"upper"}},clearIncomplete:!0,autoUnmask:!0}}),a})},function(a,b,c){"use strict";var d,e,f,g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};!function(g){e=[c(3),c(5)],d=g,void 0!==(f="function"==typeof d?d.apply(b,e):d)&&(a.exports=f)}(function(a,b,c){function d(b,f,g){if(!(this instanceof d))return new d(b,f,g);this.el=c,this.events={},this.maskset=c,this.refreshValue=!1,!0!==g&&(a.isPlainObject(b)?f=b:(f=f||{},b&&(f.alias=b)),this.opts=a.extend(!0,{},this.defaults,f),this.noMasksCache=f&&f.definitions!==c,this.userOptions=f||{},this.isRTL=this.opts.numericInput,e(this.opts.alias,f,this.opts))}function e(b,f,g){var h=d.prototype.aliases[b];return h?(h.alias&&e(h.alias,c,g),a.extend(!0,g,h),a.extend(!0,g,f),!0):(null===g.mask&&(g.mask=b),!1)}function f(b,e){function f(b,f,g){var h=!1;if(null!==b&&""!==b||(h=null!==g.regex,h?(b=g.regex,b=b.replace(/^(\^)(.*)(\$)$/,"$2")):(h=!0,b=".*")),1===b.length&&!1===g.greedy&&0!==g.repeat&&(g.placeholder=""),g.repeat>0||"*"===g.repeat||"+"===g.repeat){var i="*"===g.repeat?0:"+"===g.repeat?1:g.repeat;b=g.groupmarker[0]+b+g.groupmarker[1]+g.quantifiermarker[0]+i+","+g.repeat+g.quantifiermarker[1]}var j,k=h?"regex_"+g.regex:g.numericInput?b.split("").reverse().join(""):b;return d.prototype.masksCache[k]===c||!0===e?(j={mask:b,maskToken:d.prototype.analyseMask(b,h,g),validPositions:{},_buffer:c,buffer:c,tests:{},excludes:{},metadata:f,maskLength:c},!0!==e&&(d.prototype.masksCache[k]=j,j=a.extend(!0,{},d.prototype.masksCache[k]))):j=a.extend(!0,{},d.prototype.masksCache[k]),j}if(a.isFunction(b.mask)&&(b.mask=b.mask(b)),a.isArray(b.mask)){if(b.mask.length>1){if(null===b.keepStatic){b.keepStatic="auto";for(var g=0;g<b.mask.length;g++)if(b.mask[g].charAt(0)!==b.mask[0].charAt(0)){b.keepStatic=!0;break}}var h=b.groupmarker[0];return a.each(b.isRTL?b.mask.reverse():b.mask,function(d,e){h.length>1&&(h+=b.groupmarker[1]+b.alternatormarker+b.groupmarker[0]),e.mask===c||a.isFunction(e.mask)?h+=e:h+=e.mask}),h+=b.groupmarker[1],f(h,b.mask,b)}b.mask=b.mask.pop()}return b.mask&&b.mask.mask!==c&&!a.isFunction(b.mask.mask)?f(b.mask.mask,b.mask,b):f(b.mask,b.mask,b)}function h(a){var b=j.createElement("input"),c="on"+a,d=c in b;return d||(b.setAttribute(c,"return;"),d="function"==typeof b[c]),b=null,d}function i(e,f,k){function p(a,b,d,e,f){var g=k.greedy;f&&(k.greedy=!1),b=b||0;var h,i,j,l=[],m=0;s();do{if(!0===a&&q().validPositions[m])j=f&&!0===q().validPositions[m].match.optionality&&q().validPositions[m+1]===c&&(!0===q().validPositions[m].generatedInput||q().validPositions[m].input==k.skipOptionalPartCharacter&&m>0)?v(m,z(m,h,m-1)):q().validPositions[m],i=j.match,h=j.locator.slice(),l.push(!0===d?j.input:!1===d?i.nativeDef:N(m,i));else{j=w(m,h,m-1),i=j.match,h=j.locator.slice();var n=!0!==e&&(!1!==k.jitMasking?k.jitMasking:i.jit);(!1===n||n===c||"number"==typeof n&&isFinite(n)&&n>m)&&l.push(!1===d?i.nativeDef:N(m,i))}"auto"===k.keepStatic&&i.newBlockMarker&&null!==i.fn&&(k.keepStatic=m-1),m++}while((_===c||m<_)&&(null!==i.fn||""!==i.def)||b>m);return""===l[l.length-1]&&l.pop(),!1===d&&q().maskLength!==c||(q().maskLength=m-1),k.greedy=g,l}function q(){return f}function r(a){var b=q();b.buffer=c,!0!==a&&(b.validPositions={},b.p=0)}function s(a,b,d){var e=-1,f=-1,g=d||q().validPositions;a===c&&(a=-1);for(var h in g){var i=parseInt(h);g[i]&&(b||!0!==g[i].generatedInput)&&(i<=a&&(e=i),
i>=a&&(f=i))}return-1===e||e==a?f:-1==f?e:a-e<f-a?e:f}function t(a){var b=a.locator[a.alternation];return"string"==typeof b&&b.length>0&&(b=b.split(",")[0]),b!==c?b.toString():""}function u(a,b){var d=(a.alternation!=c?a.mloc[t(a)]:a.locator).join("");if(""!==d)for(;d.length<b;)d+="0";return d}function v(a,b){a=a>0?a-1:0;for(var d,e,f,g=x(a),h=u(g),i=0;i<b.length;i++){var j=b[i];d=u(j,h.length);var k=Math.abs(d-h);(e===c||""!==d&&k<e||f&&f.match.optionality&&"master"===f.match.newBlockMarker&&(!j.match.optionality||!j.match.newBlockMarker)||f&&f.match.optionalQuantifier&&!j.match.optionalQuantifier)&&(e=k,f=j)}return f}function w(a,b,c){return q().validPositions[a]||v(a,z(a,b?b.slice():b,c))}function x(a,b){return q().validPositions[a]?q().validPositions[a]:(b||z(a))[0]}function y(a,b){for(var c=!1,d=z(a),e=0;e<d.length;e++)if(d[e].match&&d[e].match.def===b){c=!0;break}return c}function z(b,d,e){function f(d,e,g,i){function l(g,i,r){function s(b,c){var d=0===a.inArray(b,c.matches);return d||a.each(c.matches,function(a,e){if(!0===e.isQuantifier?d=s(b,c.matches[a-1]):e.hasOwnProperty("matches")&&(d=s(b,e)),d)return!1}),d}function t(b,d,e){var f,g;if((q().tests[b]||q().validPositions[b])&&a.each(q().tests[b]||[q().validPositions[b]],function(a,b){if(b.mloc[d])return f=b,!1;var h=e!==c?e:b.alternation,i=b.locator[h]!==c?b.locator[h].toString().indexOf(d):-1;(g===c||i<g)&&-1!==i&&(f=b,g=i)}),f){var h=f.locator[f.alternation];return(f.mloc[d]||f.mloc[h]||f.locator).slice((e!==c?e:f.alternation)+1)}return e!==c?t(b,d):c}function u(a,b){function c(a){for(var b,c,d=[],e=0,f=a.length;e<f;e++)if("-"===a.charAt(e))for(c=a.charCodeAt(e+1);++b<c;)d.push(String.fromCharCode(b));else b=a.charCodeAt(e),d.push(a.charAt(e));return d.join("")}return k.regex&&null!==a.match.fn&&null!==b.match.fn?-1!==c(b.match.def.replace(/[\[\]]/g,"")).indexOf(c(a.match.def.replace(/[\[\]]/g,""))):a.match.def===b.match.nativeDef}function v(a,c){var d=a.locator.slice(a.alternation).join(""),e=c.locator.slice(c.alternation).join(""),f=d==e,f=!(!f||null!==a.match.fn||null===c.match.fn)&&c.match.fn.test(a.match.def,q(),b,!1,k,!1);return f}function w(a,b){if(b===c||a.alternation===b.alternation&&-1===a.locator[a.alternation].toString().indexOf(b.locator[b.alternation])){a.mloc=a.mloc||{};var d=a.locator[a.alternation];if(d!==c){if("string"==typeof d&&(d=d.split(",")[0]),a.mloc[d]===c&&(a.mloc[d]=a.locator.slice()),b!==c){for(var e in b.mloc)"string"==typeof e&&(e=e.split(",")[0]),a.mloc[e]===c&&(a.mloc[e]=b.mloc[e]);a.locator[a.alternation]=Object.keys(a.mloc).join(",")}return!0}a.alternation=c}return!1}if(j>500&&r!==c)throw"Inputmask: There is probably an error in your mask definition or in the code. Create an issue on github with an example of the mask you are using. "+q().mask;if(j===b&&g.matches===c)return m.push({match:g,locator:i.reverse(),cd:o,mloc:{}}),!0;if(g.matches!==c){if(g.isGroup&&r!==g){if(g=l(d.matches[a.inArray(g,d.matches)+1],i,r))return!0}else if(g.isOptional){var x=g;if(g=f(g,e,i,r)){if(a.each(m,function(a,b){b.match.optionality=!0}),h=m[m.length-1].match,r!==c||!s(h,x))return!0;n=!0,j=b}}else if(g.isAlternator){var y,z=g,A=[],B=m.slice(),C=i.length,D=e.length>0?e.shift():-1;if(-1===D||"string"==typeof D){var E,F=j,G=e.slice(),H=[];if("string"==typeof D)H=D.split(",");else for(E=0;E<z.matches.length;E++)H.push(E.toString());if(q().excludes[b]){for(var I=H.slice(),J=0,K=q().excludes[b].length;J<K;J++)H.splice(H.indexOf(q().excludes[b][J].toString()),1);0===H.length&&(q().excludes[b]=c,H=I)}(!0===k.keepStatic||isFinite(parseInt(k.keepStatic))&&F>=k.keepStatic)&&(H=H.slice(0,1));for(var L=!1,M=0;M<H.length;M++){E=parseInt(H[M]),m=[],e="string"==typeof D?t(j,E,C)||G.slice():G.slice(),z.matches[E]&&l(z.matches[E],[E].concat(i),r)?g=!0:0===M&&(L=!0),y=m.slice(),j=F,m=[];for(var N=0;N<y.length;N++){var O=y[N],P=!1;O.match.jit=O.match.jit||L,O.alternation=O.alternation||C,w(O);for(var Q=0;Q<A.length;Q++){var R=A[Q];if("string"!=typeof D||O.alternation!==c&&-1!==a.inArray(O.locator[O.alternation].toString(),H)){if(O.match.nativeDef===R.match.nativeDef){P=!0,w(R,O);break}if(u(O,R)){w(O,R)&&(P=!0,A.splice(A.indexOf(R),0,O));break}if(u(R,O)){w(R,O);break}if(v(O,R)){w(O,R)&&(P=!0,A.splice(A.indexOf(R),0,O));break}}}P||A.push(O)}}m=B.concat(A),j=b,n=m.length>0,g=A.length>0,e=G.slice()}else g=l(z.matches[D]||d.matches[D],[D].concat(i),r);if(g)return!0}else if(g.isQuantifier&&r!==d.matches[a.inArray(g,d.matches)-1])for(var S=g,T=e.length>0?e.shift():0;T<(isNaN(S.quantifier.max)?T+1:S.quantifier.max)&&j<=b;T++){var U=d.matches[a.inArray(S,d.matches)-1];if(g=l(U,[T].concat(i),U)){if(h=m[m.length-1].match,h.optionalQuantifier=T>S.quantifier.min-1,h.jit=(T||1)*U.matches.indexOf(h)>=S.quantifier.jit,h.optionalQuantifier&&s(h,U)){n=!0,j=b;break}if(h.jit&&!h.optionalQuantifier){p=U.matches.indexOf(h),j=b,n=!0;break}return!0}}else if(g=f(g,e,i,r))return!0}else j++}for(var r=e.length>0?e.shift():0;r<d.matches.length;r=r+1+p)if(p=0,!0!==d.matches[r].isQuantifier){var s=l(d.matches[r],[r].concat(g),i);if(s&&j===b)return s;if(j>b)break}}function g(b,d){var e=[];return a.isArray(d)||(d=[d]),d.length>0&&(d[0].alternation===c?(e=v(b,d.slice()).locator.slice(),0===e.length&&(e=d[0].locator.slice())):a.each(d,function(a,b){if(""!==b.def)if(0===e.length)e=b.locator.slice();else for(var c=0;c<e.length;c++)b.locator[c]&&-1===e[c].toString().indexOf(b.locator[c])&&(e[c]+=","+b.locator[c])})),e}var h,i=q().maskToken,j=d?e:0,l=d?d.slice():[0],m=[],n=!1,o=d?d.join(""):"",p=0;if(b>-1){if(d===c){for(var r,s=b-1;(r=q().validPositions[s]||q().tests[s])===c&&s>-1;)s--;r!==c&&s>-1&&(l=g(s,r),o=l.join(""),j=s)}if(q().tests[b]&&q().tests[b][0].cd===o)return q().tests[b];for(var t=l.shift();t<i.length;t++){if(f(i[t],l,[t])&&j===b||j>b)break}}return(0===m.length||n)&&m.push({match:{fn:null,optionality:!1,casing:null,def:"",placeholder:""},locator:[],mloc:{},cd:o}),d!==c&&q().tests[b]?a.extend(!0,[],m):(q().tests[b]=a.extend(!0,[],m),q().tests[b])}function A(){return q()._buffer===c&&(q()._buffer=p(!1,1),q().buffer===c&&(q().buffer=q()._buffer.slice())),q()._buffer}function B(a){return q().buffer!==c&&!0!==a||(q().buffer=p(!0,s(),!0)),q().buffer}function C(a,b,d){var e,f;if(!0===a)r(),a=0,b=d.length;else for(e=a;e<b;e++)delete q().validPositions[e];for(f=a,e=a;e<b;e++)if(r(!0),d[e]!==k.skipOptionalPartCharacter){var g=G(f,d[e],!0,!0);!1!==g&&(r(!0),f=g.caret!==c?g.caret:g.pos+1)}}function D(b,c,e){switch(k.casing||c.casing){case"upper":b=b.toUpperCase();break;case"lower":b=b.toLowerCase();break;case"title":var f=q().validPositions[e-1];b=0===e||f&&f.input===String.fromCharCode(d.keyCode.SPACE)?b.toUpperCase():b.toLowerCase();break;default:if(a.isFunction(k.casing)){var g=Array.prototype.slice.call(arguments);g.push(q().validPositions),b=k.casing.apply(this,g)}}return b}function E(b,d,e){for(var f,g=k.greedy?d:d.slice(0,1),h=!1,i=e!==c?e.split(","):[],j=0;j<i.length;j++)-1!==(f=b.indexOf(i[j]))&&b.splice(f,1);for(var l=0;l<b.length;l++)if(-1!==a.inArray(b[l],g)){h=!0;break}return h}function F(b,d,e,f,g){var h,i,j,k,l,m,n,o=a.extend(!0,{},q().validPositions),p=!1,u=g!==c?g:s();if(-1===u&&g===c)h=0,k=x(h),i=k.alternation;else for(;u>=0;u--)if((j=q().validPositions[u])&&j.alternation!==c){if(k&&k.locator[j.alternation]!==j.locator[j.alternation])break;h=u,i=q().validPositions[h].alternation,k=j}if(i!==c){n=parseInt(h),q().excludes[n]=q().excludes[n]||[],!0!==b&&q().excludes[n].push(t(k));var v=[],w=0;for(l=n;l<s(c,!0)+1;l++)m=q().validPositions[l],m&&!0!==m.generatedInput?v.push(m.input):l<b&&w++,delete q().validPositions[l];for(;q().excludes[n]&&q().excludes[n].length<10;){var y=-1*w,z=v.slice();for(q().tests[n]=c,r(!0),p=!0;z.length>0;){var A=z.shift();if(!(p=G(s(c,!0)+1,A,!1,f,!0)))break}if(p&&d!==c){var B=s(b)+1;for(l=n;l<s()+1;l++)((m=q().validPositions[l])===c||null==m.match.fn)&&l<b+y&&y++;b+=y,p=G(b>B?B:b,d,e,f,!0)}if(p)break;if(r(),k=x(n),q().validPositions=a.extend(!0,{},o),!q().excludes[n]){p=F(b,d,e,f,n-1);break}var C=t(k);if(-1!==q().excludes[n].indexOf(C)){p=F(b,d,e,f,n-1);break}for(q().excludes[n].push(C),l=n;l<s(c,!0)+1;l++)delete q().validPositions[l]}}return q().excludes[n]=c,p}function G(b,d,e,f,g,h){function i(a){return ea?a.begin-a.end>1||a.begin-a.end==1:a.end-a.begin>1||a.end-a.begin==1}function j(d,e,g){var h=!1;return a.each(z(d),function(j,l){var m=l.match;if(B(!0),!1!==(h=null!=m.fn?m.fn.test(e,q(),d,g,k,i(b)):(e===m.def||e===k.skipOptionalPartCharacter)&&""!==m.def&&{c:N(d,m,!0)||m.def,pos:d})){var n=h.c!==c?h.c:e,o=d;return n=n===k.skipOptionalPartCharacter&&null===m.fn?N(d,m,!0)||m.def:n,(h.remove!==c&&(a.isArray(h.remove)||(h.remove=[h.remove]),a.each(h.remove.sort(function(a,b){return b-a}),function(a,b){I({begin:b,end:b+1})})),h.insert!==c&&(a.isArray(h.insert)||(h.insert=[h.insert]),a.each(h.insert.sort(function(a,b){return a-b}),function(a,b){G(b.pos,b.c,!0,f)})),!0!==h&&h.pos!==c&&h.pos!==d&&(o=h.pos),!0!==h&&h.pos===c&&h.c===c)?!1:(I(b,a.extend({},l,{input:D(n,m,o)}),f,o)||(h=!1),!1)}}),h}e=!0===e;var l=b;b.begin!==c&&(l=ea?b.end:b.begin);var m=!0,n=a.extend(!0,{},q().validPositions);if(a.isFunction(k.preValidation)&&!e&&!0!==f&&!0!==h&&(m=k.preValidation(B(),l,d,i(b),k,q())),!0===m){if(H(c,l,!0),(_===c||l<_)&&(m=j(l,d,e),(!e||!0===f)&&!1===m&&!0!==h)){var o=q().validPositions[l];if(!o||null!==o.match.fn||o.match.def!==d&&d!==k.skipOptionalPartCharacter){if((k.insertMode||q().validPositions[K(l)]===c)&&!J(l,!0))for(var p=l+1,s=K(l);p<=s;p++)if(!1!==(m=j(p,d,e))){m=H(l,m.pos!==c?m.pos:p)||m,l=p;break}}else m={caret:K(l)}}!1!==m||!1===k.keepStatic||null!=k.regex&&!U(B())||e||!0===g||(m=F(l,d,e,f)),!0===m&&(m={pos:l})}if(a.isFunction(k.postValidation)&&!1!==m&&!e&&!0!==f&&!0!==h){var t=k.postValidation(B(!0),b.begin!==c?ea?b.end:b.begin:b,m,k);if(t!==c){if(t.refreshFromBuffer&&t.buffer){var u=t.refreshFromBuffer;C(!0===u?u:u.start,u.end,t.buffer)}m=!0===t?m:t}}return m&&m.pos===c&&(m.pos=l),!1!==m&&!0!==h||(r(!0),q().validPositions=a.extend(!0,{},n)),m}function H(b,d,e){var f;if(b===c)for(b=d-1;b>0&&!q().validPositions[b];b--);for(var g=b;g<d;g++)if(q().validPositions[g]===c&&!J(g,!0)){var h=0==g?x(g):q().validPositions[g-1];if(h){var i=z(g).slice();""===i[i.length-1].match.def&&i.pop();var j=v(g,i);if(j=a.extend({},j,{input:N(g,j.match,!0)||j.match.def}),j.generatedInput=!0,I(g,j,!0),!0!==e){var k=q().validPositions[d].input;q().validPositions[d]=c,f=G(d,k,!0,!0)}}}return f}function I(b,d,e,f){function g(a,b,d){var e=b[a];if(e!==c&&(null===e.match.fn&&!0!==e.match.optionality||e.input===k.radixPoint)){var f=d.begin<=a-1?b[a-1]&&null===b[a-1].match.fn&&b[a-1]:b[a-1],g=d.end>a+1?b[a+1]&&null===b[a+1].match.fn&&b[a+1]:b[a+1];return f&&g}return!1}var h=b.begin!==c?b.begin:b,i=b.end!==c?b.end:b;if(b.begin>b.end&&(h=b.end,i=b.begin),f=f!==c?f:h,h!==i||k.insertMode&&q().validPositions[f]!==c&&e===c){var j,l=a.extend(!0,{},q().validPositions),m=s(c,!0);for(q().p=h,j=m;j>=h;j--)q().validPositions[j]&&"+"===q().validPositions[j].match.nativeDef&&(k.isNegative=!1),delete q().validPositions[j];var n=!0,o=f,p=(q().validPositions,!1),t=o,j=o;for(d&&(q().validPositions[f]=a.extend(!0,{},d),t++,o++,h<i&&j++);j<=m;j++){var u=l[j];if(u!==c&&(j>=i||j>=h&&!0!==u.generatedInput&&g(j,l,{begin:h,end:i}))){for(;""!==x(t).match.def;){if(!1===p&&l[t]&&l[t].match.nativeDef===u.match.nativeDef)q().validPositions[t]=a.extend(!0,{},l[t]),q().validPositions[t].input=u.input,H(c,t,!0),o=t+1,n=!0;else if(y(t,u.match.def)){var v=G(t,u.input,!0,!0);n=!1!==v,o=v.caret||v.insert?s():t+1,p=!0}else n=!0===u.generatedInput||u.input===k.radixPoint&&!0===k.numericInput;if(n)break;if(!n&&t>i&&J(t,!0)&&(null!==u.match.fn||t>q().maskLength))break;t++}""==x(t).match.def&&(n=!1),t=o}if(!n)break}if(!n)return q().validPositions=a.extend(!0,{},l),r(!0),!1}else d&&(q().validPositions[f]=a.extend(!0,{},d));return r(!0),!0}function J(a,b){var c=w(a).match;if(""===c.def&&(c=x(a).match),null!=c.fn)return c.fn;if(!0!==b&&a>-1){var d=z(a);return d.length>1+(""===d[d.length-1].match.def?1:0)}return!1}function K(a,b){for(var c=a+1;""!==x(c).match.def&&(!0===b&&(!0!==x(c).match.newBlockMarker||!J(c))||!0!==b&&!J(c));)c++;return c}function L(a,b){var c,d=a;if(d<=0)return 0;for(;--d>0&&(!0===b&&!0!==x(d).match.newBlockMarker||!0!==b&&!J(d)&&(c=z(d),c.length<2||2===c.length&&""===c[1].match.def)););return d}function M(b,d,e,f,g){if(f&&a.isFunction(k.onBeforeWrite)){var h=k.onBeforeWrite.call(ca,f,d,e,k);if(h){if(h.refreshFromBuffer){var i=h.refreshFromBuffer;C(!0===i?i:i.start,i.end,h.buffer||d),d=B(!0)}e!==c&&(e=h.caret!==c?h.caret:e)}}if(b!==c&&(b.inputmask._valueSet(d.join("")),e===c||f!==c&&"blur"===f.type?X(b,e,0===d.length):R(b,e),!0===g)){var j=a(b),l=b.inputmask._valueGet();ga=!0,j.trigger("input"),setTimeout(function(){l===A().join("")?j.trigger("cleared"):!0===U(d)&&j.trigger("complete")},0)}}function N(b,d,e){if(d=d||x(b).match,d.placeholder!==c||!0===e)return a.isFunction(d.placeholder)?d.placeholder(k):d.placeholder;if(null===d.fn){if(b>-1&&q().validPositions[b]===c){var f,g=z(b),h=[];if(g.length>1+(""===g[g.length-1].match.def?1:0))for(var i=0;i<g.length;i++)if(!0!==g[i].match.optionality&&!0!==g[i].match.optionalQuantifier&&(null===g[i].match.fn||f===c||!1!==g[i].match.fn.test(f.match.def,q(),b,!0,k))&&(h.push(g[i]),null===g[i].match.fn&&(f=g[i]),h.length>1&&/[0-9a-bA-Z]/.test(h[0].match.def)))return k.placeholder.charAt(b%k.placeholder.length)}return d.def}return k.placeholder.charAt(b%k.placeholder.length)}function O(a,b){if(l&&a.inputmask._valueGet()!==b){var c=B().slice(),d=a.inputmask._valueGet();d!==b&&(-1===s()&&d===A().join("")?c=[]:T(c),M(a,c))}else a.placeholder!==b&&(a.placeholder=b,""===a.placeholder&&a.removeAttribute("placeholder"))}function P(b,e,f,g,h){function i(a,b){return-1!==p(!0,0,!1).slice(a,K(a)).join("").replace(/'/g,"").indexOf(b)&&!J(a)&&(x(a).match.nativeDef===b.charAt(0)||null===x(a).match.fn&&x(a).match.nativeDef==="'"+b.charAt(0)||" "===x(a).match.nativeDef&&(x(a+1).match.nativeDef===b.charAt(0)||null===x(a+1).match.fn&&x(a+1).match.nativeDef==="'"+b.charAt(0)))}var j=this||b.inputmask,l=g.slice(),m="",n=-1,o=c;if(r(),f||!0===k.autoUnmask)n=K(n);else{var t=A().slice(0,K(-1)).join(""),u=l.join("").match(new RegExp("^"+d.escapeRegex(t),"g"));u&&u.length>0&&(l.splice(0,u.length*t.length),n=K(n))}-1===n?(q().p=K(n),n=0):q().p=n,j.caretPos={begin:n},a.each(l,function(d,e){if(e!==c)if(q().validPositions[d]===c&&l[d]===N(d)&&J(d,!0)&&!1===G(d,l[d],!0,c,c,!0))q().p++;else{var g=new a.Event("_checkval");g.which=e.charCodeAt(0),m+=e;var h=s(c,!0);i(n,m)?o=ka.keypressEvent.call(b,g,!0,!1,f,h+1):(o=ka.keypressEvent.call(b,g,!0,!1,f,j.caretPos.begin))&&(n=j.caretPos.begin+1,m=""),o&&(M(c,B(),o.forwardPosition,g,!1),j.caretPos={begin:o.forwardPosition,end:o.forwardPosition})}}),e&&M(b,B(),o?o.forwardPosition:c,h||new a.Event("checkval"),h&&"input"===h.type)}function Q(b){if(b){if(b.inputmask===c)return b.value;b.inputmask&&b.inputmask.refreshValue&&ka.setValueEvent.call(b)}var d=[],e=q().validPositions;for(var f in e)e[f].match&&null!=e[f].match.fn&&d.push(e[f].input);var g=0===d.length?"":(ea?d.reverse():d).join("");if(a.isFunction(k.onUnMask)){var h=(ea?B().slice().reverse():B()).join("");g=k.onUnMask.call(ca,h,g,k)}return g}function R(d,e,f,g){function h(a){return!ea||"number"!=typeof a||k.greedy&&""===k.placeholder||!da||(a=da.inputmask._valueGet().length-a),a}var i;if(e===c)return"selectionStart"in d?(e=d.selectionStart,f=d.selectionEnd):b.getSelection?(i=b.getSelection().getRangeAt(0),i.commonAncestorContainer.parentNode!==d&&i.commonAncestorContainer!==d||(e=i.startOffset,f=i.endOffset)):j.selection&&j.selection.createRange&&(i=j.selection.createRange(),e=0-i.duplicate().moveStart("character",-d.inputmask._valueGet().length),f=e+i.text.length),{begin:g?e:h(e),end:g?f:h(f)};if(a.isArray(e)&&(f=ea?e[0]:e[1],e=ea?e[1]:e[0]),e.begin!==c&&(f=ea?e.begin:e.end,e=ea?e.end:e.begin),"number"==typeof e){e=g?e:h(e),f=g?f:h(f),f="number"==typeof f?f:e;var l=parseInt(((d.ownerDocument.defaultView||b).getComputedStyle?(d.ownerDocument.defaultView||b).getComputedStyle(d,null):d.currentStyle).fontSize)*f;if(d.scrollLeft=l>d.scrollWidth?l:0,d.inputmask.caretPos={begin:e,end:f},d===j.activeElement){if("selectionStart"in d)d.selectionStart=e,d.selectionEnd=f;else if(b.getSelection){if(i=j.createRange(),d.firstChild===c||null===d.firstChild){var m=j.createTextNode("");d.appendChild(m)}i.setStart(d.firstChild,e<d.inputmask._valueGet().length?e:d.inputmask._valueGet().length),i.setEnd(d.firstChild,f<d.inputmask._valueGet().length?f:d.inputmask._valueGet().length),i.collapse(!0);var n=b.getSelection();n.removeAllRanges(),n.addRange(i)}else d.createTextRange&&(i=d.createTextRange(),i.collapse(!0),i.moveEnd("character",f),i.moveStart("character",e),i.select());X(d,{begin:e,end:f})}}}function S(b){var d,e,f=p(!0,s(),!0,!0),g=f.length,h=s(),i={},j=q().validPositions[h],k=j!==c?j.locator.slice():c;for(d=h+1;d<f.length;d++)e=w(d,k,d-1),k=e.locator.slice(),i[d]=a.extend(!0,{},e);var l=j&&j.alternation!==c?j.locator[j.alternation]:c;for(d=g-1;d>h&&(e=i[d],(e.match.optionality||e.match.optionalQuantifier&&e.match.newBlockMarker||l&&(l!==i[d].locator[j.alternation]&&null!=e.match.fn||null===e.match.fn&&e.locator[j.alternation]&&E(e.locator[j.alternation].toString().split(","),l.toString().split(","))&&""!==z(d)[0].def))&&f[d]===N(d,e.match));d--)g--;return b?{l:g,def:i[g]?i[g].match:c}:g}function T(a){a.length=0;for(var b,d=p(!0,0,!0,c,!0);(b=d.shift())!==c;)a.push(b);return a}function U(b){if(a.isFunction(k.isComplete))return k.isComplete(b,k);if("*"===k.repeat)return c;var d=!1,e=S(!0),f=L(e.l);if(e.def===c||e.def.newBlockMarker||e.def.optionality||e.def.optionalQuantifier){d=!0;for(var g=0;g<=f;g++){var h=w(g).match;if(null!==h.fn&&q().validPositions[g]===c&&!0!==h.optionality&&!0!==h.optionalQuantifier||null===h.fn&&b[g]!==N(g,h)){d=!1;break}}}return d}function V(a,b,e,f,g){if((k.numericInput||ea)&&(b===d.keyCode.BACKSPACE?b=d.keyCode.DELETE:b===d.keyCode.DELETE&&(b=d.keyCode.BACKSPACE),ea)){var h=e.end;e.end=e.begin,e.begin=h}if(b===d.keyCode.BACKSPACE&&e.end-e.begin<1?(e.begin=L(e.begin),q().validPositions[e.begin]!==c&&q().validPositions[e.begin].input===k.groupSeparator&&e.begin--):b===d.keyCode.DELETE&&e.begin===e.end&&(e.end=J(e.end,!0)&&q().validPositions[e.end]&&q().validPositions[e.end].input!==k.radixPoint?e.end+1:K(e.end)+1,q().validPositions[e.begin]!==c&&q().validPositions[e.begin].input===k.groupSeparator&&e.end++),I(e),!0!==f&&!1!==k.keepStatic||null!==k.regex){var i=F(!0);if(i){var j=i.caret!==c?i.caret:i.pos?K(i.pos.begin?i.pos.begin:i.pos):s(-1,!0);(b!==d.keyCode.DELETE||e.begin>j)&&e.begin}}var l=s(e.begin,!0);if(l<e.begin||-1===e.begin)q().p=K(l);else if(!0!==f&&(q().p=e.begin,!0!==g))for(;q().p<l&&q().validPositions[q().p]===c;)q().p++}function W(c){function d(a){var b,d=j.createElement("span");for(var f in e)isNaN(f)&&-1!==f.indexOf("font")&&(d.style[f]=e[f]);d.style.textTransform=e.textTransform,d.style.letterSpacing=e.letterSpacing,d.style.position="absolute",d.style.height="auto",d.style.width="auto",d.style.visibility="hidden",d.style.whiteSpace="nowrap",j.body.appendChild(d);var g,h=c.inputmask._valueGet(),i=0;for(b=0,g=h.length;b<=g;b++){if(d.innerHTML+=h.charAt(b)||"_",d.offsetWidth>=a){var k=a-i,l=d.offsetWidth-a;d.innerHTML=h.charAt(b),k-=d.offsetWidth/3,b=k<l?b-1:b;break}i=d.offsetWidth}return j.body.removeChild(d),b}var e=(c.ownerDocument.defaultView||b).getComputedStyle(c,null),f=j.createElement("div");f.style.width=e.width,f.style.textAlign=e.textAlign,aa=j.createElement("div"),c.inputmask.colorMask=aa,aa.className="im-colormask",c.parentNode.insertBefore(aa,c),c.parentNode.removeChild(c),aa.appendChild(c),aa.appendChild(f),c.style.left=f.offsetLeft+"px",a(aa).on("mouseleave",function(a){return ka.mouseleaveEvent.call(c,[a])}),a(aa).on("mouseenter",function(a){return ka.mouseenterEvent.call(c,[a])}),a(aa).on("click",function(a){return R(c,d(a.clientX)),ka.clickEvent.call(c,[a])})}function X(a,b,d){function e(a){if(a===c&&(a=""),m||null!==g.fn&&h.input!==c)if(m&&(null!==g.fn&&h.input!==c||""===g.def)){m=!1;var b=l.length;l[b-1]=l[b-1]+"</span>",l.push(a)}else l.push(a);else m=!0,l.push("<span class='im-static'>"+a)}function f(){j.activeElement===a&&(l.splice(b.begin,0,b.begin===b.end||b.end>q().maskLength?'<mark class="im-caret" style="border-right-width: 1px;border-right-style: solid;">':'<mark class="im-caret-select">'),l.splice(b.end+1,0,"</mark>"))}var g,h,i,l=[],m=!1,n=0;if(aa!==c){var o=B();if(b===c?b=R(a):b.begin===c&&(b={begin:b,end:b}),!0!==d){var p=s();do{q().validPositions[n]?(h=q().validPositions[n],g=h.match,i=h.locator.slice(),e(o[n])):(h=w(n,i,n-1),g=h.match,i=h.locator.slice(),!1===k.jitMasking||n<p||"number"==typeof k.jitMasking&&isFinite(k.jitMasking)&&k.jitMasking>n?e(N(n,g)):m=!1),n++}while((_===c||n<_)&&(null!==g.fn||""!==g.def)||p>n||m);m&&e(),f()}var r=aa.getElementsByTagName("div")[0];r.innerHTML=l.join(""),a.inputmask.positionColorMask(a,r)}}function Y(b){function d(b,d){function e(b){function e(b){if(a.valHooks&&(a.valHooks[b]===c||!0!==a.valHooks[b].inputmaskpatch)){var e=a.valHooks[b]&&a.valHooks[b].get?a.valHooks[b].get:function(a){return a.value},f=a.valHooks[b]&&a.valHooks[b].set?a.valHooks[b].set:function(a,b){return a.value=b,a};a.valHooks[b]={get:function(a){if(a.inputmask){if(a.inputmask.opts.autoUnmask)return a.inputmask.unmaskedvalue();var b=e(a);return-1!==s(c,c,a.inputmask.maskset.validPositions)||!0!==d.nullable?b:""}return e(a)},set:function(b,c){var d,e=a(b);return d=f(b,c),b.inputmask&&e.trigger("setvalue",[c]),d},inputmaskpatch:!0}}}function f(){return this.inputmask?this.inputmask.opts.autoUnmask?this.inputmask.unmaskedvalue():-1!==s()||!0!==d.nullable?j.activeElement===this&&d.clearMaskOnLostFocus?(ea?T(B().slice()).reverse():T(B().slice())).join(""):k.call(this):"":k.call(this)}function h(b){l.call(this,b),this.inputmask&&a(this).trigger("setvalue",[b])}function i(b){ja.on(b,"mouseenter",function(b){var c=a(this);this.inputmask._valueGet()!==B().join("")&&c.trigger("setvalue")})}var k,l;if(!b.inputmask.__valueGet){if(!0!==d.noValuePatching){if(Object.getOwnPropertyDescriptor){"function"!=typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"===g("test".__proto__)?function(a){return a.__proto__}:function(a){return a.constructor.prototype});var m=Object.getPrototypeOf?Object.getOwnPropertyDescriptor(Object.getPrototypeOf(b),"value"):c;m&&m.get&&m.set?(k=m.get,l=m.set,Object.defineProperty(b,"value",{get:f,set:h,configurable:!0})):"INPUT"!==b.tagName&&(k=function(){return this.textContent},l=function(a){this.textContent=a},Object.defineProperty(b,"value",{get:f,set:h,configurable:!0}))}else j.__lookupGetter__&&b.__lookupGetter__("value")&&(k=b.__lookupGetter__("value"),l=b.__lookupSetter__("value"),b.__defineGetter__("value",f),b.__defineSetter__("value",h));b.inputmask.__valueGet=k,b.inputmask.__valueSet=l}b.inputmask._valueGet=function(a){return ea&&!0!==a?k.call(this.el).split("").reverse().join(""):k.call(this.el)},b.inputmask._valueSet=function(a,b){l.call(this.el,null===a||a===c?"":!0!==b&&ea?a.split("").reverse().join(""):a)},k===c&&(k=function(){return this.value},l=function(a){this.value=a},e(b.type),i(b))}}var f=b.getAttribute("type"),h="INPUT"===b.tagName&&-1!==a.inArray(f,d.supportsInputType)||b.isContentEditable||"TEXTAREA"===b.tagName;if(!h)if("INPUT"===b.tagName){var i=j.createElement("input");i.setAttribute("type",f),h="text"===i.type,i=null}else h="partial";return!1!==h?e(b):b.inputmask=c,h}ja.off(b);var e=d(b,k);if(!1!==e&&(da=b,$=a(da),ba=da.placeholder,_=da!==c?da.maxLength:c,-1===_&&(_=c),!0===k.colorMask&&W(da),m&&("inputmode"in da&&(da.inputmode=k.inputmode,da.setAttribute("inputmode",k.inputmode)),!0===k.disablePredictiveText&&("autocorrect"in da?da.autocorrect=!1:(!0!==k.colorMask&&W(da),da.type="password"))),!0===e&&(da.setAttribute("im-insert",k.insertMode),ja.on(da,"submit",ka.submitEvent),ja.on(da,"reset",ka.resetEvent),ja.on(da,"blur",ka.blurEvent),ja.on(da,"focus",ka.focusEvent),!0!==k.colorMask&&(ja.on(da,"click",ka.clickEvent),ja.on(da,"mouseleave",ka.mouseleaveEvent),ja.on(da,"mouseenter",ka.mouseenterEvent)),ja.on(da,"paste",ka.pasteEvent),ja.on(da,"cut",ka.cutEvent),ja.on(da,"complete",k.oncomplete),ja.on(da,"incomplete",k.onincomplete),ja.on(da,"cleared",k.oncleared),m||!0===k.inputEventOnly?da.removeAttribute("maxLength"):(ja.on(da,"keydown",ka.keydownEvent),ja.on(da,"keypress",ka.keypressEvent)),ja.on(da,"input",ka.inputFallBackEvent),ja.on(da,"beforeinput",ka.beforeInputEvent)),ja.on(da,"setvalue",ka.setValueEvent),Z=A().join(""),""!==da.inputmask._valueGet(!0)||!1===k.clearMaskOnLostFocus||j.activeElement===da)){var f=a.isFunction(k.onBeforeMask)?k.onBeforeMask.call(ca,da.inputmask._valueGet(!0),k)||da.inputmask._valueGet(!0):da.inputmask._valueGet(!0);""!==f&&P(da,!0,!1,f.split(""));var h=B().slice();Z=h.join(""),!1===U(h)&&k.clearIncomplete&&r(),k.clearMaskOnLostFocus&&j.activeElement!==da&&(-1===s()?h=[]:T(h)),(!1===k.clearMaskOnLostFocus||k.showMaskOnFocus&&j.activeElement===da||""!==da.inputmask._valueGet(!0))&&M(da,h),j.activeElement===da&&R(da,K(s()))}}f=f||this.maskset,k=k||this.opts;var Z,$,_,aa,ba,ca=this,da=this.el,ea=this.isRTL,fa=!1,ga=!1,ha=!1,ia=!1,ja={on:function(b,e,f){var g=function(b){var e=this;if(e.inputmask===c&&"FORM"!==this.nodeName){var g=a.data(e,"_inputmask_opts");g?new d(g).mask(e):ja.off(e)}else{if("setvalue"===b.type||"FORM"===this.nodeName||!(e.disabled||e.readOnly&&!("keydown"===b.type&&b.ctrlKey&&67===b.keyCode||!1===k.tabThrough&&b.keyCode===d.keyCode.TAB))){switch(b.type){case"input":if(!0===ga)return ga=!1,b.preventDefault();if(m){var h=arguments;return setTimeout(function(){f.apply(e,h),R(e,e.inputmask.caretPos,c,!0)},0),!1}break;case"keydown":fa=!1,ga=!1;break;case"keypress":if(!0===fa)return b.preventDefault();fa=!0;break;case"click":if(n||o){var h=arguments;return setTimeout(function(){f.apply(e,h)},0),!1}}var i=f.apply(e,arguments);return!1===i&&(b.preventDefault(),b.stopPropagation()),i}b.preventDefault()}};b.inputmask.events[e]=b.inputmask.events[e]||[],b.inputmask.events[e].push(g),-1!==a.inArray(e,["submit","reset"])?null!==b.form&&a(b.form).on(e,g):a(b).on(e,g)},off:function(b,c){if(b.inputmask&&b.inputmask.events){var d;c?(d=[],d[c]=b.inputmask.events[c]):d=b.inputmask.events,a.each(d,function(c,d){for(;d.length>0;){var e=d.pop();-1!==a.inArray(c,["submit","reset"])?null!==b.form&&a(b.form).off(c,e):a(b).off(c,e)}delete b.inputmask.events[c]})}}},ka={keydownEvent:function(b){var c=this,e=a(c),f=b.keyCode,g=R(c);if(f===d.keyCode.BACKSPACE||f===d.keyCode.DELETE||o&&f===d.keyCode.BACKSPACE_SAFARI||b.ctrlKey&&f===d.keyCode.X&&!h("cut"))b.preventDefault(),V(c,f,g),M(c,B(!0),q().p,b,c.inputmask._valueGet()!==B().join(""));else if(f===d.keyCode.END||f===d.keyCode.PAGE_DOWN){b.preventDefault();var i=K(s());R(c,b.shiftKey?g.begin:i,i,!0)}else f===d.keyCode.HOME&&!b.shiftKey||f===d.keyCode.PAGE_UP?(b.preventDefault(),R(c,0,b.shiftKey?g.begin:0,!0)):(k.undoOnEscape&&f===d.keyCode.ESCAPE||90===f&&b.ctrlKey)&&!0!==b.altKey?(P(c,!0,!1,Z.split("")),e.trigger("click")):f!==d.keyCode.INSERT||b.shiftKey||b.ctrlKey?!0===k.tabThrough&&f===d.keyCode.TAB&&(!0===b.shiftKey?(null===x(g.begin).match.fn&&(g.begin=K(g.begin)),g.end=L(g.begin,!0),g.begin=L(g.end,!0)):(g.begin=K(g.begin,!0),g.end=K(g.begin,!0),g.end<q().maskLength&&g.end--),g.begin<q().maskLength&&(b.preventDefault(),R(c,g.begin,g.end))):(k.insertMode=!k.insertMode,c.setAttribute("im-insert",k.insertMode));k.onKeyDown.call(this,b,B(),R(c).begin,k),ha=-1!==a.inArray(f,k.ignorables)},keypressEvent:function(b,e,f,g,h){var i=this,j=a(i),l=b.which||b.charCode||b.keyCode;if(!(!0===e||b.ctrlKey&&b.altKey)&&(b.ctrlKey||b.metaKey||ha))return l===d.keyCode.ENTER&&Z!==B().join("")&&(Z=B().join(""),setTimeout(function(){j.trigger("change")},0)),!0;if(l){46===l&&!1===b.shiftKey&&""!==k.radixPoint&&(l=k.radixPoint.charCodeAt(0));var m,n=e?{begin:h,end:h}:R(i),o=String.fromCharCode(l),p=0;if(k._radixDance&&k.numericInput){var s=B().indexOf(k.radixPoint.charAt(0))+1;n.begin<=s&&(l===k.radixPoint.charCodeAt(0)&&(p=1),n.begin-=1,n.end-=1)}q().writeOutBuffer=!0;var t=G(n,o,g);if(!1!==t&&(r(!0),m=t.caret!==c?t.caret:K(t.pos.begin?t.pos.begin:t.pos),q().p=m),m=(k.numericInput&&t.caret===c?L(m):m)+p,!1!==f&&(setTimeout(function(){k.onKeyValidation.call(i,l,t,k)},0),q().writeOutBuffer&&!1!==t)){var u=B();M(i,u,m,b,!0!==e)}if(b.preventDefault(),e)return!1!==t&&(t.forwardPosition=m),t}},pasteEvent:function(c){var d,e=this,f=c.originalEvent||c,g=(a(e),e.inputmask._valueGet(!0)),h=R(e);ea&&(d=h.end,h.end=h.begin,h.begin=d);var i=g.substr(0,h.begin),j=g.substr(h.end,g.length);if(i===(ea?A().reverse():A()).slice(0,h.begin).join("")&&(i=""),j===(ea?A().reverse():A()).slice(h.end).join("")&&(j=""),b.clipboardData&&b.clipboardData.getData)g=i+b.clipboardData.getData("Text")+j;else{if(!f.clipboardData||!f.clipboardData.getData)return!0;g=i+f.clipboardData.getData("text/plain")+j}var l=g;if(a.isFunction(k.onBeforePaste)){if(!1===(l=k.onBeforePaste.call(ca,g,k)))return c.preventDefault();l||(l=g)}return P(e,!1,!1,l.toString().split("")),M(e,B(),K(s()),c,Z!==B().join("")),c.preventDefault()},inputFallBackEvent:function(b){function c(a,b,c){return"."===b.charAt(c.begin-1)&&""!==k.radixPoint&&(b=b.split(""),b[c.begin-1]=k.radixPoint.charAt(0),b=b.join("")),b}function e(a,b,c){if(n){var d=b.replace(B().join(""),"");if(1===d.length){var e=b.split("");e.splice(c.begin,0,d),b=e.join("")}}return b}var f=this,g=f.inputmask._valueGet();if(B().join("")!==g){var h=R(f);if(g=c(f,g,h),g=e(f,g,h),B().join("")!==g){var i=B().join(""),j=!k.numericInput&&g.length>i.length?-1:0,l=g.substr(0,h.begin),m=g.substr(h.begin),o=i.substr(0,h.begin+j),p=i.substr(h.begin+j),q=h,r="",s=!1;if(l!==o){var t,u=(s=l.length>=o.length)?l.length:o.length;for(t=0;l.charAt(t)===o.charAt(t)&&t<u;t++);s&&(q.begin=t-j,r+=l.slice(t,q.end))}if(m!==p&&(m.length>p.length?r+=m.slice(0,1):m.length<p.length&&(q.end+=p.length-m.length,s||""===k.radixPoint||""!==m||l.charAt(q.begin+j-1)!==k.radixPoint||(q.begin--,r=k.radixPoint))),M(f,B(),{begin:q.begin+j,end:q.end+j}),r.length>0)a.each(r.split(""),function(b,c){var d=new a.Event("keypress");d.which=c.charCodeAt(0),ha=!1,ka.keypressEvent.call(f,d)});else{q.begin===q.end-1&&(q.begin=L(q.begin+1),q.begin===q.end-1?R(f,q.begin):R(f,q.begin,q.end));var v=new a.Event("keydown");v.keyCode=k.numericInput?d.keyCode.BACKSPACE:d.keyCode.DELETE,ka.keydownEvent.call(f,v)}b.preventDefault()}}},beforeInputEvent:function(b){if(b.cancelable){var c=this;switch(b.inputType){case"insertText":return a.each(b.data.split(""),function(b,d){var e=new a.Event("keypress");e.which=d.charCodeAt(0),ha=!1,ka.keypressEvent.call(c,e)}),b.preventDefault();case"deleteContentBackward":var e=new a.Event("keydown");return e.keyCode=d.keyCode.BACKSPACE,ka.keydownEvent.call(c,e),b.preventDefault();case"deleteContentForward":var e=new a.Event("keydown");return e.keyCode=d.keyCode.DELETE,ka.keydownEvent.call(c,e),b.preventDefault()}}},setValueEvent:function(b){this.inputmask.refreshValue=!1;var c=this,d=b&&b.detail?b.detail[0]:arguments[1],d=d||c.inputmask._valueGet(!0);a.isFunction(k.onBeforeMask)&&(d=k.onBeforeMask.call(ca,d,k)||d),d=d.split(""),P(c,!0,!1,d),Z=B().join(""),(k.clearMaskOnLostFocus||k.clearIncomplete)&&c.inputmask._valueGet()===A().join("")&&c.inputmask._valueSet("")},focusEvent:function(a){var b=this,c=b.inputmask._valueGet();k.showMaskOnFocus&&(!k.showMaskOnHover||k.showMaskOnHover&&""===c)&&(b.inputmask._valueGet()!==B().join("")?M(b,B(),K(s())):!1===ia&&R(b,K(s()))),!0===k.positionCaretOnTab&&!1===ia&&ka.clickEvent.apply(b,[a,!0]),Z=B().join("")},mouseleaveEvent:function(a){var b=this;ia=!1,k.clearMaskOnLostFocus&&j.activeElement!==b&&O(b,ba)},clickEvent:function(b,d){function e(b){if(""!==k.radixPoint){var d=q().validPositions;if(d[b]===c||d[b].input===N(b)){if(b<K(-1))return!0;var e=a.inArray(k.radixPoint,B())
;if(-1!==e){for(var f in d)if(e<f&&d[f].input!==N(f))return!1;return!0}}}return!1}var f=this;setTimeout(function(){if(j.activeElement===f){var a=R(f);if(d&&(ea?a.end=a.begin:a.begin=a.end),a.begin===a.end)switch(k.positionCaretOnClick){case"none":break;case"select":R(f,0,B().length);break;case"ignore":R(f,K(s()));break;case"radixFocus":if(e(a.begin)){var b=B().join("").indexOf(k.radixPoint);R(f,k.numericInput?K(b):b);break}default:var g=a.begin,h=s(g,!0),i=K(h);if(g<i)R(f,J(g,!0)||J(g-1,!0)?g:K(g));else{var l=q().validPositions[h],m=w(i,l?l.match.locator:c,l),n=N(i,m.match);if(""!==n&&B()[i]!==n&&!0!==m.match.optionalQuantifier&&!0!==m.match.newBlockMarker||!J(i,k.keepStatic)&&m.match.def===n){var o=K(i);(g>=o||g===i)&&(i=o)}R(f,i)}}}},0)},cutEvent:function(c){var e=this,f=(a(e),R(e)),g=c.originalEvent||c,h=b.clipboardData||g.clipboardData,i=ea?B().slice(f.end,f.begin):B().slice(f.begin,f.end);h.setData("text",ea?i.reverse().join(""):i.join("")),j.execCommand&&j.execCommand("copy"),V(e,d.keyCode.DELETE,f),M(e,B(),q().p,c,Z!==B().join(""))},blurEvent:function(b){var d=a(this),e=this;if(e.inputmask){O(e,ba);var f=e.inputmask._valueGet(),g=B().slice();""===f&&aa===c||(k.clearMaskOnLostFocus&&(-1===s()&&f===A().join("")?g=[]:T(g)),!1===U(g)&&(setTimeout(function(){d.trigger("incomplete")},0),k.clearIncomplete&&(r(),g=k.clearMaskOnLostFocus?[]:A().slice())),M(e,g,c,b)),Z!==B().join("")&&(Z=g.join(""),d.trigger("change"))}},mouseenterEvent:function(a){var b=this;ia=!0,j.activeElement!==b&&k.showMaskOnHover&&O(b,(ea?B().slice().reverse():B()).join(""))},submitEvent:function(a){Z!==B().join("")&&$.trigger("change"),k.clearMaskOnLostFocus&&-1===s()&&da.inputmask._valueGet&&da.inputmask._valueGet()===A().join("")&&da.inputmask._valueSet(""),k.clearIncomplete&&!1===U(B())&&da.inputmask._valueSet(""),k.removeMaskOnSubmit&&(da.inputmask._valueSet(da.inputmask.unmaskedvalue(),!0),setTimeout(function(){M(da,B())},0))},resetEvent:function(a){da.inputmask.refreshValue=!0,setTimeout(function(){$.trigger("setvalue")},0)}};d.prototype.positionColorMask=function(a,b){a.style.left=b.offsetLeft+"px"};var la;if(e!==c)switch(e.action){case"isComplete":return da=e.el,U(B());case"unmaskedvalue":return da!==c&&e.value===c||(la=e.value,la=(a.isFunction(k.onBeforeMask)?k.onBeforeMask.call(ca,la,k)||la:la).split(""),P.call(this,c,!1,!1,la),a.isFunction(k.onBeforeWrite)&&k.onBeforeWrite.call(ca,c,B(),0,k)),Q(da);case"mask":Y(da);break;case"format":return la=(a.isFunction(k.onBeforeMask)?k.onBeforeMask.call(ca,e.value,k)||e.value:e.value).split(""),P.call(this,c,!0,!1,la),e.metadata?{value:ea?B().slice().reverse().join(""):B().join(""),metadata:i.call(this,{action:"getmetadata"},f,k)}:ea?B().slice().reverse().join(""):B().join("");case"isValid":e.value?(la=e.value.split(""),P.call(this,c,!0,!0,la)):e.value=B().join("");for(var ma=B(),na=S(),oa=ma.length-1;oa>na&&!J(oa);oa--);return ma.splice(na,oa+1-na),U(ma)&&e.value===B().join("");case"getemptymask":return A().join("");case"remove":if(da&&da.inputmask){a.data(da,"_inputmask_opts",null),$=a(da),da.inputmask._valueSet(k.autoUnmask?Q(da):da.inputmask._valueGet(!0)),ja.off(da),da.inputmask.colorMask&&(aa=da.inputmask.colorMask,aa.removeChild(da),aa.parentNode.insertBefore(da,aa),aa.parentNode.removeChild(aa));Object.getOwnPropertyDescriptor&&Object.getPrototypeOf?Object.getOwnPropertyDescriptor(Object.getPrototypeOf(da),"value")&&da.inputmask.__valueGet&&Object.defineProperty(da,"value",{get:da.inputmask.__valueGet,set:da.inputmask.__valueSet,configurable:!0}):j.__lookupGetter__&&da.__lookupGetter__("value")&&da.inputmask.__valueGet&&(da.__defineGetter__("value",da.inputmask.__valueGet),da.__defineSetter__("value",da.inputmask.__valueSet)),da.inputmask=c}return da;case"getmetadata":if(a.isArray(f.metadata)){var pa=p(!0,0,!1).join("");return a.each(f.metadata,function(a,b){if(b.mask===pa)return pa=b,!1}),pa}return f.metadata}}var j=b.document,k=navigator.userAgent,l=k.indexOf("MSIE ")>0||k.indexOf("Trident/")>0,m=h("touchstart"),n=/iemobile/i.test(k),o=/iphone/i.test(k)&&!n;return d.prototype={dataAttribute:"data-inputmask",defaults:{placeholder:"_",optionalmarker:["[","]"],quantifiermarker:["{","}"],groupmarker:["(",")"],alternatormarker:"|",escapeChar:"\\",mask:null,regex:null,oncomplete:a.noop,onincomplete:a.noop,oncleared:a.noop,repeat:0,greedy:!1,autoUnmask:!1,removeMaskOnSubmit:!1,clearMaskOnLostFocus:!0,insertMode:!0,clearIncomplete:!1,alias:null,onKeyDown:a.noop,onBeforeMask:null,onBeforePaste:function(b,c){return a.isFunction(c.onBeforeMask)?c.onBeforeMask.call(this,b,c):b},onBeforeWrite:null,onUnMask:null,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:a.noop,skipOptionalPartCharacter:" ",numericInput:!1,rightAlign:!1,undoOnEscape:!0,radixPoint:"",_radixDance:!1,groupSeparator:"",keepStatic:null,positionCaretOnTab:!0,tabThrough:!1,supportsInputType:["text","tel","password","search"],ignorables:[8,9,13,19,27,33,34,35,36,37,38,39,40,45,46,93,112,113,114,115,116,117,118,119,120,121,122,123,0,229],isComplete:null,preValidation:null,postValidation:null,staticDefinitionSymbol:c,jitMasking:!1,nullable:!0,inputEventOnly:!1,noValuePatching:!1,positionCaretOnClick:"lvp",casing:null,inputmode:"verbatim",colorMask:!1,disablePredictiveText:!1,importDataAttributes:!0},definitions:{9:{validator:"[0-9１-９]",definitionSymbol:"*"},a:{validator:"[A-Za-zА-яЁёÀ-ÿµ]",definitionSymbol:"*"},"*":{validator:"[0-9１-９A-Za-zА-яЁёÀ-ÿµ]"}},aliases:{},masksCache:{},mask:function(g){function h(d,f,g,h){if(!0===f.importDataAttributes){var i,j,k,l,m=function(a,e){null!==(e=e!==c?e:d.getAttribute(h+"-"+a))&&("string"==typeof e&&(0===a.indexOf("on")?e=b[e]:"false"===e?e=!1:"true"===e&&(e=!0)),g[a]=e)},n=d.getAttribute(h);if(n&&""!==n&&(n=n.replace(/'/g,'"'),j=JSON.parse("{"+n+"}")),j){k=c;for(l in j)if("alias"===l.toLowerCase()){k=j[l];break}}m("alias",k),g.alias&&e(g.alias,g,f);for(i in f){if(j){k=c;for(l in j)if(l.toLowerCase()===i.toLowerCase()){k=j[l];break}}m(i,k)}}return a.extend(!0,f,g),("rtl"===d.dir||f.rightAlign)&&(d.style.textAlign="right"),("rtl"===d.dir||f.numericInput)&&(d.dir="ltr",d.removeAttribute("dir"),f.isRTL=!0),Object.keys(g).length}var k=this;return"string"==typeof g&&(g=j.getElementById(g)||j.querySelectorAll(g)),g=g.nodeName?[g]:g,a.each(g,function(b,e){var g=a.extend(!0,{},k.opts);if(h(e,g,a.extend(!0,{},k.userOptions),k.dataAttribute)){var j=f(g,k.noMasksCache);j!==c&&(e.inputmask!==c&&(e.inputmask.opts.autoUnmask=!0,e.inputmask.remove()),e.inputmask=new d(c,c,!0),e.inputmask.opts=g,e.inputmask.noMasksCache=k.noMasksCache,e.inputmask.userOptions=a.extend(!0,{},k.userOptions),e.inputmask.isRTL=g.isRTL||g.numericInput,e.inputmask.el=e,e.inputmask.maskset=j,a.data(e,"_inputmask_opts",g),i.call(e.inputmask,{action:"mask"}))}}),g&&g[0]?g[0].inputmask||this:this},option:function(b,c){return"string"==typeof b?this.opts[b]:"object"===(void 0===b?"undefined":g(b))?(a.extend(this.userOptions,b),this.el&&!0!==c&&this.mask(this.el),this):void 0},unmaskedvalue:function(a){return this.maskset=this.maskset||f(this.opts,this.noMasksCache),i.call(this,{action:"unmaskedvalue",value:a})},remove:function(){return i.call(this,{action:"remove"})},getemptymask:function(){return this.maskset=this.maskset||f(this.opts,this.noMasksCache),i.call(this,{action:"getemptymask"})},hasMaskedValue:function(){return!this.opts.autoUnmask},isComplete:function(){return this.maskset=this.maskset||f(this.opts,this.noMasksCache),i.call(this,{action:"isComplete"})},getmetadata:function(){return this.maskset=this.maskset||f(this.opts,this.noMasksCache),i.call(this,{action:"getmetadata"})},isValid:function(a){return this.maskset=this.maskset||f(this.opts,this.noMasksCache),i.call(this,{action:"isValid",value:a})},format:function(a,b){return this.maskset=this.maskset||f(this.opts,this.noMasksCache),i.call(this,{action:"format",value:a,metadata:b})},setValue:function(b){this.el&&a(this.el).trigger("setvalue",[b])},analyseMask:function(b,e,f){function g(a,b,c,d){this.matches=[],this.openGroup=a||!1,this.alternatorGroup=!1,this.isGroup=a||!1,this.isOptional=b||!1,this.isQuantifier=c||!1,this.isAlternator=d||!1,this.quantifier={min:1,max:1}}function h(b,g,h){h=h!==c?h:b.matches.length;var i=b.matches[h-1];if(e)0===g.indexOf("[")||v&&/\\d|\\s|\\w]/i.test(g)||"."===g?b.matches.splice(h++,0,{fn:new RegExp(g,f.casing?"i":""),optionality:!1,newBlockMarker:i===c?"master":i.def!==g,casing:null,def:g,placeholder:c,nativeDef:g}):(v&&(g=g[g.length-1]),a.each(g.split(""),function(a,d){i=b.matches[h-1],b.matches.splice(h++,0,{fn:null,optionality:!1,newBlockMarker:i===c?"master":i.def!==d&&null!==i.fn,casing:null,def:f.staticDefinitionSymbol||d,placeholder:f.staticDefinitionSymbol!==c?d:c,nativeDef:(v?"'":"")+d})})),v=!1;else{var j=(f.definitions?f.definitions[g]:c)||d.prototype.definitions[g];j&&!v?b.matches.splice(h++,0,{fn:j.validator?"string"==typeof j.validator?new RegExp(j.validator,f.casing?"i":""):new function(){this.test=j.validator}:new RegExp("."),optionality:!1,newBlockMarker:i===c?"master":i.def!==(j.definitionSymbol||g),casing:j.casing,def:j.definitionSymbol||g,placeholder:j.placeholder,nativeDef:g}):(b.matches.splice(h++,0,{fn:null,optionality:!1,newBlockMarker:i===c?"master":i.def!==g&&null!==i.fn,casing:null,def:f.staticDefinitionSymbol||g,placeholder:f.staticDefinitionSymbol!==c?g:c,nativeDef:(v?"'":"")+g}),v=!1)}}function i(b){b&&b.matches&&a.each(b.matches,function(a,d){var g=b.matches[a+1];(g===c||g.matches===c||!1===g.isQuantifier)&&d&&d.isGroup&&(d.isGroup=!1,e||(h(d,f.groupmarker[0],0),!0!==d.openGroup&&h(d,f.groupmarker[1]))),i(d)})}function j(){if(x.length>0){if(p=x[x.length-1],h(p,n),p.isAlternator){q=x.pop();for(var a=0;a<q.matches.length;a++)q.matches[a].isGroup&&(q.matches[a].isGroup=!1);x.length>0?(p=x[x.length-1],p.matches.push(q)):w.matches.push(q)}}else h(w,n)}function k(a){function b(a){return a===f.optionalmarker[0]?a=f.optionalmarker[1]:a===f.optionalmarker[1]?a=f.optionalmarker[0]:a===f.groupmarker[0]?a=f.groupmarker[1]:a===f.groupmarker[1]&&(a=f.groupmarker[0]),a}a.matches=a.matches.reverse();for(var d in a.matches)if(a.matches.hasOwnProperty(d)){var e=parseInt(d);if(a.matches[d].isQuantifier&&a.matches[e+1]&&a.matches[e+1].isGroup){var g=a.matches[d];a.matches.splice(d,1),a.matches.splice(e+1,0,g)}a.matches[d].matches!==c?a.matches[d]=k(a.matches[d]):a.matches[d]=b(a.matches[d])}return a}function l(a){var b=new g(!0);return b.openGroup=!1,b.matches=a,b}var m,n,o,p,q,r,s,t=/(?:[?*+]|\{[0-9\+\*]+(?:,[0-9\+\*]*)?(?:\|[0-9\+\*]*)?\})|[^.?*+^${[]()|\\]+|./g,u=/\[\^?]?(?:[^\\\]]+|\\[\S\s]?)*]?|\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9][0-9]*|x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4}|c[A-Za-z]|[\S\s]?)|\((?:\?[:=!]?)?|(?:[?*+]|\{[0-9]+(?:,[0-9]*)?\})\??|[^.?*+^${[()|\\]+|./g,v=!1,w=new g,x=[],y=[];for(e&&(f.optionalmarker[0]=c,f.optionalmarker[1]=c);m=e?u.exec(b):t.exec(b);){if(n=m[0],e)switch(n.charAt(0)){case"?":n="{0,1}";break;case"+":case"*":n="{"+n+"}"}if(v)j();else switch(n.charAt(0)){case"(?=":case"(?!":case"(?<=":case"(?<!":break;case f.escapeChar:v=!0,e&&j();break;case f.optionalmarker[1]:case f.groupmarker[1]:if(o=x.pop(),o.openGroup=!1,o!==c)if(x.length>0){if(p=x[x.length-1],p.matches.push(o),p.isAlternator){q=x.pop();for(var z=0;z<q.matches.length;z++)q.matches[z].isGroup=!1,q.matches[z].alternatorGroup=!1;x.length>0?(p=x[x.length-1],p.matches.push(q)):w.matches.push(q)}}else w.matches.push(o);else j();break;case f.optionalmarker[0]:x.push(new g(!1,!0));break;case f.groupmarker[0]:x.push(new g(!0));break;case f.quantifiermarker[0]:var A=new g(!1,!1,!0);n=n.replace(/[{}]/g,"");var B=n.split("|"),C=B[0].split(","),D=isNaN(C[0])?C[0]:parseInt(C[0]),E=1===C.length?D:isNaN(C[1])?C[1]:parseInt(C[1]);"*"!==D&&"+"!==D||(D="*"===E?0:1),A.quantifier={min:D,max:E,jit:B[1]};var F=x.length>0?x[x.length-1].matches:w.matches;if(m=F.pop(),m.isAlternator){F.push(m),F=m.matches;var s=new g(!0),G=F.pop();F.push(s),F=s.matches,m=G}m.isGroup||(m=l([m])),F.push(m),F.push(A);break;case f.alternatormarker:var H=function(a){var b=a.pop();return b.isQuantifier&&(b=l([a.pop(),b])),b};if(x.length>0){p=x[x.length-1];var I=p.matches[p.matches.length-1];r=p.openGroup&&(I.matches===c||!1===I.isGroup&&!1===I.isAlternator)?x.pop():H(p.matches)}else r=H(w.matches);if(r.isAlternator)x.push(r);else if(r.alternatorGroup?(q=x.pop(),r.alternatorGroup=!1):q=new g(!1,!1,!1,!0),q.matches.push(r),x.push(q),r.openGroup){r.openGroup=!1;var J=new g(!0);J.alternatorGroup=!0,x.push(J)}break;default:j()}}for(;x.length>0;)o=x.pop(),w.matches.push(o);return w.matches.length>0&&(i(w),y.push(w)),(f.numericInput||f.isRTL)&&k(y[0]),y}},d.extendDefaults=function(b){a.extend(!0,d.prototype.defaults,b)},d.extendDefinitions=function(b){a.extend(!0,d.prototype.definitions,b)},d.extendAliases=function(b){a.extend(!0,d.prototype.aliases,b)},d.format=function(a,b,c){return d(b).format(a,c)},d.unmask=function(a,b){return d(b).unmaskedvalue(a)},d.isValid=function(a,b){return d(b).isValid(a)},d.remove=function(b){"string"==typeof b&&(b=j.getElementById(b)||j.querySelectorAll(b)),b=b.nodeName?[b]:b,a.each(b,function(a,b){b.inputmask&&b.inputmask.remove()})},d.setValue=function(b,c){"string"==typeof b&&(b=j.getElementById(b)||j.querySelectorAll(b)),b=b.nodeName?[b]:b,a.each(b,function(b,d){d.inputmask?d.inputmask.setValue(c):a(d).trigger("setvalue",[c])})},d.escapeRegex=function(a){var b=["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^"];return a.replace(new RegExp("(\\"+b.join("|\\")+")","gim"),"\\$1")},d.keyCode={BACKSPACE:8,BACKSPACE_SAFARI:127,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,RIGHT:39,SPACE:32,TAB:9,UP:38,X:88,CONTROL:17},d.dependencyLib=a,d})},function(a,b,c){"use strict";var d,e,f;"function"==typeof Symbol&&Symbol.iterator;!function(g){e=[c(4)],d=g,void 0!==(f="function"==typeof d?d.apply(b,e):d)&&(a.exports=f)}(function(a){return a})},function(a,b){a.exports=jQuery},function(module,exports,__webpack_require__){"use strict";var __WEBPACK_AMD_DEFINE_RESULT__,_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};void 0!==(__WEBPACK_AMD_DEFINE_RESULT__=function(){return window||new(eval("require('jsdom')")("").window)}.call(exports,__webpack_require__,exports,module))&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},function(a,b,c){"use strict";var d,e,f,g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};!function(g){e=[c(2)],d=g,void 0!==(f="function"==typeof d?d.apply(b,e):d)&&(a.exports=f)}(function(a){function b(a){if(!a.tokenizer){var b=[];for(var c in j)-1===b.indexOf(c[0])&&b.push(c[0]);a.tokenizer="("+b.join("+|")+")+?|.",a.tokenizer=new RegExp(a.tokenizer,"g")}return a.tokenizer}function c(a,b){return(!isFinite(a.rawday)||"29"==a.day&&!isFinite(a.rawyear)||new Date(a.date.getFullYear(),isFinite(a.rawmonth)?a.month:a.date.getMonth()+1,0).getDate()>=a.day)&&b}function d(a,b){var c=!0;if(b.min){if(a.rawyear){var d=a.rawyear.replace(/[^0-9]/g,"");c=b.min.year.substr(0,d.length)<=d}a.year===a.rawyear&&b.min.date.getTime()===b.min.date.getTime()&&(c=b.min.date.getTime()<=a.date.getTime())}return c&&b.max&&b.max.date.getTime()===b.max.date.getTime()&&(c=b.max.date.getTime()>=a.date.getTime()),c}function e(c,d,e,f){for(var g,h="";g=b(e).exec(c);)if(void 0===d)if(j[g[0]])h+="("+j[g[0]][0]+")";else switch(g[0]){case"[":h+="(";break;case"]":h+=")?";break;default:h+=a.escapeRegex(g[0])}else if(j[g[0]])if(!0!==f&&j[g[0]][3]){var i=j[g[0]][3];h+=i.call(d.date)}else j[g[0]][2]?h+=d["raw"+j[g[0]][2]]:h+=g[0];else h+=g[0];return h}function f(a,b){for(a=String(a),b=b||2;a.length<b;)a="0"+a;return a}function h(a,c,d){function e(a){var b=a.replace(/[^0-9]/g,"0");if(b!=a){var c=a.replace(/[^0-9]/g,""),e=(d.min&&d.min[h]||a).toString(),f=(d.max&&d.max[h]||a).toString();b=c+(c<e.slice(0,c.length)?e.slice(c.length):c>f.slice(0,c.length)?f.slice(c.length):b.toString().slice(c.length))}return b}function f(a,b,c){a[h]=e(b),a["raw"+h]=b,void 0!==k&&k.call(a.date,"month"==h?parseInt(a[h])-1:a[h])}var h,i,k,l={date:new Date(1,0,1)},m=a;if("string"==typeof m){for(;i=b(d).exec(c);){var n=m.slice(0,i[0].length);j.hasOwnProperty(i[0])&&(j[i[0]][0],h=j[i[0]][2],k=j[i[0]][1],f(l,n,d)),m=m.slice(n.length)}return l}if(m&&"object"===(void 0===m?"undefined":g(m))&&m.hasOwnProperty("date"))return m}var i=a.dependencyLib,j={d:["[1-9]|[12][0-9]|3[01]",Date.prototype.setDate,"day",Date.prototype.getDate],dd:["0[1-9]|[12][0-9]|3[01]",Date.prototype.setDate,"day",function(){return f(Date.prototype.getDate.call(this),2)}],ddd:[""],dddd:[""],m:["[1-9]|1[012]",Date.prototype.setMonth,"month",function(){return Date.prototype.getMonth.call(this)+1}],mm:["0[1-9]|1[012]",Date.prototype.setMonth,"month",function(){return f(Date.prototype.getMonth.call(this)+1,2)}],mmm:[""],mmmm:[""],yy:["[0-9]{2}",Date.prototype.setFullYear,"year",function(){return f(Date.prototype.getFullYear.call(this),2)}],yyyy:["[0-9]{4}",Date.prototype.setFullYear,"year",function(){return f(Date.prototype.getFullYear.call(this),4)}],h:["[1-9]|1[0-2]",Date.prototype.setHours,"hours",Date.prototype.getHours],hh:["0[1-9]|1[0-2]",Date.prototype.setHours,"hours",function(){return f(Date.prototype.getHours.call(this),2)}],hhh:["[0-9]+",Date.prototype.setHours,"hours",Date.prototype.getHours],H:["1?[0-9]|2[0-3]",Date.prototype.setHours,"hours",Date.prototype.getHours],HH:["[01][0-9]|2[0-3]",Date.prototype.setHours,"hours",function(){return f(Date.prototype.getHours.call(this),2)}],HHH:["[0-9]+",Date.prototype.setHours,"hours",Date.prototype.getHours],M:["[1-5]?[0-9]",Date.prototype.setMinutes,"minutes",Date.prototype.getMinutes],MM:["[0-5][0-9]",Date.prototype.setMinutes,"minutes",function(){return f(Date.prototype.getMinutes.call(this),2)}],s:["[1-5]?[0-9]",Date.prototype.setSeconds,"seconds",Date.prototype.getSeconds],ss:["[0-5][0-9]",Date.prototype.setSeconds,"seconds",function(){return f(Date.prototype.getSeconds.call(this),2)}],l:["[0-9]{3}",Date.prototype.setMilliseconds,"milliseconds",function(){return f(Date.prototype.getMilliseconds.call(this),3)}],L:["[0-9]{2}",Date.prototype.setMilliseconds,"milliseconds",function(){return f(Date.prototype.getMilliseconds.call(this),2)}],t:["[ap]"],tt:["[ap]m"],T:["[AP]"],TT:["[AP]M"],Z:[""],o:[""],S:[""]},k={isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"};return a.extendAliases({datetime:{mask:function(a){return j.S=a.i18n.ordinalSuffix.join("|"),a.inputFormat=k[a.inputFormat]||a.inputFormat,a.displayFormat=k[a.displayFormat]||a.displayFormat||a.inputFormat,a.outputFormat=k[a.outputFormat]||a.outputFormat||a.inputFormat,a.placeholder=""!==a.placeholder?a.placeholder:a.inputFormat.replace(/[\[\]]/,""),a.regex=e(a.inputFormat,void 0,a),null},placeholder:"",inputFormat:"isoDateTime",displayFormat:void 0,outputFormat:void 0,min:null,max:null,i18n:{dayNames:["Mon","Tue","Wed","Thu","Fri","Sat","Sun","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],ordinalSuffix:["st","nd","rd","th"]},postValidation:function(a,b,f,g){g.min=h(g.min,g.inputFormat,g),g.max=h(g.max,g.inputFormat,g);var i=f,j=h(a.join(""),g.inputFormat,g);return i&&j.date.getTime()===j.date.getTime()&&(i=c(j,i),i=i&&d(j,g)),b&&i&&f.pos!==b?{buffer:e(g.inputFormat,j,g),refreshFromBuffer:{start:b,end:f.pos}}:i},onKeyDown:function(c,d,e,g){var h=this;if(c.ctrlKey&&c.keyCode===a.keyCode.RIGHT){for(var j,k=new Date,l="";j=b(g).exec(g.inputFormat);)"d"===j[0].charAt(0)?l+=f(k.getDate(),j[0].length):"m"===j[0].charAt(0)?l+=f(k.getMonth()+1,j[0].length):"yyyy"===j[0]?l+=k.getFullYear().toString():"y"===j[0].charAt(0)&&(l+=f(k.getYear(),j[0].length));h.inputmask._valueSet(l),i(h).trigger("setvalue")}},onUnMask:function(a,b,c){return e(c.outputFormat,h(a,c.inputFormat,c),c,!0)},casing:function(a,b,c,d){return 0==b.nativeDef.indexOf("[ap]")?a.toLowerCase():0==b.nativeDef.indexOf("[AP]")?a.toUpperCase():a},insertMode:!1}}),a})},function(a,b,c){"use strict";var d,e,f;"function"==typeof Symbol&&Symbol.iterator;!function(g){e=[c(2)],d=g,void 0!==(f="function"==typeof d?d.apply(b,e):d)&&(a.exports=f)}(function(a){function b(b,c){for(var d="",e=0;e<b.length;e++)a.prototype.definitions[b.charAt(e)]||c.definitions[b.charAt(e)]||c.optionalmarker.start===b.charAt(e)||c.optionalmarker.end===b.charAt(e)||c.quantifiermarker.start===b.charAt(e)||c.quantifiermarker.end===b.charAt(e)||c.groupmarker.start===b.charAt(e)||c.groupmarker.end===b.charAt(e)||c.alternatormarker===b.charAt(e)?d+="\\"+b.charAt(e):d+=b.charAt(e);return d}function c(a,b){if(b.numericInput){var c=d.inArray(b.radixPoint,a);-1===c&&(a.push(b.radixPoint),c=a.length-1);for(var e=1;e<=b.digits;e++)a[c+e]=a[c+e]||"0"}return a}var d=a.dependencyLib;return a.extendAliases({numeric:{mask:function(a){if(0!==a.repeat&&isNaN(a.integerDigits)&&(a.integerDigits=a.repeat),a.repeat=0,a.groupSeparator===a.radixPoint&&a.digits&&"0"!==a.digits&&("."===a.radixPoint?a.groupSeparator=",":","===a.radixPoint?a.groupSeparator=".":a.groupSeparator="")," "===a.groupSeparator&&(a.skipOptionalPartCharacter=void 0),a.autoGroup=a.autoGroup&&""!==a.groupSeparator,a.autoGroup&&("string"==typeof a.groupSize&&isFinite(a.groupSize)&&(a.groupSize=parseInt(a.groupSize)),isFinite(a.integerDigits))){var c=Math.floor(a.integerDigits/a.groupSize),d=a.integerDigits%a.groupSize;a.integerDigits=parseInt(a.integerDigits)+(0===d?c-1:c),a.integerDigits<1&&(a.integerDigits="*")}a.placeholder.length>1&&(a.placeholder=a.placeholder.charAt(0)),"radixFocus"===a.positionCaretOnClick&&""===a.placeholder&&!1===a.integerOptional&&(a.positionCaretOnClick="lvp"),a.definitions[";"]=a.definitions["~"],a.definitions[";"].definitionSymbol="~",!0===a.numericInput&&(a.positionCaretOnClick="radixFocus"===a.positionCaretOnClick?"lvp":a.positionCaretOnClick,a.digitsOptional=!1,isNaN(a.digits)&&(a.digits=2),a.decimalProtect=!1);var e="[+]";if(e+=b(a.prefix,a),!0===a.integerOptional?e+="~{1,"+a.integerDigits+"}":e+="~{"+a.integerDigits+"}",void 0!==a.digits){var f=a.decimalProtect?":":a.radixPoint,g=a.digits.toString().split(",");isFinite(g[0])&&g[1]&&isFinite(g[1])?e+=f+";{"+a.digits+"}":(isNaN(a.digits)||parseInt(a.digits)>0)&&(a.digitsOptional?e+="["+f+";{1,"+a.digits+"}]":e+=f+";{"+a.digits+"}")}return e+=b(a.suffix,a),e+="[-]",a.greedy=!1,e},placeholder:"",greedy:!1,digits:"*",digitsOptional:!0,enforceDigitsOnBlur:!1,radixPoint:".",positionCaretOnClick:"radixFocus",groupSize:3,groupSeparator:"",autoGroup:!1,allowMinus:!0,negationSymbol:{front:"-",back:""},integerDigits:"+",integerOptional:!0,prefix:"",suffix:"",rightAlign:!0,decimalProtect:!0,min:null,max:null,step:1,insertMode:!0,autoUnmask:!1,unmaskAsNumber:!1,inputmode:"numeric",preValidation:function(a,b,c,e,f,g){if("-"===c||c===f.negationSymbol.front)return!0===f.allowMinus&&(f.isNegative=void 0===f.isNegative||!f.isNegative,""===a.join("")||{caret:g.validPositions[b]?b:void 0,dopost:!0});if(!1===e&&c===f.radixPoint&&void 0!==f.digits&&(isNaN(f.digits)||parseInt(f.digits)>0)){var h=d.inArray(f.radixPoint,a);if(-1!==h&&void 0!==g.validPositions[h])return!0===f.numericInput?b===h:{caret:h+1}}return!0},postValidation:function(b,c,e,f){function g(a,b){var c="";if(c+="("+b.groupSeparator+"*{"+b.groupSize+"}){*}",""!==b.radixPoint){var d=a.join("").split(b.radixPoint);d[1]&&(c+=b.radixPoint+"*{"+d[1].match(/^\d*\??\d*/)[0].length+"}")}return c}var h=f.suffix.split(""),i=f.prefix.split("");if(void 0===e.pos&&void 0!==e.caret&&!0!==e.dopost)return e;var j=void 0!==e.caret?e.caret:e.pos,k=b.slice();f.numericInput&&(j=k.length-j-1,k=k.reverse());var l=k[j];if(l===f.groupSeparator&&(j+=1,l=k[j]),j===k.length-f.suffix.length-1&&l===f.radixPoint)return e;void 0!==l&&l!==f.radixPoint&&l!==f.negationSymbol.front&&l!==f.negationSymbol.back&&(k[j]="?",f.prefix.length>0&&j>=(!1===f.isNegative?1:0)&&j<f.prefix.length-1+(!1===f.isNegative?1:0)?i[j-(!1===f.isNegative?1:0)]="?":f.suffix.length>0&&j>=k.length-f.suffix.length-(!1===f.isNegative?1:0)&&(h[j-(k.length-f.suffix.length-(!1===f.isNegative?1:0))]="?")),i=i.join(""),h=h.join("");var m=k.join("").replace(i,"");if(m=m.replace(h,""),m=m.replace(new RegExp(a.escapeRegex(f.groupSeparator),"g"),""),m=m.replace(new RegExp("[-"+a.escapeRegex(f.negationSymbol.front)+"]","g"),""),m=m.replace(new RegExp(a.escapeRegex(f.negationSymbol.back)+"$"),""),isNaN(f.placeholder)&&(m=m.replace(new RegExp(a.escapeRegex(f.placeholder),"g"),"")),m.length>1&&1!==m.indexOf(f.radixPoint)&&("0"===l&&(m=m.replace(/^\?/g,"")),m=m.replace(/^0/g,"")),m.charAt(0)===f.radixPoint&&""!==f.radixPoint&&!0!==f.numericInput&&(m="0"+m),""!==m){if(m=m.split(""),(!f.digitsOptional||f.enforceDigitsOnBlur&&"blur"===e.event)&&isFinite(f.digits)){var n=d.inArray(f.radixPoint,m),o=d.inArray(f.radixPoint,k);-1===n&&(m.push(f.radixPoint),n=m.length-1);for(var p=1;p<=f.digits;p++)f.digitsOptional&&(!f.enforceDigitsOnBlur||"blur"!==e.event)||void 0!==m[n+p]&&m[n+p]!==f.placeholder.charAt(0)?-1!==o&&void 0!==k[o+p]&&(m[n+p]=m[n+p]||k[o+p]):m[n+p]=e.placeholder||f.placeholder.charAt(0)}if(!0!==f.autoGroup||""===f.groupSeparator||l===f.radixPoint&&void 0===e.pos&&!e.dopost)m=m.join("");else{var q=m[m.length-1]===f.radixPoint&&e.c===f.radixPoint;m=a(g(m,f),{numericInput:!0,jitMasking:!0,definitions:{"*":{validator:"[0-9?]",cardinality:1}}}).format(m.join("")),q&&(m+=f.radixPoint),m.charAt(0)===f.groupSeparator&&m.substr(1)}}if(f.isNegative&&"blur"===e.event&&(f.isNegative="0"!==m),m=i+m,m+=h,f.isNegative&&(m=f.negationSymbol.front+m,m+=f.negationSymbol.back),m=m.split(""),void 0!==l)if(l!==f.radixPoint&&l!==f.negationSymbol.front&&l!==f.negationSymbol.back)j=d.inArray("?",m),j>-1?m[j]=l:j=e.caret||0;else if(l===f.radixPoint||l===f.negationSymbol.front||l===f.negationSymbol.back){var r=d.inArray(l,m);-1!==r&&(j=r)}f.numericInput&&(j=m.length-j-1,m=m.reverse());var s={caret:void 0!==l&&void 0===e.pos||void 0===j?j:j+(f.numericInput?-1:1),buffer:m,refreshFromBuffer:e.dopost||b.join("")!==m.join("")};return s.refreshFromBuffer?s:e},onBeforeWrite:function(b,c,e,f){function g(b){void 0===b.parseMinMaxOptions&&(null!==b.min&&(b.min=b.min.toString().replace(new RegExp(a.escapeRegex(b.groupSeparator),"g"),""),","===b.radixPoint&&(b.min=b.min.replace(b.radixPoint,".")),b.min=isFinite(b.min)?parseFloat(b.min):NaN,isNaN(b.min)&&(b.min=Number.MIN_VALUE)),null!==b.max&&(b.max=b.max.toString().replace(new RegExp(a.escapeRegex(b.groupSeparator),"g"),""),","===b.radixPoint&&(b.max=b.max.replace(b.radixPoint,".")),b.max=isFinite(b.max)?parseFloat(b.max):NaN,isNaN(b.max)&&(b.max=Number.MAX_VALUE)),b.parseMinMaxOptions="done")}if(b)switch(b.type){case"keydown":return f.postValidation(c,e,{caret:e,dopost:!0},f);case"blur":case"checkval":var h;if(g(f),null!==f.min||null!==f.max){if(h=f.onUnMask(c.join(""),void 0,d.extend({},f,{unmaskAsNumber:!0})),null!==f.min&&h<f.min)return f.isNegative=f.min<0,f.postValidation(f.min.toString().replace(".",f.radixPoint).split(""),e,{caret:e,dopost:!0,placeholder:"0"},f);if(null!==f.max&&h>f.max)return f.isNegative=f.max<0,f.postValidation(f.max.toString().replace(".",f.radixPoint).split(""),e,{caret:e,dopost:!0,placeholder:"0"},f)}return f.postValidation(c,e,{caret:e,placeholder:"0",event:"blur"},f);case"_checkval":return{caret:e}}},regex:{integerPart:function(b,c){return c?new RegExp("["+a.escapeRegex(b.negationSymbol.front)+"+]?"):new RegExp("["+a.escapeRegex(b.negationSymbol.front)+"+]?\\d+")},integerNPart:function(b){return new RegExp("[\\d"+a.escapeRegex(b.groupSeparator)+a.escapeRegex(b.placeholder.charAt(0))+"]+")}},definitions:{"~":{validator:function(b,c,d,e,f,g){var h,i;if("k"===b||"m"===b){h={insert:[],c:0};for(var j=0,i="k"===b?2:5;j<i;j++)h.insert.push({pos:d+j,c:0});return h.pos=d+i,h}if(!0===(h=e?new RegExp("[0-9"+a.escapeRegex(f.groupSeparator)+"]").test(b):new RegExp("[0-9]").test(b))){if(!0!==f.numericInput&&void 0!==c.validPositions[d]&&"~"===c.validPositions[d].match.def&&!g){var k=c.buffer.join("");k=k.replace(new RegExp("[-"+a.escapeRegex(f.negationSymbol.front)+"]","g"),""),k=k.replace(new RegExp(a.escapeRegex(f.negationSymbol.back)+"$"),"");var l=k.split(f.radixPoint);l.length>1&&(l[1]=l[1].replace(/0/g,f.placeholder.charAt(0))),"0"===l[0]&&(l[0]=l[0].replace(/0/g,f.placeholder.charAt(0))),k=l[0]+f.radixPoint+l[1]||"";var m=c._buffer.join("");for(k===f.radixPoint&&(k=m);null===k.match(a.escapeRegex(m)+"$");)m=m.slice(1);k=k.replace(m,""),k=k.split(""),h=void 0===k[d]?{pos:d,remove:d}:{pos:d}}}else e||b!==f.radixPoint||void 0!==c.validPositions[d-1]||(h={insert:{pos:d,c:0},pos:d+1});return h},cardinality:1},"+":{validator:function(a,b,c,d,e){return e.allowMinus&&("-"===a||a===e.negationSymbol.front)},cardinality:1,placeholder:""},"-":{validator:function(a,b,c,d,e){return e.allowMinus&&a===e.negationSymbol.back},cardinality:1,placeholder:""},":":{validator:function(b,c,d,e,f){var g="["+a.escapeRegex(f.radixPoint)+"]",h=new RegExp(g).test(b);return h&&c.validPositions[d]&&c.validPositions[d].match.placeholder===f.radixPoint&&(h={caret:d+1}),h},cardinality:1,placeholder:function(a){return a.radixPoint}}},onUnMask:function(b,c,d){if(""===c&&!0===d.nullable)return c;var e=b.replace(d.prefix,"");return e=e.replace(d.suffix,""),e=e.replace(new RegExp(a.escapeRegex(d.groupSeparator),"g"),""),""!==d.placeholder.charAt(0)&&(e=e.replace(new RegExp(d.placeholder.charAt(0),"g"),"0")),d.unmaskAsNumber?(""!==d.radixPoint&&-1!==e.indexOf(d.radixPoint)&&(e=e.replace(a.escapeRegex.call(this,d.radixPoint),".")),e=e.replace(new RegExp("^"+a.escapeRegex(d.negationSymbol.front)),"-"),e=e.replace(new RegExp(a.escapeRegex(d.negationSymbol.back)+"$"),""),Number(e)):e},isComplete:function(b,c){var d=(c.numericInput?b.slice().reverse():b).join("");return d=d.replace(new RegExp("^"+a.escapeRegex(c.negationSymbol.front)),"-"),d=d.replace(new RegExp(a.escapeRegex(c.negationSymbol.back)+"$"),""),d=d.replace(c.prefix,""),d=d.replace(c.suffix,""),d=d.replace(new RegExp(a.escapeRegex(c.groupSeparator)+"([0-9]{3})","g"),"$1"),","===c.radixPoint&&(d=d.replace(a.escapeRegex(c.radixPoint),".")),isFinite(d)},onBeforeMask:function(b,d){if(d.isNegative=void 0,"number"==typeof b&&""!==d.radixPoint&&(b=b.toString().replace(".",d.radixPoint)),b=b.toString().charAt(b.length-1)===d.radixPoint?b.toString().substr(0,b.length-1):b.toString(),""!==d.radixPoint&&isFinite(b)){var e=b.split("."),f=""!==d.groupSeparator?parseInt(d.groupSize):0;2===e.length&&(e[0].length>f||e[1].length>f||e[0].length<=f&&e[1].length<f)&&(b=b.replace(".",d.radixPoint))}var g=b.match(/,/g),h=b.match(/\./g);if(h&&g?h.length>g.length?(b=b.replace(/\./g,""),b=b.replace(",",d.radixPoint)):g.length>h.length?(b=b.replace(/,/g,""),b=b.replace(".",d.radixPoint)):b=b.indexOf(".")<b.indexOf(",")?b.replace(/\./g,""):b.replace(/,/g,""):b=b.replace(new RegExp(a.escapeRegex(d.groupSeparator),"g"),""),0===d.digits&&(-1!==b.indexOf(".")?b=b.substring(0,b.indexOf(".")):-1!==b.indexOf(",")&&(b=b.substring(0,b.indexOf(",")))),""!==d.radixPoint&&isFinite(d.digits)&&-1!==b.indexOf(d.radixPoint)){var i=b.split(d.radixPoint),j=i[1].match(new RegExp("\\d*"))[0];if(parseInt(d.digits)<j.toString().length){var k=Math.pow(10,parseInt(d.digits));b=b.replace(a.escapeRegex(d.radixPoint),"."),b=Math.round(parseFloat(b)*k)/k,b=b.toString().replace(".",d.radixPoint)}}return c(b.toString().split(""),d).join("")},onKeyDown:function(b,c,e,f){var g=d(this);if(b.ctrlKey)switch(b.keyCode){case a.keyCode.UP:g.val(parseFloat(this.inputmask.unmaskedvalue())+parseInt(f.step)),g.trigger("setvalue");break;case a.keyCode.DOWN:
g.val(parseFloat(this.inputmask.unmaskedvalue())-parseInt(f.step)),g.trigger("setvalue")}}},currency:{prefix:"$ ",groupSeparator:",",alias:"numeric",placeholder:"0",autoGroup:!0,digits:2,digitsOptional:!1,clearMaskOnLostFocus:!1},decimal:{alias:"numeric"},integer:{alias:"numeric",digits:0,radixPoint:""},percentage:{alias:"numeric",digits:2,digitsOptional:!0,radixPoint:".",placeholder:"0",autoGroup:!1,min:0,max:100,suffix:" %",allowMinus:!1}}),a})},function(a,b,c){"use strict";var d,e,f,g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};!function(g){e=[c(4),c(2)],d=g,void 0!==(f="function"==typeof d?d.apply(b,e):d)&&(a.exports=f)}(function(a,b){return void 0===a.fn.inputmask&&(a.fn.inputmask=function(c,d){var e,f=this[0];if(void 0===d&&(d={}),"string"==typeof c)switch(c){case"unmaskedvalue":return f&&f.inputmask?f.inputmask.unmaskedvalue():a(f).val();case"remove":return this.each(function(){this.inputmask&&this.inputmask.remove()});case"getemptymask":return f&&f.inputmask?f.inputmask.getemptymask():"";case"hasMaskedValue":return!(!f||!f.inputmask)&&f.inputmask.hasMaskedValue();case"isComplete":return!f||!f.inputmask||f.inputmask.isComplete();case"getmetadata":return f&&f.inputmask?f.inputmask.getmetadata():void 0;case"setvalue":b.setValue(f,d);break;case"option":if("string"!=typeof d)return this.each(function(){if(void 0!==this.inputmask)return this.inputmask.option(d)});if(f&&void 0!==f.inputmask)return f.inputmask.option(d);break;default:return d.alias=c,e=new b(d),this.each(function(){e.mask(this)})}else{if(Array.isArray(c))return d.alias=c,e=new b(d),this.each(function(){e.mask(this)});if("object"==(void 0===c?"undefined":g(c)))return e=new b(c),void 0===c.mask&&void 0===c.alias?this.each(function(){if(void 0!==this.inputmask)return this.inputmask.option(c);e.mask(this)}):this.each(function(){e.mask(this)});if(void 0===c)return this.each(function(){e=new b(d),e.mask(this)})}}),a.fn.inputmask})}]),function(a){var b=0;a(document);a.widget("dt.imageFeature",{options:{lazyLoad:!1,multiple:!1,Mimes:null,image:"/assets/images/placeholder.png",id:null},_create:function(){var c=this.element,d=a(c).attr("id"),e=this.options;this._namespaceID=this.eventNamespace||"wigo"+b,this._id=b,b++,e.id&&(b=e.id),0==e.multiple&&(this.elfind=a('<div class="modal fade elfinderShow"><div class="modal-dialog modal-xl"><div class="modal-content"><div class="elfinder"></div></div></div></div>').appendTo(c),this.input=a('<input class="form-control form-control-sm" type="hidden" name="'+d+'" required="" value="'+e.image+'"/>').appendTo(c),this.image=a('<img style="max-height:100px;max-width: 100%;cursor:pointer;"  src="'+e.image+'" class="image_feature" />').appendTo(c)),this.modal=a('<div aria-hidden="true" aria-labelledby="image-modalLabel" class="modal fade" id="image-modal-'+b+'" role="dialog" tabindex="-1"><div class="modal-dialog modal-xl" role="document">    <div class="modal-content">        <div class="modal-header">            <p class="modal-title" id="comment-modalLabel">                Image            </p>         <div class="ml-auto">            <button type="button" class="btn btn-success" id="btn-upload">Upload</button>            <button type="button" class="btn btn-success select_image" data-dismiss="modal">Select</button>            <button type="button" class="btn btn-danger devare_image" data-type="confirm" title="Remove">Remove</button>            <input id="input-upload" type="file" accept="image/*" class="d-none" />         </div>        </div>        <div class="modal-body">            <div class="image-main row">            </div>        </div>        <div class="modal-footer">            <button type="button" class="btn btn-success select_image" data-dismiss="modal">Select</button>            <button type="button" class="btn btn-success" data-dismiss="modal">Cancle</button>        </div>    </div></div></div>').appendTo("body"),this.template='<div class="col-md-1 p-2">    <a href="#" class="rounded border d-inline-block image_tmp" data-id="{{id}}" data-src="'+path+'{{src}}">        <img class="img-responsive" src="'+path+'{{src}}" style="max-width:100%;"/>    </a></div>',this._bindEvents()},_bindEvents:function(){var b=this,c=this.element,d=this.options;0==d.multiple?(d.Mimes?onlyMimes=d.Mimes:onlyMimes=["image/jpeg","image/jpg","image/png","image/gif","image"],a(this.image).click(function(){a(".elfinder",b.elfind).elfinder({cssAutoLoad:!1,width:"100%",height:"80%",resizable:!1,baseUrl:"/lib/elfinder/",url:"/admin/filesystem/connector",rememberLastDir:!1,mimeDetect:"internal",onlyMimes:onlyMimes,getFileCallback:function(a){b.elfind.modal("hide"),b.set_image(a.path)},lang:"vi"}).elfinder("instance"),b.elfind.modal("show")})):a(c).click(function(){}),a(".devare_image",this.modal).click(function(){a(".image_tmp.border-info",b.modal).each(function(){var b=a(this).data("id");a(this).parent().remove(),a.ajax({url:path+"/ajax/removeimage",data:{id:b},type:"POST"})})}),a("#input-upload",this.modal).change(function(){var c=a(this)[0].files[0],d=new FormData;d.append("file",c),a.ajax({url:path+"/ajax/uploadimage",data:d,type:"POST",contentType:!1,processData:!1}).then(function(){b.load_images()})}),a("#btn-upload",this.modal).click(function(){a("#input-upload",this.modal).click()})},_destroy:function(){},_setOption:function(a,b){this._super(a,b)},load_images:function(){var b=this;a.ajax({url:path+"/ajax/images",dataType:"JSON"}).then(function(c){a(".image-main",b.modal).empty(),html="";for(var d=0;d<c.length;d++){var e=c[d],f=Mustache.render(b.template,e);html+=f}a(".image-main",b.modal).html(html)})},set_image:function(b){var c=b,d=b;a(this.image).attr("src",c),a(this.input).val(d)}})}(jQuery),!function(a,b){"object"==typeof exports&&"undefined"!=typeof module?module.exports=b():"function"==typeof define&&define.amd?define(b):a.Sweetalert2=b()}(this,function(){"use strict";function a(b){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(b)}function b(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function c(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function d(a,b,d){return b&&c(a.prototype,b),d&&c(a,d),a}function e(){return(e=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&h(a,b)}function g(a){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function h(a,b){return(h=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}function i(a,b,c){return(i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(a){return!1}}()?Reflect.construct:function(a,b,c){var d=[null];d.push.apply(d,b);var e=new(Function.bind.apply(a,d));return c&&h(e,c.prototype),e}).apply(null,arguments)}function j(a,b){return!b||"object"!=typeof b&&"function"!=typeof b?function(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}(a):b}function k(a,b,c){return(k="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(a,b,c){var d=function(a,b){for(;!Object.prototype.hasOwnProperty.call(a,b)&&null!==(a=g(a)););return a}(a,b);if(d){var e=Object.getOwnPropertyDescriptor(d,b);return e.get?e.get.call(c):e.value}})(a,b,c||a)}function l(a){var b=function a(){for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];if(!(this instanceof a))return i(a,c);Object.getPrototypeOf(a).apply(this,c)};return b.prototype=e(Object.create(a.prototype),{constructor:b}),"function"==typeof Object.setPrototypeOf?Object.setPrototypeOf(b,a):b.__proto__=a,b}function m(){var a=Ga.innerParams.get(this),b=Ga.domCache.get(this);a.showConfirmButton||(L(b.confirmButton),a.showCancelButton||L(b.actions)),I([b.popup,b.actions],B.loading),b.popup.removeAttribute("aria-busy"),b.popup.removeAttribute("data-loading"),b.confirmButton.disabled=!1,b.cancelButton.disabled=!1}function n(a){var b=Ga.domCache.get(this);b.validationMessage.innerHTML=a;var c=window.getComputedStyle(b.popup);b.validationMessage.style.marginLeft="-".concat(c.getPropertyValue("padding-left")),b.validationMessage.style.marginRight="-".concat(c.getPropertyValue("padding-right")),K(b.validationMessage);var d=this.getInput();d&&(d.setAttribute("aria-invalid",!0),d.setAttribute("aria-describedBy",B["validation-message"]),F(d),H(d,B.inputerror))}function o(){var a=Ga.domCache.get(this);a.validationMessage&&L(a.validationMessage);var b=this.getInput();b&&(b.removeAttribute("aria-invalid"),b.removeAttribute("aria-describedBy"),I(b,B.inputerror))}function p(){if("undefined"!=typeof window){"undefined"==typeof Promise&&u("This package requires a Promise library, please include a shim to enable it in this browser (See: https://github.com/sweetalert2/sweetalert2/wiki/Migration-from-SweetAlert-to-SweetAlert2#1-ie-support)"),q=this;for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];var d=Object.freeze(this.constructor.argsToParams(b));Object.defineProperties(this,{params:{value:d,writable:!1,enumerable:!0}});var e=this._main(this.params);Ga.promise.set(this,e)}}var q,r="SweetAlert2:",s=function(a){return Array.prototype.slice.call(a)},t=function(a){console.warn("".concat(r," ").concat(a))},u=function(a){console.error("".concat(r," ").concat(a))},v=[],w=function(a){-1===v.indexOf(a)&&(v.push(a),t(a))},x=function(a){return"function"==typeof a?a():a},y=function(a){return a&&Promise.resolve(a)===a},z=Object.freeze({cancel:"cancel",backdrop:"overlay",close:"close",esc:"esc",timer:"timer"}),A=function(a){var b={};for(var c in a)b[a[c]]="swal2-"+a[c];return b},B=A(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","toast","toast-shown","toast-column","fade","show","hide","noanimation","close","title","header","content","actions","confirm","cancel","footer","icon","icon-text","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","validation-message","progresssteps","activeprogressstep","progresscircle","progressline","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl"]),C=A(["success","warning","info","question","error"]),D={previousBodyPadding:null},E=function(a,b){return a.classList.contains(b)},F=function(a){if(a.focus(),"file"!==a.type){var b=a.value;a.value="",a.value=b}},G=function(a,b,c){a&&b&&("string"==typeof b&&(b=b.split(/\s+/).filter(Boolean)),b.forEach(function(b){a.forEach?a.forEach(function(a){c?a.classList.add(b):a.classList.remove(b)}):c?a.classList.add(b):a.classList.remove(b)}))},H=function(a,b){G(a,b,!0)},I=function(a,b){G(a,b,!1)},J=function(a,b){for(var c=0;c<a.childNodes.length;c++)if(E(a.childNodes[c],b))return a.childNodes[c]},K=function(a){a.style.opacity="",a.style.display=a.id===B.content?"block":"flex"},L=function(a){a.style.opacity="",a.style.display="none"},M=function(a){return a&&(a.offsetWidth||a.offsetHeight||a.getClientRects().length)},N=function(){return document.body.querySelector("."+B.container)},O=function(a){var b=N();return b?b.querySelector("."+a):null},P=function(){return O(B.popup)},Q=function(){var a=P();return s(a.querySelectorAll("."+B.icon))},R=function(){return O(B.title)},S=function(){return O(B.content)},T=function(){return O(B.image)},U=function(){return O(B.progresssteps)},V=function(){return O(B["validation-message"])},W=function(){return O(B.confirm)},X=function(){return O(B.cancel)},Y=function(){return O(B.actions)},Z=function(){return O(B.footer)},$=function(){return O(B.close)},_=function(){var a=s(P().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort(function(a,b){return a=parseInt(a.getAttribute("tabindex")),(b=parseInt(b.getAttribute("tabindex")))<a?1:a<b?-1:0}),b=s(P().querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex="0"], [contenteditable], audio[controls], video[controls]')).filter(function(a){return"-1"!==a.getAttribute("tabindex")});return function(a){for(var b=[],c=0;c<a.length;c++)-1===b.indexOf(a[c])&&b.push(a[c]);return b}(a.concat(b)).filter(function(a){return M(a)})},aa=function(){return!ba()&&!document.body.classList.contains(B["no-backdrop"])},ba=function(){return document.body.classList.contains(B["toast-shown"])},ca=function(){return"undefined"==typeof window||"undefined"==typeof document},da='\n <div aria-labelledby="'.concat(B.title,'" aria-describedby="').concat(B.content,'" class="').concat(B.popup,'" tabindex="-1">\n   <div class="').concat(B.header,'">\n     <ul class="').concat(B.progresssteps,'"></ul>\n     <div class="').concat(B.icon," ").concat(C.error,'">\n       <span class="swal2-x-mark"><span class="swal2-x-mark-line-left"></span><span class="swal2-x-mark-line-right"></span></span>\n     </div>\n     <div class="').concat(B.icon," ").concat(C.question,'">\n       <span class="').concat(B["icon-text"],'">?</span>\n      </div>\n     <div class="').concat(B.icon," ").concat(C.warning,'">\n       <span class="').concat(B["icon-text"],'">!</span>\n      </div>\n     <div class="').concat(B.icon," ").concat(C.info,'">\n       <span class="').concat(B["icon-text"],'">i</span>\n      </div>\n     <div class="').concat(B.icon," ").concat(C.success,'">\n       <div class="swal2-success-circular-line-left"></div>\n       <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n       <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n       <div class="swal2-success-circular-line-right"></div>\n     </div>\n     <img class="').concat(B.image,'" />\n     <h2 class="').concat(B.title,'" id="').concat(B.title,'"></h2>\n     <button type="button" class="').concat(B.close,'">×</button>\n   </div>\n   <div class="').concat(B.content,'">\n     <div id="').concat(B.content,'"></div>\n     <input class="').concat(B.input,'" />\n     <input type="file" class="').concat(B.file,'" />\n     <div class="').concat(B.range,'">\n       <input type="range" />\n       <output></output>\n     </div>\n     <select class="').concat(B.select,'"></select>\n     <div class="').concat(B.radio,'"></div>\n     <label for="').concat(B.checkbox,'" class="').concat(B.checkbox,'">\n       <input type="checkbox" />\n       <span class="').concat(B.label,'"></span>\n     </label>\n     <textarea class="').concat(B.textarea,'"></textarea>\n     <div class="').concat(B["validation-message"],'" id="').concat(B["validation-message"],'"></div>\n   </div>\n   <div class="').concat(B.actions,'">\n     <button type="button" class="').concat(B.confirm,'">OK</button>\n     <button type="button" class="').concat(B.cancel,'">Cancel</button>\n   </div>\n   <div class="').concat(B.footer,'">\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),ea=function(a){var b=N();if(b&&(b.parentNode.removeChild(b),I([document.documentElement,document.body],[B["no-backdrop"],B["toast-shown"],B["has-column"]])),!ca()){var c=document.createElement("div");c.className=B.container,c.innerHTML=da;var d="string"==typeof a.target?document.querySelector(a.target):a.target;d.appendChild(c);var e,f=P(),g=S(),h=J(g,B.input),i=J(g,B.file),j=g.querySelector(".".concat(B.range," input")),k=g.querySelector(".".concat(B.range," output")),l=J(g,B.select),m=g.querySelector(".".concat(B.checkbox," input")),n=J(g,B.textarea);f.setAttribute("role",a.toast?"alert":"dialog"),f.setAttribute("aria-live",a.toast?"polite":"assertive"),a.toast||f.setAttribute("aria-modal","true"),"rtl"===window.getComputedStyle(d).direction&&H(N(),B.rtl);var o=function(a){Na.isVisible()&&e!==a.target.value&&Na.resetValidationMessage(),e=a.target.value};return h.oninput=o,i.onchange=o,l.onchange=o,m.onchange=o,n.oninput=o,j.oninput=function(a){o(a),k.value=j.value},j.onchange=function(a){o(a),j.nextSibling.value=j.value},f}u("SweetAlert2 requires document to initialize")},fa=function(b,c){if(!b)return L(c);if(b instanceof HTMLElement)c.appendChild(b);else if("object"===a(b))if(c.innerHTML="",0 in b)for(var d=0;d in b;d++)c.appendChild(b[d].cloneNode(!0));else c.appendChild(b.cloneNode(!0));else b&&(c.innerHTML=b);K(c)},ga=function(){if(ca())return!1;var a=document.createElement("div"),b={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd oanimationend",animation:"animationend"};for(var c in b)if(b.hasOwnProperty(c)&&void 0!==a.style[c])return b[c];return!1}(),ha=function(a){var b=Y(),c=W(),d=X();if(a.showConfirmButton||a.showCancelButton?K(b):L(b),a.showCancelButton?d.style.display="inline-block":L(d),a.showConfirmButton?c.style.removeProperty("display"):L(c),c.innerHTML=a.confirmButtonText,d.innerHTML=a.cancelButtonText,c.setAttribute("aria-label",a.confirmButtonAriaLabel),d.setAttribute("aria-label",a.cancelButtonAriaLabel),c.className=B.confirm,H(c,a.confirmButtonClass),d.className=B.cancel,H(d,a.cancelButtonClass),a.buttonsStyling){H([c,d],B.styled),a.confirmButtonColor&&(c.style.backgroundColor=a.confirmButtonColor),a.cancelButtonColor&&(d.style.backgroundColor=a.cancelButtonColor);var e=window.getComputedStyle(c).getPropertyValue("background-color");c.style.borderLeftColor=e,c.style.borderRightColor=e}else I([c,d],B.styled),c.style.backgroundColor=c.style.borderLeftColor=c.style.borderRightColor="",d.style.backgroundColor=d.style.borderLeftColor=d.style.borderRightColor=""},ia=function(a){var b=S().querySelector("#"+B.content);a.html?fa(a.html,b):a.text?(b.textContent=a.text,K(b)):L(b)},ja=function(a){for(var b=Q(),c=0;c<b.length;c++)L(b[c]);if(a.type)if(-1!==Object.keys(C).indexOf(a.type)){var d=Na.getPopup().querySelector(".".concat(B.icon,".").concat(C[a.type]));K(d),a.animation&&H(d,"swal2-animate-".concat(a.type,"-icon"))}else u('Unknown type! Expected "success", "error", "warning", "info" or "question", got "'.concat(a.type,'"'))},ka=function(a){var b=T();a.imageUrl?(b.setAttribute("src",a.imageUrl),b.setAttribute("alt",a.imageAlt),K(b),a.imageWidth?b.setAttribute("width",a.imageWidth):b.removeAttribute("width"),a.imageHeight?b.setAttribute("height",a.imageHeight):b.removeAttribute("height"),b.className=B.image,a.imageClass&&H(b,a.imageClass)):L(b)},la=function(a){var b=U(),c=parseInt(null===a.currentProgressStep?Na.getQueueStep():a.currentProgressStep,10);a.progressSteps&&a.progressSteps.length?(K(b),b.innerHTML="",c>=a.progressSteps.length&&t("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),a.progressSteps.forEach(function(d,e){var f=document.createElement("li");if(H(f,B.progresscircle),f.innerHTML=d,e===c&&H(f,B.activeprogressstep),b.appendChild(f),e!==a.progressSteps.length-1){var g=document.createElement("li");H(g,B.progressline),a.progressStepsDistance&&(g.style.width=a.progressStepsDistance),b.appendChild(g)}})):L(b)},ma=function(a){var b=R();a.titleText?b.innerText=a.titleText:a.title&&("string"==typeof a.title&&(a.title=a.title.split("\n").join("<br />")),fa(a.title,b))},na=function(){null===D.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(D.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=D.previousBodyPadding+function(){if("ontouchstart"in window||navigator.msMaxTouchPoints)return 0;var a=document.createElement("div");a.style.width="50px",a.style.height="50px",a.style.overflow="scroll",document.body.appendChild(a);var b=a.offsetWidth-a.clientWidth;return document.body.removeChild(a),b}()+"px")},oa=function(){return!!window.MSInputMethodContext&&!!document.documentMode},pa=function(){var a=N(),b=P();a.style.removeProperty("align-items"),b.offsetTop<0&&(a.style.alignItems="flex-start")},qa={},ra=function(a,b){var c=N(),d=P();if(d){null!==a&&"function"==typeof a&&a(d),I(d,B.show),H(d,B.hide);var e=function(){ba()?sa(b):(new Promise(function(a){var b=window.scrollX,c=window.scrollY;qa.restoreFocusTimeout=setTimeout(function(){qa.previousActiveElement&&qa.previousActiveElement.focus?(qa.previousActiveElement.focus(),qa.previousActiveElement=null):document.body&&document.body.focus(),a()},100),void 0!==b&&void 0!==c&&window.scrollTo(b,c)}).then(function(){return sa(b)}),qa.keydownTarget.removeEventListener("keydown",qa.keydownHandler,{capture:qa.keydownListenerCapture}),qa.keydownHandlerAdded=!1),c.parentNode&&c.parentNode.removeChild(c),I([document.documentElement,document.body],[B.shown,B["height-auto"],B["no-backdrop"],B["toast-shown"],B["toast-column"]]),aa()&&(null!==D.previousBodyPadding&&(document.body.style.paddingRight=D.previousBodyPadding,D.previousBodyPadding=null),function(){if(E(document.body,B.iosfix)){var a=parseInt(document.body.style.top,10);I(document.body,B.iosfix),document.body.style.top="",document.body.scrollTop=-1*a}}(),"undefined"!=typeof window&&oa()&&window.removeEventListener("resize",pa),s(document.body.children).forEach(function(a){a.hasAttribute("data-previous-aria-hidden")?(a.setAttribute("aria-hidden",a.getAttribute("data-previous-aria-hidden")),a.removeAttribute("data-previous-aria-hidden")):a.removeAttribute("aria-hidden")}))};ga&&!E(d,B.noanimation)?d.addEventListener(ga,function a(){d.removeEventListener(ga,a),E(d,B.hide)&&e()}):e()}},sa=function(a){null!==a&&"function"==typeof a&&setTimeout(function(){a()})},ta={title:"",titleText:"",text:"",html:"",footer:"",type:null,toast:!1,customClass:"",customContainerClass:"",target:"body",backdrop:!0,animation:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showCancelButton:!1,preConfirm:null,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:null,confirmButtonClass:null,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:null,cancelButtonClass:null,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusCancel:!1,showCloseButton:!1,closeButtonAriaLabel:"Close this dialog",showLoaderOnConfirm:!1,imageUrl:null,imageWidth:null,imageHeight:null,imageAlt:"",imageClass:null,timer:null,width:null,padding:null,background:null,input:null,inputPlaceholder:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputClass:null,inputAttributes:{},inputValidator:null,validationMessage:null,grow:!1,position:"center",progressSteps:[],currentProgressStep:null,progressStepsDistance:null,onBeforeOpen:null,onAfterClose:null,onOpen:null,onClose:null,useRejections:!1,expectRejections:!1},ua=["useRejections","expectRejections","extraParams"],va=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusCancel","heightAuto","keydownListenerCapture"],wa=function(a){return ta.hasOwnProperty(a)||"extraParams"===a},xa=function(a){return-1!==ua.indexOf(a)},ya=function(a){for(var b in a)wa(b)||t('Unknown parameter "'.concat(b,'"')),a.toast&&-1!==va.indexOf(b)&&t('The parameter "'.concat(b,'" is incompatible with toasts')),xa(b)&&w('The parameter "'.concat(b,'" is deprecated and will be removed in the next major release.'))},za='"setDefaults" & "resetDefaults" methods are deprecated in favor of "mixin" method and will be removed in the next major release. For new projects, use "mixin". For past projects already using "setDefaults", support will be provided through an additional package.',Aa={},Ba=[],Ca=function(){var a=P();a||Na(""),a=P();var b=Y(),c=W(),d=X();K(b),K(c),H([a,b],B.loading),c.disabled=!0,d.disabled=!0,a.setAttribute("data-loading",!0),a.setAttribute("aria-busy",!0),a.focus()},Da=Object.freeze({isValidParameter:wa,isDeprecatedParameter:xa,argsToParams:function(b){var c={};switch(a(b[0])){case"object":e(c,b[0]);break;default:["title","html","type"].forEach(function(d,e){switch(a(b[e])){case"string":c[d]=b[e];break;case"undefined":break;default:u("Unexpected type of ".concat(d,'! Expected "string", got ').concat(a(b[e])))}})}return c},adaptInputValidator:function(a){return function(b,c){return a.call(this,b,c).then(function(){},function(a){return a})}},close:ra,closePopup:ra,closeModal:ra,closeToast:ra,isVisible:function(){return!!P()},clickConfirm:function(){return W().click()},clickCancel:function(){return X().click()},getContainer:N,getPopup:P,getTitle:R,getContent:S,getImage:T,getIcons:Q,getCloseButton:$,getButtonsWrapper:function(){return w("swal.getButtonsWrapper() is deprecated and will be removed in the next major release, use swal.getActions() instead"),O(B.actions)},getActions:Y,getConfirmButton:W,getCancelButton:X,getFooter:Z,getFocusableElements:_,getValidationMessage:V,isLoading:function(){return P().hasAttribute("data-loading")},fire:function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return i(this,b)},mixin:function(a){return l(function(c){function h(){return b(this,h),j(this,g(h).apply(this,arguments))}return f(h,c),d(h,[{key:"_main",value:function(b){return k(g(h.prototype),"_main",this).call(this,e({},a,b))}}]),h}(this))},queue:function(a){var b=this;Ba=a;var c=function(){Ba=[],document.body.removeAttribute("data-swal2-queue-step")},d=[];return new Promise(function(a){!function e(f,g){f<Ba.length?(document.body.setAttribute("data-swal2-queue-step",f),b(Ba[f]).then(function(b){void 0!==b.value?(d.push(b.value),e(f+1,g)):(c(),a({dismiss:b.dismiss}))})):(c(),a({value:d}))}(0)})},getQueueStep:function(){return document.body.getAttribute("data-swal2-queue-step")},insertQueueStep:function(a,b){return b&&b<Ba.length?Ba.splice(b,0,a):Ba.push(a)},deleteQueueStep:function(a){void 0!==Ba[a]&&Ba.splice(a,1)},showLoading:Ca,enableLoading:Ca,getTimerLeft:function(){return qa.timeout&&qa.timeout.getTimerLeft()},stopTimer:function(){return qa.timeout&&qa.timeout.stop()},resumeTimer:function(){return qa.timeout&&qa.timeout.start()},toggleTimer:function(){var a=qa.timeout;return a&&(a.running?a.stop():a.start())},increaseTimer:function(a){return qa.timeout&&qa.timeout.increase(a)},isTimerRunning:function(){return qa.timeout&&qa.timeout.isRunning()}}),Ea="function"==typeof Symbol?Symbol:function(){function a(a){return"__"+a+"_"+Math.floor(1e9*Math.random())+"_"+ ++b+"__"}var b=0;return a.iterator=a("Symbol.iterator"),a}(),Fa="function"==typeof WeakMap?WeakMap:function(a,b,c){function d(){b(this,a,{value:Ea("WeakMap")})}return d.prototype={delete:function(b){delete b[this[a]]},get:function(b){return b[this[a]]},has:function(b){return c.call(b,this[a])},set:function(c,d){b(c,this[a],{configurable:!0,value:d})}},d}(Ea("WeakMap"),Object.defineProperty,{}.hasOwnProperty),Ga={promise:new Fa,innerParams:new Fa,domCache:new Fa},Ha=function a(c,d){b(this,a);var e,f,g=d;this.running=!1,this.start=function(){return this.running||(this.running=!0,f=new Date,e=setTimeout(c,g)),g},this.stop=function(){return this.running&&(this.running=!1,clearTimeout(e),g-=new Date-f),g},this.increase=function(a){var b=this.running;return b&&this.stop(),g+=a,b&&this.start(),g},this.getTimerLeft=function(){return this.running&&(this.stop(),this.start()),g},this.isRunning=function(){return this.running},this.start()},Ia={email:function(a,b){return/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(a)?Promise.resolve():Promise.reject(b&&b.validationMessage?b.validationMessage:"Invalid email address")},url:function(a,b){return/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{2,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&//=]*)$/.test(a)?Promise.resolve():Promise.reject(b&&b.validationMessage?b.validationMessage:"Invalid URL")}},Ja=function(a){var b=N(),c=P();null!==a.onBeforeOpen&&"function"==typeof a.onBeforeOpen&&a.onBeforeOpen(c),a.animation?(H(c,B.show),H(b,B.fade),I(c,B.hide)):I(c,B.fade),K(c),b.style.overflowY="hidden",ga&&!E(c,B.noanimation)?c.addEventListener(ga,function a(){c.removeEventListener(ga,a),b.style.overflowY="auto"}):b.style.overflowY="auto",H([document.documentElement,document.body,b],B.shown),a.heightAuto&&a.backdrop&&!a.toast&&H([document.documentElement,document.body],B["height-auto"]),aa()&&(na(),function(){if(/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&!E(document.body,B.iosfix)){var a=document.body.scrollTop;document.body.style.top=-1*a+"px",H(document.body,B.iosfix)}}(),"undefined"!=typeof window&&oa()&&(pa(),window.addEventListener("resize",pa)),s(document.body.children).forEach(function(a){a===N()||function(a,b){if("function"==typeof a.contains)return a.contains(b)}(a,N())||(a.hasAttribute("aria-hidden")&&a.setAttribute("data-previous-aria-hidden",a.getAttribute("aria-hidden")),a.setAttribute("aria-hidden","true"))}),setTimeout(function(){b.scrollTop=0})),ba()||qa.previousActiveElement||(qa.previousActiveElement=document.activeElement),null!==a.onOpen&&"function"==typeof a.onOpen&&setTimeout(function(){a.onOpen(c)})},Ka=Object.freeze({hideLoading:m,disableLoading:m,getInput:function(a){var b=Ga.innerParams.get(this),c=Ga.domCache.get(this);if(!(a=a||b.input))return null;switch(a){case"select":case"textarea":case"file":return J(c.content,B[a]);case"checkbox":return c.popup.querySelector(".".concat(B.checkbox," input"));case"radio":return c.popup.querySelector(".".concat(B.radio," input:checked"))||c.popup.querySelector(".".concat(B.radio," input:first-child"));case"range":return c.popup.querySelector(".".concat(B.range," input"));default:return J(c.content,B.input)}},enableButtons:function(){var a=Ga.domCache.get(this);a.confirmButton.disabled=!1,a.cancelButton.disabled=!1},disableButtons:function(){var a=Ga.domCache.get(this);a.confirmButton.disabled=!0,a.cancelButton.disabled=!0},enableConfirmButton:function(){Ga.domCache.get(this).confirmButton.disabled=!1},disableConfirmButton:function(){Ga.domCache.get(this).confirmButton.disabled=!0},enableInput:function(){var a=this.getInput();if(!a)return!1;if("radio"===a.type)for(var b=a.parentNode.parentNode.querySelectorAll("input"),c=0;c<b.length;c++)b[c].disabled=!1;else a.disabled=!1},disableInput:function(){var a=this.getInput();if(!a)return!1;if(a&&"radio"===a.type)for(var b=a.parentNode.parentNode.querySelectorAll("input"),c=0;c<b.length;c++)b[c].disabled=!0;else a.disabled=!0},showValidationMessage:n,resetValidationMessage:o,resetValidationError:function(){w("Swal.resetValidationError() is deprecated and will be removed in the next major release, use Swal.resetValidationMessage() instead"),o.bind(this)()},showValidationError:function(a){w("Swal.showValidationError() is deprecated and will be removed in the next major release, use Swal.showValidationMessage() instead"),n.bind(this)(a)},getProgressSteps:function(){return Ga.innerParams.get(this).progressSteps},setProgressSteps:function(a){var b=e({},Ga.innerParams.get(this),{progressSteps:a});Ga.innerParams.set(this,b),la(b)},showProgressSteps:function(){var a=Ga.domCache.get(this);K(a.progressSteps)},hideProgressSteps:function(){var a=Ga.domCache.get(this);L(a.progressSteps)},_main:function(b){var c=this;ya(b);var d=e({},ta,b);!function(b){var c;b.inputValidator||Object.keys(Ia).forEach(function(a){
b.input===a&&(b.inputValidator=b.expectRejections?Ia[a]:Na.adaptInputValidator(Ia[a]))}),b.validationMessage&&("object"!==a(b.extraParams)&&(b.extraParams={}),b.extraParams.validationMessage=b.validationMessage),(!b.target||"string"==typeof b.target&&!document.querySelector(b.target)||"string"!=typeof b.target&&!b.target.appendChild)&&(t('Target parameter is not valid, defaulting to "body"'),b.target="body"),"function"==typeof b.animation&&(b.animation=b.animation.call());var d=P(),e="string"==typeof b.target?document.querySelector(b.target):b.target;c=d&&e&&d.parentNode!==e.parentNode?ea(b):d||ea(b),b.width&&(c.style.width="number"==typeof b.width?b.width+"px":b.width),b.padding&&(c.style.padding="number"==typeof b.padding?b.padding+"px":b.padding),b.background&&(c.style.background=b.background);for(var f=window.getComputedStyle(c).getPropertyValue("background-color"),g=c.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix"),h=0;h<g.length;h++)g[h].style.backgroundColor=f;var i=N(),j=$(),k=Z();if(ma(b),ia(b),"string"==typeof b.backdrop?N().style.background=b.backdrop:b.backdrop||H([document.documentElement,document.body],B["no-backdrop"]),!b.backdrop&&b.allowOutsideClick&&t('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),b.position in B?H(i,B[b.position]):(t('The "position" parameter is not valid, defaulting to "center"'),H(i,B.center)),b.grow&&"string"==typeof b.grow){var l="grow-"+b.grow;l in B&&H(i,B[l])}b.showCloseButton?(j.setAttribute("aria-label",b.closeButtonAriaLabel),K(j)):L(j),c.className=B.popup,b.toast?(H([document.documentElement,document.body],B["toast-shown"]),H(c,B.toast)):H(c,B.modal),b.customClass&&H(c,b.customClass),b.customContainerClass&&H(i,b.customContainerClass),la(b),ja(b),ka(b),ha(b),fa(b.footer,k),!0===b.animation?I(c,B.noanimation):H(c,B.noanimation),b.showLoaderOnConfirm&&!b.preConfirm&&t("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request")}(d),Object.freeze(d),Ga.innerParams.set(this,d),qa.timeout&&(qa.timeout.stop(),delete qa.timeout),clearTimeout(qa.restoreFocusTimeout);var f={popup:P(),container:N(),content:S(),actions:Y(),confirmButton:W(),cancelButton:X(),closeButton:$(),validationMessage:V(),progressSteps:U()};Ga.domCache.set(this,f);var g=this.constructor;return new Promise(function(b,e){var h=function(a){g.closePopup(d.onClose,d.onAfterClose),b(d.useRejections?a:{value:a})},i=function(a){g.closePopup(d.onClose,d.onAfterClose),d.useRejections?e(a):b({dismiss:a})},j=function(a){g.closePopup(d.onClose,d.onAfterClose),e(a)};d.timer&&(qa.timeout=new Ha(function(){i("timer"),delete qa.timeout},d.timer)),d.input&&setTimeout(function(){var a=c.getInput();a&&F(a)},0);for(var k=function(a){if(d.showLoaderOnConfirm&&g.showLoading(),d.preConfirm){c.resetValidationMessage();var b=Promise.resolve().then(function(){return d.preConfirm(a,d.extraParams)});d.expectRejections?b.then(function(b){return h(b||a)},function(a){c.hideLoading(),a&&c.showValidationMessage(a)}):b.then(function(b){M(f.validationMessage)||!1===b?c.hideLoading():h(b||a)},function(a){return j(a)})}else h(a)},l=function(a){var b=a.target,e=f.confirmButton,h=f.cancelButton,l=e&&(e===b||e.contains(b)),m=h&&(h===b||h.contains(b));switch(a.type){case"click":if(l&&g.isVisible())if(c.disableButtons(),d.input){var n=function(){var a=c.getInput();if(!a)return null;switch(d.input){case"checkbox":return a.checked?1:0;case"radio":return a.checked?a.value:null;case"file":return a.files.length?a.files[0]:null;default:return d.inputAutoTrim?a.value.trim():a.value}}();if(d.inputValidator){c.disableInput();var o=Promise.resolve().then(function(){return d.inputValidator(n,d.extraParams)});d.expectRejections?o.then(function(){c.enableButtons(),c.enableInput(),k(n)},function(a){c.enableButtons(),c.enableInput(),a&&c.showValidationMessage(a)}):o.then(function(a){c.enableButtons(),c.enableInput(),a?c.showValidationMessage(a):k(n)},function(a){return j(a)})}else c.getInput().checkValidity()?k(n):(c.enableButtons(),c.showValidationMessage(d.validationMessage))}else k(!0);else m&&g.isVisible()&&(c.disableButtons(),i(g.DismissReason.cancel))}},m=f.popup.querySelectorAll("button"),n=0;n<m.length;n++)m[n].onclick=l,m[n].onmouseover=l,m[n].onmouseout=l,m[n].onmousedown=l;if(f.closeButton.onclick=function(){i(g.DismissReason.close)},d.toast)f.popup.onclick=function(){d.showConfirmButton||d.showCancelButton||d.showCloseButton||d.input||i(g.DismissReason.close)};else{var o=!1;f.popup.onmousedown=function(){f.container.onmouseup=function(a){f.container.onmouseup=void 0,a.target===f.container&&(o=!0)}},f.container.onmousedown=function(){f.popup.onmouseup=function(a){f.popup.onmouseup=void 0,(a.target===f.popup||f.popup.contains(a.target))&&(o=!0)}},f.container.onclick=function(a){o?o=!1:a.target===f.container&&x(d.allowOutsideClick)&&i(g.DismissReason.backdrop)}}d.reverseButtons?f.confirmButton.parentNode.insertBefore(f.cancelButton,f.confirmButton):f.confirmButton.parentNode.insertBefore(f.confirmButton,f.cancelButton);var p=function(a,b){for(var c=_(d.focusCancel),e=0;e<c.length;e++)return(a+=b)===c.length?a=0:-1===a&&(a=c.length-1),c[a].focus();f.popup.focus()};qa.keydownHandlerAdded&&(qa.keydownTarget.removeEventListener("keydown",qa.keydownHandler,{capture:qa.keydownListenerCapture}),qa.keydownHandlerAdded=!1),d.toast||(qa.keydownHandler=function(a){return function(a,b){if(b.stopKeydownPropagation&&a.stopPropagation(),"Enter"!==a.key||a.isComposing)if("Tab"===a.key){for(var d=a.target,e=_(b.focusCancel),h=-1,j=0;j<e.length;j++)if(d===e[j]){h=j;break}a.shiftKey?p(h,-1):p(h,1),a.stopPropagation(),a.preventDefault()}else-1!==["ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Left","Right","Up","Down"].indexOf(a.key)?document.activeElement===f.confirmButton&&M(f.cancelButton)?f.cancelButton.focus():document.activeElement===f.cancelButton&&M(f.confirmButton)&&f.confirmButton.focus():"Escape"!==a.key&&"Esc"!==a.key||!0!==x(b.allowEscapeKey)||(a.preventDefault(),i(g.DismissReason.esc));else if(a.target&&c.getInput()&&a.target.outerHTML===c.getInput().outerHTML){if(-1!==["textarea","file"].indexOf(b.input))return;g.clickConfirm(),a.preventDefault()}}(a,d)},qa.keydownTarget=d.keydownListenerCapture?window:f.popup,qa.keydownListenerCapture=d.keydownListenerCapture,qa.keydownTarget.addEventListener("keydown",qa.keydownHandler,{capture:qa.keydownListenerCapture}),qa.keydownHandlerAdded=!0),c.enableButtons(),c.hideLoading(),c.resetValidationMessage(),d.toast&&(d.input||d.footer||d.showCloseButton)?H(document.body,B["toast-column"]):I(document.body,B["toast-column"]);for(var q,r,s=["input","file","range","select","radio","checkbox","textarea"],v=function(a){a.placeholder&&!d.inputPlaceholder||(a.placeholder=d.inputPlaceholder)},w=0;w<s.length;w++){var z=B[s[w]],A=J(f.content,z);if(q=c.getInput(s[w])){for(var C in q.attributes)if(q.attributes.hasOwnProperty(C)){var D=q.attributes[C].name;"type"!==D&&"value"!==D&&q.removeAttribute(D)}for(var E in d.inputAttributes)"range"===s[w]&&"placeholder"===E||q.setAttribute(E,d.inputAttributes[E])}A.className=z,d.inputClass&&H(A,d.inputClass),L(A)}switch(d.input){case"text":case"email":case"password":case"number":case"tel":case"url":q=J(f.content,B.input),"string"==typeof d.inputValue||"number"==typeof d.inputValue?q.value=d.inputValue:y(d.inputValue)||t('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(a(d.inputValue),'"')),v(q),q.type=d.input,K(q);break;case"file":v(q=J(f.content,B.file)),q.type=d.input,K(q);break;case"range":var G=J(f.content,B.range),N=G.querySelector("input"),O=G.querySelector("output");N.value=d.inputValue,N.type=d.input,O.value=d.inputValue,K(G);break;case"select":var P=J(f.content,B.select);if(P.innerHTML="",d.inputPlaceholder){var Q=document.createElement("option");Q.innerHTML=d.inputPlaceholder,Q.value="",Q.disabled=!0,Q.selected=!0,P.appendChild(Q)}r=function(a){a.forEach(function(a){var b=a[0],c=a[1],e=document.createElement("option");e.value=b,e.innerHTML=c,d.inputValue.toString()===b.toString()&&(e.selected=!0),P.appendChild(e)}),K(P),P.focus()};break;case"radio":var R=J(f.content,B.radio);R.innerHTML="",r=function(a){a.forEach(function(a){var b=a[0],c=a[1],e=document.createElement("input"),f=document.createElement("label");e.type="radio",e.name=B.radio,e.value=b,d.inputValue.toString()===b.toString()&&(e.checked=!0);var g=document.createElement("span");g.innerHTML=c,g.className=B.label,f.appendChild(e),f.appendChild(g),R.appendChild(f)}),K(R);var b=R.querySelectorAll("input");b.length&&b[0].focus()};break;case"checkbox":var S=J(f.content,B.checkbox),T=c.getInput("checkbox");T.type="checkbox",T.value=1,T.id=B.checkbox,T.checked=Boolean(d.inputValue),S.querySelector("span").innerHTML=d.inputPlaceholder,K(S);break;case"textarea":var U=J(f.content,B.textarea);U.value=d.inputValue,v(U),K(U);break;case null:break;default:u('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(d.input,'"'))}if("select"===d.input||"radio"===d.input){var V=function(a){return r((b=a,c=[],"undefined"!=typeof Map&&b instanceof Map?b.forEach(function(a,b){c.push([b,a])}):Object.keys(b).forEach(function(a){c.push([a,b[a]])}),c));var b,c};y(d.inputOptions)?(g.showLoading(),d.inputOptions.then(function(a){c.hideLoading(),V(a)})):"object"===a(d.inputOptions)?V(d.inputOptions):u("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(a(d.inputOptions)))}else-1!==["text","email","number","tel","textarea"].indexOf(d.input)&&y(d.inputValue)&&(g.showLoading(),L(q),d.inputValue.then(function(a){q.value="number"===d.input?parseFloat(a)||0:a+"",K(q),q.focus(),c.hideLoading()}).catch(function(a){u("Error in inputValue promise: "+a),q.value="",K(q),q.focus(),c.hideLoading()}));Ja(d),d.toast||(x(d.allowEnterKey)?d.focusCancel&&M(f.cancelButton)?f.cancelButton.focus():d.focusConfirm&&M(f.confirmButton)?f.confirmButton.focus():p(-1,1):document.activeElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()),f.container.scrollTop=0})}});p.prototype.then=function(a,b){return Ga.promise.get(this).then(a,b)},p.prototype.catch=function(a){return Ga.promise.get(this).catch(a)},p.prototype.finally=function(a){return Ga.promise.get(this).finally(a)},e(p.prototype,Ka),e(p,Da),Object.keys(Ka).forEach(function(a){p[a]=function(){var b;if(q)return(b=q)[a].apply(b,arguments)}}),p.DismissReason=z,p.noop=function(){};var La,Ma,Na=l((La=p,Ma=function(c){function h(){return b(this,h),j(this,g(h).apply(this,arguments))}return f(h,La),d(h,[{key:"_main",value:function(a){return k(g(h.prototype),"_main",this).call(this,e({},Aa,a))}}],[{key:"setDefaults",value:function(b){if(w(za),!b||"object"!==a(b))throw new TypeError("SweetAlert2: The argument for setDefaults() is required and has to be a object");ya(b),Object.keys(b).forEach(function(a){La.isValidParameter(a)&&(Aa[a]=b[a])})}},{key:"resetDefaults",value:function(){w(za),Aa={}}}]),h}(),"undefined"!=typeof window&&"object"===a(window._swalDefaults)&&Ma.setDefaults(window._swalDefaults),Ma));return Na.default=Na}),"undefined"!=typeof window&&window.Sweetalert2&&(window.Sweetalert2.version="7.33.1",window.swal=window.sweetAlert=window.Swal=window.SweetAlert=window.Sweetalert2),function(a,b){"function"==typeof define&&define.amd?define(["jquery"],b):"object"==typeof exports?module.exports=b(require("jquery")):a.Dropify=b(a.jQuery)}(this,function(a){function b(b,c){if(window.File&&window.FileReader&&window.FileList&&window.Blob){var d={defaultFile:"",maxFileSize:0,minWidth:0,maxWidth:0,minHeight:0,maxHeight:0,showRemove:!0,showLoader:!0,showErrors:!0,errorTimeout:3e3,errorsPosition:"overlay",imgFileExtensions:["png","jpg","jpeg","gif","bmp"],maxFileSizePreview:"5M",allowedFormats:["portrait","square","landscape"],allowedFileExtensions:["*"],messages:{default:"Drag and drop a file here or click",replace:"Drag and drop or click to replace",remove:"Remove",error:"Ooops, something wrong appended."},error:{fileSize:"The file size is too big ({{ value }} max).",minWidth:"The image width is too small ({{ value }}}px min).",maxWidth:"The image width is too big ({{ value }}}px max).",minHeight:"The image height is too small ({{ value }}}px min).",maxHeight:"The image height is too big ({{ value }}px max).",imageFormat:"The image format is not allowed ({{ value }} only).",fileExtension:"The file is not allowed ({{ value }} only)."},tpl:{wrap:'<div class="dropify-wrapper"></div>',loader:'<div class="dropify-loader"></div>',message:'<div class="dropify-message"><span class="file-icon" /> <p>{{ default }}</p></div>',preview:'<div class="dropify-preview"><span class="dropify-render"></span><div class="dropify-infos"><div class="dropify-infos-inner"><p class="dropify-infos-message">{{ replace }}</p></div></div></div>',filename:'<p class="dropify-filename"><span class="file-icon"></span> <span class="dropify-filename-inner"></span></p>',clearButton:'<button type="button" class="dropify-clear">{{ remove }}</button>',errorLine:'<p class="dropify-error">{{ error }}</p>',errorsContainer:'<div class="dropify-errors-container"><ul></ul></div>'}};this.element=b,this.input=a(this.element),this.wrapper=null,this.preview=null,this.filenameWrapper=null,this.settings=a.extend(!0,d,c,this.input.data()),this.errorsEvent=a.Event("dropify.errors"),this.isDisabled=!1,this.isInit=!1,this.file={object:null,name:null,size:null,width:null,height:null,type:null},Array.isArray(this.settings.allowedFormats)||(this.settings.allowedFormats=this.settings.allowedFormats.split(" ")),Array.isArray(this.settings.allowedFileExtensions)||(this.settings.allowedFileExtensions=this.settings.allowedFileExtensions.split(" ")),this.onChange=this.onChange.bind(this),this.clearElement=this.clearElement.bind(this),this.onFileReady=this.onFileReady.bind(this),this.translateMessages(),this.createElements(),this.setContainerSize(),this.errorsEvent.errors=[],this.input.on("change",this.onChange)}}var c="dropify";return b.prototype.onChange=function(){this.resetPreview(),this.readFile(this.element)},b.prototype.createElements=function(){this.isInit=!0,this.input.wrap(a(this.settings.tpl.wrap)),this.wrapper=this.input.parent();var b=a(this.settings.tpl.message).insertBefore(this.input);a(this.settings.tpl.errorLine).appendTo(b),!0===this.isTouchDevice()&&this.wrapper.addClass("touch-fallback"),this.input.attr("disabled")&&(this.isDisabled=!0,this.wrapper.addClass("disabled")),!0===this.settings.showLoader&&(this.loader=a(this.settings.tpl.loader),this.loader.insertBefore(this.input)),this.preview=a(this.settings.tpl.preview),this.preview.insertAfter(this.input),!1===this.isDisabled&&!0===this.settings.showRemove&&(this.clearButton=a(this.settings.tpl.clearButton),this.clearButton.insertAfter(this.input),this.clearButton.on("click",this.clearElement)),this.filenameWrapper=a(this.settings.tpl.filename),this.filenameWrapper.prependTo(this.preview.find(".dropify-infos-inner")),!0===this.settings.showErrors&&(this.errorsContainer=a(this.settings.tpl.errorsContainer),"outside"===this.settings.errorsPosition?this.errorsContainer.insertAfter(this.wrapper):this.errorsContainer.insertBefore(this.input));var c=this.settings.defaultFile||"";""!==c.trim()&&(this.file.name=this.cleanFilename(c),this.setPreview(this.isImage(),c))},b.prototype.readFile=function(b){if(b.files&&b.files[0]){var c=new FileReader,d=new Image,e=b.files[0],f=null,g=this,h=a.Event("dropify.fileReady");this.clearErrors(),this.showLoader(),this.setFileInformations(e),this.errorsEvent.errors=[],this.checkFileSize(),this.isFileExtensionAllowed(),this.isImage()&&this.file.size<this.sizeToByte(this.settings.maxFileSizePreview)?(this.input.on("dropify.fileReady",this.onFileReady),c.readAsDataURL(e),c.onload=function(a){f=a.target.result,d.src=a.target.result,d.onload=function(){g.setFileDimensions(this.width,this.height),g.validateImage(),g.input.trigger(h,[!0,f])}}.bind(this)):this.onFileReady(!1)}},b.prototype.onFileReady=function(a,b,c){if(this.input.off("dropify.fileReady",this.onFileReady),0===this.errorsEvent.errors.length)this.setPreview(b,c);else{this.input.trigger(this.errorsEvent,[this]);for(var d=this.errorsEvent.errors.length-1;d>=0;d--){var e=this.errorsEvent.errors[d].namespace,f=e.split(".").pop();this.showError(f)}if(void 0!==this.errorsContainer){this.errorsContainer.addClass("visible");var g=this.errorsContainer;setTimeout(function(){g.removeClass("visible")},this.settings.errorTimeout)}this.wrapper.addClass("has-error"),this.resetPreview(),this.clearElement()}},b.prototype.setFileInformations=function(a){this.file.object=a,this.file.name=a.name,this.file.size=a.size,this.file.type=a.type,this.file.width=null,this.file.height=null},b.prototype.setFileDimensions=function(a,b){this.file.width=a,this.file.height=b},b.prototype.setPreview=function(b,c){this.wrapper.removeClass("has-error").addClass("has-preview"),this.filenameWrapper.children(".dropify-filename-inner").html(this.file.name);var d=this.preview.children(".dropify-render");if(this.hideLoader(),!0===b){var e=a("<img />").attr("src",c);this.settings.height&&e.css("max-height",this.settings.height),e.appendTo(d)}else a("<i />").attr("class","dropify-font-file").appendTo(d),a('<span class="dropify-extension" />').html(this.getFileType()).appendTo(d);this.preview.fadeIn()},b.prototype.resetPreview=function(){this.wrapper.removeClass("has-preview");var a=this.preview.children(".dropify-render");a.find(".dropify-extension").remove(),a.find("i").remove(),a.find("img").remove(),this.preview.hide(),this.hideLoader()},b.prototype.cleanFilename=function(a){var b=a.split("\\").pop();return b==a&&(b=a.split("/").pop()),""!==a?b:""},b.prototype.clearElement=function(){if(0===this.errorsEvent.errors.length){var b=a.Event("dropify.beforeClear");this.input.trigger(b,[this]),!1!==b.result&&(this.resetFile(),this.input.val(""),this.resetPreview(),this.input.trigger(a.Event("dropify.afterClear"),[this]))}else this.resetFile(),this.input.val(""),this.resetPreview()},b.prototype.resetFile=function(){this.file.object=null,this.file.name=null,this.file.size=null,this.file.type=null,this.file.width=null,this.file.height=null},b.prototype.setContainerSize=function(){this.settings.height&&this.wrapper.height(this.settings.height)},b.prototype.isTouchDevice=function(){return"ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0},b.prototype.getFileType=function(){return this.file.name.split(".").pop().toLowerCase()},b.prototype.isImage=function(){return"-1"!=this.settings.imgFileExtensions.indexOf(this.getFileType())},b.prototype.isFileExtensionAllowed=function(){return"-1"!=this.settings.allowedFileExtensions.indexOf("*")||"-1"!=this.settings.allowedFileExtensions.indexOf(this.getFileType())||(this.pushError("fileExtension"),!1)},b.prototype.translateMessages=function(){for(var a in this.settings.tpl)for(var b in this.settings.messages)this.settings.tpl[a]=this.settings.tpl[a].replace("{{ "+b+" }}",this.settings.messages[b])},b.prototype.checkFileSize=function(){0!==this.sizeToByte(this.settings.maxFileSize)&&this.file.size>this.sizeToByte(this.settings.maxFileSize)&&this.pushError("fileSize")},b.prototype.sizeToByte=function(a){var b=0;if(0!==a){var c=a.slice(-1).toUpperCase(),d=1024,e=1024*d,f=1024*e;"K"===c?b=parseFloat(a)*d:"M"===c?b=parseFloat(a)*e:"G"===c&&(b=parseFloat(a)*f)}return b},b.prototype.validateImage=function(){0!==this.settings.minWidth&&this.settings.minWidth>=this.file.width&&this.pushError("minWidth"),0!==this.settings.maxWidth&&this.settings.maxWidth<=this.file.width&&this.pushError("maxWidth"),0!==this.settings.minHeight&&this.settings.minHeight>=this.file.height&&this.pushError("minHeight"),0!==this.settings.maxHeight&&this.settings.maxHeight<=this.file.height&&this.pushError("maxHeight"),"-1"==this.settings.allowedFormats.indexOf(this.getImageFormat())&&this.pushError("imageFormat")},b.prototype.getImageFormat=function(){return this.file.width==this.file.height?"square":this.file.width<this.file.height?"portrait":this.file.width>this.file.height?"landscape":void 0},b.prototype.pushError=function(b){var c=a.Event("dropify.error."+b);this.errorsEvent.errors.push(c),this.input.trigger(c,[this])},b.prototype.clearErrors=function(){void 0!==this.errorsContainer&&this.errorsContainer.children("ul").html("")},b.prototype.showError=function(a){void 0!==this.errorsContainer&&this.errorsContainer.children("ul").append("<li>"+this.getError(a)+"</li>")},b.prototype.getError=function(a){var b=this.settings.error[a],c="";return"fileSize"===a?c=this.settings.maxFileSize:"minWidth"===a?c=this.settings.minWidth:"maxWidth"===a?c=this.settings.maxWidth:"minHeight"===a?c=this.settings.minHeight:"maxHeight"===a?c=this.settings.maxHeight:"imageFormat"===a?c=this.settings.allowedFormats.join(", "):"fileExtension"===a&&(c=this.settings.allowedFileExtensions.join(", ")),""!==c?b.replace("{{ value }}",c):b},b.prototype.showLoader=function(){void 0!==this.loader&&this.loader.show()},b.prototype.hideLoader=function(){void 0!==this.loader&&this.loader.hide()},b.prototype.destroy=function(){this.input.siblings().remove(),this.input.unwrap(),this.isInit=!1},b.prototype.init=function(){this.createElements()},b.prototype.isDropified=function(){return this.isInit},a.fn[c]=function(d){return this.each(function(){a.data(this,c)||a.data(this,c,new b(this,d))}),this},b}),function(a,b){if("function"==typeof define&&define.amd)define(["moment","jquery"],function(a,c){return c.fn||(c.fn={}),"function"!=typeof a&&a.default&&(a=a.default),b(a,c)});else if("object"==typeof module&&module.exports){var c="undefined"!=typeof window?window.jQuery:void 0;c||(c=require("jquery"),c.fn||(c.fn={}));var d="undefined"!=typeof window&&void 0!==window.moment?window.moment:require("moment");module.exports=b(d,c)}else a.daterangepicker=b(a.moment,a.jQuery)}(this,function(a,b){var c=function(c,d,e){if(this.parentEl="body",this.element=b(c),this.startDate=a().startOf("day"),this.endDate=a().endOf("day"),this.minDate=!1,this.maxDate=!1,this.maxSpan=!1,this.autoApply=!1,this.singleDatePicker=!1,this.showDropdowns=!1,this.minYear=a().subtract(100,"year").format("YYYY"),this.maxYear=a().add(100,"year").format("YYYY"),this.showWeekNumbers=!1,this.showISOWeekNumbers=!1,this.showCustomRangeLabel=!0,this.timePicker=!1,this.timePicker24Hour=!1,this.timePickerIncrement=1,this.timePickerSeconds=!1,this.linkedCalendars=!0,this.autoUpdateInput=!0,this.alwaysShowCalendars=!1,this.ranges={},this.opens="right",this.element.hasClass("pull-right")&&(this.opens="left"),this.drops="down",this.element.hasClass("dropup")&&(this.drops="up"),this.buttonClasses="btn btn-sm",this.applyButtonClasses="btn-primary",this.cancelButtonClasses="btn-default",this.locale={direction:"ltr",format:a.localeData().longDateFormat("L"),separator:" - ",applyLabel:"Apply",cancelLabel:"Cancel",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:a.weekdaysMin(),monthNames:a.monthsShort(),firstDay:a.localeData().firstDayOfWeek()},this.callback=function(){},this.isShowing=!1,this.leftCalendar={},this.rightCalendar={},"object"==typeof d&&null!==d||(d={}),d=b.extend(this.element.data(),d),"string"==typeof d.template||d.template instanceof b||(d.template='<div class="daterangepicker"><div class="ranges"></div><div class="drp-calendar left"><div class="calendar-table"></div><div class="calendar-time"></div></div><div class="drp-calendar right"><div class="calendar-table"></div><div class="calendar-time"></div></div><div class="drp-buttons"><span class="drp-selected"></span><button class="cancelBtn" type="button"></button><button class="applyBtn" disabled="disabled" type="button"></button> </div></div>'),this.parentEl=b(d.parentEl&&b(d.parentEl).length?d.parentEl:this.parentEl),this.container=b(d.template).appendTo(this.parentEl),"object"==typeof d.locale&&("string"==typeof d.locale.direction&&(this.locale.direction=d.locale.direction),"string"==typeof d.locale.format&&(this.locale.format=d.locale.format),"string"==typeof d.locale.separator&&(this.locale.separator=d.locale.separator),"object"==typeof d.locale.daysOfWeek&&(this.locale.daysOfWeek=d.locale.daysOfWeek.slice()),"object"==typeof d.locale.monthNames&&(this.locale.monthNames=d.locale.monthNames.slice()),"number"==typeof d.locale.firstDay&&(this.locale.firstDay=d.locale.firstDay),"string"==typeof d.locale.applyLabel&&(this.locale.applyLabel=d.locale.applyLabel),"string"==typeof d.locale.cancelLabel&&(this.locale.cancelLabel=d.locale.cancelLabel),"string"==typeof d.locale.weekLabel&&(this.locale.weekLabel=d.locale.weekLabel),"string"==typeof d.locale.customRangeLabel)){var f=document.createElement("textarea");f.innerHTML=d.locale.customRangeLabel;var g=f.value;this.locale.customRangeLabel=g}if(this.container.addClass(this.locale.direction),"string"==typeof d.startDate&&(this.startDate=a(d.startDate,this.locale.format)),"string"==typeof d.endDate&&(this.endDate=a(d.endDate,this.locale.format)),"string"==typeof d.minDate&&(this.minDate=a(d.minDate,this.locale.format)),"string"==typeof d.maxDate&&(this.maxDate=a(d.maxDate,this.locale.format)),"object"==typeof d.startDate&&(this.startDate=a(d.startDate)),"object"==typeof d.endDate&&(this.endDate=a(d.endDate)),"object"==typeof d.minDate&&(this.minDate=a(d.minDate)),"object"==typeof d.maxDate&&(this.maxDate=a(d.maxDate)),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate.clone()),"string"==typeof d.applyButtonClasses&&(this.applyButtonClasses=d.applyButtonClasses),"string"==typeof d.applyClass&&(this.applyButtonClasses=d.applyClass),"string"==typeof d.cancelButtonClasses&&(this.cancelButtonClasses=d.cancelButtonClasses),"string"==typeof d.cancelClass&&(this.cancelButtonClasses=d.cancelClass),"object"==typeof d.maxSpan&&(this.maxSpan=d.maxSpan),"object"==typeof d.dateLimit&&(this.maxSpan=d.dateLimit),"string"==typeof d.opens&&(this.opens=d.opens),"string"==typeof d.drops&&(this.drops=d.drops),"boolean"==typeof d.showWeekNumbers&&(this.showWeekNumbers=d.showWeekNumbers),"boolean"==typeof d.showISOWeekNumbers&&(this.showISOWeekNumbers=d.showISOWeekNumbers),"string"==typeof d.buttonClasses&&(this.buttonClasses=d.buttonClasses),"object"==typeof d.buttonClasses&&(this.buttonClasses=d.buttonClasses.join(" ")),"boolean"==typeof d.showDropdowns&&(this.showDropdowns=d.showDropdowns),"number"==typeof d.minYear&&(this.minYear=d.minYear),"number"==typeof d.maxYear&&(this.maxYear=d.maxYear),"boolean"==typeof d.showCustomRangeLabel&&(this.showCustomRangeLabel=d.showCustomRangeLabel),"boolean"==typeof d.singleDatePicker&&(this.singleDatePicker=d.singleDatePicker,this.singleDatePicker&&(this.endDate=this.startDate.clone())),"boolean"==typeof d.timePicker&&(this.timePicker=d.timePicker),"boolean"==typeof d.timePickerSeconds&&(this.timePickerSeconds=d.timePickerSeconds),"number"==typeof d.timePickerIncrement&&(this.timePickerIncrement=d.timePickerIncrement),"boolean"==typeof d.timePicker24Hour&&(this.timePicker24Hour=d.timePicker24Hour),"boolean"==typeof d.autoApply&&(this.autoApply=d.autoApply),"boolean"==typeof d.autoUpdateInput&&(this.autoUpdateInput=d.autoUpdateInput),"boolean"==typeof d.linkedCalendars&&(this.linkedCalendars=d.linkedCalendars),"function"==typeof d.isInvalidDate&&(this.isInvalidDate=d.isInvalidDate),"function"==typeof d.isCustomDate&&(this.isCustomDate=d.isCustomDate),"boolean"==typeof d.alwaysShowCalendars&&(this.alwaysShowCalendars=d.alwaysShowCalendars),0!=this.locale.firstDay)for(var h=this.locale.firstDay;h>0;)this.locale.daysOfWeek.push(this.locale.daysOfWeek.shift()),h--;var i,j,k;if(void 0===d.startDate&&void 0===d.endDate&&b(this.element).is(":text")){var l=b(this.element).val(),m=l.split(this.locale.separator);i=j=null,2==m.length?(i=a(m[0],this.locale.format),j=a(m[1],this.locale.format)):this.singleDatePicker&&""!==l&&(i=a(l,this.locale.format),j=a(l,this.locale.format)),null!==i&&null!==j&&(this.setStartDate(i),this.setEndDate(j))}if("object"==typeof d.ranges){for(k in d.ranges){i="string"==typeof d.ranges[k][0]?a(d.ranges[k][0],this.locale.format):a(d.ranges[k][0]),j="string"==typeof d.ranges[k][1]?a(d.ranges[k][1],this.locale.format):a(d.ranges[k][1]),this.minDate&&i.isBefore(this.minDate)&&(i=this.minDate.clone());var n=this.maxDate;if(this.maxSpan&&n&&i.clone().add(this.maxSpan).isAfter(n)&&(n=i.clone().add(this.maxSpan)),n&&j.isAfter(n)&&(j=n.clone()),!(this.minDate&&j.isBefore(this.minDate,this.timepicker?"minute":"day")||n&&i.isAfter(n,this.timepicker?"minute":"day"))){var f=document.createElement("textarea");f.innerHTML=k;var g=f.value;this.ranges[g]=[i,j]}}var o="<ul>";for(k in this.ranges)o+='<li data-range-key="'+k+'">'+k+"</li>";this.showCustomRangeLabel&&(o+='<li data-range-key="'+this.locale.customRangeLabel+'">'+this.locale.customRangeLabel+"</li>"),o+="</ul>",this.container.find(".ranges").prepend(o)}"function"==typeof e&&(this.callback=e),this.timePicker||(this.startDate=this.startDate.startOf("day"),this.endDate=this.endDate.endOf("day"),this.container.find(".calendar-time").hide()),this.timePicker&&this.autoApply&&(this.autoApply=!1),this.autoApply&&this.container.addClass("auto-apply"),"object"==typeof d.ranges&&this.container.addClass("show-ranges"),this.singleDatePicker&&(this.container.addClass("single"),this.container.find(".drp-calendar.left").addClass("single"),this.container.find(".drp-calendar.left").show(),this.container.find(".drp-calendar.right").hide(),this.timePicker||this.container.addClass("auto-apply")),(void 0===d.ranges&&!this.singleDatePicker||this.alwaysShowCalendars)&&this.container.addClass("show-calendar"),this.container.addClass("opens"+this.opens),this.container.find(".applyBtn, .cancelBtn").addClass(this.buttonClasses),this.applyButtonClasses.length&&this.container.find(".applyBtn").addClass(this.applyButtonClasses),this.cancelButtonClasses.length&&this.container.find(".cancelBtn").addClass(this.cancelButtonClasses),this.container.find(".applyBtn").html(this.locale.applyLabel),this.container.find(".cancelBtn").html(this.locale.cancelLabel),this.container.find(".drp-calendar").on("click.daterangepicker",".prev",b.proxy(this.clickPrev,this)).on("click.daterangepicker",".next",b.proxy(this.clickNext,this)).on("mousedown.daterangepicker","td.available",b.proxy(this.clickDate,this)).on("mouseenter.daterangepicker","td.available",b.proxy(this.hoverDate,this)).on("change.daterangepicker","select.yearselect",b.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.monthselect",b.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.hourselect,select.minuteselect,select.secondselect,select.ampmselect",b.proxy(this.timeChanged,this)),this.container.find(".ranges").on("click.daterangepicker","li",b.proxy(this.clickRange,this)),this.container.find(".drp-buttons").on("click.daterangepicker","button.applyBtn",b.proxy(this.clickApply,this)).on("click.daterangepicker","button.cancelBtn",b.proxy(this.clickCancel,this)),this.element.is("input")||this.element.is("button")?this.element.on({"click.daterangepicker":b.proxy(this.show,this),"focus.daterangepicker":b.proxy(this.show,this),"keyup.daterangepicker":b.proxy(this.elementChanged,this),"keydown.daterangepicker":b.proxy(this.keydown,this)}):(this.element.on("click.daterangepicker",b.proxy(this.toggle,this)),this.element.on("keydown.daterangepicker",b.proxy(this.toggle,this))),this.updateElement()};return c.prototype={constructor:c,setStartDate:function(b){"string"==typeof b&&(this.startDate=a(b,this.locale.format)),"object"==typeof b&&(this.startDate=a(b)),this.timePicker||(this.startDate=this.startDate.startOf("day")),
this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate.clone(),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement)),this.maxDate&&this.startDate.isAfter(this.maxDate)&&(this.startDate=this.maxDate.clone(),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.floor(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement)),this.isShowing||this.updateElement(),this.updateMonthsInView()},setEndDate:function(b){"string"==typeof b&&(this.endDate=a(b,this.locale.format)),"object"==typeof b&&(this.endDate=a(b)),this.timePicker||(this.endDate=this.endDate.add(1,"d").startOf("day").subtract(1,"second")),this.timePicker&&this.timePickerIncrement&&this.endDate.minute(Math.round(this.endDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.endDate.isBefore(this.startDate)&&(this.endDate=this.startDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate.clone()),this.maxSpan&&this.startDate.clone().add(this.maxSpan).isBefore(this.endDate)&&(this.endDate=this.startDate.clone().add(this.maxSpan)),this.previousRightTime=this.endDate.clone(),this.container.find(".drp-selected").html(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.isShowing||this.updateElement(),this.updateMonthsInView()},isInvalidDate:function(){return!1},isCustomDate:function(){return!1},updateView:function(){this.timePicker&&(this.renderTimePicker("left"),this.renderTimePicker("right"),this.endDate?this.container.find(".right .calendar-time select").removeAttr("disabled").removeClass("disabled"):this.container.find(".right .calendar-time select").attr("disabled","disabled").addClass("disabled")),this.endDate&&this.container.find(".drp-selected").html(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.updateMonthsInView(),this.updateCalendars(),this.updateFormInputs()},updateMonthsInView:function(){if(this.endDate){if(!this.singleDatePicker&&this.leftCalendar.month&&this.rightCalendar.month&&(this.startDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.startDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM"))&&(this.endDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.endDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM")))return;this.leftCalendar.month=this.startDate.clone().date(2),this.linkedCalendars||this.endDate.month()==this.startDate.month()&&this.endDate.year()==this.startDate.year()?this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"):this.rightCalendar.month=this.endDate.clone().date(2)}else this.leftCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&this.rightCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&(this.leftCalendar.month=this.startDate.clone().date(2),this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"));this.maxDate&&this.linkedCalendars&&!this.singleDatePicker&&this.rightCalendar.month>this.maxDate&&(this.rightCalendar.month=this.maxDate.clone().date(2),this.leftCalendar.month=this.maxDate.clone().date(2).subtract(1,"month"))},updateCalendars:function(){if(this.timePicker){var a,b,c;if(this.endDate){if(a=parseInt(this.container.find(".left .hourselect").val(),10),b=parseInt(this.container.find(".left .minuteselect").val(),10),c=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0,!this.timePicker24Hour){var d=this.container.find(".left .ampmselect").val();"PM"===d&&a<12&&(a+=12),"AM"===d&&12===a&&(a=0)}}else if(a=parseInt(this.container.find(".right .hourselect").val(),10),b=parseInt(this.container.find(".right .minuteselect").val(),10),c=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0,!this.timePicker24Hour){var d=this.container.find(".right .ampmselect").val();"PM"===d&&a<12&&(a+=12),"AM"===d&&12===a&&(a=0)}this.leftCalendar.month.hour(a).minute(b).second(c),this.rightCalendar.month.hour(a).minute(b).second(c)}this.renderCalendar("left"),this.renderCalendar("right"),this.container.find(".ranges li").removeClass("active"),null!=this.endDate&&this.calculateChosenLabel()},renderCalendar:function(c){var d="left"==c?this.leftCalendar:this.rightCalendar,e=d.month.month(),f=d.month.year(),g=d.month.hour(),h=d.month.minute(),i=d.month.second(),j=a([f,e]).daysInMonth(),k=a([f,e,1]),l=a([f,e,j]),m=a(k).subtract(1,"month").month(),n=a(k).subtract(1,"month").year(),o=a([n,m]).daysInMonth(),p=k.day(),d=[];d.firstDay=k,d.lastDay=l;for(var q=0;q<6;q++)d[q]=[];var r=o-p+this.locale.firstDay+1;r>o&&(r-=7),p==this.locale.firstDay&&(r=o-6);for(var s,t,u=a([n,m,r,12,h,i]),q=0,s=0,t=0;q<42;q++,s++,u=a(u).add(24,"hour"))q>0&&s%7==0&&(s=0,t++),d[t][s]=u.clone().hour(g).minute(h).second(i),u.hour(12),this.minDate&&d[t][s].format("YYYY-MM-DD")==this.minDate.format("YYYY-MM-DD")&&d[t][s].isBefore(this.minDate)&&"left"==c&&(d[t][s]=this.minDate.clone()),this.maxDate&&d[t][s].format("YYYY-MM-DD")==this.maxDate.format("YYYY-MM-DD")&&d[t][s].isAfter(this.maxDate)&&"right"==c&&(d[t][s]=this.maxDate.clone());"left"==c?this.leftCalendar.calendar=d:this.rightCalendar.calendar=d;var v="left"==c?this.minDate:this.startDate,w=this.maxDate,x=("left"==c?this.startDate:this.endDate,this.locale.direction,'<table class="table-condensed">');x+="<thead>",x+="<tr>",(this.showWeekNumbers||this.showISOWeekNumbers)&&(x+="<th></th>"),v&&!v.isBefore(d.firstDay)||this.linkedCalendars&&"left"!=c?x+="<th></th>":x+='<th class="prev available"><span></span></th>';var y=this.locale.monthNames[d[1][1].month()]+d[1][1].format(" YYYY");if(this.showDropdowns){for(var z=d[1][1].month(),A=d[1][1].year(),B=w&&w.year()||this.maxYear,C=v&&v.year()||this.minYear,D=A==C,E=A==B,F='<select class="monthselect">',G=0;G<12;G++)(!D||G>=v.month())&&(!E||G<=w.month())?F+="<option value='"+G+"'"+(G===z?" selected='selected'":"")+">"+this.locale.monthNames[G]+"</option>":F+="<option value='"+G+"'"+(G===z?" selected='selected'":"")+" disabled='disabled'>"+this.locale.monthNames[G]+"</option>";F+="</select>";for(var H='<select class="yearselect">',I=C;I<=B;I++)H+='<option value="'+I+'"'+(I===A?' selected="selected"':"")+">"+I+"</option>";H+="</select>",y=F+H}if(x+='<th colspan="5" class="month">'+y+"</th>",w&&!w.isAfter(d.lastDay)||this.linkedCalendars&&"right"!=c&&!this.singleDatePicker?x+="<th></th>":x+='<th class="next available"><span></span></th>',x+="</tr>",x+="<tr>",(this.showWeekNumbers||this.showISOWeekNumbers)&&(x+='<th class="week">'+this.locale.weekLabel+"</th>"),b.each(this.locale.daysOfWeek,function(a,b){x+="<th>"+b+"</th>"}),x+="</tr>",x+="</thead>",x+="<tbody>",null==this.endDate&&this.maxSpan){var J=this.startDate.clone().add(this.maxSpan).endOf("day");w&&!J.isBefore(w)||(w=J)}for(var t=0;t<6;t++){x+="<tr>",this.showWeekNumbers?x+='<td class="week">'+d[t][0].week()+"</td>":this.showISOWeekNumbers&&(x+='<td class="week">'+d[t][0].isoWeek()+"</td>");for(var s=0;s<7;s++){var K=[];d[t][s].isSame(new Date,"day")&&K.push("today"),d[t][s].isoWeekday()>5&&K.push("weekend"),d[t][s].month()!=d[1][1].month()&&K.push("off"),this.minDate&&d[t][s].isBefore(this.minDate,"day")&&K.push("off","disabled"),w&&d[t][s].isAfter(w,"day")&&K.push("off","disabled"),this.isInvalidDate(d[t][s])&&K.push("off","disabled"),d[t][s].format("YYYY-MM-DD")==this.startDate.format("YYYY-MM-DD")&&K.push("active","start-date"),null!=this.endDate&&d[t][s].format("YYYY-MM-DD")==this.endDate.format("YYYY-MM-DD")&&K.push("active","end-date"),null!=this.endDate&&d[t][s]>this.startDate&&d[t][s]<this.endDate&&K.push("in-range");var L=this.isCustomDate(d[t][s]);!1!==L&&("string"==typeof L?K.push(L):Array.prototype.push.apply(K,L));for(var M="",N=!1,q=0;q<K.length;q++)M+=K[q]+" ","disabled"==K[q]&&(N=!0);N||(M+="available"),x+='<td class="'+M.replace(/^\s+|\s+$/g,"")+'" data-title="r'+t+"c"+s+'">'+d[t][s].date()+"</td>"}x+="</tr>"}x+="</tbody>",x+="</table>",this.container.find(".drp-calendar."+c+" .calendar-table").html(x)},renderTimePicker:function(a){if("right"!=a||this.endDate){var b,c,d,e=this.maxDate;if(!this.maxSpan||this.maxDate&&!this.startDate.clone().add(this.maxSpan).isAfter(this.maxDate)||(e=this.startDate.clone().add(this.maxSpan)),"left"==a)c=this.startDate.clone(),d=this.minDate;else if("right"==a){c=this.endDate.clone(),d=this.startDate;var f=this.container.find(".drp-calendar.right .calendar-time");if(""!=f.html()&&(c.hour(c.hour()||f.find(".hourselect option:selected").val()),c.minute(c.minute()||f.find(".minuteselect option:selected").val()),c.second(c.second()||f.find(".secondselect option:selected").val()),!this.timePicker24Hour)){var g=f.find(".ampmselect option:selected").val();"PM"===g&&c.hour()<12&&c.hour(c.hour()+12),"AM"===g&&12===c.hour()&&c.hour(0)}c.isBefore(this.startDate)&&(c=this.startDate.clone()),e&&c.isAfter(e)&&(c=e.clone())}b='<select class="hourselect">';for(var h=this.timePicker24Hour?0:1,i=this.timePicker24Hour?23:12,j=h;j<=i;j++){var k=j;this.timePicker24Hour||(k=c.hour()>=12?12==j?12:j+12:12==j?0:j);var l=c.clone().hour(k),m=!1;d&&l.minute(59).isBefore(d)&&(m=!0),e&&l.minute(0).isAfter(e)&&(m=!0),k!=c.hour()||m?b+=m?'<option value="'+j+'" disabled="disabled" class="disabled">'+j+"</option>":'<option value="'+j+'">'+j+"</option>":b+='<option value="'+j+'" selected="selected">'+j+"</option>"}b+="</select> ",b+=': <select class="minuteselect">';for(var j=0;j<60;j+=this.timePickerIncrement){var n=j<10?"0"+j:j,l=c.clone().minute(j),m=!1;d&&l.second(59).isBefore(d)&&(m=!0),e&&l.second(0).isAfter(e)&&(m=!0),c.minute()!=j||m?b+=m?'<option value="'+j+'" disabled="disabled" class="disabled">'+n+"</option>":'<option value="'+j+'">'+n+"</option>":b+='<option value="'+j+'" selected="selected">'+n+"</option>"}if(b+="</select> ",this.timePickerSeconds){b+=': <select class="secondselect">';for(var j=0;j<60;j++){var n=j<10?"0"+j:j,l=c.clone().second(j),m=!1;d&&l.isBefore(d)&&(m=!0),e&&l.isAfter(e)&&(m=!0),c.second()!=j||m?b+=m?'<option value="'+j+'" disabled="disabled" class="disabled">'+n+"</option>":'<option value="'+j+'">'+n+"</option>":b+='<option value="'+j+'" selected="selected">'+n+"</option>"}b+="</select> "}if(!this.timePicker24Hour){b+='<select class="ampmselect">';var o="",p="";d&&c.clone().hour(12).minute(0).second(0).isBefore(d)&&(o=' disabled="disabled" class="disabled"'),e&&c.clone().hour(0).minute(0).second(0).isAfter(e)&&(p=' disabled="disabled" class="disabled"'),c.hour()>=12?b+='<option value="AM"'+o+'>AM</option><option value="PM" selected="selected"'+p+">PM</option>":b+='<option value="AM" selected="selected"'+o+'>AM</option><option value="PM"'+p+">PM</option>",b+="</select>"}this.container.find(".drp-calendar."+a+" .calendar-time").html(b)}},updateFormInputs:function(){this.singleDatePicker||this.endDate&&(this.startDate.isBefore(this.endDate)||this.startDate.isSame(this.endDate))?this.container.find("button.applyBtn").removeAttr("disabled"):this.container.find("button.applyBtn").attr("disabled","disabled")},move:function(){var a,c={top:0,left:0},d=b(window).width();this.parentEl.is("body")||(c={top:this.parentEl.offset().top-this.parentEl.scrollTop(),left:this.parentEl.offset().left-this.parentEl.scrollLeft()},d=this.parentEl[0].clientWidth+this.parentEl.offset().left),a="up"==this.drops?this.element.offset().top-this.container.outerHeight()-c.top:this.element.offset().top+this.element.outerHeight()-c.top,this.container["up"==this.drops?"addClass":"removeClass"]("drop-up"),"left"==this.opens?(this.container.css({top:a,right:d-this.element.offset().left-this.element.outerWidth(),left:"auto"}),this.container.offset().left<0&&this.container.css({right:"auto",left:9})):"center"==this.opens?(this.container.css({top:a,left:this.element.offset().left-c.left+this.element.outerWidth()/2-this.container.outerWidth()/2,right:"auto"}),this.container.offset().left<0&&this.container.css({right:"auto",left:9})):(this.container.css({top:a,left:this.element.offset().left-c.left,right:"auto"}),this.container.offset().left+this.container.outerWidth()>b(window).width()&&this.container.css({left:"auto",right:0}))},show:function(a){this.isShowing||(this._outsideClickProxy=b.proxy(function(a){this.outsideClick(a)},this),b(document).on("mousedown.daterangepicker",this._outsideClickProxy).on("touchend.daterangepicker",this._outsideClickProxy).on("click.daterangepicker","[data-toggle=dropdown]",this._outsideClickProxy).on("focusin.daterangepicker",this._outsideClickProxy),b(window).on("resize.daterangepicker",b.proxy(function(a){this.move(a)},this)),this.oldStartDate=this.startDate.clone(),this.oldEndDate=this.endDate.clone(),this.previousRightTime=this.endDate.clone(),this.updateView(),this.container.show(),this.move(),this.element.trigger("show.daterangepicker",this),this.isShowing=!0)},hide:function(a){this.isShowing&&(this.endDate||(this.startDate=this.oldStartDate.clone(),this.endDate=this.oldEndDate.clone()),this.startDate.isSame(this.oldStartDate)&&this.endDate.isSame(this.oldEndDate)||this.callback(this.startDate.clone(),this.endDate.clone(),this.chosenLabel),this.updateElement(),b(document).off(".daterangepicker"),b(window).off(".daterangepicker"),this.container.hide(),this.element.trigger("hide.daterangepicker",this),this.isShowing=!1)},toggle:function(a){this.isShowing?this.hide():this.show()},outsideClick:function(a){var c=b(a.target);"focusin"==a.type||c.closest(this.element).length||c.closest(this.container).length||c.closest(".calendar-table").length||(this.hide(),this.element.trigger("outsideClick.daterangepicker",this))},showCalendars:function(){this.container.addClass("show-calendar"),this.move(),this.element.trigger("showCalendar.daterangepicker",this)},hideCalendars:function(){this.container.removeClass("show-calendar"),this.element.trigger("hideCalendar.daterangepicker",this)},clickRange:function(a){var b=a.target.getAttribute("data-range-key");if(this.chosenLabel=b,b==this.locale.customRangeLabel)this.showCalendars();else{var c=this.ranges[b];this.startDate=c[0],this.endDate=c[1],this.timePicker||(this.startDate.startOf("day"),this.endDate.endOf("day")),this.alwaysShowCalendars||this.hideCalendars(),this.clickApply()}},clickPrev:function(a){b(a.target).parents(".drp-calendar").hasClass("left")?(this.leftCalendar.month.subtract(1,"month"),this.linkedCalendars&&this.rightCalendar.month.subtract(1,"month")):this.rightCalendar.month.subtract(1,"month"),this.updateCalendars()},clickNext:function(a){b(a.target).parents(".drp-calendar").hasClass("left")?this.leftCalendar.month.add(1,"month"):(this.rightCalendar.month.add(1,"month"),this.linkedCalendars&&this.leftCalendar.month.add(1,"month")),this.updateCalendars()},hoverDate:function(a){if(b(a.target).hasClass("available")){var c=b(a.target).attr("data-title"),d=c.substr(1,1),e=c.substr(3,1),f=b(a.target).parents(".drp-calendar"),g=f.hasClass("left")?this.leftCalendar.calendar[d][e]:this.rightCalendar.calendar[d][e],h=this.leftCalendar,i=this.rightCalendar,j=this.startDate;this.endDate||this.container.find(".drp-calendar tbody td").each(function(a,c){if(!b(c).hasClass("week")){var d=b(c).attr("data-title"),e=d.substr(1,1),f=d.substr(3,1),k=b(c).parents(".drp-calendar"),l=k.hasClass("left")?h.calendar[e][f]:i.calendar[e][f];l.isAfter(j)&&l.isBefore(g)||l.isSame(g,"day")?b(c).addClass("in-range"):b(c).removeClass("in-range")}})}},clickDate:function(a){if(b(a.target).hasClass("available")){var c=b(a.target).attr("data-title"),d=c.substr(1,1),e=c.substr(3,1),f=b(a.target).parents(".drp-calendar"),g=f.hasClass("left")?this.leftCalendar.calendar[d][e]:this.rightCalendar.calendar[d][e];if(this.endDate||g.isBefore(this.startDate,"day")){if(this.timePicker){var h=parseInt(this.container.find(".left .hourselect").val(),10);if(!this.timePicker24Hour){var i=this.container.find(".left .ampmselect").val();"PM"===i&&h<12&&(h+=12),"AM"===i&&12===h&&(h=0)}var j=parseInt(this.container.find(".left .minuteselect").val(),10),k=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0;g=g.clone().hour(h).minute(j).second(k)}this.endDate=null,this.setStartDate(g.clone())}else if(!this.endDate&&g.isBefore(this.startDate))this.setEndDate(this.startDate.clone());else{if(this.timePicker){var h=parseInt(this.container.find(".right .hourselect").val(),10);if(!this.timePicker24Hour){var i=this.container.find(".right .ampmselect").val();"PM"===i&&h<12&&(h+=12),"AM"===i&&12===h&&(h=0)}var j=parseInt(this.container.find(".right .minuteselect").val(),10),k=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0;g=g.clone().hour(h).minute(j).second(k)}this.setEndDate(g.clone()),this.autoApply&&(this.calculateChosenLabel(),this.clickApply())}this.singleDatePicker&&(this.setEndDate(this.startDate),this.timePicker||this.clickApply()),this.updateView(),a.stopPropagation()}},calculateChosenLabel:function(){var a=!0,b=0;for(var c in this.ranges){if(this.timePicker){var d=this.timePickerSeconds?"YYYY-MM-DD HH:mm:ss":"YYYY-MM-DD HH:mm";if(this.startDate.format(d)==this.ranges[c][0].format(d)&&this.endDate.format(d)==this.ranges[c][1].format(d)){a=!1,this.chosenLabel=this.container.find(".ranges li:eq("+b+")").addClass("active").attr("data-range-key");break}}else if(this.startDate.format("YYYY-MM-DD")==this.ranges[c][0].format("YYYY-MM-DD")&&this.endDate.format("YYYY-MM-DD")==this.ranges[c][1].format("YYYY-MM-DD")){a=!1,this.chosenLabel=this.container.find(".ranges li:eq("+b+")").addClass("active").attr("data-range-key");break}b++}a&&(this.showCustomRangeLabel?this.chosenLabel=this.container.find(".ranges li:last").addClass("active").attr("data-range-key"):this.chosenLabel=null,this.showCalendars())},clickApply:function(a){this.hide(),this.element.trigger("apply.daterangepicker",this)},clickCancel:function(a){this.startDate=this.oldStartDate,this.endDate=this.oldEndDate,this.hide(),this.element.trigger("cancel.daterangepicker",this)},monthOrYearChanged:function(a){var c=b(a.target).closest(".drp-calendar").hasClass("left"),d=c?"left":"right",e=this.container.find(".drp-calendar."+d),f=parseInt(e.find(".monthselect").val(),10),g=e.find(".yearselect").val();c||(g<this.startDate.year()||g==this.startDate.year()&&f<this.startDate.month())&&(f=this.startDate.month(),g=this.startDate.year()),this.minDate&&(g<this.minDate.year()||g==this.minDate.year()&&f<this.minDate.month())&&(f=this.minDate.month(),g=this.minDate.year()),this.maxDate&&(g>this.maxDate.year()||g==this.maxDate.year()&&f>this.maxDate.month())&&(f=this.maxDate.month(),g=this.maxDate.year()),c?(this.leftCalendar.month.month(f).year(g),this.linkedCalendars&&(this.rightCalendar.month=this.leftCalendar.month.clone().add(1,"month"))):(this.rightCalendar.month.month(f).year(g),this.linkedCalendars&&(this.leftCalendar.month=this.rightCalendar.month.clone().subtract(1,"month"))),this.updateCalendars()},timeChanged:function(a){var c=b(a.target).closest(".drp-calendar"),d=c.hasClass("left"),e=parseInt(c.find(".hourselect").val(),10),f=parseInt(c.find(".minuteselect").val(),10),g=this.timePickerSeconds?parseInt(c.find(".secondselect").val(),10):0;if(!this.timePicker24Hour){var h=c.find(".ampmselect").val();"PM"===h&&e<12&&(e+=12),"AM"===h&&12===e&&(e=0)}if(d){var i=this.startDate.clone();i.hour(e),i.minute(f),i.second(g),this.setStartDate(i),this.singleDatePicker?this.endDate=this.startDate.clone():this.endDate&&this.endDate.format("YYYY-MM-DD")==i.format("YYYY-MM-DD")&&this.endDate.isBefore(i)&&this.setEndDate(i.clone())}else if(this.endDate){var j=this.endDate.clone();j.hour(e),j.minute(f),j.second(g),this.setEndDate(j)}this.updateCalendars(),this.updateFormInputs(),this.renderTimePicker("left"),this.renderTimePicker("right")},elementChanged:function(){if(this.element.is("input")&&this.element.val().length){var b=this.element.val().split(this.locale.separator),c=null,d=null;2===b.length&&(c=a(b[0],this.locale.format),d=a(b[1],this.locale.format)),(this.singleDatePicker||null===c||null===d)&&(c=a(this.element.val(),this.locale.format),d=c),c.isValid()&&d.isValid()&&(this.setStartDate(c),this.setEndDate(d),this.updateView())}},keydown:function(a){9!==a.keyCode&&13!==a.keyCode||this.hide(),27===a.keyCode&&(a.preventDefault(),a.stopPropagation(),this.hide())},updateElement:function(){if(this.element.is("input")&&this.autoUpdateInput){var a=this.startDate.format(this.locale.format);this.singleDatePicker||(a+=this.locale.separator+this.endDate.format(this.locale.format)),a!==this.element.val()&&this.element.val(a).trigger("change")}},remove:function(){this.container.remove(),this.element.off(".daterangepicker"),this.element.removeData()}},b.fn.daterangepicker=function(a,d){var e=b.extend(!0,{},b.fn.daterangepicker.defaultOptions,a);return this.each(function(){var a=b(this);a.data("daterangepicker")&&a.data("daterangepicker").remove(),a.data("daterangepicker",new c(a,e,d))}),this},c}),function(a,b){"object"==typeof exports&&"undefined"!=typeof module?module.exports=b():"function"==typeof define&&define.amd?define(b):(a="undefined"!=typeof globalThis?globalThis:a||self).introJs=b()}(this,function(){"use strict";function a(){function b(a,b,c){return Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}),a[b]}function c(a,b,c,f){var g=b&&b.prototype instanceof e?b:e,h=Object.create(g.prototype),i=new m(f||[]);return h._invoke=function(a,b,c){var e="suspendedStart";return function(f,g){if("executing"===e)throw new Error("Generator is already running");if("completed"===e){if("throw"===f)throw g;return o()}for(c.method=f,c.arg=g;;){var h=c.delegate;if(h){var i=j(h,c);if(i){if(i===w)continue;return i}}if("next"===c.method)c.sent=c._sent=c.arg;else if("throw"===c.method){if("suspendedStart"===e)throw e="completed",c.arg;c.dispatchException(c.arg)}else"return"===c.method&&c.abrupt("return",c.arg);e="executing";var k=d(a,b,c);if("normal"===k.type){if(e=c.done?"completed":"suspendedYield",k.arg===w)continue;return{value:k.arg,done:c.done}}"throw"===k.type&&(e="completed",c.method="throw",c.arg=k.arg)}}}(a,c,i),h}function d(a,b,c){try{return{type:"normal",arg:a.call(b,c)}}catch(a){return{type:"throw",arg:a}}}function e(){}function f(){}function g(){}function h(a){["next","throw","return"].forEach(function(c){b(a,c,function(a){return this._invoke(c,a)})})}function i(a,b){function c(e,f,g,h){var i=d(a[e],a,f);if("throw"!==i.type){var j=i.arg,k=j.value;return k&&"object"==typeof k&&r.call(k,"__await")?b.resolve(k.__await).then(function(a){c("next",a,g,h)},function(a){c("throw",a,g,h)}):b.resolve(k).then(function(a){j.value=a,g(j)},function(a){return c("throw",a,g,h)})}h(i.arg)}var e;this._invoke=function(a,d){function f(){return new b(function(b,e){c(a,d,b,e)})}return e=e?e.then(f,f):f()}}function j(a,b){var c=a.iterator[b.method];if(void 0===c){if(b.delegate=null,"throw"===b.method){if(a.iterator.return&&(b.method="return",b.arg=void 0,j(a,b),"throw"===b.method))return w;b.method="throw",b.arg=new TypeError("The iterator does not provide a 'throw' method")}return w}var e=d(c,a.iterator,b.arg);if("throw"===e.type)return b.method="throw",b.arg=e.arg,b.delegate=null,w;var f=e.arg;return f?f.done?(b[a.resultName]=f.value,b.next=a.nextLoc,"return"!==b.method&&(b.method="next",b.arg=void 0),b.delegate=null,w):f:(b.method="throw",b.arg=new TypeError("iterator result is not an object"),b.delegate=null,w)}function k(a){var b={tryLoc:a[0]};1 in a&&(b.catchLoc=a[1]),2 in a&&(b.finallyLoc=a[2],b.afterLoc=a[3]),this.tryEntries.push(b)}function l(a){var b=a.completion||{};b.type="normal",delete b.arg,a.completion=b}function m(a){this.tryEntries=[{tryLoc:"root"}],a.forEach(k,this),this.reset(!0)}function n(a){if(a){var b=a[t];if(b)return b.call(a);if("function"==typeof a.next)return a;if(!isNaN(a.length)){var c=-1,d=function b(){for(;++c<a.length;)if(r.call(a,c))return b.value=a[c],b.done=!1,b;return b.value=void 0,b.done=!0,b};return d.next=d}}return{next:o}}function o(){return{value:void 0,done:!0}}a=function(){return p};var p={},q=Object.prototype,r=q.hasOwnProperty,s="function"==typeof Symbol?Symbol:{},t=s.iterator||"@@iterator",u=s.asyncIterator||"@@asyncIterator",v=s.toStringTag||"@@toStringTag";try{b({},"")}catch(a){b=function(a,b,c){return a[b]=c}}p.wrap=c;var w={},x={};b(x,t,function(){return this});var y=Object.getPrototypeOf,z=y&&y(y(n([])));z&&z!==q&&r.call(z,t)&&(x=z);var A=g.prototype=e.prototype=Object.create(x);return f.prototype=g,b(A,"constructor",g),b(g,"constructor",f),f.displayName=b(g,v,"GeneratorFunction"),p.isGeneratorFunction=function(a){var b="function"==typeof a&&a.constructor;return!!b&&(b===f||"GeneratorFunction"===(b.displayName||b.name))},p.mark=function(a){return Object.setPrototypeOf?Object.setPrototypeOf(a,g):(a.__proto__=g,b(a,v,"GeneratorFunction")),a.prototype=Object.create(A),a},p.awrap=function(a){return{__await:a}},h(i.prototype),b(i.prototype,u,function(){return this}),p.AsyncIterator=i,p.async=function(a,b,d,e,f){void 0===f&&(f=Promise);var g=new i(c(a,b,d,e),f);return p.isGeneratorFunction(b)?g:g.next().then(function(a){return a.done?a.value:g.next()})},h(A),b(A,v,"Generator"),b(A,t,function(){return this}),b(A,"toString",function(){return"[object Generator]"}),p.keys=function(a){var b=[];for(var c in a)b.push(c);return b.reverse(),function c(){for(;b.length;){var d=b.pop();if(d in a)return c.value=d,c.done=!1,c}return c.done=!0,c}},p.values=n,m.prototype={constructor:m,reset:function(a){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(l),!a)for(var b in this)"t"===b.charAt(0)&&r.call(this,b)&&!isNaN(+b.slice(1))&&(this[b]=void 0)},stop:function(){this.done=!0;var a=this.tryEntries[0].completion;if("throw"===a.type)throw a.arg;return this.rval},dispatchException:function(a){function b(b,d){return f.type="throw",f.arg=a,c.next=b,d&&(c.method="next",c.arg=void 0),!!d}if(this.done)throw a;for(var c=this,d=this.tryEntries.length-1;d>=0;--d){var e=this.tryEntries[d],f=e.completion;if("root"===e.tryLoc)return b("end");if(e.tryLoc<=this.prev){var g=r.call(e,"catchLoc"),h=r.call(e,"finallyLoc");if(g&&h){if(this.prev<e.catchLoc)return b(e.catchLoc,!0);if(this.prev<e.finallyLoc)return b(e.finallyLoc)}else if(g){if(this.prev<e.catchLoc)return b(e.catchLoc,!0)}else{if(!h)throw new Error("try statement without catch or finally");if(this.prev<e.finallyLoc)return b(e.finallyLoc)}}}},abrupt:function(a,b){for(var c=this.tryEntries.length-1;c>=0;--c){var d=this.tryEntries[c];if(d.tryLoc<=this.prev&&r.call(d,"finallyLoc")&&this.prev<d.finallyLoc){var e=d;break}}e&&("break"===a||"continue"===a)&&e.tryLoc<=b&&b<=e.finallyLoc&&(e=null);var f=e?e.completion:{};return f.type=a,f.arg=b,e?(this.method="next",this.next=e.finallyLoc,w):this.complete(f)},complete:function(a,b){if("throw"===a.type)throw a.arg;return"break"===a.type||"continue"===a.type?this.next=a.arg:"return"===a.type?(this.rval=this.arg=a.arg,this.method="return",this.next="end"):"normal"===a.type&&b&&(this.next=b),w},finish:function(a){for(var b=this.tryEntries.length-1;b>=0;--b){var c=this.tryEntries[b];if(c.finallyLoc===a)return this.complete(c.completion,c.afterLoc),l(c),w}},catch:function(a){for(var b=this.tryEntries.length-1;b>=0;--b){var c=this.tryEntries[b];if(c.tryLoc===a){var d=c.completion;if("throw"===d.type){var e=d.arg;l(c)}return e}}throw new Error("illegal catch attempt")},delegateYield:function(a,b,c){return this.delegate={iterator:n(a),resultName:b,nextLoc:c},"next"===this.method&&(this.arg=void 0),w}},p}function b(a){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function c(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(a){return void c(a)}h.done?b(i):Promise.resolve(i).then(d,e)}function d(a){return function(){var b=this,d=arguments;return new Promise(function(e,f){function g(a){c(i,e,f,g,h,"next",a)}function h(a){c(i,e,f,g,h,"throw",a)}var i=a.apply(b,d);g(void 0)})}}function e(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function f(a,b){return function(a){if(Array.isArray(a))return a}(a)||function(a,b){var c=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=c){var d,e,f=[],g=!0,h=!1;try{for(c=c.call(a);!(g=(d=c.next()).done)&&(f.push(d.value),!b||f.length!==b);g=!0);}catch(a){h=!0,e=a}finally{try{g||null==c.return||c.return()}finally{if(h)throw e}}return f}}(a,b)||function(a,b){if(a){if("string"==typeof a)return g(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);return"Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c?Array.from(a):"Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?g(a,b):void 0}}(a,b)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=new Array(b);c<b;c++)d[c]=a[c];return d}function h(a,b,c){if(a)for(var d=0,e=a.length;d<e;d++)b(a[d],d);"function"==typeof c&&c()}function i(a,b){if(a instanceof SVGElement){var c=a.getAttribute("class")||"";c.match(b)||a.setAttribute("class","".concat(c," ").concat(b))}else void 0!==a.classList?h(b.split(" "),function(b){a.classList.add(b)}):a.className.match(b)||(a.className+=" ".concat(b))}function j(a,b){var c="";return a.currentStyle?c=a.currentStyle[b]:document.defaultView&&document.defaultView.getComputedStyle&&(c=document.defaultView.getComputedStyle(a,null).getPropertyValue(b)),c&&c.toLowerCase?c.toLowerCase():c}function k(a){var b=a.element;i(b,"introjs-showElement");var c=j(b,"position");"absolute"!==c&&"relative"!==c&&"sticky"!==c&&"fixed"!==c&&i(b,"introjs-relativePosition")}function l(a){var b=a.element;if(this._options.scrollToElement){var c=function(a){var b=window.getComputedStyle(a),c="absolute"===b.position,d=/(auto|scroll)/;if("fixed"===b.position)return document.body;for(var e=a;e=e.parentElement;)if(b=window.getComputedStyle(e),(!c||"static"!==b.position)&&d.test(b.overflow+b.overflowY+b.overflowX))return e;return document.body}(b);c!==document.body&&(c.scrollTop=b.offsetTop-c.offsetTop)}}function m(){if(void 0!==window.innerWidth)return{width:window.innerWidth,height:window.innerHeight};var a=document.documentElement;return{width:a.clientWidth,height:a.clientHeight}}function n(a,b,c){var d,e=b.element;if("off"!==a&&this._options.scrollToElement&&(d="tooltip"===a?c.getBoundingClientRect():e.getBoundingClientRect(),!function(a){var b=a.getBoundingClientRect();return b.top>=0&&b.left>=0&&b.bottom+80<=window.innerHeight&&b.right<=window.innerWidth}(e))){var f=m().height;d.bottom-(d.bottom-d.top)<0||e.clientHeight>f?window.scrollBy(0,d.top-(f/2-d.height/2)-this._options.scrollPadding):window.scrollBy(0,d.top-(f/2-d.height/2)+this._options.scrollPadding)}}function o(a){a.setAttribute("role","button"),a.tabIndex=0}function p(a){var b=a.parentNode;return!(!b||"HTML"===b.nodeName)&&("fixed"===j(a,"position")||p(b))}function q(a,b){var c=document.body,d=document.documentElement,e=window.pageYOffset||d.scrollTop||c.scrollTop,f=window.pageXOffset||d.scrollLeft||c.scrollLeft;b=b||c;var g=a.getBoundingClientRect(),h=b.getBoundingClientRect(),i=j(b,"position"),k={width:g.width,height:g.height};return"body"!==b.tagName.toLowerCase()&&"relative"===i||"sticky"===i?Object.assign(k,{top:g.top-h.top,left:g.left-h.left}):p(a)?Object.assign(k,{top:g.top,left:g.left}):Object.assign(k,{top:g.top+e,left:g.left+f})}function r(a,b){
return a(b={exports:{}},b.exports),b.exports}function s(a,b){if(a instanceof SVGElement){var c=a.getAttribute("class")||"";a.setAttribute("class",c.replace(b,"").replace(/^\s+|\s+$/g,""))}else a.className=a.className.replace(b,"").replace(/^\s+|\s+$/g,"")}function t(a,b){var c="";if(a.style.cssText&&(c+=a.style.cssText),"string"==typeof b)c+=b;else for(var d in b)c+="".concat(d,":").concat(b[d],";");a.style.cssText=c}function u(a){if(a){if(!this._introItems[this._currentStep])return;var b=this._introItems[this._currentStep],c=q(b.element,this._targetElement),d=this._options.helperElementPadding;p(b.element)?i(a,"introjs-fixedTooltip"):s(a,"introjs-fixedTooltip"),"floating"===b.position&&(d=0),t(a,{width:"".concat(c.width+d,"px"),height:"".concat(c.height+d,"px"),top:"".concat(c.top-d/2,"px"),left:"".concat(c.left-d/2,"px")})}}function v(a,b,c,d,e){return a.left+b+c.width>d.width?(e.style.left="".concat(d.width-c.width-a.left,"px"),!1):(e.style.left="".concat(b,"px"),!0)}function w(a,b,c,d){return a.left+a.width-b-c.width<0?(d.style.left="".concat(-a.left,"px"),!1):(d.style.right="".concat(b,"px"),!0)}function x(a,b){a.includes(b)&&a.splice(a.indexOf(b),1)}function y(a,b,c){var d=this._options.positionPrecedence.slice(),e=m(),f=q(b).height+10,g=q(b).width+20,h=a.getBoundingClientRect(),i="floating";h.bottom+f>e.height&&x(d,"bottom"),h.top-f<0&&x(d,"top"),h.right+g>e.width&&x(d,"right"),h.left-g<0&&x(d,"left");var j,k,l=-1!==(k=(j=c||"").indexOf("-"))?j.substr(k):"";return c&&(c=c.split("-")[0]),d.length&&(i=d.includes(c)?c:d[0]),["top","bottom"].includes(i)&&(i+=function(a,b,c,d){var e=c.width,f=b/2,g=Math.min(e,window.screen.width),h=["-left-aligned","-middle-aligned","-right-aligned"];return g-a<b&&x(h,"-left-aligned"),(a<f||g-a<f)&&x(h,"-middle-aligned"),a<b&&x(h,"-right-aligned"),h.length?h.includes(d)?d:h[0]:"-middle-aligned"}(h.left,g,e,l)),i}function z(a,b,c,d){var e,f,g,h,j,k="";if(d=d||!1,b.style.top=null,b.style.right=null,b.style.bottom=null,b.style.left=null,b.style.marginLeft=null,b.style.marginTop=null,c.style.display="inherit",this._introItems[this._currentStep]){k="string"==typeof(e=this._introItems[this._currentStep]).tooltipClass?e.tooltipClass:this._options.tooltipClass,b.className=["introjs-tooltip",k].filter(Boolean).join(" "),b.setAttribute("role","dialog"),"floating"!==(j=this._introItems[this._currentStep].position)&&this._options.autoPosition&&(j=y.call(this,a,b,j)),g=q(a),f=q(b),h=m(),i(b,"introjs-".concat(j));var l=g.width/2-f.width/2;switch(j){case"top-right-aligned":c.className="introjs-arrow bottom-right";var n=0;w(g,n,f,b),b.style.bottom="".concat(g.height+20,"px");break;case"top-middle-aligned":c.className="introjs-arrow bottom-middle",d&&(l+=5),w(g,l,f,b)&&(b.style.right=null,v(g,l,f,h,b)),b.style.bottom="".concat(g.height+20,"px");break;case"top-left-aligned":case"top":c.className="introjs-arrow bottom",v(g,d?0:15,f,h,b),b.style.bottom="".concat(g.height+20,"px");break;case"right":b.style.left="".concat(g.width+20,"px"),g.top+f.height>h.height?(c.className="introjs-arrow left-bottom",b.style.top="-".concat(f.height-g.height-20,"px")):c.className="introjs-arrow left";break;case"left":d||!0!==this._options.showStepNumbers||(b.style.top="15px"),g.top+f.height>h.height?(b.style.top="-".concat(f.height-g.height-20,"px"),c.className="introjs-arrow right-bottom"):c.className="introjs-arrow right",b.style.right="".concat(g.width+20,"px");break;case"floating":c.style.display="none",b.style.left="50%",b.style.top="50%",b.style.marginLeft="-".concat(f.width/2,"px"),b.style.marginTop="-".concat(f.height/2,"px");break;case"bottom-right-aligned":c.className="introjs-arrow top-right",w(g,n=0,f,b),b.style.top="".concat(g.height+20,"px");break;case"bottom-middle-aligned":c.className="introjs-arrow top-middle",d&&(l+=5),w(g,l,f,b)&&(b.style.right=null,v(g,l,f,h,b)),b.style.top="".concat(g.height+20,"px");break;default:c.className="introjs-arrow top",v(g,0,f,h,b),b.style.top="".concat(g.height+20,"px")}}}function A(){h(document.querySelectorAll(".introjs-showElement"),function(a){s(a,/introjs-[a-zA-Z]+/g)})}function B(a,b){var c=document.createElement(a);b=b||{};var d=/^(?:role|data-|aria-)/;for(var e in b){var f=b[e];"style"===e?t(c,f):e.match(d)?c.setAttribute(e,f):c[e]=f}return c}function C(a,b,c){if(c){var d=b.style.opacity||"1";t(b,{opacity:"0"}),window.setTimeout(function(){t(b,{opacity:d})},10)}a.appendChild(b)}function D(){return parseInt(this._currentStep+1,10)/this._introItems.length*100}function E(){var a=document.querySelector(".introjs-disableInteraction");null===a&&(a=B("div",{className:"introjs-disableInteraction"}),this._targetElement.appendChild(a)),u.call(this,a)}function F(a){var b=this,c=B("div",{className:"introjs-bullets"});!1===this._options.showBullets&&(c.style.display="none");var d=B("ul");d.setAttribute("role","tablist");var e=function(){b.goToStep(this.getAttribute("data-step-number"))};return h(this._introItems,function(b,c){var f=b.step,g=B("li"),h=B("a");g.setAttribute("role","presentation"),h.setAttribute("role","tab"),h.onclick=e,c===a.step-1&&(h.className="active"),o(h),h.innerHTML="&nbsp;",h.setAttribute("data-step-number",f),g.appendChild(h),d.appendChild(g)}),c.appendChild(d),c}function G(a,b){if(this._options.showBullets){var c=document.querySelector(".introjs-bullets");c&&c.parentNode.replaceChild(F.call(this,b),c)}}function H(a,b){this._options.showBullets&&(a.querySelector(".introjs-bullets li > a.active").className="",a.querySelector('.introjs-bullets li > a[data-step-number="'.concat(b.step,'"]')).className="active")}function I(){var a=B("div");a.className="introjs-progress",!1===this._options.showProgress&&(a.style.display="none");var b=B("div",{className:"introjs-progressbar"});return this._options.progressBarAdditionalClass&&(b.className+=" "+this._options.progressBarAdditionalClass),b.setAttribute("role","progress"),b.setAttribute("aria-valuemin",0),b.setAttribute("aria-valuemax",100),b.setAttribute("aria-valuenow",D.call(this)),b.style.cssText="width:".concat(D.call(this),"%;"),a.appendChild(b),a}function J(a){a.querySelector(".introjs-progress .introjs-progressbar").style.cssText="width:".concat(D.call(this),"%;"),a.querySelector(".introjs-progress .introjs-progressbar").setAttribute("aria-valuenow",D.call(this))}function K(a){return L.apply(this,arguments)}function L(){return(L=d(a().mark(function b(c){var e,f,g,h,j,m,p,q,r,s,v,w,x,y,D,G,K,L,M,N,O,P,R,T,U,V=this;return a().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(void 0===this._introChangeCallback){b.next=3;break}return b.next=3,this._introChangeCallback.call(this,c.element);case 3:if(e=this,f=document.querySelector(".introjs-helperLayer"),g=document.querySelector(".introjs-tooltipReferenceLayer"),h="introjs-helperLayer","string"==typeof c.highlightClass&&(h+=" ".concat(c.highlightClass)),"string"==typeof this._options.highlightClass&&(h+=" ".concat(this._options.highlightClass)),null!==f&&null!==g?(q=g.querySelector(".introjs-helperNumberLayer"),r=g.querySelector(".introjs-tooltiptext"),s=g.querySelector(".introjs-tooltip-title"),v=g.querySelector(".introjs-arrow"),w=g.querySelector(".introjs-tooltip"),p=g.querySelector(".introjs-skipbutton"),m=g.querySelector(".introjs-prevbutton"),j=g.querySelector(".introjs-nextbutton"),f.className=h,w.style.opacity=0,w.style.display="none",l.call(e,c),u.call(e,f),u.call(e,g),A(),e._lastShowElementTimer&&window.clearTimeout(e._lastShowElementTimer),e._lastShowElementTimer=window.setTimeout(function(){null!==q&&(q.innerHTML="".concat(c.step," ").concat(V._options.stepNumbersOfLabel," ").concat(V._introItems.length)),r.innerHTML=c.intro,s.innerHTML=c.title,w.style.display="block",z.call(e,c.element,w,v),H.call(e,g,c),J.call(e,g),w.style.opacity=1,(null!=j&&/introjs-donebutton/gi.test(j.className)||null!=j)&&j.focus(),n.call(e,c.scrollTo,c,r)},350)):(x=B("div",{className:h}),y=B("div",{className:"introjs-tooltipReferenceLayer"}),D=B("div",{className:"introjs-arrow"}),G=B("div",{className:"introjs-tooltip"}),K=B("div",{className:"introjs-tooltiptext"}),L=B("div",{className:"introjs-tooltip-header"}),M=B("h1",{className:"introjs-tooltip-title"}),N=B("div"),t(x,{"box-shadow":"0 0 1px 2px rgba(33, 33, 33, 0.8), rgba(33, 33, 33, ".concat(e._options.overlayOpacity.toString(),") 0 0 0 5000px")}),l.call(e,c),u.call(e,x),u.call(e,y),C(this._targetElement,x,!0),C(this._targetElement,y),K.innerHTML=c.intro,M.innerHTML=c.title,N.className="introjs-tooltipbuttons",!1===this._options.showButtons&&(N.style.display="none"),L.appendChild(M),G.appendChild(L),G.appendChild(K),this._options.dontShowAgain&&(O=B("div",{className:"introjs-dontShowAgain"}),(P=B("input",{type:"checkbox",id:"introjs-dontShowAgain",name:"introjs-dontShowAgain"})).onchange=function(a){V.setDontShowAgain(a.target.checked)},(R=B("label",{htmlFor:"introjs-dontShowAgain"})).innerText=this._options.dontShowAgainLabel,O.appendChild(P),O.appendChild(R),G.appendChild(O)),G.appendChild(F.call(this,c)),G.appendChild(I.call(this)),T=B("div"),!0===this._options.showStepNumbers&&(T.className="introjs-helperNumberLayer",T.innerHTML="".concat(c.step," ").concat(this._options.stepNumbersOfLabel," ").concat(this._introItems.length),G.appendChild(T)),G.appendChild(D),y.appendChild(G),(j=B("a")).onclick=d(a().mark(function b(){return a().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(e._introItems.length-1===e._currentStep){a.next=5;break}return a.next=3,Q.call(e);case 3:a.next=11;break;case 5:if(!/introjs-donebutton/gi.test(j.className)){a.next=11;break}if("function"!=typeof e._introCompleteCallback){a.next=9;break}return a.next=9,e._introCompleteCallback.call(e,e._currentStep,"done");case 9:return a.next=11,ta.call(e,e._targetElement);case 11:case"end":return a.stop()}},b)})),o(j),j.innerHTML=this._options.nextLabel,(m=B("a")).onclick=d(a().mark(function b(){return a().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(0===e._currentStep){a.next=3;break}return a.next=3,S.call(e);case 3:case"end":return a.stop()}},b)})),o(m),m.innerHTML=this._options.prevLabel,o(p=B("a",{className:"introjs-skipbutton"})),p.innerHTML=this._options.skipLabel,p.onclick=d(a().mark(function b(){return a().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(e._introItems.length-1!==e._currentStep||"function"!=typeof e._introCompleteCallback){a.next=3;break}return a.next=3,e._introCompleteCallback.call(e,e._currentStep,"skip");case 3:if("function"!=typeof e._introSkipCallback){a.next=6;break}return a.next=6,e._introSkipCallback.call(e);case 6:return a.next=8,ta.call(e,e._targetElement);case 8:case"end":return a.stop()}},b)})),L.appendChild(p),this._introItems.length>1&&N.appendChild(m),N.appendChild(j),G.appendChild(N),z.call(e,c.element,G,D),n.call(this,c.scrollTo,c,G)),(U=e._targetElement.querySelector(".introjs-disableInteraction"))&&U.parentNode.removeChild(U),c.disableInteraction&&E.call(e),0===this._currentStep&&this._introItems.length>1?(null!=j&&(j.className="".concat(this._options.buttonClass," introjs-nextbutton"),j.innerHTML=this._options.nextLabel),!0===this._options.hidePrev?(null!=m&&(m.className="".concat(this._options.buttonClass," introjs-prevbutton introjs-hidden")),null!=j&&i(j,"introjs-fullbutton")):null!=m&&(m.className="".concat(this._options.buttonClass," introjs-prevbutton introjs-disabled"))):this._introItems.length-1===this._currentStep||1===this._introItems.length?(null!=m&&(m.className="".concat(this._options.buttonClass," introjs-prevbutton")),!0===this._options.hideNext?(null!=j&&(j.className="".concat(this._options.buttonClass," introjs-nextbutton introjs-hidden")),null!=m&&i(m,"introjs-fullbutton")):null!=j&&(!0===this._options.nextToDone?(j.innerHTML=this._options.doneLabel,i(j,"".concat(this._options.buttonClass," introjs-nextbutton introjs-donebutton"))):j.className="".concat(this._options.buttonClass," introjs-nextbutton introjs-disabled"))):(null!=m&&(m.className="".concat(this._options.buttonClass," introjs-prevbutton")),null!=j&&(j.className="".concat(this._options.buttonClass," introjs-nextbutton"),j.innerHTML=this._options.nextLabel)),null!=m&&m.setAttribute("role","button"),null!=j&&j.setAttribute("role","button"),null!=p&&p.setAttribute("role","button"),null!=j&&j.focus(),k(c),void 0===this._introAfterChangeCallback){b.next=22;break}return b.next=22,this._introAfterChangeCallback.call(this,c.element);case 22:case"end":return b.stop()}},b,this)}))).apply(this,arguments)}function M(a){return N.apply(this,arguments)}function N(){return(N=d(a().mark(function b(c){return a().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(this._currentStep=c-2,void 0===this._introItems){a.next=4;break}return a.next=4,Q.call(this);case 4:case"end":return a.stop()}},b,this)}))).apply(this,arguments)}function O(a){return P.apply(this,arguments)}function P(){return(P=d(a().mark(function b(c){return a().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(this._currentStepNumber=c,void 0===this._introItems){a.next=4;break}return a.next=4,Q.call(this);case 4:case"end":return a.stop()}},b,this)}))).apply(this,arguments)}function Q(){return R.apply(this,arguments)}function R(){return R=d(a().mark(function b(){var c,d,e=this;return a().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(this._direction="forward",void 0!==this._currentStepNumber&&h(this._introItems,function(a,b){a.step===e._currentStepNumber&&(e._currentStep=b-1,e._currentStepNumber=void 0)}),void 0===this._currentStep?this._currentStep=0:++this._currentStep,c=this._introItems[this._currentStep],d=!0,void 0===this._introBeforeChangeCallback){a.next=9;break}return a.next=8,this._introBeforeChangeCallback.call(this,c&&c.element);case 8:d=a.sent;case 9:if(!1!==d){a.next=12;break}return--this._currentStep,a.abrupt("return",!1);case 12:if(!(this._introItems.length<=this._currentStep)){a.next=19;break}if("function"!=typeof this._introCompleteCallback){a.next=16;break}return a.next=16,this._introCompleteCallback.call(this,this._currentStep,"end");case 16:return a.next=18,ta.call(this,this._targetElement);case 18:return a.abrupt("return");case 19:return a.next=21,K.call(this,c);case 21:case"end":return a.stop()}},b,this)})),R.apply(this,arguments)}function S(){return T.apply(this,arguments)}function T(){return T=d(a().mark(function b(){var c,d;return a().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(this._direction="backward",0!==this._currentStep){a.next=3;break}return a.abrupt("return",!1);case 3:if(--this._currentStep,c=this._introItems[this._currentStep],d=!0,void 0===this._introBeforeChangeCallback){a.next=10;break}return a.next=9,this._introBeforeChangeCallback.call(this,c&&c.element);case 9:d=a.sent;case 10:if(!1!==d){a.next=13;break}return++this._currentStep,a.abrupt("return",!1);case 13:return a.next=15,K.call(this,c);case 15:case"end":return a.stop()}},b,this)})),T.apply(this,arguments)}function U(){return this._currentStep}function V(a){return W.apply(this,arguments)}function W(){return(W=d(a().mark(function b(c){var d,e;return a().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(null===(d=void 0===c.code?c.which:c.code)&&(d=null===c.charCode?c.keyCode:c.charCode),"Escape"!==d&&27!==d||!0!==this._options.exitOnEsc){a.next=7;break}return a.next=5,ta.call(this,this._targetElement);case 5:a.next=39;break;case 7:if("ArrowLeft"!==d&&37!==d){a.next=12;break}return a.next=10,S.call(this);case 10:a.next=39;break;case 12:if("ArrowRight"!==d&&39!==d){a.next=17;break}return a.next=15,Q.call(this);case 15:a.next=39;break;case 17:if("Enter"!==d&&"NumpadEnter"!==d&&13!==d){a.next=39;break}if(!(e=c.target||c.srcElement)||!e.className.match("introjs-prevbutton")){a.next=24;break}return a.next=22,S.call(this);case 22:a.next=38;break;case 24:if(!e||!e.className.match("introjs-skipbutton")){a.next=32;break}if(this._introItems.length-1!==this._currentStep||"function"!=typeof this._introCompleteCallback){a.next=28;break}return a.next=28,this._introCompleteCallback.call(this,this._currentStep,"skip");case 28:return a.next=30,ta.call(this,this._targetElement);case 30:a.next=38;break;case 32:if(!e||!e.getAttribute("data-step-number")){a.next=36;break}e.click(),a.next=38;break;case 36:return a.next=38,Q.call(this);case 38:c.preventDefault?c.preventDefault():c.returnValue=!1;case 39:case"end":return a.stop()}},b,this)}))).apply(this,arguments)}function X(a){if(null===a||"object"!==b(a)||void 0!==a.nodeType)return a;var c={};for(var d in a)void 0!==window.jQuery&&a[d]instanceof window.jQuery?c[d]=a[d]:c[d]=X(a[d]);return c}function Y(a,b){var c,d=this;return function(){for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];clearTimeout(c),c=setTimeout(function(){a.apply(d,f)},b)}}function Z(a){var b=document.querySelector(".introjs-hints");return b?b.querySelectorAll(a):[]}function $(a){return _.apply(this,arguments)}function _(){return(_=d(a().mark(function b(c){var d;return a().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(d=Z('.introjs-hint[data-step="'.concat(c,'"]'))[0],la.call(this),d&&i(d,"introjs-hidehint"),void 0===this._hintCloseCallback){a.next=6;break}return a.next=6,this._hintCloseCallback.call(this,c);case 6:case"end":return a.stop()}},b,this)}))).apply(this,arguments)}function aa(){var b=this;h(Z(".introjs-hint"),function(){var c=d(a().mark(function c(d){return a().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,$.call(b,d.getAttribute("data-step"));case 2:case"end":return a.stop()}},c)}));return function(a){return c.apply(this,arguments)}}())}function ba(){return ca.apply(this,arguments)}function ca(){return(ca=d(a().mark(function b(){var c,d=this;return a().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!(c=Z(".introjs-hint"))||!c.length){a.next=5;break}h(c,function(a){da.call(d,a.getAttribute("data-step"))}),a.next=7;break;case 5:return a.next=7,ma.call(this,this._targetElement);case 7:case"end":return a.stop()}},b,this)}))).apply(this,arguments)}function da(a){var b=Z('.introjs-hint[data-step="'.concat(a,'"]'))[0];b&&s(b,/introjs-hidehint/g)}function ea(){var a=this;h(Z(".introjs-hint"),function(b){fa.call(a,b.getAttribute("data-step"))}),Ga.off(document,"click",la,this,!1),Ga.off(window,"resize",oa,this,!0),this._hintsAutoRefreshFunction&&Ga.off(window,"scroll",this._hintsAutoRefreshFunction,this,!0)}function fa(a){var b=Z('.introjs-hint[data-step="'.concat(a,'"]'))[0];b&&b.parentNode.removeChild(b)}function ga(){return ha.apply(this,arguments)}function ha(){return(ha=d(a().mark(function b(){var c,d,e,f=this;return a().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(c=this,null===(d=document.querySelector(".introjs-hints"))&&(d=B("div",{className:"introjs-hints"})),e=function(a){return function(b){var d=b||window.event;d.stopPropagation&&d.stopPropagation(),null!==d.cancelBubble&&(d.cancelBubble=!0),ja.call(c,a)}},h(this._introItems,function(a,b){if(!document.querySelector('.introjs-hint[data-step="'.concat(b,'"]'))){var c=B("a",{className:"introjs-hint"});o(c),c.onclick=e(b),a.hintAnimation||i(c,"introjs-hint-no-anim"),p(a.element)&&i(c,"introjs-fixedhint");var g=B("div",{className:"introjs-hint-dot"}),h=B("div",{className:"introjs-hint-pulse"});c.appendChild(g),c.appendChild(h),c.setAttribute("data-step",b),a.targetElement=a.element,a.element=c,ia.call(f,a.hintPosition,c,a.targetElement),d.appendChild(c)}}),document.body.appendChild(d),void 0===this._hintsAddedCallback){a.next=9;break}return a.next=9,this._hintsAddedCallback.call(this);case 9:this._options.hintAutoRefreshInterval>=0&&(this._hintsAutoRefreshFunction=Y(function(){return oa.call(f)},this._options.hintAutoRefreshInterval),Ga.on(window,"scroll",this._hintsAutoRefreshFunction,this,!0));case 10:case"end":return a.stop()}},b,this)}))).apply(this,arguments)}function ia(a,b,c){var d=b.style,e=q.call(this,c),f=20,g=20;switch(a){default:case"top-left":d.left="".concat(e.left,"px"),d.top="".concat(e.top,"px");break;case"top-right":d.left="".concat(e.left+e.width-f,"px"),d.top="".concat(e.top,"px");break;case"bottom-left":d.left="".concat(e.left,"px"),d.top="".concat(e.top+e.height-g,"px");break;case"bottom-right":d.left="".concat(e.left+e.width-f,"px"),d.top="".concat(e.top+e.height-g,"px");break;case"middle-left":d.left="".concat(e.left,"px"),d.top="".concat(e.top+(e.height-g)/2,"px");break;case"middle-right":d.left="".concat(e.left+e.width-f,"px"),d.top="".concat(e.top+(e.height-g)/2,"px");break;case"middle-middle":d.left="".concat(e.left+(e.width-f)/2,"px"),d.top="".concat(e.top+(e.height-g)/2,"px");break;case"bottom-middle":d.left="".concat(e.left+(e.width-f)/2,"px"),d.top="".concat(e.top+e.height-g,"px");break;case"top-middle":d.left="".concat(e.left+(e.width-f)/2,"px"),d.top="".concat(e.top,"px")}}function ja(a){return ka.apply(this,arguments)}function ka(){return(ka=d(a().mark(function b(c){var d,e,f,g,h,i,j,k,l;return a().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(d=document.querySelector('.introjs-hint[data-step="'.concat(c,'"]')),e=this._introItems[c],void 0===this._hintClickCallback){a.next=5;break}return a.next=5,this._hintClickCallback.call(this,d,e,c);case 5:if(f=la.call(this),parseInt(f,10)!==c){a.next=8;break}return a.abrupt("return");case 8:g=B("div",{className:"introjs-tooltip"}),h=B("div"),i=B("div"),j=B("div"),g.onclick=function(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0},h.className="introjs-tooltiptext",(k=B("p")).innerHTML=e.hint,h.appendChild(k),this._options.hintShowButton&&((l=B("a")).className=this._options.buttonClass,l.setAttribute("role","button"),l.innerHTML=this._options.hintButtonLabel,l.onclick=$.bind(this,c),h.appendChild(l)),i.className="introjs-arrow",g.appendChild(i),g.appendChild(h),this._currentStep=d.getAttribute("data-step"),j.className="introjs-tooltipReferenceLayer introjs-hintReference",j.setAttribute("data-step",d.getAttribute("data-step")),u.call(this,j),j.appendChild(g),document.body.appendChild(j),z.call(this,d,g,i,!0);case 28:case"end":return a.stop()}},b,this)}))).apply(this,arguments)}function la(){var a=document.querySelector(".introjs-hintReference");if(a){var b=a.getAttribute("data-step");return a.parentNode.removeChild(a),b}}function ma(a){return na.apply(this,arguments)}function na(){return(na=d(a().mark(function b(c){var d,e=this;return a().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(this._introItems=[],!this._options.hints){a.next=5;break}h(this._options.hints,function(a){var b=X(a);"string"==typeof b.element&&(b.element=document.querySelector(b.element)),b.hintPosition=b.hintPosition||e._options.hintPosition,b.hintAnimation=b.hintAnimation||e._options.hintAnimation,null!==b.element&&e._introItems.push(b)}),a.next=9;break;case 5:if((d=c.querySelectorAll("*[data-hint]"))&&d.length){a.next=8;break}return a.abrupt("return",!1);case 8:h(d,function(a){var b=a.getAttribute("data-hint-animation");b=b?"true"===b:e._options.hintAnimation,e._introItems.push({element:a,hint:a.getAttribute("data-hint"),hintPosition:a.getAttribute("data-hint-position")||e._options.hintPosition,hintAnimation:b,tooltipClass:a.getAttribute("data-tooltip-class"),position:a.getAttribute("data-position")||e._options.tooltipPosition})});case 9:return a.next=11,ga.call(this);case 11:Ga.on(document,"click",la,this,!1),Ga.on(window,"resize",oa,this,!0);case 13:case"end":return a.stop()}},b,this)}))).apply(this,arguments)}function oa(){var a=this;h(this._introItems,function(b){var c=b.targetElement,d=b.hintPosition,e=b.element;void 0!==c&&ia.call(a,d,e,c)})}function pa(a){var b=this,c=a.querySelectorAll("*[data-intro]"),d=[];if(this._options.steps)h(this._options.steps,function(a){var c=X(a);if(c.step=d.length+1,c.title=c.title||"","string"==typeof c.element&&(c.element=document.querySelector(c.element)),void 0===c.element||null===c.element){var e=document.querySelector(".introjsFloatingElement");null===e&&(e=B("div",{className:"introjsFloatingElement"}),document.body.appendChild(e)),c.element=e,c.position="floating"}c.position=c.position||b._options.tooltipPosition,c.scrollTo=c.scrollTo||b._options.scrollTo,void 0===c.disableInteraction&&(c.disableInteraction=b._options.disableInteraction),null!==c.element&&d.push(c)});else{var e;if(c.length<1)return[];h(c,function(a){if((!b._options.group||a.getAttribute("data-intro-group")===b._options.group)&&"none"!==a.style.display){var c=parseInt(a.getAttribute("data-step"),10);e=a.hasAttribute("data-disable-interaction")?!!a.getAttribute("data-disable-interaction"):b._options.disableInteraction,c>0&&(d[c-1]={element:a,title:a.getAttribute("data-title")||"",intro:a.getAttribute("data-intro"),step:parseInt(a.getAttribute("data-step"),10),tooltipClass:a.getAttribute("data-tooltip-class"),highlightClass:a.getAttribute("data-highlight-class"),position:a.getAttribute("data-position")||b._options.tooltipPosition,scrollTo:a.getAttribute("data-scroll-to")||b._options.scrollTo,disableInteraction:e})}});var f=0;h(c,function(a){if((!b._options.group||a.getAttribute("data-intro-group")===b._options.group)&&null===a.getAttribute("data-step")){for(;void 0!==d[f];)f++;e=a.hasAttribute("data-disable-interaction")?!!a.getAttribute("data-disable-interaction"):b._options.disableInteraction,d[f]={element:a,title:a.getAttribute("data-title")||"",intro:a.getAttribute("data-intro"),step:f+1,tooltipClass:a.getAttribute("data-tooltip-class"),highlightClass:a.getAttribute("data-highlight-class"),position:a.getAttribute("data-position")||b._options.tooltipPosition,scrollTo:a.getAttribute("data-scroll-to")||b._options.scrollTo,disableInteraction:e}}})}for(var g=[],i=0;i<d.length;i++)d[i]&&g.push(d[i]);return(d=g).sort(function(a,b){return a.step-b.step}),d}function qa(a){var b=document.querySelector(".introjs-tooltipReferenceLayer"),c=document.querySelector(".introjs-helperLayer"),d=document.querySelector(".introjs-disableInteraction");if(u.call(this,c),u.call(this,b),u.call(this,d),a&&(this._introItems=pa.call(this,this._targetElement),G.call(this,b,this._introItems[this._currentStep]),J.call(this,b)),void 0!==this._currentStep&&null!==this._currentStep){var e=document.querySelector(".introjs-arrow"),f=document.querySelector(".introjs-tooltip");f&&e&&z.call(this,this._introItems[this._currentStep].element,f,e)}return oa.call(this),this}function ra(){qa.call(this)}function sa(a,b){if(a&&a.parentElement){var c=a.parentElement;b?(t(a,{opacity:"0"}),window.setTimeout(function(){try{c.removeChild(a)}catch(a){}},500)):c.removeChild(a)}}function ta(a,b){return ua.apply(this,arguments)}function ua(){return(ua=d(a().mark(function b(c,d){var e,f;return a().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(e=!0,void 0===this._introBeforeExitCallback){a.next=5;break}return a.next=4,this._introBeforeExitCallback.call(this);case 4:e=a.sent;case 5:if(d||!1!==e){a.next=7;break}return a.abrupt("return");case 7:if((f=c.querySelectorAll(".introjs-overlay"))&&f.length&&h(f,function(a){return sa(a)}),sa(c.querySelector(".introjs-helperLayer"),!0),sa(c.querySelector(".introjs-tooltipReferenceLayer")),sa(c.querySelector(".introjs-disableInteraction")),sa(document.querySelector(".introjsFloatingElement")),A(),Ga.off(window,"keydown",V,this,!0),Ga.off(window,"resize",ra,this,!0),void 0===this._introExitCallback){a.next=23;break}return a.next=23,this._introExitCallback.call(this);case 23:this._currentStep=void 0;case 24:case"end":return a.stop()}},b,this)}))).apply(this,arguments)}function va(b){var c=this,e=B("div",{className:"introjs-overlay"});return t(e,{top:0,bottom:0,left:0,right:0,position:"fixed"}),b.appendChild(e),!0===this._options.exitOnOverlayClick&&(t(e,{cursor:"pointer"}),e.onclick=d(a().mark(function d(){return a().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,ta.call(c,b);case 2:case"end":return a.stop()}},d)}))),!0}function wa(a){return xa.apply(this,arguments)}function xa(){return(xa=d(a().mark(function b(c){var d;return a().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(this.isActive()){a.next=2;break}return a.abrupt("return");case 2:if(void 0===this._introStartCallback){a.next=5;break}return a.next=5,this._introStartCallback.call(this,c);case 5:if(0!==(d=pa.call(this,c)).length){a.next=8;break}return a.abrupt("return",!1);case 8:if(this._introItems=d,!va.call(this,c)){a.next=14;break}return a.next=12,Q.call(this);case 12:this._options.keyboardNavigation&&Ga.on(window,"keydown",V,this,!0),Ga.on(window,"resize",ra,this,!0);case 14:return a.abrupt("return",!1);case 15:case"end":return a.stop()}},b,this)}))).apply(this,arguments)}function ya(a,b,c){var d,f=(e(d={},a,b),e(d,"path","/"),d);if(c){var g=new Date;g.setTime(g.getTime()+24*c*60*60*1e3),f.expires=g.toUTCString()}var h=[];for(var i in f)h.push("".concat(i,"=").concat(f[i]));return document.cookie=h.join("; "),za(a)}function za(a){return(b={},document.cookie.split(";").forEach(function(a){var c=f(a.split("="),2),d=c[0],e=c[1];b[d.trim()]=e}),b)[a];var b}function Aa(a){a?ya(this._options.dontShowAgainCookie,Ie,this._options.dontShowAgainCookieDays):ya(this._options.dontShowAgainCookie,"",-1)}function Ba(){var a=za(this._options.dontShowAgainCookie);return a&&a===Ie}function Ca(a){this._targetElement=a,this._introItems=[],this._options={isActive:!0,nextLabel:"Next",prevLabel:"Back",skipLabel:"×",doneLabel:"Done",hidePrev:!1,hideNext:!1,nextToDone:!0,tooltipPosition:"bottom",tooltipClass:"",group:"",highlightClass:"",exitOnEsc:!0,exitOnOverlayClick:!0,showStepNumbers:!1,stepNumbersOfLabel:"of",keyboardNavigation:!0,showButtons:!0,showBullets:!0,showProgress:!1,scrollToElement:!0,scrollTo:"element",scrollPadding:30,overlayOpacity:.5,autoPosition:!0,positionPrecedence:["bottom","top","right","left"],disableInteraction:!1,dontShowAgain:!1,dontShowAgainLabel:"Don't show this again",dontShowAgainCookie:"introjs-dontShowAgain",dontShowAgainCookieDays:365,helperElementPadding:10,hintPosition:"top-middle",hintButtonLabel:"Got it",hintShowButton:!0,hintAutoRefreshInterval:10,hintAnimation:!0,buttonClass:"introjs-button",progressBarAdditionalClass:!1}}var Da,Ea,Fa=function(){var a={};return function(b){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"introjs-stamp";return a[c]=a[c]||0,void 0===b[c]&&(b[c]=a[c]++),b[c]}}(),Ga=new function(){var a="introjs_event";this._id=function(a,b,c,d){return b+Fa(c)+(d?"_".concat(Fa(d)):"")},this.on=function(b,c,d,e,f){var g=this._id.apply(this,arguments),h=function(a){return d.call(e||b,a||window.event)};"addEventListener"in b?b.addEventListener(c,h,f):"attachEvent"in b&&b.attachEvent("on".concat(c),h),b[a]=b[a]||{},b[a][g]=h},this.off=function(b,c,d,e,f){var g=this._id.apply(this,arguments),h=b[a]&&b[a][g];h&&("removeEventListener"in b?b.removeEventListener(c,h,f):"detachEvent"in b&&b.detachEvent("on".concat(c),h),b[a][g]=null)}},Ha=function(a){try{return!!a()}catch(a){return!0}},Ia=!Ha(function(){var a=function(){}.bind();return"function"!=typeof a||a.hasOwnProperty("prototype")}),Ja=Function.prototype,Ka=Ja.apply,La=Ja.call,Ma="object"==typeof Reflect&&Reflect.apply||(Ia?La.bind(Ka):function(){return La.apply(Ka,arguments)}),Na=Function.prototype.call,Oa=Ia?Na.bind(Na):function(){return Na.apply(Na,arguments)},Pa=Function.prototype,Qa=Pa.bind,Ra=Pa.call,Sa=Ia&&Qa.bind(Ra,Ra),Ta=Ia?function(a){return a&&Sa(a)}:function(a){return a&&function(){return Ra.apply(a,arguments)}},Ua="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Va=function(a){return a&&a.Math==Math&&a},Wa=Va("object"==typeof globalThis&&globalThis)||Va("object"==typeof window&&window)||Va("object"==typeof self&&self)||Va("object"==typeof Ua&&Ua)||function(){return this}()||Function("return this")(),Xa=!Ha(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}),Ya={}.propertyIsEnumerable,Za=Object.getOwnPropertyDescriptor,$a={f:Za&&!Ya.call({1:2},1)?function(a){var b=Za(this,a);return!!b&&b.enumerable}:Ya},_a=function(a,b){return{enumerable:!(1&a),configurable:!(2&a),writable:!(4&a),
value:b}},ab=Ta({}.toString),bb=Ta("".slice),cb=function(a){return bb(ab(a),8,-1)},db=Object,eb=Ta("".split),fb=Ha(function(){return!db("z").propertyIsEnumerable(0)})?function(a){return"String"==cb(a)?eb(a,""):db(a)}:db,gb=TypeError,hb=function(a){if(null==a)throw gb("Can't call method on "+a);return a},ib=function(a){return fb(hb(a))},jb=function(a){return"function"==typeof a},kb=function(a){return"object"==typeof a?null!==a:jb(a)},lb=function(a){return jb(a)?a:void 0},mb=function(a,b){return arguments.length<2?lb(Wa[a]):Wa[a]&&Wa[a][b]},nb=Ta({}.isPrototypeOf),ob=mb("navigator","userAgent")||"",pb=Wa.process,qb=Wa.Deno,rb=pb&&pb.versions||qb&&qb.version,sb=rb&&rb.v8;sb&&(Ea=(Da=sb.split("."))[0]>0&&Da[0]<4?1:+(Da[0]+Da[1])),!Ea&&ob&&(!(Da=ob.match(/Edge\/(\d+)/))||Da[1]>=74)&&(Da=ob.match(/Chrome\/(\d+)/))&&(Ea=+Da[1]);var tb=Ea,ub=!!Object.getOwnPropertySymbols&&!Ha(function(){var a=Symbol();return!String(a)||!(Object(a)instanceof Symbol)||!Symbol.sham&&tb&&tb<41}),vb=ub&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,wb=Object,xb=vb?function(a){return"symbol"==typeof a}:function(a){var b=mb("Symbol");return jb(b)&&nb(b.prototype,wb(a))},yb=String,zb=TypeError,Ab=function(a){if(jb(a))return a;throw zb(function(a){try{return yb(a)}catch(a){return"Object"}}(a)+" is not a function")},Bb=function(a,b){var c=a[b];return null==c?void 0:Ab(c)},Cb=TypeError,Db=Object.defineProperty,Eb=function(a,b){try{Db(Wa,a,{value:b,configurable:!0,writable:!0})}catch(c){Wa[a]=b}return b},Fb="__core-js_shared__",Gb=Wa[Fb]||Eb(Fb,{}),Hb=r(function(a){(a.exports=function(a,b){return Gb[a]||(Gb[a]=void 0!==b?b:{})})("versions",[]).push({version:"3.23.3",mode:"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.23.3/LICENSE",source:"https://github.com/zloirock/core-js"})}),Ib=Object,Jb=function(a){return Ib(hb(a))},Kb=Ta({}.hasOwnProperty),Lb=Object.hasOwn||function(a,b){return Kb(Jb(a),b)},Mb=0,Nb=Math.random(),Ob=Ta(1..toString),Pb=function(a){return"Symbol("+(void 0===a?"":a)+")_"+Ob(++Mb+Nb,36)},Qb=Hb("wks"),Rb=Wa.Symbol,Sb=Rb&&Rb.for,Tb=vb?Rb:Rb&&Rb.withoutSetter||Pb,Ub=function(a){if(!Lb(Qb,a)||!ub&&"string"!=typeof Qb[a]){var b="Symbol."+a;ub&&Lb(Rb,a)?Qb[a]=Rb[a]:Qb[a]=vb&&Sb?Sb(b):Tb(b)}return Qb[a]},Vb=TypeError,Wb=Ub("toPrimitive"),Xb=function(a,b){if(!kb(a)||xb(a))return a;var c,d=Bb(a,Wb);if(d){if(void 0===b&&(b="default"),c=Oa(d,a,b),!kb(c)||xb(c))return c;throw Vb("Can't convert object to primitive value")}return void 0===b&&(b="number"),function(a,b){var c,d;if("string"===b&&jb(c=a.toString)&&!kb(d=Oa(c,a)))return d;if(jb(c=a.valueOf)&&!kb(d=Oa(c,a)))return d;if("string"!==b&&jb(c=a.toString)&&!kb(d=Oa(c,a)))return d;throw Cb("Can't convert object to primitive value")}(a,b)},Yb=function(a){var b=Xb(a,"string");return xb(b)?b:b+""},Zb=Wa.document,$b=kb(Zb)&&kb(Zb.createElement),_b=function(a){return $b?Zb.createElement(a):{}},ac=!Xa&&!Ha(function(){return 7!=Object.defineProperty(_b("div"),"a",{get:function(){return 7}}).a}),bc=Object.getOwnPropertyDescriptor,cc={f:Xa?bc:function(a,b){if(a=ib(a),b=Yb(b),ac)try{return bc(a,b)}catch(a){}if(Lb(a,b))return _a(!Oa($a.f,a,b),a[b])}},dc=Xa&&Ha(function(){return 42!=Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype}),ec=String,fc=TypeError,gc=function(a){if(kb(a))return a;throw fc(ec(a)+" is not an object")},hc=TypeError,ic=Object.defineProperty,jc=Object.getOwnPropertyDescriptor,kc="enumerable",lc="configurable",mc="writable",nc={f:Xa?dc?function(a,b,c){if(gc(a),b=Yb(b),gc(c),"function"==typeof a&&"prototype"===b&&"value"in c&&mc in c&&!c.writable){var d=jc(a,b);d&&d.writable&&(a[b]=c.value,c={configurable:lc in c?c.configurable:d.configurable,enumerable:kc in c?c.enumerable:d.enumerable,writable:!1})}return ic(a,b,c)}:ic:function(a,b,c){if(gc(a),b=Yb(b),gc(c),ac)try{return ic(a,b,c)}catch(a){}if("get"in c||"set"in c)throw hc("Accessors not supported");return"value"in c&&(a[b]=c.value),a}},oc=Xa?function(a,b,c){return nc.f(a,b,_a(1,c))}:function(a,b,c){return a[b]=c,a},pc=Function.prototype,qc=Xa&&Object.getOwnPropertyDescriptor,rc=Lb(pc,"name"),sc={EXISTS:rc,PROPER:rc&&"something"===function(){}.name,CONFIGURABLE:rc&&(!Xa||Xa&&qc(pc,"name").configurable)},tc=Ta(Function.toString);jb(Gb.inspectSource)||(Gb.inspectSource=function(a){return tc(a)});var uc,vc,wc,xc=Gb.inspectSource,yc=Wa.WeakMap,zc=jb(yc)&&/native code/.test(xc(yc)),Ac=Hb("keys"),Bc=function(a){return Ac[a]||(Ac[a]=Pb(a))},Cc={},Dc="Object already initialized",Ec=Wa.TypeError,Fc=Wa.WeakMap;if(zc||Gb.state){var Gc=Gb.state||(Gb.state=new Fc),Hc=Ta(Gc.get),Ic=Ta(Gc.has),Jc=Ta(Gc.set);uc=function(a,b){if(Ic(Gc,a))throw new Ec(Dc);return b.facade=a,Jc(Gc,a,b),b},vc=function(a){return Hc(Gc,a)||{}},wc=function(a){return Ic(Gc,a)}}else{var Kc=Bc("state");Cc[Kc]=!0,uc=function(a,b){if(Lb(a,Kc))throw new Ec(Dc);return b.facade=a,oc(a,Kc,b),b},vc=function(a){return Lb(a,Kc)?a[Kc]:{}},wc=function(a){return Lb(a,Kc)}}var Lc={set:uc,get:vc,has:wc,enforce:function(a){return wc(a)?vc(a):uc(a,{})},getterFor:function(a){return function(b){var c;if(!kb(b)||(c=vc(b)).type!==a)throw Ec("Incompatible receiver, "+a+" required");return c}}},Mc=r(function(a){var b=sc.CONFIGURABLE,c=Lc.enforce,d=Lc.get,e=Object.defineProperty,f=Xa&&!Ha(function(){return 8!==e(function(){},"length",{value:8}).length}),g=String(String).split("String"),h=a.exports=function(a,d,h){"Symbol("===String(d).slice(0,7)&&(d="["+String(d).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),h&&h.getter&&(d="get "+d),h&&h.setter&&(d="set "+d),(!Lb(a,"name")||b&&a.name!==d)&&(Xa?e(a,"name",{value:d,configurable:!0}):a.name=d),f&&h&&Lb(h,"arity")&&a.length!==h.arity&&e(a,"length",{value:h.arity});try{h&&Lb(h,"constructor")&&h.constructor?Xa&&e(a,"prototype",{writable:!1}):a.prototype&&(a.prototype=void 0)}catch(a){}var i=c(a);return Lb(i,"source")||(i.source=g.join("string"==typeof d?d:"")),a};Function.prototype.toString=h(function(){return jb(this)&&d(this).source||xc(this)},"toString")}),Nc=function(a,b,c,d){d||(d={});var e=d.enumerable,f=void 0!==d.name?d.name:b;if(jb(c)&&Mc(c,f,d),d.global)e?a[b]=c:Eb(b,c);else{try{d.unsafe?a[b]&&(e=!0):delete a[b]}catch(a){}e?a[b]=c:nc.f(a,b,{value:c,enumerable:!1,configurable:!d.nonConfigurable,writable:!d.nonWritable})}return a},Oc=Math.ceil,Pc=Math.floor,Qc=Math.trunc||function(a){var b=+a;return(b>0?Pc:Oc)(b)},Rc=function(a){var b=+a;return b!=b||0===b?0:Qc(b)},Sc=Math.max,Tc=Math.min,Uc=Math.min,Vc=function(a){return a>0?Uc(Rc(a),9007199254740991):0},Wc=function(a){return function(b,c,d){var e,f=ib(b),g=Vc(f.length),h=function(a,b){var c=Rc(a);return c<0?Sc(c+b,0):Tc(c,b)}(d,g);if(a&&c!=c){for(;g>h;)if((e=f[h++])!=e)return!0}else for(;g>h;h++)if((a||h in f)&&f[h]===c)return a||h||0;return!a&&-1}},Xc={includes:Wc(!0),indexOf:Wc(!1)},Yc=Xc.indexOf,Zc=Ta([].push),$c=function(a,b){var c,d=ib(a),e=0,f=[];for(c in d)!Lb(Cc,c)&&Lb(d,c)&&Zc(f,c);for(;b.length>e;)Lb(d,c=b[e++])&&(~Yc(f,c)||Zc(f,c));return f},_c=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],ad=_c.concat("length","prototype"),bd={f:Object.getOwnPropertyNames||function(a){return $c(a,ad)}},cd={f:Object.getOwnPropertySymbols},dd=Ta([].concat),ed=mb("Reflect","ownKeys")||function(a){var b=bd.f(gc(a)),c=cd.f;return c?dd(b,c(a)):b},fd=function(a,b,c){for(var d=ed(b),e=nc.f,f=cc.f,g=0;g<d.length;g++){var h=d[g];Lb(a,h)||c&&Lb(c,h)||e(a,h,f(b,h))}},gd=/#|\.prototype\./,hd=function(a,b){var c=jd[id(a)];return c==ld||c!=kd&&(jb(b)?Ha(b):!!b)},id=hd.normalize=function(a){return String(a).replace(gd,".").toLowerCase()},jd=hd.data={},kd=hd.NATIVE="N",ld=hd.POLYFILL="P",md=hd,nd=cc.f,od=function(a,b){var c,d,e,f,g,h=a.target,i=a.global,j=a.stat;if(c=i?Wa:j?Wa[h]||Eb(h,{}):(Wa[h]||{}).prototype)for(d in b){if(f=b[d],e=a.dontCallGetSet?(g=nd(c,d))&&g.value:c[d],!md(i?d:h+(j?".":"#")+d,a.forced)&&void 0!==e){if(typeof f==typeof e)continue;fd(f,e)}(a.sham||e&&e.sham)&&oc(f,"sham",!0),Nc(c,d,f,a)}},pd={};pd[Ub("toStringTag")]="z";var qd,rd="[object z]"===String(pd),sd=Ub("toStringTag"),td=Object,ud="Arguments"==cb(function(){return arguments}()),vd=rd?cb:function(a){var b,c,d;return void 0===a?"Undefined":null===a?"Null":"string"==typeof(c=function(a,b){try{return a[b]}catch(a){}}(b=td(a),sd))?c:ud?cb(b):"Object"==(d=cb(b))&&jb(b.callee)?"Arguments":d},wd=String,xd=function(a){if("Symbol"===vd(a))throw TypeError("Cannot convert a Symbol value to a string");return wd(a)},yd=function(){var a=gc(this),b="";return a.hasIndices&&(b+="d"),a.global&&(b+="g"),a.ignoreCase&&(b+="i"),a.multiline&&(b+="m"),a.dotAll&&(b+="s"),a.unicode&&(b+="u"),a.unicodeSets&&(b+="v"),a.sticky&&(b+="y"),b},zd=Wa.RegExp,Ad=Ha(function(){var a=zd("a","y");return a.lastIndex=2,null!=a.exec("abcd")}),Bd=Ad||Ha(function(){return!zd("a","y").sticky}),Cd={BROKEN_CARET:Ad||Ha(function(){var a=zd("^r","gy");return a.lastIndex=2,null!=a.exec("str")}),MISSED_STICKY:Bd,UNSUPPORTED_Y:Ad},Dd=Object.keys||function(a){return $c(a,_c)},Ed=Xa&&!dc?Object.defineProperties:function(a,b){gc(a);for(var c,d=ib(b),e=Dd(b),f=e.length,g=0;f>g;)nc.f(a,c=e[g++],d[c]);return a},Fd={f:Ed},Gd=mb("document","documentElement"),Hd=Bc("IE_PROTO"),Id=function(){},Jd=function(a){return"<script>"+a+"<\/script>"},Kd=function(a){a.write(Jd("")),a.close();var b=a.parentWindow.Object;return a=null,b},Ld=function(){try{qd=new ActiveXObject("htmlfile")}catch(a){}var a,b;Ld="undefined"!=typeof document?document.domain&&qd?Kd(qd):((b=_b("iframe")).style.display="none",Gd.appendChild(b),b.src=String("javascript:"),(a=b.contentWindow.document).open(),a.write(Jd("document.F=Object")),a.close(),a.F):Kd(qd);for(var c=_c.length;c--;)delete Ld.prototype[_c[c]];return Ld()};Cc[Hd]=!0;var Md,Nd,Od=Object.create||function(a,b){var c;return null!==a?(Id.prototype=gc(a),c=new Id,Id.prototype=null,c[Hd]=a):c=Ld(),void 0===b?c:Fd.f(c,b)},Pd=Wa.RegExp,Qd=Ha(function(){var a=Pd(".","s");return!(a.dotAll&&a.exec("\n")&&"s"===a.flags)}),Rd=Wa.RegExp,Sd=Ha(function(){var a=Rd("(?<a>b)","g");return"b"!==a.exec("b").groups.a||"bc"!=="b".replace(a,"$<a>c")}),Td=Lc.get,Ud=Hb("native-string-replace",String.prototype.replace),Vd=RegExp.prototype.exec,Wd=Vd,Xd=Ta("".charAt),Yd=Ta("".indexOf),Zd=Ta("".replace),$d=Ta("".slice),_d=(Nd=/b*/g,Oa(Vd,Md=/a/,"a"),Oa(Vd,Nd,"a"),0!==Md.lastIndex||0!==Nd.lastIndex),ae=Cd.BROKEN_CARET,be=void 0!==/()??/.exec("")[1];(_d||be||ae||Qd||Sd)&&(Wd=function(a){var b,c,d,e,f,g,h,i=this,j=Td(i),k=xd(a),l=j.raw;if(l)return l.lastIndex=i.lastIndex,b=Oa(Wd,l,k),i.lastIndex=l.lastIndex,b;var m=j.groups,n=ae&&i.sticky,o=Oa(yd,i),p=i.source,q=0,r=k;if(n&&(o=Zd(o,"y",""),-1===Yd(o,"g")&&(o+="g"),r=$d(k,i.lastIndex),i.lastIndex>0&&(!i.multiline||i.multiline&&"\n"!==Xd(k,i.lastIndex-1))&&(p="(?: "+p+")",r=" "+r,q++),c=new RegExp("^(?:"+p+")",o)),be&&(c=new RegExp("^"+p+"$(?!\\s)",o)),_d&&(d=i.lastIndex),e=Oa(Vd,n?c:i,r),n?e?(e.input=$d(e.input,q),e[0]=$d(e[0],q),e.index=i.lastIndex,i.lastIndex+=e[0].length):i.lastIndex=0:_d&&e&&(i.lastIndex=i.global?e.index+e[0].length:d),be&&e&&e.length>1&&Oa(Ud,e[0],c,function(){for(f=1;f<arguments.length-2;f++)void 0===arguments[f]&&(e[f]=void 0)}),e&&m)for(e.groups=g=Od(null),f=0;f<m.length;f++)g[(h=m[f])[0]]=e[h[1]];return e});var ce=Wd;od({target:"RegExp",proto:!0,forced:/./.exec!==ce},{exec:ce});var de=Ub("species"),ee=RegExp.prototype,fe=Ta("".charAt),ge=Ta("".charCodeAt),he=Ta("".slice),ie=function(a){return function(b,c){var d,e,f=xd(hb(b)),g=Rc(c),h=f.length;return g<0||g>=h?a?"":void 0:(d=ge(f,g))<55296||d>56319||g+1===h||(e=ge(f,g+1))<56320||e>57343?a?fe(f,g):d:a?he(f,g,g+2):e-56320+(d-55296<<10)+65536}},je={codeAt:ie(!1),charAt:ie(!0)}.charAt,ke=function(a,b,c){return b+(c?je(a,b).length:1)},le=Math.floor,me=Ta("".charAt),ne=Ta("".replace),oe=Ta("".slice),pe=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,qe=/\$([$&'`]|\d{1,2})/g,re=function(a,b,c,d,e,f){var g=c+a.length,h=d.length,i=qe;return void 0!==e&&(e=Jb(e),i=pe),ne(f,i,function(f,i){var j;switch(me(i,0)){case"$":return"$";case"&":return a;case"`":return oe(b,0,c);case"'":return oe(b,g);case"<":j=e[oe(i,1,-1)];break;default:var k=+i;if(0===k)return f;if(k>h){var l=le(k/10);return 0===l?f:l<=h?void 0===d[l-1]?me(i,1):d[l-1]+me(i,1):f}j=d[k-1]}return void 0===j?"":j})},se=TypeError,te=function(a,b){var c=a.exec;if(jb(c)){var d=Oa(c,a,b);return null!==d&&gc(d),d}if("RegExp"===cb(a))return Oa(ce,a,b);throw se("RegExp#exec called on incompatible receiver")},ue=Ub("replace"),ve=Math.max,we=Math.min,xe=Ta([].concat),ye=Ta([].push),ze=Ta("".indexOf),Ae=Ta("".slice),Be="$0"==="a".replace(/./,"$0"),Ce=!!/./[ue]&&""===/./[ue]("a","$0");!function(a,b,c,d){var e=Ub(a),f=!Ha(function(){var b={};return b[e]=function(){return 7},7!=""[a](b)}),g=f&&!Ha(function(){var b=!1,c=/a/;return"split"===a&&((c={}).constructor={},c.constructor[de]=function(){return c},c.flags="",c[e]=/./[e]),c.exec=function(){return b=!0,null},c[e](""),!b});if(!f||!g||c){var h=Ta(/./[e]),i=b(e,""[a],function(a,b,c,d,e){var g=Ta(a),i=b.exec;return i===ce||i===ee.exec?f&&!e?{done:!0,value:h(b,c,d)}:{done:!0,value:g(c,b,d)}:{done:!1}});Nc(String.prototype,a,i[0]),Nc(ee,e,i[1])}d&&oc(ee[e],"sham",!0)}("replace",function(a,b,c){var d=Ce?"$":"$0";return[function(a,c){var d=hb(this),e=null==a?void 0:Bb(a,ue);return e?Oa(e,a,d,c):Oa(b,xd(d),a,c)},function(a,e){var f=gc(this),g=xd(a);if("string"==typeof e&&-1===ze(e,d)&&-1===ze(e,"$<")){var h=c(b,f,g,e);if(h.done)return h.value}var i=jb(e);i||(e=xd(e));var j=f.global;if(j){var k=f.unicode;f.lastIndex=0}for(var l=[];;){var m=te(f,g);if(null===m)break;if(ye(l,m),!j)break;""===xd(m[0])&&(f.lastIndex=ke(g,Vc(f.lastIndex),k))}for(var n,o="",p=0,q=0;q<l.length;q++){for(var r=xd((m=l[q])[0]),s=ve(we(Rc(m.index),g.length),0),t=[],u=1;u<m.length;u++)ye(t,void 0===(n=m[u])?n:String(n));var v=m.groups;if(i){var w=xe([r],t,s,g);void 0!==v&&ye(w,v);var x=xd(Ma(e,void 0,w))}else x=re(r,g,s,t,v,e);s>=p&&(o+=Ae(g,p,s)+x,p=s+r.length)}return o+Ae(g,p)}]},!!Ha(function(){var a=/./;return a.exec=function(){var a=[];return a.groups={a:"7"},a},"7"!=="".replace(a,"$<a>")})||!Be||Ce);var De=nc.f,Ee=Ub("unscopables"),Fe=Array.prototype;null==Fe[Ee]&&De(Fe,Ee,{configurable:!0,value:Od(null)});var Ge,He=Xc.includes;od({target:"Array",proto:!0,forced:Ha(function(){return!Array(1).includes()})},{includes:function(a){return He(this,a,arguments.length>1?arguments[1]:void 0)}}),Ge="includes",Fe[Ee][Ge]=!0;var Ie="true",Je=function a(c){var d;if("object"===b(c))d=new Ca(c);else if("string"==typeof c){var e=document.querySelector(c);if(!e)throw new Error("There is no element with given selector.");d=new Ca(e)}else d=new Ca(document.body);return a.instances[Fa(d,"introjs-instance")]=d,d};return Je.version="6.0.0",Je.instances={},Je.fn=Ca.prototype={isActive:function(){return(!this._options.dontShowAgain||!Ba.call(this))&&this._options.isActive},clone:function(){return new Ca(this)},setOption:function(a,b){return this._options[a]=b,this},setOptions:function(a){return this._options=function(a,b){var c,d={};for(c in a)d[c]=a[c];for(c in b)d[c]=b[c];return d}(this._options,a),this},start:function(){var b=this;return d(a().mark(function c(){return a().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,wa.call(b,b._targetElement);case 2:return a.abrupt("return",b);case 3:case"end":return a.stop()}},c)}))()},goToStep:function(b){var c=this;return d(a().mark(function d(){return a().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,M.call(c,b);case 2:return a.abrupt("return",c);case 3:case"end":return a.stop()}},d)}))()},addStep:function(a){return this._options.steps||(this._options.steps=[]),this._options.steps.push(a),this},addSteps:function(a){if(a.length){for(var b=0;b<a.length;b++)this.addStep(a[b]);return this}},goToStepNumber:function(b){var c=this;return d(a().mark(function d(){return a().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,O.call(c,b);case 2:return a.abrupt("return",c);case 3:case"end":return a.stop()}},d)}))()},nextStep:function(){var b=this;return d(a().mark(function c(){return a().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Q.call(b);case 2:return a.abrupt("return",b);case 3:case"end":return a.stop()}},c)}))()},previousStep:function(){var b=this;return d(a().mark(function c(){return a().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,S.call(b);case 2:return a.abrupt("return",b);case 3:case"end":return a.stop()}},c)}))()},currentStep:function(){return U.call(this)},exit:function(b){var c=this;return d(a().mark(function d(){return a().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,ta.call(c,c._targetElement,b);case 2:return a.abrupt("return",c);case 3:case"end":return a.stop()}},d)}))()},refresh:function(a){return qa.call(this,a),this},setDontShowAgain:function(a){return Aa.call(this,a),this},onbeforechange:function(a){if("function"!=typeof a)throw new Error("Provided callback for onbeforechange was not a function");return this._introBeforeChangeCallback=a,this},onchange:function(a){if("function"!=typeof a)throw new Error("Provided callback for onchange was not a function.");return this._introChangeCallback=a,this},onafterchange:function(a){if("function"!=typeof a)throw new Error("Provided callback for onafterchange was not a function");return this._introAfterChangeCallback=a,this},oncomplete:function(a){if("function"!=typeof a)throw new Error("Provided callback for oncomplete was not a function.");return this._introCompleteCallback=a,this},onhintsadded:function(a){if("function"!=typeof a)throw new Error("Provided callback for onhintsadded was not a function.");return this._hintsAddedCallback=a,this},onhintclick:function(a){if("function"!=typeof a)throw new Error("Provided callback for onhintclick was not a function.");return this._hintClickCallback=a,this},onhintclose:function(a){if("function"!=typeof a)throw new Error("Provided callback for onhintclose was not a function.");return this._hintCloseCallback=a,this},onstart:function(a){if("function"!=typeof a)throw new Error("Provided callback for onstart was not a function.");return this._introStartCallback=a,this},onexit:function(a){if("function"!=typeof a)throw new Error("Provided callback for onexit was not a function.");return this._introExitCallback=a,this},onskip:function(a){if("function"!=typeof a)throw new Error("Provided callback for onskip was not a function.");return this._introSkipCallback=a,this},onbeforeexit:function(a){if("function"!=typeof a)throw new Error("Provided callback for onbeforeexit was not a function.");return this._introBeforeExitCallback=a,this},addHints:function(){var b=this;return d(a().mark(function c(){return a().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,ma.call(b,b._targetElement);case 2:return a.abrupt("return",b);case 3:case"end":return a.stop()}},c)}))()},hideHint:function(b){var c=this;return d(a().mark(function d(){return a().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,$.call(c,b);case 2:return a.abrupt("return",c);case 3:case"end":return a.stop()}},d)}))()},hideHints:function(){var b=this;return d(a().mark(function c(){return a().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,aa.call(b);case 2:return a.abrupt("return",b);case 3:case"end":return a.stop()}},c)}))()},showHint:function(a){return da.call(this,a),this},showHints:function(){var b=this;return d(a().mark(function c(){return a().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,ba.call(b);case 2:return a.abrupt("return",b);case 3:case"end":return a.stop()}},c)}))()},removeHints:function(){return ea.call(this),this},removeHint:function(a){return fa().call(this,a),this},showHintDialog:function(b){var c=this;return d(a().mark(function d(){return a().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,ja.call(c,b);case 2:return a.abrupt("return",c);case 3:case"end":return a.stop()}},d)}))()}},Je}),function(a){"use strict";function b(){a(".slimscroll").slimscroll({height:"auto",position:"right",size:"7px",color:"#e0e5f1",opacity:1,wheelStep:5,touchScrollStep:50})}function c(){a(".metismenu").metisMenu()}function d(){a(".button-menu-mobile").on("click",function(c){c.preventDefault(),a("body").toggleClass("enlarge-menu"),b()})}function e(){a(window).width()<1025?a("body").addClass("enlarge-menu"):1!=a("body").data("keep-enlarged")&&a("body").removeClass("enlarge-menu")}function f(){a.fn.tooltip&&a('[data-toggle="tooltip"]').tooltip()}function g(){a(".left-sidenav a").each(function(){var b=window.location.href.split(/[?#]/)[0];this.href==b&&(a(this).addClass("active"),a(this).parent().addClass("active"),a(this).parent().addClass("mm-active"),a(this).parent().parent().addClass("in"),a(this).parent().parent().addClass("mm-show"),a(this).parent().parent().parent().addClass("mm-active"),a(this).parent().parent().prev().addClass("active"),a(this).parent().parent().parent().addClass("active"),a(this).parent().parent().parent().parent().addClass("mm-show"),a(this).parent().parent().parent().parent().parent().addClass("mm-active"))})}function h(){b(),c(),d(),e(),f(),g(),Waves.init(),a(document).off("click","[data-type='confirm']").on("click","[data-type='confirm']",function(b){b.preventDefault();var c=a(this).attr("title"),d=a(this).attr("href");return 1==confirm(c)&&d&&(location.href=d),!1}),a(".wait_loading").length||(a(".preloader").fadeOut(),a(".chosen").length&&a(".chosen").chosen({search_contains:!0}),a(".dropify").length&&a(".dropify").dropify(),a(".money").length&&a(".money").inputmask("numeric",{radixPoint:".",groupSeparator:",",autoGroup:!0,suffix:" VND",rightAlign:!1,oncleared:function(){self.Value("")}}))}h()}(jQuery);